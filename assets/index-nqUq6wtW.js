var In=Object.defineProperty;var Fn=(e,_,d)=>_ in e?In(e,_,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[_]=d;var jt=(e,_,d)=>(Fn(e,typeof _!="symbol"?_+"":_,d),d);function _mergeNamespaces(e,_){for(var d=0;d<_.length;d++){const o=_[d];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const s=Object.getOwnPropertyDescriptor(o,c);s&&Object.defineProperty(e,c,s.get?s:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function d(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerPolicy&&(s.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?s.credentials="include":c.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(c){if(c.ep)return;c.ep=!0;const s=d(c);fetch(c.href,s)}})();window.global||(window.global=window);window.$_||(window.$_=window);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),p$1=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,_,d){this.props=e,this.context=_,this.refs=D$1,this.updater=d||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,_){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,_,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,_,d){this.props=e,this.context=_,this.refs=D$1,this.updater=d||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(e,_,d){var o,c={},s=null,h=null;if(_!=null)for(o in _.ref!==void 0&&(h=_.ref),_.key!==void 0&&(s=""+_.key),_)J.call(_,o)&&!L$1.hasOwnProperty(o)&&(c[o]=_[o]);var f=arguments.length-2;if(f===1)c.children=d;else if(1<f){for(var g=Array(f),b=0;b<f;b++)g[b]=arguments[b+2];c.children=g}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)c[o]===void 0&&(c[o]=f[o]);return{$$typeof:l,type:e,key:s,ref:h,props:c,_owner:K$1.current}}function N$1(e,_){return{$$typeof:l,type:e.type,key:_,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l}function escape(e){var _={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(d){return _[d]})}var P$1=/\/+/g;function Q$1(e,_){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):_.toString(36)}function R$1(e,_,d,o,c){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case l:case n:h=!0}}if(h)return h=e,c=c(h),e=o===""?"."+Q$1(h,0):o,I$1(c)?(d="",e!=null&&(d=e.replace(P$1,"$&/")+"/"),R$1(c,_,d,"",function(b){return b})):c!=null&&(O$1(c)&&(c=N$1(c,d+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+e)),_.push(c)),1;if(h=0,o=o===""?".":o+":",I$1(e))for(var f=0;f<e.length;f++){s=e[f];var g=o+Q$1(s,f);h+=R$1(s,_,d,g,c)}else if(g=A$2(e),typeof g=="function")for(e=g.call(e),f=0;!(s=e.next()).done;)s=s.value,g=o+Q$1(s,f++),h+=R$1(s,_,d,g,c);else if(s==="object")throw _=String(e),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return h}function S$2(e,_,d){if(e==null)return e;var o=[],c=0;return R$1(e,o,"","",function(s){return _.call(d,s,c++)}),o}function T$1(e){if(e._status===-1){var _=e._result;_=_(),_.then(function(d){(e._status===0||e._status===-1)&&(e._status=1,e._result=d)},function(d){(e._status===0||e._status===-1)&&(e._status=2,e._result=d)}),e._status===-1&&(e._status=0,e._result=_)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(e,_,d){S$2(e,function(){_.apply(this,arguments)},d)},count:function(e){var _=0;return S$2(e,function(){_++}),_},toArray:function(e){return S$2(e,function(_){return _})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$1;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,_,d){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),c=e.key,s=e.ref,h=e._owner;if(_!=null){if(_.ref!==void 0&&(s=_.ref,h=K$1.current),_.key!==void 0&&(c=""+_.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(g in _)J.call(_,g)&&!L$1.hasOwnProperty(g)&&(o[g]=_[g]===void 0&&f!==void 0?f[g]:_[g])}var g=arguments.length-2;if(g===1)o.children=d;else if(1<g){f=Array(g);for(var b=0;b<g;b++)f[b]=arguments[b+2];o.children=f}return{$$typeof:l,type:e.type,key:c,ref:s,props:o,_owner:h}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$2;react_production_min.createFactory=function(e){var _=M$2.bind(null,e);return _.type=e,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y$1,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,_){return{$$typeof:x$1,type:e,compare:_===void 0?null:_}};react_production_min.startTransition=function(e){var _=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=_}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,_){return U$1.current.useCallback(e,_)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,_){return U$1.current.useEffect(e,_)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,_,d){return U$1.current.useImperativeHandle(e,_,d)};react_production_min.useInsertionEffect=function(e,_){return U$1.current.useInsertionEffect(e,_)};react_production_min.useLayoutEffect=function(e,_){return U$1.current.useLayoutEffect(e,_)};react_production_min.useMemo=function(e,_){return U$1.current.useMemo(e,_)};react_production_min.useReducer=function(e,_,d){return U$1.current.useReducer(e,_,d)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,_,d){return U$1.current.useSyncExternalStore(e,_,d)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const index=getDefaultExportFromCjs(reactExports),React=_mergeNamespaces({__proto__:null,default:index},[reactExports]);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function _(ct,mt){var gt=ct.length;ct.push(mt);e:for(;0<gt;){var Tt=gt-1>>>1,yt=ct[Tt];if(0<c(yt,mt))ct[Tt]=mt,ct[gt]=yt,gt=Tt;else break e}}function d(ct){return ct.length===0?null:ct[0]}function o(ct){if(ct.length===0)return null;var mt=ct[0],gt=ct.pop();if(gt!==mt){ct[0]=gt;e:for(var Tt=0,yt=ct.length,Et=yt>>>1;Tt<Et;){var Ct=2*(Tt+1)-1,It=ct[Ct],Rt=Ct+1,Ft=ct[Rt];if(0>c(It,gt))Rt<yt&&0>c(Ft,It)?(ct[Tt]=Ft,ct[Rt]=gt,Tt=Rt):(ct[Tt]=It,ct[Ct]=gt,Tt=Ct);else if(Rt<yt&&0>c(Ft,gt))ct[Tt]=Ft,ct[Rt]=gt,Tt=Rt;else break e}}return mt}function c(ct,mt){var gt=ct.sortIndex-mt.sortIndex;return gt!==0?gt:ct.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var h=Date,f=h.now();e.unstable_now=function(){return h.now()-f}}var g=[],b=[],k=1,$=null,j=3,_e=!1,et=!1,nt=!1,rt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function st(ct){for(var mt=d(b);mt!==null;){if(mt.callback===null)o(b);else if(mt.startTime<=ct)o(b),mt.sortIndex=mt.expirationTime,_(g,mt);else break;mt=d(b)}}function at(ct){if(nt=!1,st(ct),!et)if(d(g)!==null)et=!0,wt(_t);else{var mt=d(b);mt!==null&&At(at,mt.startTime-ct)}}function _t(ct,mt){et=!1,nt&&(nt=!1,tt(lt),lt=-1),_e=!0;var gt=j;try{for(st(mt),$=d(g);$!==null&&(!($.expirationTime>mt)||ct&&!dt());){var Tt=$.callback;if(typeof Tt=="function"){$.callback=null,j=$.priorityLevel;var yt=Tt($.expirationTime<=mt);mt=e.unstable_now(),typeof yt=="function"?$.callback=yt:$===d(g)&&o(g),st(mt)}else o(g);$=d(g)}if($!==null)var Et=!0;else{var Ct=d(b);Ct!==null&&At(at,Ct.startTime-mt),Et=!1}return Et}finally{$=null,j=gt,_e=!1}}var ut=!1,ot=null,lt=-1,ft=5,ht=-1;function dt(){return!(e.unstable_now()-ht<ft)}function pt(){if(ot!==null){var ct=e.unstable_now();ht=ct;var mt=!0;try{mt=ot(!0,ct)}finally{mt?xt():(ut=!1,ot=null)}}else ut=!1}var xt;if(typeof it=="function")xt=function(){it(pt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,bt=vt.port2;vt.port1.onmessage=pt,xt=function(){bt.postMessage(null)}}else xt=function(){rt(pt,0)};function wt(ct){ot=ct,ut||(ut=!0,xt())}function At(ct,mt){lt=rt(function(){ct(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ct){ct.callback=null},e.unstable_continueExecution=function(){et||_e||(et=!0,wt(_t))},e.unstable_forceFrameRate=function(ct){0>ct||125<ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<ct?Math.floor(1e3/ct):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return d(g)},e.unstable_next=function(ct){switch(j){case 1:case 2:case 3:var mt=3;break;default:mt=j}var gt=j;j=mt;try{return ct()}finally{j=gt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ct,mt){switch(ct){case 1:case 2:case 3:case 4:case 5:break;default:ct=3}var gt=j;j=ct;try{return mt()}finally{j=gt}},e.unstable_scheduleCallback=function(ct,mt,gt){var Tt=e.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Tt+gt:Tt):gt=Tt,ct){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=gt+yt,ct={id:k++,callback:mt,priorityLevel:ct,startTime:gt,expirationTime:yt,sortIndex:-1},gt>Tt?(ct.sortIndex=gt,_(b,ct),d(g)===null&&ct===d(b)&&(nt?(tt(lt),lt=-1):nt=!0,At(at,gt-Tt))):(ct.sortIndex=yt,_(g,ct),et||_e||(et=!0,wt(_t))),ct},e.unstable_shouldYield=dt,e.unstable_wrapCallback=function(ct){var mt=j;return function(){var gt=j;j=mt;try{return ct.apply(this,arguments)}finally{j=gt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+e,d=1;d<arguments.length;d++)_+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+e+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,_){ha(e,_),ha(e+"Capture",_)}function ha(e,_){for(ea[e]=_,e=0;e<_.length;e++)da.add(_[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,_,d,o){if(d!==null&&d.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return o?!1:d!==null?!d.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,_,d,o){if(_===null||typeof _>"u"||pa(e,_,d,o))return!0;if(o)return!1;if(d!==null)switch(d.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v(e,_,d,o,c,s,h){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=d,this.propertyName=e,this.type=_,this.sanitizeURL=s,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var _=e[0];z[_]=new v(_,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var _=e.replace(ra,sa);z[_]=new v(_,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var _=e.replace(ra,sa);z[_]=new v(_,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var _=e.replace(ra,sa);z[_]=new v(_,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,_,d,o){var c=z.hasOwnProperty(_)?z[_]:null;(c!==null?c.type!==0:o||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa(_,d,c,o)&&(d=null),o||c===null?oa(_)&&(d===null?e.removeAttribute(_):e.setAttribute(_,""+d)):c.mustUseProperty?e[c.propertyName]=d===null?c.type===3?!1:"":d:(_=c.attributeName,o=c.attributeNamespace,d===null?e.removeAttribute(_):(c=c.type,d=c===3||c===4&&d===!0?"":""+d,o?e.setAttributeNS(o,_,d):e.setAttribute(_,d))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A$1=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(d){var _=d.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+e}var Na=!1;function Oa(e,_){if(!e||Na)return"";Na=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(b){var o=b}Reflect.construct(e,[],_)}else{try{_.call()}catch(b){o=b}e.call(_.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),s=o.stack.split(`
`),h=c.length-1,f=s.length-1;1<=h&&0<=f&&c[h]!==s[f];)f--;for(;1<=h&&0<=f;h--,f--)if(c[h]!==s[f]){if(h!==1||f!==1)do if(h--,f--,0>f||c[h]!==s[f]){var g=`
`+c[h].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=h&&0<=f);break}}}finally{Na=!1,Error.prepareStackTrace=d}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var _=e.render;return e=e.displayName,e||(e=_.displayName||_.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return _=e.displayName||null,_!==null?_:Qa(e.type)||"Memo";case Ha:_=e._payload,e=e._init;try{return Qa(e(_))}catch{}}return null}function Ra(e){var _=e.type;switch(e.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=_.render,e=e.displayName||e.name||"",_.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_);case 8:return _===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var _=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua(e){var _=Ta(e)?"checked":"value",d=Object.getOwnPropertyDescriptor(e.constructor.prototype,_),o=""+e[_];if(!e.hasOwnProperty(_)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var c=d.get,s=d.set;return Object.defineProperty(e,_,{configurable:!0,get:function(){return c.call(this)},set:function(h){o=""+h,s.call(this,h)}}),Object.defineProperty(e,_,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){e._valueTracker=null,delete e[_]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var _=e._valueTracker;if(!_)return!0;var d=_.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==d?(_.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,_){var d=_.checked;return A$1({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??e._wrapperState.initialChecked})}function Za(e,_){var d=_.defaultValue==null?"":_.defaultValue,o=_.checked!=null?_.checked:_.defaultChecked;d=Sa(_.value!=null?_.value:d),e._wrapperState={initialChecked:o,initialValue:d,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(e,_){_=_.checked,_!=null&&ta(e,"checked",_,!1)}function bb(e,_){ab(e,_);var d=Sa(_.value),o=_.type;if(d!=null)o==="number"?(d===0&&e.value===""||e.value!=d)&&(e.value=""+d):e.value!==""+d&&(e.value=""+d);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}_.hasOwnProperty("value")?cb(e,_.type,d):_.hasOwnProperty("defaultValue")&&cb(e,_.type,Sa(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(e.defaultChecked=!!_.defaultChecked)}function db(e,_,d){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var o=_.type;if(!(o!=="submit"&&o!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+e._wrapperState.initialValue,d||_===e.value||(e.value=_),e.defaultValue=_}d=e.name,d!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,d!==""&&(e.name=d)}function cb(e,_,d){(_!=="number"||Xa(e.ownerDocument)!==e)&&(d==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+d&&(e.defaultValue=""+d))}var eb=Array.isArray;function fb(e,_,d,o){if(e=e.options,_){_={};for(var c=0;c<d.length;c++)_["$"+d[c]]=!0;for(d=0;d<e.length;d++)c=_.hasOwnProperty("$"+e[d].value),e[d].selected!==c&&(e[d].selected=c),c&&o&&(e[d].defaultSelected=!0)}else{for(d=""+Sa(d),_=null,c=0;c<e.length;c++){if(e[c].value===d){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}_!==null||e[c].disabled||(_=e[c])}_!==null&&(_.selected=!0)}}function gb(e,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p(91));return A$1({},_,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,_){var d=_.value;if(d==null){if(d=_.children,_=_.defaultValue,d!=null){if(_!=null)throw Error(p(92));if(eb(d)){if(1<d.length)throw Error(p(93));d=d[0]}_=d}_==null&&(_=""),d=_}e._wrapperState={initialValue:Sa(d)}}function ib(e,_){var d=Sa(_.value),o=Sa(_.defaultValue);d!=null&&(d=""+d,d!==e.value&&(e.value=d),_.defaultValue==null&&e.defaultValue!==d&&(e.defaultValue=d)),o!=null&&(e.defaultValue=""+o)}function jb(e){var _=e.textContent;_===e._wrapperState.initialValue&&_!==""&&_!==null&&(e.value=_)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,_){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(_):e==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,d,o,c){MSApp.execUnsafeLocalFunction(function(){return e(_,d,o,c)})}:e}(function(e,_){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;_.firstChild;)e.appendChild(_.firstChild)}});function ob(e,_){if(_){var d=e.firstChild;if(d&&d===e.lastChild&&d.nodeType===3){d.nodeValue=_;return}}e.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(_){_=_+e.charAt(0).toUpperCase()+e.substring(1),pb[_]=pb[e]})});function rb(e,_,d){return _==null||typeof _=="boolean"||_===""?"":d||typeof _!="number"||_===0||pb.hasOwnProperty(e)&&pb[e]?(""+_).trim():_+"px"}function sb(e,_){e=e.style;for(var d in _)if(_.hasOwnProperty(d)){var o=d.indexOf("--")===0,c=rb(d,_[d],o);d==="float"&&(d="cssFloat"),o?e.setProperty(d,c):e[d]=c}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,_){if(_){if(tb[e]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p(62))}}function vb(e,_){if(e.indexOf("-")===-1)return typeof _.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var _=e.stateNode;_&&(_=Db(_),yb(e.stateNode,e.type,_))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,_=Ab;if(Ab=zb=null,Bb(e),_)for(e=0;e<_.length;e++)Bb(_[e])}}function Gb(e,_){return e(_)}function Hb(){}var Ib=!1;function Jb(e,_,d){if(Ib)return e(_,d);Ib=!0;try{return Gb(e,_,d)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,_){var d=e.stateNode;if(d===null)return null;var o=Db(d);if(o===null)return null;d=o[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(d&&typeof d!="function")throw Error(p(231,_,typeof d));return d}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,_,d,o,c,s,h,f,g){var b=Array.prototype.slice.call(arguments,3);try{_.apply(d,b)}catch(k){this.onError(k)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,_,d,o,c,s,h,f,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,_,d,o,c,s,h,f,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var _=e,d=e;if(e.alternate)for(;_.return;)_=_.return;else{e=_;do _=e,_.flags&4098&&(d=_.return),e=_.return;while(e)}return _.tag===3?d:null}function Wb(e){if(e.tag===13){var _=e.memoizedState;if(_===null&&(e=e.alternate,e!==null&&(_=e.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var _=e.alternate;if(!_){if(_=Vb(e),_===null)throw Error(p(188));return _!==e?null:e}for(var d=e,o=_;;){var c=d.return;if(c===null)break;var s=c.alternate;if(s===null){if(o=c.return,o!==null){d=o;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===d)return Xb(c),e;if(s===o)return Xb(c),_;s=s.sibling}throw Error(p(188))}if(d.return!==o.return)d=c,o=s;else{for(var h=!1,f=c.child;f;){if(f===d){h=!0,d=c,o=s;break}if(f===o){h=!0,o=c,d=s;break}f=f.sibling}if(!h){for(f=s.child;f;){if(f===d){h=!0,d=s,o=c;break}if(f===o){h=!0,o=s,d=c;break}f=f.sibling}if(!h)throw Error(p(189))}}if(d.alternate!==o)throw Error(p(190))}if(d.tag!==3)throw Error(p(188));return d.stateNode.current===d?e:_}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var _=$b(e);if(_!==null)return _;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,_){var d=e.pendingLanes;if(d===0)return 0;var o=0,c=e.suspendedLanes,s=e.pingedLanes,h=d&268435455;if(h!==0){var f=h&~c;f!==0?o=tc(f):(s&=h,s!==0&&(o=tc(s)))}else h=d&~c,h!==0?o=tc(h):s!==0&&(o=tc(s));if(o===0)return 0;if(_!==0&&_!==o&&!(_&c)&&(c=o&-o,s=_&-_,c>=s||c===16&&(s&4194240)!==0))return _;if(o&4&&(o|=d&16),_=e.entangledLanes,_!==0)for(e=e.entanglements,_&=o;0<_;)d=31-oc(_),c=1<<d,o|=e[d],_&=~c;return o}function vc(e,_){switch(e){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,_){for(var d=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes;0<s;){var h=31-oc(s),f=1<<h,g=c[h];g===-1?(!(f&d)||f&o)&&(c[h]=vc(f,_)):g<=_&&(e.expiredLanes|=f),s&=~f}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var _=[],d=0;31>d;d++)_.push(e);return _}function Ac(e,_,d){e.pendingLanes|=_,_!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,_=31-oc(_),e[_]=d}function Bc(e,_){var d=e.pendingLanes&~_;e.pendingLanes=_,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=_,e.mutableReadLanes&=_,e.entangledLanes&=_,_=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<d;){var c=31-oc(d),s=1<<c;_[c]=0,o[c]=-1,e[c]=-1,d&=~s}}function Cc(e,_){var d=e.entangledLanes|=_;for(e=e.entanglements;d;){var o=31-oc(d),c=1<<o;c&_|e[o]&_&&(e[o]|=_),d&=~c}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,_){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_.pointerId)}}function Tc(e,_,d,o,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:_,domEventName:d,eventSystemFlags:o,nativeEvent:s,targetContainers:[c]},_!==null&&(_=Cb(_),_!==null&&Fc(_)),e):(e.eventSystemFlags|=o,_=e.targetContainers,c!==null&&_.indexOf(c)===-1&&_.push(c),e)}function Uc(e,_,d,o,c){switch(_){case"focusin":return Lc=Tc(Lc,e,_,d,o,c),!0;case"dragenter":return Mc=Tc(Mc,e,_,d,o,c),!0;case"mouseover":return Nc=Tc(Nc,e,_,d,o,c),!0;case"pointerover":var s=c.pointerId;return Oc.set(s,Tc(Oc.get(s)||null,e,_,d,o,c)),!0;case"gotpointercapture":return s=c.pointerId,Pc.set(s,Tc(Pc.get(s)||null,e,_,d,o,c)),!0}return!1}function Vc(e){var _=Wc(e.target);if(_!==null){var d=Vb(_);if(d!==null){if(_=d.tag,_===13){if(_=Wb(d),_!==null){e.blockedOn=_,Ic(e.priority,function(){Gc(d)});return}}else if(_===3&&d.stateNode.current.memoizedState.isDehydrated){e.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var _=e.targetContainers;0<_.length;){var d=Yc(e.domEventName,e.eventSystemFlags,_[0],e.nativeEvent);if(d===null){d=e.nativeEvent;var o=new d.constructor(d.type,d);wb=o,d.target.dispatchEvent(o),wb=null}else return _=Cb(d),_!==null&&Fc(_),e.blockedOn=d,!1;_.shift()}return!0}function Zc(e,_,d){Xc(e)&&d.delete(_)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,_){e.blockedOn===_&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function _(c){return ad(c,e)}if(0<Kc.length){ad(Kc[0],e);for(var d=1;d<Kc.length;d++){var o=Kc[d];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(_),Pc.forEach(_),d=0;d<Qc.length;d++)o=Qc[d],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(d=Qc[0],d.blockedOn===null);)Vc(d),d.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,_,d,o){var c=C,s=cd.transition;cd.transition=null;try{C=1,fd(e,_,d,o)}finally{C=c,cd.transition=s}}function gd(e,_,d,o){var c=C,s=cd.transition;cd.transition=null;try{C=4,fd(e,_,d,o)}finally{C=c,cd.transition=s}}function fd(e,_,d,o){if(dd){var c=Yc(e,_,d,o);if(c===null)hd(e,_,o,id,d),Sc(e,o);else if(Uc(c,e,_,d,o))o.stopPropagation();else if(Sc(e,o),_&4&&-1<Rc.indexOf(e)){for(;c!==null;){var s=Cb(c);if(s!==null&&Ec(s),s=Yc(e,_,d,o),s===null&&hd(e,_,o,id,d),s===c)break;c=s}c!==null&&o.stopPropagation()}else hd(e,_,o,null,d)}}var id=null;function Yc(e,_,d,o){if(id=null,e=xb(o),e=Wc(e),e!==null)if(_=Vb(e),_===null)e=null;else if(d=_.tag,d===13){if(e=Wb(_),e!==null)return e;e=null}else if(d===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;e=null}else _!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,_=ld,d=_.length,o,c="value"in kd?kd.value:kd.textContent,s=c.length;for(e=0;e<d&&_[e]===c[e];e++);var h=d-e;for(o=1;o<=h&&_[d-o]===c[s-o];o++);return md=c.slice(e,1<o?1-o:void 0)}function od(e){var _=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&_===13&&(e=13)):e=_,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function _(d,o,c,s,h){this._reactName=d,this._targetInst=c,this.type=o,this.nativeEvent=s,this.target=h,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(d=e[f],this[f]=d?d(s):s[f]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(e):(e=Od[e])?!!_[e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(e){if(e.key){var _=Md[e.key]||e.key;if(_!=="Unidentified")return _}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,_){switch(e){case"keyup":return $d.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,_){switch(e){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee);case"textInput":return e=_.data,e===ee&&fe?null:e;default:return null}}function ke(e,_){if(ie)return e==="compositionend"||!ae&&ge(e,_)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var _=e&&e.nodeName&&e.nodeName.toLowerCase();return _==="input"?!!le[e.type]:_==="textarea"}function ne(e,_,d,o){Eb(o),_=oe(_,"onChange"),0<_.length&&(d=new td("onChange","change",null,d,o),e.push({event:d,listeners:_}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var _=ue(e);if(Wa(_))return e}function ve(e,_){if(e==="change")return _}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var _=[];ne(_,qe,e,xb(e)),Jb(re,_)}}function Ce(e,_,d){e==="focusin"?(Ae(),pe=_,qe=d,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,_){if(e==="click")return te(_)}function Fe(e,_){if(e==="input"||e==="change")return te(_)}function Ge(e,_){return e===_&&(e!==0||1/e===1/_)||e!==e&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,_){if(He(e,_))return!0;if(typeof e!="object"||e===null||typeof _!="object"||_===null)return!1;var d=Object.keys(e),o=Object.keys(_);if(d.length!==o.length)return!1;for(o=0;o<d.length;o++){var c=d[o];if(!ja.call(_,c)||!He(e[c],_[c]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,_){var d=Je(e);e=0;for(var o;d;){if(d.nodeType===3){if(o=e+d.textContent.length,e<=_&&o>=_)return{node:d,offset:_-e};e=o}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Je(d)}}function Le(e,_){return e&&_?e===_?!0:e&&e.nodeType===3?!1:_&&_.nodeType===3?Le(e,_.parentNode):"contains"in e?e.contains(_):e.compareDocumentPosition?!!(e.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var e=window,_=Xa();_ instanceof e.HTMLIFrameElement;){try{var d=typeof _.contentWindow.location.href=="string"}catch{d=!1}if(d)e=_.contentWindow;else break;_=Xa(e.document)}return _}function Ne(e){var _=e&&e.nodeName&&e.nodeName.toLowerCase();return _&&(_==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||_==="textarea"||e.contentEditable==="true")}function Oe(e){var _=Me(),d=e.focusedElem,o=e.selectionRange;if(_!==d&&d&&d.ownerDocument&&Le(d.ownerDocument.documentElement,d)){if(o!==null&&Ne(d)){if(_=o.start,e=o.end,e===void 0&&(e=_),"selectionStart"in d)d.selectionStart=_,d.selectionEnd=Math.min(e,d.value.length);else if(e=(_=d.ownerDocument||document)&&_.defaultView||window,e.getSelection){e=e.getSelection();var c=d.textContent.length,s=Math.min(o.start,c);o=o.end===void 0?s:Math.min(o.end,c),!e.extend&&s>o&&(c=o,o=s,s=c),c=Ke(d,s);var h=Ke(d,o);c&&h&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(_=_.createRange(),_.setStart(c.node,c.offset),e.removeAllRanges(),s>o?(e.addRange(_),e.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),e.addRange(_)))}}for(_=[],e=d;e=e.parentNode;)e.nodeType===1&&_.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<_.length;d++)e=_[d],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,_,d){var o=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(_=new td("onSelect","select",null,_,d),e.push({event:_,listeners:o}),_.target=Qe)))}function Ve(e,_){var d={};return d[e.toLowerCase()]=_.toLowerCase(),d["Webkit"+e]="webkit"+_,d["Moz"+e]="moz"+_,d}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var _=We[e],d;for(d in _)if(_.hasOwnProperty(d)&&d in Ye)return Xe[e]=_[d];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,_){df.set(e,_),fa(_,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,_,d){var o=e.type||"unknown-event";e.currentTarget=d,Ub(o,_,void 0,e),e.currentTarget=null}function se(e,_){_=(_&4)!==0;for(var d=0;d<e.length;d++){var o=e[d],c=o.event;o=o.listeners;e:{var s=void 0;if(_)for(var h=o.length-1;0<=h;h--){var f=o[h],g=f.instance,b=f.currentTarget;if(f=f.listener,g!==s&&c.isPropagationStopped())break e;nf(c,f,b),s=g}else for(h=0;h<o.length;h++){if(f=o[h],g=f.instance,b=f.currentTarget,f=f.listener,g!==s&&c.isPropagationStopped())break e;nf(c,f,b),s=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,_){var d=_[of];d===void 0&&(d=_[of]=new Set);var o=e+"__bubble";d.has(o)||(pf(_,e,2,!1),d.add(o))}function qf(e,_,d){var o=0;_&&(o|=4),pf(d,e,o,_)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf$1]){e[rf$1]=!0,da.forEach(function(d){d!=="selectionchange"&&(mf.has(d)||qf(d,!1,e),qf(d,!0,e))});var _=e.nodeType===9?e:e.ownerDocument;_===null||_[rf$1]||(_[rf$1]=!0,qf("selectionchange",!1,_))}}function pf(e,_,d,o){switch(jd(_)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}d=c.bind(null,_,d,e),c=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(_,d,{capture:!0,passive:c}):e.addEventListener(_,d,!0):c!==void 0?e.addEventListener(_,d,{passive:c}):e.addEventListener(_,d,!1)}function hd(e,_,d,o,c){var s=o;if(!(_&1)&&!(_&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var f=o.stateNode.containerInfo;if(f===c||f.nodeType===8&&f.parentNode===c)break;if(h===4)for(h=o.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===c||g.nodeType===8&&g.parentNode===c))return;h=h.return}for(;f!==null;){if(h=Wc(f),h===null)return;if(g=h.tag,g===5||g===6){o=s=h;continue e}f=f.parentNode}}o=o.return}Jb(function(){var b=s,k=xb(d),$=[];e:{var j=df.get(e);if(j!==void 0){var _e=td,et=e;switch(e){case"keypress":if(od(d)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":et="focus",_e=Fd;break;case"focusout":et="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var nt=(_&4)!==0,rt=!nt&&e==="scroll",tt=nt?j!==null?j+"Capture":null:j;nt=[];for(var it=b,st;it!==null;){st=it;var at=st.stateNode;if(st.tag===5&&at!==null&&(st=at,tt!==null&&(at=Kb(it,tt),at!=null&&nt.push(tf(it,at,st)))),rt)break;it=it.return}0<nt.length&&(j=new _e(j,et,null,d,k),$.push({event:j,listeners:nt}))}}if(!(_&7)){e:{if(j=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",j&&d!==wb&&(et=d.relatedTarget||d.fromElement)&&(Wc(et)||et[uf]))break e;if((_e||j)&&(j=k.window===k?k:(j=k.ownerDocument)?j.defaultView||j.parentWindow:window,_e?(et=d.relatedTarget||d.toElement,_e=b,et=et?Wc(et):null,et!==null&&(rt=Vb(et),et!==rt||et.tag!==5&&et.tag!==6)&&(et=null)):(_e=null,et=b),_e!==et)){if(nt=Bd,at="onMouseLeave",tt="onMouseEnter",it="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Td,at="onPointerLeave",tt="onPointerEnter",it="pointer"),rt=_e==null?j:ue(_e),st=et==null?j:ue(et),j=new nt(at,it+"leave",_e,d,k),j.target=rt,j.relatedTarget=st,at=null,Wc(k)===b&&(nt=new nt(tt,it+"enter",et,d,k),nt.target=st,nt.relatedTarget=rt,at=nt),rt=at,_e&&et)t:{for(nt=_e,tt=et,it=0,st=nt;st;st=vf(st))it++;for(st=0,at=tt;at;at=vf(at))st++;for(;0<it-st;)nt=vf(nt),it--;for(;0<st-it;)tt=vf(tt),st--;for(;it--;){if(nt===tt||tt!==null&&nt===tt.alternate)break t;nt=vf(nt),tt=vf(tt)}nt=null}else nt=null;_e!==null&&wf($,j,_e,nt,!1),et!==null&&rt!==null&&wf($,rt,et,nt,!0)}}e:{if(j=b?ue(b):window,_e=j.nodeName&&j.nodeName.toLowerCase(),_e==="select"||_e==="input"&&j.type==="file")var _t=ve;else if(me(j))if(we)_t=Fe;else{_t=De;var ut=Ce}else(_e=j.nodeName)&&_e.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(_t=Ee);if(_t&&(_t=_t(e,b))){ne($,_t,d,k);break e}ut&&ut(e,j,b),e==="focusout"&&(ut=j._wrapperState)&&ut.controlled&&j.type==="number"&&cb(j,"number",j.value)}switch(ut=b?ue(b):window,e){case"focusin":(me(ut)||ut.contentEditable==="true")&&(Qe=ut,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,d,k);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,d,k)}var ot;if(ae)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else ie?ge(e,d)&&(lt="onCompositionEnd"):e==="keydown"&&d.keyCode===229&&(lt="onCompositionStart");lt&&(de&&d.locale!=="ko"&&(ie||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&ie&&(ot=nd()):(kd=k,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ut=oe(b,lt),0<ut.length&&(lt=new Ld(lt,e,null,d,k),$.push({event:lt,listeners:ut}),ot?lt.data=ot:(ot=he(d),ot!==null&&(lt.data=ot)))),(ot=ce?je(e,d):ke(e,d))&&(b=oe(b,"onBeforeInput"),0<b.length&&(k=new Ld("onBeforeInput","beforeinput",null,d,k),$.push({event:k,listeners:b}),k.data=ot))}se($,_)})}function tf(e,_,d){return{instance:e,listener:_,currentTarget:d}}function oe(e,_){for(var d=_+"Capture",o=[];e!==null;){var c=e,s=c.stateNode;c.tag===5&&s!==null&&(c=s,s=Kb(e,d),s!=null&&o.unshift(tf(e,s,c)),s=Kb(e,_),s!=null&&o.push(tf(e,s,c))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,_,d,o,c){for(var s=_._reactName,h=[];d!==null&&d!==o;){var f=d,g=f.alternate,b=f.stateNode;if(g!==null&&g===o)break;f.tag===5&&b!==null&&(f=b,c?(g=Kb(d,s),g!=null&&h.unshift(tf(d,g,f))):c||(g=Kb(d,s),g!=null&&h.push(tf(d,g,f)))),d=d.return}h.length!==0&&e.push({event:_,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,_,d){if(_=zf(_),zf(e)!==_&&d)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,_){return e==="textarea"||e==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,_){var d=_,o=0;do{var c=d.nextSibling;if(e.removeChild(d),c&&c.nodeType===8)if(d=c.data,d==="/$"){if(o===0){e.removeChild(c),bd(_);return}o--}else d!=="$"&&d!=="$?"&&d!=="$!"||o++;d=c}while(d);bd(_)}function Lf(e){for(;e!=null;e=e.nextSibling){var _=e.nodeType;if(_===1||_===3)break;if(_===8){if(_=e.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var _=0;e;){if(e.nodeType===8){var d=e.data;if(d==="$"||d==="$!"||d==="$?"){if(_===0)return e;_--}else d==="/$"&&_++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var _=e[Of];if(_)return _;for(var d=e.parentNode;d;){if(_=d[uf]||d[Of]){if(d=_.alternate,_.child!==null||d!==null&&d.child!==null)for(e=Mf(e);e!==null;){if(d=e[Of])return d;e=Mf(e)}return _}e=d,d=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,_){Tf++,Sf[Tf]=e.current,e.current=_}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,_){var d=e.type.contextTypes;if(!d)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===_)return o.__reactInternalMemoizedMaskedChildContext;var c={},s;for(s in d)c[s]=_[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=_,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,_,d){if(H.current!==Vf)throw Error(p(168));G(H,_),G(Wf,d)}function bg(e,_,d){var o=e.stateNode;if(_=_.childContextTypes,typeof o.getChildContext!="function")return d;o=o.getChildContext();for(var c in o)if(!(c in _))throw Error(p(108,Ra(e)||"Unknown",c));return A$1({},d,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,_,d){var o=e.stateNode;if(!o)throw Error(p(169));d?(e=bg(e,_,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,d)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,_=C;try{var d=eg;for(C=1;e<d.length;e++){var o=d[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),c}finally{C=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,_){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=_}function ug(e,_,d){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var c=32-oc(o)-1;o&=~(1<<c),d+=1;var s=32-oc(_)+c;if(30<s){var h=c-c%5;s=(o&(1<<h)-1).toString(32),o>>=h,c-=h,rg=1<<32-oc(_)+c|d<<c|o,sg=s+e}else rg=1<<s|d<<c|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,_){var d=Bg(5,null,null,0);d.elementType="DELETED",d.stateNode=_,d.return=e,_=e.deletions,_===null?(e.deletions=[d],e.flags|=16):_.push(d)}function Cg(e,_){switch(e.tag){case 5:var d=e.type;return _=_.nodeType!==1||d.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(e.stateNode=_,xg=e,yg=Lf(_.firstChild),!0):!1;case 6:return _=e.pendingProps===""||_.nodeType!==3?null:_,_!==null?(e.stateNode=_,xg=e,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(d=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:_,treeContext:d,retryLane:1073741824},d=Bg(18,null,null,0),d.stateNode=_,d.return=e,e.child=d,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var _=yg;if(_){var d=_;if(!Cg(e,_)){if(Dg(e))throw Error(p(418));_=Lf(d.nextSibling);var o=xg;_&&Cg(e,_)?Ag(o,d):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var _;if((_=e.tag!==3)&&!(_=e.tag!==5)&&(_=e.type,_=_!=="head"&&_!=="body"&&!Ef(e.type,e.memoizedProps)),_&&(_=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;_;)Ag(e,_),_=Lf(_.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,_=0;e;){if(e.nodeType===8){var d=e.data;if(d==="/$"){if(_===0){yg=Lf(e.nextSibling);break e}_--}else d!=="$"&&d!=="$!"&&d!=="$?"||_++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,_){if(e&&e.defaultProps){_=A$1({},_),e=e.defaultProps;for(var d in e)_[d]===void 0&&(_[d]=e[d]);return _}return _}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var _=Mg.current;E(Mg),e._currentValue=_}function Sg(e,_,d){for(;e!==null;){var o=e.alternate;if((e.childLanes&_)!==_?(e.childLanes|=_,o!==null&&(o.childLanes|=_)):o!==null&&(o.childLanes&_)!==_&&(o.childLanes|=_),e===d)break;e=e.return}}function Tg(e,_){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&_&&(Ug=!0),e.firstContext=null)}function Vg(e){var _=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:_,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return _}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,_,d,o){var c=_.interleaved;return c===null?(d.next=d,Xg(_)):(d.next=c.next,c.next=d),_.interleaved=d,Zg(e,o)}function Zg(e,_){e.lanes|=_;var d=e.alternate;for(d!==null&&(d.lanes|=_),d=e,e=e.return;e!==null;)e.childLanes|=_,d=e.alternate,d!==null&&(d.childLanes|=_),d=e,e=e.return;return d.tag===3?d.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,_){e=e.updateQueue,_.updateQueue===e&&(_.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,_){return{eventTime:e,lane:_,tag:0,payload:null,callback:null,next:null}}function dh(e,_,d){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var c=o.pending;return c===null?_.next=_:(_.next=c.next,c.next=_),o.pending=_,Zg(e,d)}return c=o.interleaved,c===null?(_.next=_,Xg(o)):(_.next=c.next,c.next=_),o.interleaved=_,Zg(e,d)}function eh(e,_,d){if(_=_.updateQueue,_!==null&&(_=_.shared,(d&4194240)!==0)){var o=_.lanes;o&=e.pendingLanes,d|=o,_.lanes=d,Cc(e,d)}}function fh(e,_){var d=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,d===o)){var c=null,s=null;if(d=d.firstBaseUpdate,d!==null){do{var h={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};s===null?c=s=h:s=s.next=h,d=d.next}while(d!==null);s===null?c=s=_:s=s.next=_}else c=s=_;d={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=d;return}e=d.lastBaseUpdate,e===null?d.firstBaseUpdate=_:e.next=_,d.lastBaseUpdate=_}function gh(e,_,d,o){var c=e.updateQueue;$g=!1;var s=c.firstBaseUpdate,h=c.lastBaseUpdate,f=c.shared.pending;if(f!==null){c.shared.pending=null;var g=f,b=g.next;g.next=null,h===null?s=b:h.next=b,h=g;var k=e.alternate;k!==null&&(k=k.updateQueue,f=k.lastBaseUpdate,f!==h&&(f===null?k.firstBaseUpdate=b:f.next=b,k.lastBaseUpdate=g))}if(s!==null){var $=c.baseState;h=0,k=b=g=null,f=s;do{var j=f.lane,_e=f.eventTime;if((o&j)===j){k!==null&&(k=k.next={eventTime:_e,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var et=e,nt=f;switch(j=_,_e=d,nt.tag){case 1:if(et=nt.payload,typeof et=="function"){$=et.call(_e,$,j);break e}$=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=nt.payload,j=typeof et=="function"?et.call(_e,$,j):et,j==null)break e;$=A$1({},$,j);break e;case 2:$g=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,j=c.effects,j===null?c.effects=[f]:j.push(f))}else _e={eventTime:_e,lane:j,tag:f.tag,payload:f.payload,callback:f.callback,next:null},k===null?(b=k=_e,g=$):k=k.next=_e,h|=j;if(f=f.next,f===null){if(f=c.shared.pending,f===null)break;j=f,f=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);if(k===null&&(g=$),c.baseState=g,c.firstBaseUpdate=b,c.lastBaseUpdate=k,_=c.shared.interleaved,_!==null){c=_;do h|=c.lane,c=c.next;while(c!==_)}else s===null&&(c.shared.lanes=0);hh|=h,e.lanes=h,e.memoizedState=$}}function ih(e,_,d){if(e=_.effects,_.effects=null,e!==null)for(_=0;_<e.length;_++){var o=e[_],c=o.callback;if(c!==null){if(o.callback=null,o=d,typeof c!="function")throw Error(p(191,c));c.call(o)}}}var jh=new aa.Component().refs;function kh(e,_,d,o){_=e.memoizedState,d=d(o,_),d=d==null?_:A$1({},_,d),e.memoizedState=d,e.lanes===0&&(e.updateQueue.baseState=d)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,_,d){e=e._reactInternals;var o=L(),c=lh(e),s=ch(o,c);s.payload=_,d!=null&&(s.callback=d),_=dh(e,s,c),_!==null&&(mh(_,e,c,o),eh(_,e,c))},enqueueReplaceState:function(e,_,d){e=e._reactInternals;var o=L(),c=lh(e),s=ch(o,c);s.tag=1,s.payload=_,d!=null&&(s.callback=d),_=dh(e,s,c),_!==null&&(mh(_,e,c,o),eh(_,e,c))},enqueueForceUpdate:function(e,_){e=e._reactInternals;var d=L(),o=lh(e),c=ch(d,o);c.tag=2,_!=null&&(c.callback=_),_=dh(e,c,o),_!==null&&(mh(_,e,o,d),eh(_,e,o))}};function oh(e,_,d,o,c,s,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,h):_.prototype&&_.prototype.isPureReactComponent?!Ie(d,o)||!Ie(c,s):!0}function ph(e,_,d){var o=!1,c=Vf,s=_.contextType;return typeof s=="object"&&s!==null?s=Vg(s):(c=Zf(_)?Xf:H.current,o=_.contextTypes,s=(o=o!=null)?Yf(e,c):Vf),_=new _(d,s),e.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nh,e.stateNode=_,_._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=s),_}function qh(e,_,d,o){e=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(d,o),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(d,o),_.state!==e&&nh.enqueueReplaceState(_,_.state,null)}function rh(e,_,d,o){var c=e.stateNode;c.props=d,c.state=e.memoizedState,c.refs=jh,ah(e);var s=_.contextType;typeof s=="object"&&s!==null?c.context=Vg(s):(s=Zf(_)?Xf:H.current,c.context=Yf(e,s)),c.state=e.memoizedState,s=_.getDerivedStateFromProps,typeof s=="function"&&(kh(e,_,s,d),c.state=e.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(_=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),_!==c.state&&nh.enqueueReplaceState(c,c.state,null),gh(e,d,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,_,d){if(e=d.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(p(309));var o=d.stateNode}if(!o)throw Error(p(147,e));var c=o,s=""+e;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===s?_.ref:(_=function(h){var f=c.refs;f===jh&&(f=c.refs={}),h===null?delete f[s]:f[s]=h},_._stringRef=s,_)}if(typeof e!="string")throw Error(p(284));if(!d._owner)throw Error(p(290,e))}return e}function th(e,_){throw e=Object.prototype.toString.call(_),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":e))}function uh(e){var _=e._init;return _(e._payload)}function vh(e){function _(tt,it){if(e){var st=tt.deletions;st===null?(tt.deletions=[it],tt.flags|=16):st.push(it)}}function d(tt,it){if(!e)return null;for(;it!==null;)_(tt,it),it=it.sibling;return null}function o(tt,it){for(tt=new Map;it!==null;)it.key!==null?tt.set(it.key,it):tt.set(it.index,it),it=it.sibling;return tt}function c(tt,it){return tt=wh(tt,it),tt.index=0,tt.sibling=null,tt}function s(tt,it,st){return tt.index=st,e?(st=tt.alternate,st!==null?(st=st.index,st<it?(tt.flags|=2,it):st):(tt.flags|=2,it)):(tt.flags|=1048576,it)}function h(tt){return e&&tt.alternate===null&&(tt.flags|=2),tt}function f(tt,it,st,at){return it===null||it.tag!==6?(it=xh(st,tt.mode,at),it.return=tt,it):(it=c(it,st),it.return=tt,it)}function g(tt,it,st,at){var _t=st.type;return _t===ya?k(tt,it,st.props.children,at,st.key):it!==null&&(it.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===it.type)?(at=c(it,st.props),at.ref=sh(tt,it,st),at.return=tt,at):(at=yh(st.type,st.key,st.props,null,tt.mode,at),at.ref=sh(tt,it,st),at.return=tt,at)}function b(tt,it,st,at){return it===null||it.tag!==4||it.stateNode.containerInfo!==st.containerInfo||it.stateNode.implementation!==st.implementation?(it=zh(st,tt.mode,at),it.return=tt,it):(it=c(it,st.children||[]),it.return=tt,it)}function k(tt,it,st,at,_t){return it===null||it.tag!==7?(it=Ah(st,tt.mode,at,_t),it.return=tt,it):(it=c(it,st),it.return=tt,it)}function $(tt,it,st){if(typeof it=="string"&&it!==""||typeof it=="number")return it=xh(""+it,tt.mode,st),it.return=tt,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return st=yh(it.type,it.key,it.props,null,tt.mode,st),st.ref=sh(tt,null,it),st.return=tt,st;case wa:return it=zh(it,tt.mode,st),it.return=tt,it;case Ha:var at=it._init;return $(tt,at(it._payload),st)}if(eb(it)||Ka(it))return it=Ah(it,tt.mode,st,null),it.return=tt,it;th(tt,it)}return null}function j(tt,it,st,at){var _t=it!==null?it.key:null;if(typeof st=="string"&&st!==""||typeof st=="number")return _t!==null?null:f(tt,it,""+st,at);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return st.key===_t?g(tt,it,st,at):null;case wa:return st.key===_t?b(tt,it,st,at):null;case Ha:return _t=st._init,j(tt,it,_t(st._payload),at)}if(eb(st)||Ka(st))return _t!==null?null:k(tt,it,st,at,null);th(tt,st)}return null}function _e(tt,it,st,at,_t){if(typeof at=="string"&&at!==""||typeof at=="number")return tt=tt.get(st)||null,f(it,tt,""+at,_t);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return tt=tt.get(at.key===null?st:at.key)||null,g(it,tt,at,_t);case wa:return tt=tt.get(at.key===null?st:at.key)||null,b(it,tt,at,_t);case Ha:var ut=at._init;return _e(tt,it,st,ut(at._payload),_t)}if(eb(at)||Ka(at))return tt=tt.get(st)||null,k(it,tt,at,_t,null);th(it,at)}return null}function et(tt,it,st,at){for(var _t=null,ut=null,ot=it,lt=it=0,ft=null;ot!==null&&lt<st.length;lt++){ot.index>lt?(ft=ot,ot=null):ft=ot.sibling;var ht=j(tt,ot,st[lt],at);if(ht===null){ot===null&&(ot=ft);break}e&&ot&&ht.alternate===null&&_(tt,ot),it=s(ht,it,lt),ut===null?_t=ht:ut.sibling=ht,ut=ht,ot=ft}if(lt===st.length)return d(tt,ot),I&&tg(tt,lt),_t;if(ot===null){for(;lt<st.length;lt++)ot=$(tt,st[lt],at),ot!==null&&(it=s(ot,it,lt),ut===null?_t=ot:ut.sibling=ot,ut=ot);return I&&tg(tt,lt),_t}for(ot=o(tt,ot);lt<st.length;lt++)ft=_e(ot,tt,lt,st[lt],at),ft!==null&&(e&&ft.alternate!==null&&ot.delete(ft.key===null?lt:ft.key),it=s(ft,it,lt),ut===null?_t=ft:ut.sibling=ft,ut=ft);return e&&ot.forEach(function(dt){return _(tt,dt)}),I&&tg(tt,lt),_t}function nt(tt,it,st,at){var _t=Ka(st);if(typeof _t!="function")throw Error(p(150));if(st=_t.call(st),st==null)throw Error(p(151));for(var ut=_t=null,ot=it,lt=it=0,ft=null,ht=st.next();ot!==null&&!ht.done;lt++,ht=st.next()){ot.index>lt?(ft=ot,ot=null):ft=ot.sibling;var dt=j(tt,ot,ht.value,at);if(dt===null){ot===null&&(ot=ft);break}e&&ot&&dt.alternate===null&&_(tt,ot),it=s(dt,it,lt),ut===null?_t=dt:ut.sibling=dt,ut=dt,ot=ft}if(ht.done)return d(tt,ot),I&&tg(tt,lt),_t;if(ot===null){for(;!ht.done;lt++,ht=st.next())ht=$(tt,ht.value,at),ht!==null&&(it=s(ht,it,lt),ut===null?_t=ht:ut.sibling=ht,ut=ht);return I&&tg(tt,lt),_t}for(ot=o(tt,ot);!ht.done;lt++,ht=st.next())ht=_e(ot,tt,lt,ht.value,at),ht!==null&&(e&&ht.alternate!==null&&ot.delete(ht.key===null?lt:ht.key),it=s(ht,it,lt),ut===null?_t=ht:ut.sibling=ht,ut=ht);return e&&ot.forEach(function(pt){return _(tt,pt)}),I&&tg(tt,lt),_t}function rt(tt,it,st,at){if(typeof st=="object"&&st!==null&&st.type===ya&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case va:e:{for(var _t=st.key,ut=it;ut!==null;){if(ut.key===_t){if(_t=st.type,_t===ya){if(ut.tag===7){d(tt,ut.sibling),it=c(ut,st.props.children),it.return=tt,tt=it;break e}}else if(ut.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===ut.type){d(tt,ut.sibling),it=c(ut,st.props),it.ref=sh(tt,ut,st),it.return=tt,tt=it;break e}d(tt,ut);break}else _(tt,ut);ut=ut.sibling}st.type===ya?(it=Ah(st.props.children,tt.mode,at,st.key),it.return=tt,tt=it):(at=yh(st.type,st.key,st.props,null,tt.mode,at),at.ref=sh(tt,it,st),at.return=tt,tt=at)}return h(tt);case wa:e:{for(ut=st.key;it!==null;){if(it.key===ut)if(it.tag===4&&it.stateNode.containerInfo===st.containerInfo&&it.stateNode.implementation===st.implementation){d(tt,it.sibling),it=c(it,st.children||[]),it.return=tt,tt=it;break e}else{d(tt,it);break}else _(tt,it);it=it.sibling}it=zh(st,tt.mode,at),it.return=tt,tt=it}return h(tt);case Ha:return ut=st._init,rt(tt,it,ut(st._payload),at)}if(eb(st))return et(tt,it,st,at);if(Ka(st))return nt(tt,it,st,at);th(tt,st)}return typeof st=="string"&&st!==""||typeof st=="number"?(st=""+st,it!==null&&it.tag===6?(d(tt,it.sibling),it=c(it,st),it.return=tt,tt=it):(d(tt,it),it=xh(st,tt.mode,at),it.return=tt,tt=it),h(tt)):d(tt,it)}return rt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,_){switch(G(Gh,_),G(Fh,e),G(Eh,Dh),e=_.nodeType,e){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb(null,"");break;default:e=e===8?_.parentNode:_,_=e.namespaceURI||null,e=e.tagName,_=lb(_,e)}E(Eh),G(Eh,_)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var _=Hh(Eh.current),d=lb(_,e.type);_!==d&&(G(Fh,e),G(Eh,d))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M$1=Uf(0);function Mh(e){for(var _=e;_!==null;){if(_.tag===13){var d=_.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break;for(;_.sibling===null;){if(_.return===null||_.return===e)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,_){if(_===null)return!1;for(var d=0;d<_.length&&d<e.length;d++)if(!He(e[d],_[d]))return!1;return!0}function Xh(e,_,d,o,c,s){if(Rh=s,N=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=d(o,c),Th){s=0;do{if(Th=!1,Uh=0,25<=s)throw Error(p(301));s+=1,P=O=null,_.updateQueue=null,Ph.current=$h,e=d(o,c)}while(Th)}if(Ph.current=ai,_=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,_)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var _=P===null?N.memoizedState:P.next;if(_!==null)P=_,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,_){return typeof _=="function"?_(e):_}function fi(e){var _=di(),d=_.queue;if(d===null)throw Error(p(311));d.lastRenderedReducer=e;var o=O,c=o.baseQueue,s=d.pending;if(s!==null){if(c!==null){var h=c.next;c.next=s.next,s.next=h}o.baseQueue=c=s,d.pending=null}if(c!==null){s=c.next,o=o.baseState;var f=h=null,g=null,b=s;do{var k=b.lane;if((Rh&k)===k)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var $={lane:k,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(f=g=$,h=o):g=g.next=$,N.lanes|=k,hh|=k}b=b.next}while(b!==null&&b!==s);g===null?h=o:g.next=f,He(o,_.memoizedState)||(Ug=!0),_.memoizedState=o,_.baseState=h,_.baseQueue=g,d.lastRenderedState=o}if(e=d.interleaved,e!==null){c=e;do s=c.lane,N.lanes|=s,hh|=s,c=c.next;while(c!==e)}else c===null&&(d.lanes=0);return[_.memoizedState,d.dispatch]}function gi(e){var _=di(),d=_.queue;if(d===null)throw Error(p(311));d.lastRenderedReducer=e;var o=d.dispatch,c=d.pending,s=_.memoizedState;if(c!==null){d.pending=null;var h=c=c.next;do s=e(s,h.action),h=h.next;while(h!==c);He(s,_.memoizedState)||(Ug=!0),_.memoizedState=s,_.baseQueue===null&&(_.baseState=s),d.lastRenderedState=s}return[s,o]}function hi(){}function ii(e,_){var d=N,o=di(),c=_(),s=!He(o.memoizedState,c);if(s&&(o.memoizedState=c,Ug=!0),o=o.queue,ji(ki.bind(null,d,o,e),[e]),o.getSnapshot!==_||s||P!==null&&P.memoizedState.tag&1){if(d.flags|=2048,li(9,mi.bind(null,d,o,c,_),void 0,null),R===null)throw Error(p(349));Rh&30||ni(d,_,c)}return c}function ni(e,_,d){e.flags|=16384,e={getSnapshot:_,value:d},_=N.updateQueue,_===null?(_={lastEffect:null,stores:null},N.updateQueue=_,_.stores=[e]):(d=_.stores,d===null?_.stores=[e]:d.push(e))}function mi(e,_,d,o){_.value=d,_.getSnapshot=o,oi(_)&&pi(e)}function ki(e,_,d){return d(function(){oi(_)&&pi(e)})}function oi(e){var _=e.getSnapshot;e=e.value;try{var d=_();return!He(e,d)}catch{return!0}}function pi(e){var _=Zg(e,1);_!==null&&mh(_,e,1,-1)}function qi(e){var _=ci();return typeof e=="function"&&(e=e()),_.memoizedState=_.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},_.queue=e,e=e.dispatch=ri.bind(null,N,e),[_.memoizedState,e]}function li(e,_,d,o){return e={tag:e,create:_,destroy:d,deps:o,next:null},_=N.updateQueue,_===null?(_={lastEffect:null,stores:null},N.updateQueue=_,_.lastEffect=e.next=e):(d=_.lastEffect,d===null?_.lastEffect=e.next=e:(o=d.next,d.next=e,e.next=o,_.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,_,d,o){var c=ci();N.flags|=e,c.memoizedState=li(1|_,d,void 0,o===void 0?null:o)}function ui$1(e,_,d,o){var c=di();o=o===void 0?null:o;var s=void 0;if(O!==null){var h=O.memoizedState;if(s=h.destroy,o!==null&&Wh(o,h.deps)){c.memoizedState=li(_,d,s,o);return}}N.flags|=e,c.memoizedState=li(1|_,d,s,o)}function vi(e,_){return ti(8390656,8,e,_)}function ji(e,_){return ui$1(2048,8,e,_)}function wi(e,_){return ui$1(4,2,e,_)}function xi(e,_){return ui$1(4,4,e,_)}function yi(e,_){if(typeof _=="function")return e=e(),_(e),function(){_(null)};if(_!=null)return e=e(),_.current=e,function(){_.current=null}}function zi(e,_,d){return d=d!=null?d.concat([e]):null,ui$1(4,4,yi.bind(null,_,e),d)}function Ai(){}function Bi(e,_){var d=di();_=_===void 0?null:_;var o=d.memoizedState;return o!==null&&_!==null&&Wh(_,o[1])?o[0]:(d.memoizedState=[e,_],e)}function Ci(e,_){var d=di();_=_===void 0?null:_;var o=d.memoizedState;return o!==null&&_!==null&&Wh(_,o[1])?o[0]:(e=e(),d.memoizedState=[e,_],e)}function Di(e,_,d){return Rh&21?(He(d,_)||(d=yc(),N.lanes|=d,hh|=d,e.baseState=!0),_):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=d)}function Ei(e,_){var d=C;C=d!==0&&4>d?d:4,e(!0);var o=Qh.transition;Qh.transition={};try{e(!1),_()}finally{C=d,Qh.transition=o}}function Fi(){return di().memoizedState}function Gi(e,_,d){var o=lh(e);if(d={lane:o,action:d,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(_,d);else if(d=Yg(e,_,d,o),d!==null){var c=L();mh(d,e,o,c),Ji(d,_,o)}}function ri(e,_,d){var o=lh(e),c={lane:o,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(_,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=_.lastRenderedReducer,s!==null))try{var h=_.lastRenderedState,f=s(h,d);if(c.hasEagerState=!0,c.eagerState=f,He(f,h)){var g=_.interleaved;g===null?(c.next=c,Xg(_)):(c.next=g.next,g.next=c),_.interleaved=c;return}}catch{}finally{}d=Yg(e,_,c,o),d!==null&&(c=L(),mh(d,e,o,c),Ji(d,_,o))}}function Hi(e){var _=e.alternate;return e===N||_!==null&&_===N}function Ii(e,_){Th=Sh=!0;var d=e.pending;d===null?_.next=_:(_.next=d.next,d.next=_),e.pending=_}function Ji(e,_,d){if(d&4194240){var o=_.lanes;o&=e.pendingLanes,d|=o,_.lanes=d,Cc(e,d)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,_){return ci().memoizedState=[e,_===void 0?null:_],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,_,d){return d=d!=null?d.concat([e]):null,ti(4194308,4,yi.bind(null,_,e),d)},useLayoutEffect:function(e,_){return ti(4194308,4,e,_)},useInsertionEffect:function(e,_){return ti(4,2,e,_)},useMemo:function(e,_){var d=ci();return _=_===void 0?null:_,e=e(),d.memoizedState=[e,_],e},useReducer:function(e,_,d){var o=ci();return _=d!==void 0?d(_):_,o.memoizedState=o.baseState=_,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:_},o.queue=e,e=e.dispatch=Gi.bind(null,N,e),[o.memoizedState,e]},useRef:function(e){var _=ci();return e={current:e},_.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),_=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[_,e]},useMutableSource:function(){},useSyncExternalStore:function(e,_,d){var o=N,c=ci();if(I){if(d===void 0)throw Error(p(407));d=d()}else{if(d=_(),R===null)throw Error(p(349));Rh&30||ni(o,_,d)}c.memoizedState=d;var s={value:d,getSnapshot:_};return c.queue=s,vi(ki.bind(null,o,s,e),[e]),o.flags|=2048,li(9,mi.bind(null,o,s,d,_),void 0,null),d},useId:function(){var e=ci(),_=R.identifierPrefix;if(I){var d=sg,o=rg;d=(o&~(1<<32-oc(o)-1)).toString(32)+d,_=":"+_+"R"+d,d=Uh++,0<d&&(_+="H"+d.toString(32)),_+=":"}else d=Vh++,_=":"+_+"r"+d.toString(32)+":";return e.memoizedState=_},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var _=di();return Di(_,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],_=di().memoizedState;return[e,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var _=di();return O===null?_.memoizedState=e:Di(_,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],_=di().memoizedState;return[e,_]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,_){try{var d="",o=_;do d+=Pa(o),o=o.return;while(o);var c=d}catch(s){c=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:_,stack:c,digest:null}}function Li(e,_,d){return{value:e,source:null,stack:d??null,digest:_??null}}function Mi(e,_){try{console.error(_.value)}catch(d){setTimeout(function(){throw d})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,_,d){d=ch(-1,d),d.tag=3,d.payload={element:null};var o=_.value;return d.callback=function(){Pi||(Pi=!0,Qi=o),Mi(e,_)},d}function Ri(e,_,d){d=ch(-1,d),d.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=_.value;d.payload=function(){return o(c)},d.callback=function(){Mi(e,_)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(d.callback=function(){Mi(e,_),typeof o!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var h=_.stack;this.componentDidCatch(_.value,{componentStack:h!==null?h:""})}),d}function Ti(e,_,d){var o=e.pingCache;if(o===null){o=e.pingCache=new Ni;var c=new Set;o.set(_,c)}else c=o.get(_),c===void 0&&(c=new Set,o.set(_,c));c.has(d)||(c.add(d),e=Ui.bind(null,e,_,d),_.then(e,e))}function Vi(e){do{var _;if((_=e.tag===13)&&(_=e.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return e;e=e.return}while(e!==null);return null}function Wi(e,_,d,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===_?e.flags|=65536:(e.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(_=ch(-1,1),_.tag=2,dh(d,_,1))),d.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,_,d,o){_.child=e===null?Ch(_,null,d,o):Bh(_,e.child,d,o)}function Zi(e,_,d,o,c){d=d.render;var s=_.ref;return Tg(_,c),o=Xh(e,_,d,o,s,c),d=bi(),e!==null&&!Ug?(_.updateQueue=e.updateQueue,_.flags&=-2053,e.lanes&=~c,$i(e,_,c)):(I&&d&&vg(_),_.flags|=1,Yi(e,_,o,c),_.child)}function aj(e,_,d,o,c){if(e===null){var s=d.type;return typeof s=="function"&&!bj(s)&&s.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(_.tag=15,_.type=s,cj(e,_,s,o,c)):(e=yh(d.type,null,o,_,_.mode,c),e.ref=_.ref,e.return=_,_.child=e)}if(s=e.child,!(e.lanes&c)){var h=s.memoizedProps;if(d=d.compare,d=d!==null?d:Ie,d(h,o)&&e.ref===_.ref)return $i(e,_,c)}return _.flags|=1,e=wh(s,o),e.ref=_.ref,e.return=_,_.child=e}function cj(e,_,d,o,c){if(e!==null){var s=e.memoizedProps;if(Ie(s,o)&&e.ref===_.ref)if(Ug=!1,_.pendingProps=o=s,(e.lanes&c)!==0)e.flags&131072&&(Ug=!0);else return _.lanes=e.lanes,$i(e,_,c)}return dj(e,_,d,o,c)}function ej(e,_,d){var o=_.pendingProps,c=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=d;else{if(!(d&1073741824))return e=s!==null?s.baseLanes|d:d,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:e,cachePool:null,transitions:null},_.updateQueue=null,G(fj,gj),gj|=e,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:d,G(fj,gj),gj|=o}else s!==null?(o=s.baseLanes|d,_.memoizedState=null):o=d,G(fj,gj),gj|=o;return Yi(e,_,c,d),_.child}function hj(e,_){var d=_.ref;(e===null&&d!==null||e!==null&&e.ref!==d)&&(_.flags|=512,_.flags|=2097152)}function dj(e,_,d,o,c){var s=Zf(d)?Xf:H.current;return s=Yf(_,s),Tg(_,c),d=Xh(e,_,d,o,s,c),o=bi(),e!==null&&!Ug?(_.updateQueue=e.updateQueue,_.flags&=-2053,e.lanes&=~c,$i(e,_,c)):(I&&o&&vg(_),_.flags|=1,Yi(e,_,d,c),_.child)}function ij(e,_,d,o,c){if(Zf(d)){var s=!0;cg(_)}else s=!1;if(Tg(_,c),_.stateNode===null)jj(e,_),ph(_,d,o),rh(_,d,o,c),o=!0;else if(e===null){var h=_.stateNode,f=_.memoizedProps;h.props=f;var g=h.context,b=d.contextType;typeof b=="object"&&b!==null?b=Vg(b):(b=Zf(d)?Xf:H.current,b=Yf(_,b));var k=d.getDerivedStateFromProps,$=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function";$||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==o||g!==b)&&qh(_,h,o,b),$g=!1;var j=_.memoizedState;h.state=j,gh(_,o,h,c),g=_.memoizedState,f!==o||j!==g||Wf.current||$g?(typeof k=="function"&&(kh(_,d,k,o),g=_.memoizedState),(f=$g||oh(_,d,f,o,j,g,b))?($||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(_.flags|=4194308)):(typeof h.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=o,_.memoizedState=g),h.props=o,h.state=g,h.context=b,o=f):(typeof h.componentDidMount=="function"&&(_.flags|=4194308),o=!1)}else{h=_.stateNode,bh(e,_),f=_.memoizedProps,b=_.type===_.elementType?f:Lg(_.type,f),h.props=b,$=_.pendingProps,j=h.context,g=d.contextType,typeof g=="object"&&g!==null?g=Vg(g):(g=Zf(d)?Xf:H.current,g=Yf(_,g));var _e=d.getDerivedStateFromProps;(k=typeof _e=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==$||j!==g)&&qh(_,h,o,g),$g=!1,j=_.memoizedState,h.state=j,gh(_,o,h,c);var et=_.memoizedState;f!==$||j!==et||Wf.current||$g?(typeof _e=="function"&&(kh(_,d,_e,o),et=_.memoizedState),(b=$g||oh(_,d,b,o,j,et,g)||!1)?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,et,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,et,g)),typeof h.componentDidUpdate=="function"&&(_.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof h.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(_.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(_.flags|=1024),_.memoizedProps=o,_.memoizedState=et),h.props=o,h.state=et,h.context=g,o=b):(typeof h.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(_.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(_.flags|=1024),o=!1)}return kj(e,_,d,o,s,c)}function kj(e,_,d,o,c,s){hj(e,_);var h=(_.flags&128)!==0;if(!o&&!h)return c&&dg(_,d,!1),$i(e,_,s);o=_.stateNode,Xi.current=_;var f=h&&typeof d.getDerivedStateFromError!="function"?null:o.render();return _.flags|=1,e!==null&&h?(_.child=Bh(_,e.child,null,s),_.child=Bh(_,null,f,s)):Yi(e,_,f,s),_.memoizedState=o.state,c&&dg(_,d,!0),_.child}function lj(e){var _=e.stateNode;_.pendingContext?ag(e,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(e,_.context,!1),Ih(e,_.containerInfo)}function mj(e,_,d,o,c){return Ig(),Jg(c),_.flags|=256,Yi(e,_,d,o),_.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,_,d){var o=_.pendingProps,c=M$1.current,s=!1,h=(_.flags&128)!==0,f;if((f=h)||(f=e!==null&&e.memoizedState===null?!1:(c&2)!==0),f?(s=!0,_.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G(M$1,c&1),e===null)return Eg(_),e=_.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(_.mode&1?e.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(h=o.children,e=o.fallback,s?(o=_.mode,s=_.child,h={mode:"hidden",children:h},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=h):s=qj(h,o,0,null),e=Ah(e,o,d,null),s.return=_,e.return=_,s.sibling=e,_.child=s,_.child.memoizedState=oj(d),_.memoizedState=nj,e):rj(_,h));if(c=e.memoizedState,c!==null&&(f=c.dehydrated,f!==null))return sj(e,_,h,o,f,c,d);if(s){s=o.fallback,h=_.mode,c=e.child,f=c.sibling;var g={mode:"hidden",children:o.children};return!(h&1)&&_.child!==c?(o=_.child,o.childLanes=0,o.pendingProps=g,_.deletions=null):(o=wh(c,g),o.subtreeFlags=c.subtreeFlags&14680064),f!==null?s=wh(f,s):(s=Ah(s,h,d,null),s.flags|=2),s.return=_,o.return=_,o.sibling=s,_.child=o,o=s,s=_.child,h=e.child.memoizedState,h=h===null?oj(d):{baseLanes:h.baseLanes|d,cachePool:null,transitions:h.transitions},s.memoizedState=h,s.childLanes=e.childLanes&~d,_.memoizedState=nj,o}return s=e.child,e=s.sibling,o=wh(s,{mode:"visible",children:o.children}),!(_.mode&1)&&(o.lanes=d),o.return=_,o.sibling=null,e!==null&&(d=_.deletions,d===null?(_.deletions=[e],_.flags|=16):d.push(e)),_.child=o,_.memoizedState=null,o}function rj(e,_){return _=qj({mode:"visible",children:_},e.mode,0,null),_.return=e,e.child=_}function tj(e,_,d,o){return o!==null&&Jg(o),Bh(_,e.child,null,d),e=rj(_,_.pendingProps.children),e.flags|=2,_.memoizedState=null,e}function sj(e,_,d,o,c,s,h){if(d)return _.flags&256?(_.flags&=-257,o=Li(Error(p(422))),tj(e,_,h,o)):_.memoizedState!==null?(_.child=e.child,_.flags|=128,null):(s=o.fallback,c=_.mode,o=qj({mode:"visible",children:o.children},c,0,null),s=Ah(s,c,h,null),s.flags|=2,o.return=_,s.return=_,o.sibling=s,_.child=o,_.mode&1&&Bh(_,e.child,null,h),_.child.memoizedState=oj(h),_.memoizedState=nj,s);if(!(_.mode&1))return tj(e,_,h,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var f=o.dgst;return o=f,s=Error(p(419)),o=Li(s,o,void 0),tj(e,_,h,o)}if(f=(h&e.childLanes)!==0,Ug||f){if(o=R,o!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|h)?0:c,c!==0&&c!==s.retryLane&&(s.retryLane=c,Zg(e,c),mh(o,e,c,-1))}return uj(),o=Li(Error(p(421))),tj(e,_,h,o)}return c.data==="$?"?(_.flags|=128,_.child=e.child,_=vj.bind(null,e),c._reactRetry=_,null):(e=s.treeContext,yg=Lf(c.nextSibling),xg=_,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=_),_=rj(_,o.children),_.flags|=4096,_)}function wj(e,_,d){e.lanes|=_;var o=e.alternate;o!==null&&(o.lanes|=_),Sg(e.return,_,d)}function xj(e,_,d,o,c){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:o,tail:d,tailMode:c}:(s.isBackwards=_,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=d,s.tailMode=c)}function yj(e,_,d){var o=_.pendingProps,c=o.revealOrder,s=o.tail;if(Yi(e,_,o.children,d),o=M$1.current,o&2)o=o&1|2,_.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=_.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,d,_);else if(e.tag===19)wj(e,d,_);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===_)break e;for(;e.sibling===null;){if(e.return===null||e.return===_)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(M$1,o),!(_.mode&1))_.memoizedState=null;else switch(c){case"forwards":for(d=_.child,c=null;d!==null;)e=d.alternate,e!==null&&Mh(e)===null&&(c=d),d=d.sibling;d=c,d===null?(c=_.child,_.child=null):(c=d.sibling,d.sibling=null),xj(_,!1,c,d,s);break;case"backwards":for(d=null,c=_.child,_.child=null;c!==null;){if(e=c.alternate,e!==null&&Mh(e)===null){_.child=c;break}e=c.sibling,c.sibling=d,d=c,c=e}xj(_,!0,d,null,s);break;case"together":xj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function jj(e,_){!(_.mode&1)&&e!==null&&(e.alternate=null,_.alternate=null,_.flags|=2)}function $i(e,_,d){if(e!==null&&(_.dependencies=e.dependencies),hh|=_.lanes,!(d&_.childLanes))return null;if(e!==null&&_.child!==e.child)throw Error(p(153));if(_.child!==null){for(e=_.child,d=wh(e,e.pendingProps),_.child=d,d.return=_;e.sibling!==null;)e=e.sibling,d=d.sibling=wh(e,e.pendingProps),d.return=_;d.sibling=null}return _.child}function zj(e,_,d){switch(_.tag){case 3:lj(_),Ig();break;case 5:Kh(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:Ih(_,_.stateNode.containerInfo);break;case 10:var o=_.type._context,c=_.memoizedProps.value;G(Mg,o._currentValue),o._currentValue=c;break;case 13:if(o=_.memoizedState,o!==null)return o.dehydrated!==null?(G(M$1,M$1.current&1),_.flags|=128,null):d&_.child.childLanes?pj(e,_,d):(G(M$1,M$1.current&1),e=$i(e,_,d),e!==null?e.sibling:null);G(M$1,M$1.current&1);break;case 19:if(o=(d&_.childLanes)!==0,e.flags&128){if(o)return yj(e,_,d);_.flags|=128}if(c=_.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(M$1,M$1.current),o)break;return null;case 22:case 23:return _.lanes=0,ej(e,_,d)}return $i(e,_,d)}var Aj,Bj,Cj,Dj;Aj=function(e,_){for(var d=_.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===_)break;for(;d.sibling===null;){if(d.return===null||d.return===_)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};Bj=function(){};Cj=function(e,_,d,o){var c=e.memoizedProps;if(c!==o){e=_.stateNode,Hh(Eh.current);var s=null;switch(d){case"input":c=Ya(e,c),o=Ya(e,o),s=[];break;case"select":c=A$1({},c,{value:void 0}),o=A$1({},o,{value:void 0}),s=[];break;case"textarea":c=gb(e,c),o=gb(e,o),s=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(d,o);var h;d=null;for(b in c)if(!o.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var f=c[b];for(h in f)f.hasOwnProperty(h)&&(d||(d={}),d[h]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?s||(s=[]):(s=s||[]).push(b,null));for(b in o){var g=o[b];if(f=c!=null?c[b]:void 0,o.hasOwnProperty(b)&&g!==f&&(g!=null||f!=null))if(b==="style")if(f){for(h in f)!f.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(d||(d={}),d[h]="");for(h in g)g.hasOwnProperty(h)&&f[h]!==g[h]&&(d||(d={}),d[h]=g[h])}else d||(s||(s=[]),s.push(b,d)),d=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,f=f?f.__html:void 0,g!=null&&f!==g&&(s=s||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(s=s||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),s||f===g||(s=[])):(s=s||[]).push(b,g))}d&&(s=s||[]).push("style",d);var b=s;(_.updateQueue=b)&&(_.flags|=4)}};Dj=function(e,_,d,o){d!==o&&(_.flags|=4)};function Ej(e,_){if(!I)switch(e.tailMode){case"hidden":_=e.tail;for(var d=null;_!==null;)_.alternate!==null&&(d=_),_=_.sibling;d===null?e.tail=null:d.sibling=null;break;case"collapsed":d=e.tail;for(var o=null;d!==null;)d.alternate!==null&&(o=d),d=d.sibling;o===null?_||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S$1(e){var _=e.alternate!==null&&e.alternate.child===e.child,d=0,o=0;if(_)for(var c=e.child;c!==null;)d|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)d|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=d,_}function Fj(e,_,d){var o=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_),null;case 1:return Zf(_.type)&&$f(),S$1(_),null;case 3:return o=_.stateNode,Jh(),E(Wf),E(H),Oh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(_)?_.flags|=4:e===null||e.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,_),S$1(_),null;case 5:Lh(_);var c=Hh(Gh.current);if(d=_.type,e!==null&&_.stateNode!=null)Cj(e,_,d,o,c),e.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!o){if(_.stateNode===null)throw Error(p(166));return S$1(_),null}if(e=Hh(Eh.current),Gg(_)){o=_.stateNode,d=_.type;var s=_.memoizedProps;switch(o[Of]=_,o[Pf]=s,e=(_.mode&1)!==0,d){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,s),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},D("invalid",o);break;case"textarea":hb(o,s),D("invalid",o)}ub(d,s),c=null;for(var h in s)if(s.hasOwnProperty(h)){var f=s[h];h==="children"?typeof f=="string"?o.textContent!==f&&(s.suppressHydrationWarning!==!0&&Af(o.textContent,f,e),c=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(s.suppressHydrationWarning!==!0&&Af(o.textContent,f,e),c=["children",""+f]):ea.hasOwnProperty(h)&&f!=null&&h==="onScroll"&&D("scroll",o)}switch(d){case"input":Va(o),db(o,s,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=Bf)}o=c,_.updateQueue=o,o!==null&&(_.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(d)),e==="http://www.w3.org/1999/xhtml"?d==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=h.createElement(d,{is:o.is}):(e=h.createElement(d),d==="select"&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,d),e[Of]=_,e[Pf]=o,Aj(e,_,!1,!1),_.stateNode=e;e:{switch(h=vb(d,o),d){case"dialog":D("cancel",e),D("close",e),c=o;break;case"iframe":case"object":case"embed":D("load",e),c=o;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],e);c=o;break;case"source":D("error",e),c=o;break;case"img":case"image":case"link":D("error",e),D("load",e),c=o;break;case"details":D("toggle",e),c=o;break;case"input":Za(e,o),c=Ya(e,o),D("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=A$1({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),c=gb(e,o),D("invalid",e);break;default:c=o}ub(d,c),f=c;for(s in f)if(f.hasOwnProperty(s)){var g=f[s];s==="style"?sb(e,g):s==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):s==="children"?typeof g=="string"?(d!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?g!=null&&s==="onScroll"&&D("scroll",e):g!=null&&ta(e,s,g,h))}switch(d){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?fb(e,!!o.multiple,s,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S$1(_),null;case 6:if(e&&_.stateNode!=null)Dj(e,_,e.memoizedProps,o);else{if(typeof o!="string"&&_.stateNode===null)throw Error(p(166));if(d=Hh(Gh.current),Hh(Eh.current),Gg(_)){if(o=_.stateNode,d=_.memoizedProps,o[Of]=_,(s=o.nodeValue!==d)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,d,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,d,(e.mode&1)!==0)}s&&(_.flags|=4)}else o=(d.nodeType===9?d:d.ownerDocument).createTextNode(o),o[Of]=_,_.stateNode=o}return S$1(_),null;case 13:if(E(M$1),o=_.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,s=!1;else if(s=Gg(_),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(p(318));if(s=_.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));s[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S$1(_),s=!1}else zg!==null&&(Gj(zg),zg=null),s=!0;if(!s)return _.flags&65536?_:null}return _.flags&128?(_.lanes=d,_):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(_.child.flags|=8192,_.mode&1&&(e===null||M$1.current&1?T===0&&(T=3):uj())),_.updateQueue!==null&&(_.flags|=4),S$1(_),null);case 4:return Jh(),Bj(e,_),e===null&&sf(_.stateNode.containerInfo),S$1(_),null;case 10:return Rg(_.type._context),S$1(_),null;case 17:return Zf(_.type)&&$f(),S$1(_),null;case 19:if(E(M$1),s=_.memoizedState,s===null)return S$1(_),null;if(o=(_.flags&128)!==0,h=s.rendering,h===null)if(o)Ej(s,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=_.child;e!==null;){if(h=Mh(e),h!==null){for(_.flags|=128,Ej(s,!1),o=h.updateQueue,o!==null&&(_.updateQueue=o,_.flags|=4),_.subtreeFlags=0,o=d,d=_.child;d!==null;)s=d,e=o,s.flags&=14680066,h=s.alternate,h===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,e=h.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),d=d.sibling;return G(M$1,M$1.current&1|2),_.child}e=e.sibling}s.tail!==null&&B()>Hj&&(_.flags|=128,o=!0,Ej(s,!1),_.lanes=4194304)}else{if(!o)if(e=Mh(h),e!==null){if(_.flags|=128,o=!0,d=e.updateQueue,d!==null&&(_.updateQueue=d,_.flags|=4),Ej(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!I)return S$1(_),null}else 2*B()-s.renderingStartTime>Hj&&d!==1073741824&&(_.flags|=128,o=!0,Ej(s,!1),_.lanes=4194304);s.isBackwards?(h.sibling=_.child,_.child=h):(d=s.last,d!==null?d.sibling=h:_.child=h,s.last=h)}return s.tail!==null?(_=s.tail,s.rendering=_,s.tail=_.sibling,s.renderingStartTime=B(),_.sibling=null,d=M$1.current,G(M$1,o?d&1|2:d&1),_):(S$1(_),null);case 22:case 23:return Ij(),o=_.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(_.flags|=8192),o&&_.mode&1?gj&1073741824&&(S$1(_),_.subtreeFlags&6&&(_.flags|=8192)):S$1(_),null;case 24:return null;case 25:return null}throw Error(p(156,_.tag))}function Jj(e,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),e=_.flags,e&65536?(_.flags=e&-65537|128,_):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=_.flags,e&65536&&!(e&128)?(_.flags=e&-65537|128,_):null;case 5:return Lh(_),null;case 13:if(E(M$1),e=_.memoizedState,e!==null&&e.dehydrated!==null){if(_.alternate===null)throw Error(p(340));Ig()}return e=_.flags,e&65536?(_.flags=e&-65537|128,_):null;case 19:return E(M$1),null;case 4:return Jh(),null;case 10:return Rg(_.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,_){var d=e.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(o){W(e,_,o)}else d.current=null}function Nj(e,_,d){try{d()}catch(o){W(e,_,o)}}var Oj=!1;function Pj(e,_){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var d={start:e.selectionStart,end:e.selectionEnd};else e:{d=(d=e.ownerDocument)&&d.defaultView||window;var o=d.getSelection&&d.getSelection();if(o&&o.rangeCount!==0){d=o.anchorNode;var c=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{d.nodeType,s.nodeType}catch{d=null;break e}var h=0,f=-1,g=-1,b=0,k=0,$=e,j=null;t:for(;;){for(var _e;$!==d||c!==0&&$.nodeType!==3||(f=h+c),$!==s||o!==0&&$.nodeType!==3||(g=h+o),$.nodeType===3&&(h+=$.nodeValue.length),(_e=$.firstChild)!==null;)j=$,$=_e;for(;;){if($===e)break t;if(j===d&&++b===c&&(f=h),j===s&&++k===o&&(g=h),(_e=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=_e}d=f===-1||g===-1?null:{start:f,end:g}}else d=null}d=d||{start:0,end:0}}else d=null;for(Df={focusedElem:e,selectionRange:d},dd=!1,V=_;V!==null;)if(_=V,e=_.child,(_.subtreeFlags&1028)!==0&&e!==null)e.return=_,V=e;else for(;V!==null;){_=V;try{var et=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var nt=et.memoizedProps,rt=et.memoizedState,tt=_.stateNode,it=tt.getSnapshotBeforeUpdate(_.elementType===_.type?nt:Lg(_.type,nt),rt);tt.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var st=_.stateNode.containerInfo;st.nodeType===1?st.textContent="":st.nodeType===9&&st.documentElement&&st.removeChild(st.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(at){W(_,_.return,at)}if(e=_.sibling,e!==null){e.return=_.return,V=e;break}V=_.return}return et=Oj,Oj=!1,et}function Qj(e,_,d){var o=_.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var s=c.destroy;c.destroy=void 0,s!==void 0&&Nj(_,d,s)}c=c.next}while(c!==o)}}function Rj(e,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var d=_=_.next;do{if((d.tag&e)===e){var o=d.create;d.destroy=o()}d=d.next}while(d!==_)}}function Sj(e){var _=e.ref;if(_!==null){var d=e.stateNode;switch(e.tag){case 5:e=d;break;default:e=d}typeof _=="function"?_(e):_.current=e}}function Tj(e){var _=e.alternate;_!==null&&(e.alternate=null,Tj(_)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(_=e.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of],delete _[Qf],delete _[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,_,d){var o=e.tag;if(o===5||o===6)e=e.stateNode,_?d.nodeType===8?d.parentNode.insertBefore(e,_):d.insertBefore(e,_):(d.nodeType===8?(_=d.parentNode,_.insertBefore(e,d)):(_=d,_.appendChild(e)),d=d._reactRootContainer,d!=null||_.onclick!==null||(_.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Wj(e,_,d),e=e.sibling;e!==null;)Wj(e,_,d),e=e.sibling}function Xj(e,_,d){var o=e.tag;if(o===5||o===6)e=e.stateNode,_?d.insertBefore(e,_):d.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Xj(e,_,d),e=e.sibling;e!==null;)Xj(e,_,d),e=e.sibling}var X=null,Yj=!1;function Zj(e,_,d){for(d=d.child;d!==null;)ak(e,_,d),d=d.sibling}function ak(e,_,d){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,d)}catch{}switch(d.tag){case 5:U||Mj(d,_);case 6:var o=X,c=Yj;X=null,Zj(e,_,d),X=o,Yj=c,X!==null&&(Yj?(e=X,d=d.stateNode,e.nodeType===8?e.parentNode.removeChild(d):e.removeChild(d)):X.removeChild(d.stateNode));break;case 18:X!==null&&(Yj?(e=X,d=d.stateNode,e.nodeType===8?Kf(e.parentNode,d):e.nodeType===1&&Kf(e,d),bd(e)):Kf(X,d.stateNode));break;case 4:o=X,c=Yj,X=d.stateNode.containerInfo,Yj=!0,Zj(e,_,d),X=o,Yj=c;break;case 0:case 11:case 14:case 15:if(!U&&(o=d.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var s=c,h=s.destroy;s=s.tag,h!==void 0&&(s&2||s&4)&&Nj(d,_,h),c=c.next}while(c!==o)}Zj(e,_,d);break;case 1:if(!U&&(Mj(d,_),o=d.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=d.memoizedProps,o.state=d.memoizedState,o.componentWillUnmount()}catch(f){W(d,_,f)}Zj(e,_,d);break;case 21:Zj(e,_,d);break;case 22:d.mode&1?(U=(o=U)||d.memoizedState!==null,Zj(e,_,d),U=o):Zj(e,_,d);break;default:Zj(e,_,d)}}function bk(e){var _=e.updateQueue;if(_!==null){e.updateQueue=null;var d=e.stateNode;d===null&&(d=e.stateNode=new Lj),_.forEach(function(o){var c=ck.bind(null,e,o);d.has(o)||(d.add(o),o.then(c,c))})}}function dk(e,_){var d=_.deletions;if(d!==null)for(var o=0;o<d.length;o++){var c=d[o];try{var s=e,h=_,f=h;e:for(;f!==null;){switch(f.tag){case 5:X=f.stateNode,Yj=!1;break e;case 3:X=f.stateNode.containerInfo,Yj=!0;break e;case 4:X=f.stateNode.containerInfo,Yj=!0;break e}f=f.return}if(X===null)throw Error(p(160));ak(s,h,c),X=null,Yj=!1;var g=c.alternate;g!==null&&(g.return=null),c.return=null}catch(b){W(c,_,b)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)ek(_,e),_=_.sibling}function ek(e,_){var d=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(_,e),fk(e),o&4){try{Qj(3,e,e.return),Rj(3,e)}catch(nt){W(e,e.return,nt)}try{Qj(5,e,e.return)}catch(nt){W(e,e.return,nt)}}break;case 1:dk(_,e),fk(e),o&512&&d!==null&&Mj(d,d.return);break;case 5:if(dk(_,e),fk(e),o&512&&d!==null&&Mj(d,d.return),e.flags&32){var c=e.stateNode;try{ob(c,"")}catch(nt){W(e,e.return,nt)}}if(o&4&&(c=e.stateNode,c!=null)){var s=e.memoizedProps,h=d!==null?d.memoizedProps:s,f=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{f==="input"&&s.type==="radio"&&s.name!=null&&ab(c,s),vb(f,h);var b=vb(f,s);for(h=0;h<g.length;h+=2){var k=g[h],$=g[h+1];k==="style"?sb(c,$):k==="dangerouslySetInnerHTML"?nb(c,$):k==="children"?ob(c,$):ta(c,k,$,b)}switch(f){case"input":bb(c,s);break;case"textarea":ib(c,s);break;case"select":var j=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!s.multiple;var _e=s.value;_e!=null?fb(c,!!s.multiple,_e,!1):j!==!!s.multiple&&(s.defaultValue!=null?fb(c,!!s.multiple,s.defaultValue,!0):fb(c,!!s.multiple,s.multiple?[]:"",!1))}c[Pf]=s}catch(nt){W(e,e.return,nt)}}break;case 6:if(dk(_,e),fk(e),o&4){if(e.stateNode===null)throw Error(p(162));c=e.stateNode,s=e.memoizedProps;try{c.nodeValue=s}catch(nt){W(e,e.return,nt)}}break;case 3:if(dk(_,e),fk(e),o&4&&d!==null&&d.memoizedState.isDehydrated)try{bd(_.containerInfo)}catch(nt){W(e,e.return,nt)}break;case 4:dk(_,e),fk(e);break;case 13:dk(_,e),fk(e),c=e.child,c.flags&8192&&(s=c.memoizedState!==null,c.stateNode.isHidden=s,!s||c.alternate!==null&&c.alternate.memoizedState!==null||(gk=B())),o&4&&bk(e);break;case 22:if(k=d!==null&&d.memoizedState!==null,e.mode&1?(U=(b=U)||k,dk(_,e),U=b):dk(_,e),fk(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!k&&e.mode&1)for(V=e,k=e.child;k!==null;){for($=V=k;V!==null;){switch(j=V,_e=j.child,j.tag){case 0:case 11:case 14:case 15:Qj(4,j,j.return);break;case 1:Mj(j,j.return);var et=j.stateNode;if(typeof et.componentWillUnmount=="function"){o=j,d=j.return;try{_=o,et.props=_.memoizedProps,et.state=_.memoizedState,et.componentWillUnmount()}catch(nt){W(o,d,nt)}}break;case 5:Mj(j,j.return);break;case 22:if(j.memoizedState!==null){hk($);continue}}_e!==null?(_e.return=j,V=_e):hk($)}k=k.sibling}e:for(k=null,$=e;;){if($.tag===5){if(k===null){k=$;try{c=$.stateNode,b?(s=c.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(f=$.stateNode,g=$.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,f.style.display=rb("display",h))}catch(nt){W(e,e.return,nt)}}}else if($.tag===6){if(k===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(nt){W(e,e.return,nt)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;k===$&&(k=null),$=$.return}k===$&&(k=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:dk(_,e),fk(e),o&4&&bk(e);break;case 21:break;default:dk(_,e),fk(e)}}function fk(e){var _=e.flags;if(_&2){try{e:{for(var d=e.return;d!==null;){if(Uj(d)){var o=d;break e}d=d.return}throw Error(p(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(ob(c,""),o.flags&=-33);var s=Vj(e);Xj(e,s,c);break;case 3:case 4:var h=o.stateNode.containerInfo,f=Vj(e);Wj(e,f,h);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}_&4096&&(e.flags&=-4097)}function ik(e,_,d){V=e,jk(e)}function jk(e,_,d){for(var o=(e.mode&1)!==0;V!==null;){var c=V,s=c.child;if(c.tag===22&&o){var h=c.memoizedState!==null||Kj;if(!h){var f=c.alternate,g=f!==null&&f.memoizedState!==null||U;f=Kj;var b=U;if(Kj=h,(U=g)&&!b)for(V=c;V!==null;)h=V,g=h.child,h.tag===22&&h.memoizedState!==null?kk(c):g!==null?(g.return=h,V=g):kk(c);for(;s!==null;)V=s,jk(s),s=s.sibling;V=c,Kj=f,U=b}lk(e)}else c.subtreeFlags&8772&&s!==null?(s.return=c,V=s):lk(e)}}function lk(e){for(;V!==null;){var _=V;if(_.flags&8772){var d=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U||Rj(5,_);break;case 1:var o=_.stateNode;if(_.flags&4&&!U)if(d===null)o.componentDidMount();else{var c=_.elementType===_.type?d.memoizedProps:Lg(_.type,d.memoizedProps);o.componentDidUpdate(c,d.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=_.updateQueue;s!==null&&ih(_,s,o);break;case 3:var h=_.updateQueue;if(h!==null){if(d=null,_.child!==null)switch(_.child.tag){case 5:d=_.child.stateNode;break;case 1:d=_.child.stateNode}ih(_,h,d)}break;case 5:var f=_.stateNode;if(d===null&&_.flags&4){d=f;var g=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&d.focus();break;case"img":g.src&&(d.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var b=_.alternate;if(b!==null){var k=b.memoizedState;if(k!==null){var $=k.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||_.flags&512&&Sj(_)}catch(j){W(_,_.return,j)}}if(_===e){V=null;break}if(d=_.sibling,d!==null){d.return=_.return,V=d;break}V=_.return}}function hk(e){for(;V!==null;){var _=V;if(_===e){V=null;break}var d=_.sibling;if(d!==null){d.return=_.return,V=d;break}V=_.return}}function kk(e){for(;V!==null;){var _=V;try{switch(_.tag){case 0:case 11:case 15:var d=_.return;try{Rj(4,_)}catch(g){W(_,d,g)}break;case 1:var o=_.stateNode;if(typeof o.componentDidMount=="function"){var c=_.return;try{o.componentDidMount()}catch(g){W(_,c,g)}}var s=_.return;try{Sj(_)}catch(g){W(_,s,g)}break;case 5:var h=_.return;try{Sj(_)}catch(g){W(_,h,g)}}}catch(g){W(_,_.return,g)}if(_===e){V=null;break}var f=_.sibling;if(f!==null){f.return=_.return,V=f;break}V=_.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,_,d,o){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,d,o),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=d),T===4&&Dk(e,Z)),Ek(e,o),d===1&&K===0&&!(_.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,_){var d=e.callbackNode;wc(e,_);var o=uc(e,e===R?Z:0);if(o===0)d!==null&&bc(d),e.callbackNode=null,e.callbackPriority=0;else if(_=o&-o,e.callbackPriority!==_){if(d!=null&&bc(d),_===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),d=null;else{switch(Dc(o)){case 1:d=fc;break;case 4:d=gc;break;case 16:d=hc;break;case 536870912:d=jc;break;default:d=hc}d=Gk(d,Hk.bind(null,e))}e.callbackPriority=_,e.callbackNode=d}}function Hk(e,_){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var d=e.callbackNode;if(Ik()&&e.callbackNode!==d)return null;var o=uc(e,e===R?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||_)_=Jk(e,o);else{_=o;var c=K;K|=2;var s=Kk();(R!==e||Z!==_)&&(vk=null,Hj=B()+500,Lk(e,_));do try{Mk();break}catch(f){Nk(e,f)}while(!0);Qg(),nk.current=s,K=c,Y!==null?_=0:(R=null,Z=0,_=T)}if(_!==0){if(_===2&&(c=xc(e),c!==0&&(o=c,_=Ok(e,c))),_===1)throw d=qk,Lk(e,0),Dk(e,o),Ek(e,B()),d;if(_===6)Dk(e,o);else{if(c=e.current.alternate,!(o&30)&&!Pk(c)&&(_=Jk(e,o),_===2&&(s=xc(e),s!==0&&(o=s,_=Ok(e,s))),_===1))throw d=qk,Lk(e,0),Dk(e,o),Ek(e,B()),d;switch(e.finishedWork=c,e.finishedLanes=o,_){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,o),(o&130023424)===o&&(_=gk+500-B(),10<_)){if(uc(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){L(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),_);break}Qk(e,uk,vk);break;case 4:if(Dk(e,o),(o&4194240)===o)break;for(_=e.eventTimes,c=-1;0<o;){var h=31-oc(o);s=1<<h,h=_[h],h>c&&(c=h),o&=~s}if(o=c,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mk(o/1960))-o,10<o){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===d?Hk.bind(null,e):null}function Ok(e,_){var d=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,_).flags|=256),e=Jk(e,_),e!==2&&(_=uk,uk=d,_!==null&&Gj(_)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var _=e;;){if(_.flags&16384){var d=_.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var o=0;o<d.length;o++){var c=d[o],s=c.getSnapshot;c=c.value;try{if(!He(s(),c))return!1}catch{return!1}}}if(d=_.child,_.subtreeFlags&16384&&d!==null)d.return=_,_=d;else{if(_===e)break;for(;_.sibling===null;){if(_.return===null||_.return===e)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Dk(e,_){for(_&=~sk,_&=~rk,e.suspendedLanes|=_,e.pingedLanes&=~_,e=e.expirationTimes;0<_;){var d=31-oc(_),o=1<<d;e[d]=-1,_&=~o}}function Fk(e){if(K&6)throw Error(p(327));Ik();var _=uc(e,0);if(!(_&1))return Ek(e,B()),null;var d=Jk(e,_);if(e.tag!==0&&d===2){var o=xc(e);o!==0&&(_=o,d=Ok(e,o))}if(d===1)throw d=qk,Lk(e,0),Dk(e,_),Ek(e,B()),d;if(d===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=_,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,_){var d=K;K|=1;try{return e(_)}finally{K=d,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _=K;K|=1;var d=pk.transition,o=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=o,pk.transition=d,K=_,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,_){e.finishedWork=null,e.finishedLanes=0;var d=e.timeoutHandle;if(d!==-1&&(e.timeoutHandle=-1,Gf(d)),Y!==null)for(d=Y.return;d!==null;){var o=d;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(o);break;case 4:Jh();break;case 13:E(M$1);break;case 19:E(M$1);break;case 10:Rg(o.type._context);break;case 22:case 23:Ij()}d=d.return}if(R=e,Y=e=wh(e.current,null),Z=gj=_,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_=0;_<Wg.length;_++)if(d=Wg[_],o=d.interleaved,o!==null){d.interleaved=null;var c=o.next,s=d.pending;if(s!==null){var h=s.next;s.next=c,o.next=h}d.pending=o}Wg=null}return e}function Nk(e,_){do{var d=Y;try{if(Qg(),Ph.current=ai,Sh){for(var o=N.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,d===null||d.return===null){T=1,qk=_,Y=null;break}e:{var s=e,h=d.return,f=d,g=_;if(_=Z,f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,k=f,$=k.tag;if(!(k.mode&1)&&($===0||$===11||$===15)){var j=k.alternate;j?(k.updateQueue=j.updateQueue,k.memoizedState=j.memoizedState,k.lanes=j.lanes):(k.updateQueue=null,k.memoizedState=null)}var _e=Vi(h);if(_e!==null){_e.flags&=-257,Wi(_e,h,f,s,_),_e.mode&1&&Ti(s,b,_),_=_e,g=b;var et=_.updateQueue;if(et===null){var nt=new Set;nt.add(g),_.updateQueue=nt}else et.add(g);break e}else{if(!(_&1)){Ti(s,b,_),uj();break e}g=Error(p(426))}}else if(I&&f.mode&1){var rt=Vi(h);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Wi(rt,h,f,s,_),Jg(Ki(g,f));break e}}s=g=Ki(g,f),T!==4&&(T=2),tk===null?tk=[s]:tk.push(s),s=h;do{switch(s.tag){case 3:s.flags|=65536,_&=-_,s.lanes|=_;var tt=Oi(s,g,_);fh(s,tt);break e;case 1:f=g;var it=s.type,st=s.stateNode;if(!(s.flags&128)&&(typeof it.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&(Si===null||!Si.has(st)))){s.flags|=65536,_&=-_,s.lanes|=_;var at=Ri(s,f,_);fh(s,at);break e}}s=s.return}while(s!==null)}Tk(d)}catch(_t){_=_t,Y===d&&d!==null&&(Y=d=d.return);continue}break}while(!0)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,_){var d=K;K|=2;var o=Kk();(R!==e||Z!==_)&&(vk=null,Lk(e,_));do try{Uk();break}catch(c){Nk(e,c)}while(!0);if(Qg(),K=d,nk.current=o,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var _=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,_===null?Tk(e):Y=_,ok.current=null}function Tk(e){var _=e;do{var d=_.alternate;if(e=_.return,_.flags&32768){if(d=Jj(d,_),d!==null){d.flags&=32767,Y=d;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(d=Fj(d,_,gj),d!==null){Y=d;return}if(_=_.sibling,_!==null){Y=_;return}Y=_=e}while(_!==null);T===0&&(T=5)}function Qk(e,_,d){var o=C,c=pk.transition;try{pk.transition=null,C=1,Xk(e,_,d,o)}finally{pk.transition=c,C=o}return null}function Xk(e,_,d,o){do Ik();while(xk!==null);if(K&6)throw Error(p(327));d=e.finishedWork;var c=e.finishedLanes;if(d===null)return null;if(e.finishedWork=null,e.finishedLanes=0,d===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var s=d.lanes|d.childLanes;if(Bc(e,s),e===R&&(Y=R=null,Z=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),s=(d.flags&15990)!==0,d.subtreeFlags&15990||s){s=pk.transition,pk.transition=null;var h=C;C=1;var f=K;K|=4,ok.current=null,Pj(e,d),ek(d,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=d,ik(d),dc(),K=f,C=h,pk.transition=s}else e.current=d;if(wk&&(wk=!1,xk=e,yk=c),s=e.pendingLanes,s===0&&(Si=null),mc(d.stateNode),Ek(e,B()),_!==null)for(o=e.onRecoverableError,d=0;d<_.length;d++)c=_[d],o(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),s=e.pendingLanes,s&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),_=pk.transition,d=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var o=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=e.current;V!==null;){var s=V,h=s.child;if(V.flags&16){var f=s.deletions;if(f!==null){for(var g=0;g<f.length;g++){var b=f[g];for(V=b;V!==null;){var k=V;switch(k.tag){case 0:case 11:case 15:Qj(8,k,s)}var $=k.child;if($!==null)$.return=k,V=$;else for(;V!==null;){k=V;var j=k.sibling,_e=k.return;if(Tj(k),k===b){V=null;break}if(j!==null){j.return=_e,V=j;break}V=_e}}}var et=s.alternate;if(et!==null){var nt=et.child;if(nt!==null){et.child=null;do{var rt=nt.sibling;nt.sibling=null,nt=rt}while(nt!==null)}}V=s}}if(s.subtreeFlags&2064&&h!==null)h.return=s,V=h;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qj(9,s,s.return)}var tt=s.sibling;if(tt!==null){tt.return=s.return,V=tt;break e}V=s.return}}var it=e.current;for(V=it;V!==null;){h=V;var st=h.child;if(h.subtreeFlags&2064&&st!==null)st.return=h,V=st;else e:for(h=it;V!==null;){if(f=V,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Rj(9,f)}}catch(_t){W(f,f.return,_t)}if(f===h){V=null;break e}var at=f.sibling;if(at!==null){at.return=f.return,V=at;break e}V=f.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=d,pk.transition=_}}return!1}function Yk(e,_,d){_=Ki(d,_),_=Oi(e,_,1),e=dh(e,_,1),_=L(),e!==null&&(Ac(e,1,_),Ek(e,_))}function W(e,_,d){if(e.tag===3)Yk(e,e,d);else for(;_!==null;){if(_.tag===3){Yk(_,e,d);break}else if(_.tag===1){var o=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Si===null||!Si.has(o))){e=Ki(d,e),e=Ri(_,e,1),_=dh(_,e,1),e=L(),_!==null&&(Ac(_,1,e),Ek(_,e));break}}_=_.return}}function Ui(e,_,d){var o=e.pingCache;o!==null&&o.delete(_),_=L(),e.pingedLanes|=e.suspendedLanes&d,R===e&&(Z&d)===d&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=d),Ek(e,_)}function Zk(e,_){_===0&&(e.mode&1?(_=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_=1);var d=L();e=Zg(e,_),e!==null&&(Ac(e,_,d),Ek(e,d))}function vj(e){var _=e.memoizedState,d=0;_!==null&&(d=_.retryLane),Zk(e,d)}function ck(e,_){var d=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(d=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(_),Zk(e,d)}var Wk;Wk=function(e,_,d){if(e!==null)if(e.memoizedProps!==_.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&d)&&!(_.flags&128))return Ug=!1,zj(e,_,d);Ug=!!(e.flags&131072)}else Ug=!1,I&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var o=_.type;jj(e,_),e=_.pendingProps;var c=Yf(_,H.current);Tg(_,d),c=Xh(null,_,o,e,c,d);var s=bi();return _.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(o)?(s=!0,cg(_)):s=!1,_.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ah(_),c.updater=nh,_.stateNode=c,c._reactInternals=_,rh(_,o,e,d),_=kj(null,_,o,!0,s,d)):(_.tag=0,I&&s&&vg(_),Yi(null,_,c,d),_=_.child),_;case 16:o=_.elementType;e:{switch(jj(e,_),e=_.pendingProps,c=o._init,o=c(o._payload),_.type=o,c=_.tag=$k(o),e=Lg(o,e),c){case 0:_=dj(null,_,o,e,d);break e;case 1:_=ij(null,_,o,e,d);break e;case 11:_=Zi(null,_,o,e,d);break e;case 14:_=aj(null,_,o,Lg(o.type,e),d);break e}throw Error(p(306,o,""))}return _;case 0:return o=_.type,c=_.pendingProps,c=_.elementType===o?c:Lg(o,c),dj(e,_,o,c,d);case 1:return o=_.type,c=_.pendingProps,c=_.elementType===o?c:Lg(o,c),ij(e,_,o,c,d);case 3:e:{if(lj(_),e===null)throw Error(p(387));o=_.pendingProps,s=_.memoizedState,c=s.element,bh(e,_),gh(_,o,null,d);var h=_.memoizedState;if(o=h.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},_.updateQueue.baseState=s,_.memoizedState=s,_.flags&256){c=Ki(Error(p(423)),_),_=mj(e,_,o,d,c);break e}else if(o!==c){c=Ki(Error(p(424)),_),_=mj(e,_,o,d,c);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I=!0,zg=null,d=Ch(_,null,o,d),_.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ig(),o===c){_=$i(e,_,d);break e}Yi(e,_,o,d)}_=_.child}return _;case 5:return Kh(_),e===null&&Eg(_),o=_.type,c=_.pendingProps,s=e!==null?e.memoizedProps:null,h=c.children,Ef(o,c)?h=null:s!==null&&Ef(o,s)&&(_.flags|=32),hj(e,_),Yi(e,_,h,d),_.child;case 6:return e===null&&Eg(_),null;case 13:return pj(e,_,d);case 4:return Ih(_,_.stateNode.containerInfo),o=_.pendingProps,e===null?_.child=Bh(_,null,o,d):Yi(e,_,o,d),_.child;case 11:return o=_.type,c=_.pendingProps,c=_.elementType===o?c:Lg(o,c),Zi(e,_,o,c,d);case 7:return Yi(e,_,_.pendingProps,d),_.child;case 8:return Yi(e,_,_.pendingProps.children,d),_.child;case 12:return Yi(e,_,_.pendingProps.children,d),_.child;case 10:e:{if(o=_.type._context,c=_.pendingProps,s=_.memoizedProps,h=c.value,G(Mg,o._currentValue),o._currentValue=h,s!==null)if(He(s.value,h)){if(s.children===c.children&&!Wf.current){_=$i(e,_,d);break e}}else for(s=_.child,s!==null&&(s.return=_);s!==null;){var f=s.dependencies;if(f!==null){h=s.child;for(var g=f.firstContext;g!==null;){if(g.context===o){if(s.tag===1){g=ch(-1,d&-d),g.tag=2;var b=s.updateQueue;if(b!==null){b=b.shared;var k=b.pending;k===null?g.next=g:(g.next=k.next,k.next=g),b.pending=g}}s.lanes|=d,g=s.alternate,g!==null&&(g.lanes|=d),Sg(s.return,d,_),f.lanes|=d;break}g=g.next}}else if(s.tag===10)h=s.type===_.type?null:s.child;else if(s.tag===18){if(h=s.return,h===null)throw Error(p(341));h.lanes|=d,f=h.alternate,f!==null&&(f.lanes|=d),Sg(h,d,_),h=s.sibling}else h=s.child;if(h!==null)h.return=s;else for(h=s;h!==null;){if(h===_){h=null;break}if(s=h.sibling,s!==null){s.return=h.return,h=s;break}h=h.return}s=h}Yi(e,_,c.children,d),_=_.child}return _;case 9:return c=_.type,o=_.pendingProps.children,Tg(_,d),c=Vg(c),o=o(c),_.flags|=1,Yi(e,_,o,d),_.child;case 14:return o=_.type,c=Lg(o,_.pendingProps),c=Lg(o.type,c),aj(e,_,o,c,d);case 15:return cj(e,_,_.type,_.pendingProps,d);case 17:return o=_.type,c=_.pendingProps,c=_.elementType===o?c:Lg(o,c),jj(e,_),_.tag=1,Zf(o)?(e=!0,cg(_)):e=!1,Tg(_,d),ph(_,o,c),rh(_,o,c,d),kj(null,_,o,!0,e,d);case 19:return yj(e,_,d);case 22:return ej(e,_,d)}throw Error(p(156,_.tag))};function Gk(e,_){return ac(e,_)}function al(e,_,d,o){this.tag=e,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,_,d,o){return new al(e,_,d,o)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,_){var d=e.alternate;return d===null?(d=Bg(e.tag,_,e.key,e.mode),d.elementType=e.elementType,d.type=e.type,d.stateNode=e.stateNode,d.alternate=e,e.alternate=d):(d.pendingProps=_,d.type=e.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=e.flags&14680064,d.childLanes=e.childLanes,d.lanes=e.lanes,d.child=e.child,d.memoizedProps=e.memoizedProps,d.memoizedState=e.memoizedState,d.updateQueue=e.updateQueue,_=e.dependencies,d.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},d.sibling=e.sibling,d.index=e.index,d.ref=e.ref,d}function yh(e,_,d,o,c,s){var h=2;if(o=e,typeof e=="function")bj(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ya:return Ah(d.children,c,s,_);case za:h=8,c|=8;break;case Aa:return e=Bg(12,d,_,c|2),e.elementType=Aa,e.lanes=s,e;case Ea:return e=Bg(13,d,_,c),e.elementType=Ea,e.lanes=s,e;case Fa:return e=Bg(19,d,_,c),e.elementType=Fa,e.lanes=s,e;case Ia:return qj(d,c,s,_);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return _=Bg(h,d,_,c),_.elementType=e,_.type=o,_.lanes=s,_}function Ah(e,_,d,o){return e=Bg(7,e,o,_),e.lanes=d,e}function qj(e,_,d,o){return e=Bg(22,e,o,_),e.elementType=Ia,e.lanes=d,e.stateNode={isHidden:!1},e}function xh(e,_,d){return e=Bg(6,e,null,_),e.lanes=d,e}function zh(e,_,d){return _=Bg(4,e.children!==null?e.children:[],e.key,_),_.lanes=d,_.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},_}function bl(e,_,d,o,c){this.tag=_,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cl(e,_,d,o,c,s,h,f,g){return e=new bl(e,_,d,f,g),_===1?(_=1,s===!0&&(_|=8)):_=0,s=Bg(3,null,null,_),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(s),e}function dl(e,_,d){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:_,implementation:d}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var _=e;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p(171))}if(e.tag===1){var d=e.type;if(Zf(d))return bg(e,d,_)}return _}function fl(e,_,d,o,c,s,h,f,g){return e=cl(d,o,!0,e,c,s,h,f,g),e.context=el(null),d=e.current,o=L(),c=lh(d),s=ch(o,c),s.callback=_??null,dh(d,s,c),e.current.lanes=c,Ac(e,c,o),Ek(e,o),e}function gl(e,_,d,o){var c=_.current,s=L(),h=lh(c);return d=el(d),_.context===null?_.context=d:_.pendingContext=d,_=ch(s,h),_.payload={element:e},o=o===void 0?null:o,o!==null&&(_.callback=o),e=dh(c,_,h),e!==null&&(mh(e,c,h,s),eh(e,c,h)),h}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,_){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var d=e.retryLane;e.retryLane=d!==0&&d<_?d:_}}function jl(e,_){il(e,_),(e=e.alternate)&&il(e,_)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var _=this._internalRoot;if(_===null)throw Error(p(409));gl(e,_,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var _=e.containerInfo;Sk(function(){gl(null,e,null,null)}),_[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var _=Hc();e={blockedOn:null,target:e,priority:_};for(var d=0;d<Qc.length&&_!==0&&_<Qc[d].priority;d++);Qc.splice(d,0,e),d===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,_,d,o,c){if(c){if(typeof o=="function"){var s=o;o=function(){var b=hl(h);s.call(b)}}var h=fl(_,o,e,0,null,!1,!1,"",ql);return e._reactRootContainer=h,e[uf]=h.current,sf(e.nodeType===8?e.parentNode:e),Sk(),h}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var f=o;o=function(){var b=hl(g);f.call(b)}}var g=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(_,g,d,o)}),g}function sl(e,_,d,o,c){var s=d._reactRootContainer;if(s){var h=s;if(typeof c=="function"){var f=c;c=function(){var g=hl(h);f.call(g)}}gl(_,h,e,c)}else h=rl(d,_,e,c,o);return hl(h)}Ec=function(e){switch(e.tag){case 3:var _=e.stateNode;if(_.current.memoizedState.isDehydrated){var d=tc(_.pendingLanes);d!==0&&(Cc(_,d|1),Ek(_,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var o=Zg(e,1);if(o!==null){var c=L();mh(o,e,1,c)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var _=Zg(e,134217728);if(_!==null){var d=L();mh(_,e,134217728,d)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var _=lh(e),d=Zg(e,_);if(d!==null){var o=L();mh(d,e,_,o)}jl(e,_)}};Hc=function(){return C};Ic=function(e,_){var d=C;try{return C=e,_()}finally{C=d}};yb=function(e,_,d){switch(_){case"input":if(bb(e,d),_=d.name,d.type==="radio"&&_!=null){for(d=e;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<d.length;_++){var o=d[_];if(o!==e&&o.form===e.form){var c=Db(o);if(!c)throw Error(p(90));Wa(o),bb(o,c)}}}break;case"textarea":ib(e,d);break;case"select":_=d.value,_!=null&&fb(e,!!d.multiple,_,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,_){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_))throw Error(p(200));return dl(e,_,null,d)};reactDom_production_min.createRoot=function(e,_){if(!ol(e))throw Error(p(299));var d=!1,o="",c=ll;return _!=null&&(_.unstable_strictMode===!0&&(d=!0),_.identifierPrefix!==void 0&&(o=_.identifierPrefix),_.onRecoverableError!==void 0&&(c=_.onRecoverableError)),_=cl(e,1,!1,null,null,d,!1,o,c),e[uf]=_.current,sf(e.nodeType===8?e.parentNode:e),new ml(_)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var _=e._reactInternals;if(_===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(_),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,_,d){if(!pl(_))throw Error(p(200));return sl(null,e,_,!0,d)};reactDom_production_min.hydrateRoot=function(e,_,d){if(!ol(e))throw Error(p(405));var o=d!=null&&d.hydratedSources||null,c=!1,s="",h=ll;if(d!=null&&(d.unstable_strictMode===!0&&(c=!0),d.identifierPrefix!==void 0&&(s=d.identifierPrefix),d.onRecoverableError!==void 0&&(h=d.onRecoverableError)),_=fl(_,null,e,1,d??null,c,!1,s,h),e[uf]=_.current,sf(e),o)for(e=0;e<o.length;e++)d=o[e],c=d._getVersion,c=c(d._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[d,c]:_.mutableSourceEagerHydrationData.push(d,c);return new nl(_)};reactDom_production_min.render=function(e,_,d){if(!pl(_))throw Error(p(200));return sl(null,e,_,!1,d)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,_,d,o){if(!pl(d))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,_,d,!1,o)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var _=1;_<arguments.length;_++){var d=arguments[_];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o])}return e},_extends$1.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function _(o,c){let{pathname:s,search:h,hash:f}=o.location;return createLocation("",{pathname:s,search:h,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function d(o,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(_,d,null,e)}function invariant(e,_){if(e===!1||e===null||typeof e>"u")throw new Error(_)}function warning(e,_){if(!e){typeof console<"u"&&console.warn(_);try{throw new Error(_)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,_){return{usr:e.state,key:e.key,idx:_}}function createLocation(e,_,d,o){return d===void 0&&(d=null),_extends$1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof _=="string"?parsePath(_):_,{state:d,key:_&&_.key||o||createKey()})}function createPath(e){let{pathname:_="/",search:d="",hash:o=""}=e;return d&&d!=="?"&&(_+=d.charAt(0)==="?"?d:"?"+d),o&&o!=="#"&&(_+=o.charAt(0)==="#"?o:"#"+o),_}function parsePath(e){let _={};if(e){let d=e.indexOf("#");d>=0&&(_.hash=e.substr(d),e=e.substr(0,d));let o=e.indexOf("?");o>=0&&(_.search=e.substr(o),e=e.substr(0,o)),e&&(_.pathname=e)}return _}function getUrlBasedHistory(e,_,d,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:s=!1}=o,h=c.history,f=Action.Pop,g=null,b=k();b==null&&(b=0,h.replaceState(_extends$1({},h.state,{idx:b}),""));function k(){return(h.state||{idx:null}).idx}function $(){f=Action.Pop;let rt=k(),tt=rt==null?null:rt-b;b=rt,g&&g({action:f,location:nt.location,delta:tt})}function j(rt,tt){f=Action.Push;let it=createLocation(nt.location,rt,tt);d&&d(it,rt),b=k()+1;let st=getHistoryState(it,b),at=nt.createHref(it);try{h.pushState(st,"",at)}catch(_t){if(_t instanceof DOMException&&_t.name==="DataCloneError")throw _t;c.location.assign(at)}s&&g&&g({action:f,location:nt.location,delta:1})}function _e(rt,tt){f=Action.Replace;let it=createLocation(nt.location,rt,tt);d&&d(it,rt),b=k();let st=getHistoryState(it,b),at=nt.createHref(it);h.replaceState(st,"",at),s&&g&&g({action:f,location:nt.location,delta:0})}function et(rt){let tt=c.location.origin!=="null"?c.location.origin:c.location.href,it=typeof rt=="string"?rt:createPath(rt);return invariant(tt,"No window.location.(origin|href) available to create URL for href: "+it),new URL(it,tt)}let nt={get action(){return f},get location(){return e(c,h)},listen(rt){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,$),g=rt,()=>{c.removeEventListener(PopStateEventType,$),g=null}},createHref(rt){return _(c,rt)},createURL:et,encodeLocation(rt){let tt=et(rt);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:j,replace:_e,go(rt){return h.go(rt)}};return nt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,_,d){d===void 0&&(d="/");let o=typeof _=="string"?parsePath(_):_,c=stripBasename(o.pathname||"/",d);if(c==null)return null;let s=flattenRoutes(e);rankRouteBranches(s);let h=null;for(let f=0;h==null&&f<s.length;++f)h=matchRouteBranch(s[f],safelyDecodeURI(c));return h}function flattenRoutes(e,_,d,o){_===void 0&&(_=[]),d===void 0&&(d=[]),o===void 0&&(o="");let c=(s,h,f)=>{let g={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:h,route:s};g.relativePath.startsWith("/")&&(invariant(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let b=joinPaths([o,g.relativePath]),k=d.concat(g);s.children&&s.children.length>0&&(invariant(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),flattenRoutes(s.children,_,k,b)),!(s.path==null&&!s.index)&&_.push({path:b,score:computeScore(b,s.index),routesMeta:k})};return e.forEach((s,h)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))c(s,h);else for(let g of explodeOptionalSegments(s.path))c(s,h,g)}),_}function explodeOptionalSegments(e){let _=e.split("/");if(_.length===0)return[];let[d,...o]=_,c=d.endsWith("?"),s=d.replace(/\?$/,"");if(o.length===0)return c?[s,""]:[s];let h=explodeOptionalSegments(o.join("/")),f=[];return f.push(...h.map(g=>g===""?s:[s,g].join("/"))),c&&f.push(...h),f.map(g=>e.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(e){e.sort((_,d)=>_.score!==d.score?d.score-_.score:compareIndexes(_.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,_){let d=e.split("/"),o=d.length;return d.some(isSplat)&&(o+=splatPenalty),_&&(o+=indexRouteValue),d.filter(c=>!isSplat(c)).reduce((c,s)=>c+(paramRe.test(s)?dynamicSegmentValue:s===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(e,_){return e.length===_.length&&e.slice(0,-1).every((o,c)=>o===_[c])?e[e.length-1]-_[_.length-1]:0}function matchRouteBranch(e,_){let{routesMeta:d}=e,o={},c="/",s=[];for(let h=0;h<d.length;++h){let f=d[h],g=h===d.length-1,b=c==="/"?_:_.slice(c.length)||"/",k=matchPath({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},b);if(!k)return null;Object.assign(o,k.params);let $=f.route;s.push({params:o,pathname:joinPaths([c,k.pathname]),pathnameBase:normalizePathname(joinPaths([c,k.pathnameBase])),route:$}),k.pathnameBase!=="/"&&(c=joinPaths([c,k.pathnameBase]))}return s}function matchPath(e,_){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[d,o]=compilePath(e.path,e.caseSensitive,e.end),c=_.match(d);if(!c)return null;let s=c[0],h=s.replace(/(.)\/+$/,"$1"),f=c.slice(1);return{params:o.reduce((b,k,$)=>{let{paramName:j,isOptional:_e}=k;if(j==="*"){let nt=f[$]||"";h=s.slice(0,s.length-nt.length).replace(/(.)\/+$/,"$1")}const et=f[$];return _e&&!et?b[j]=void 0:b[j]=safelyDecodeURIComponent(et||"",j),b},{}),pathname:s,pathnameBase:h,pattern:e}}function compilePath(e,_,d){_===void 0&&(_=!1),d===void 0&&(d=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(h,f,g)=>(o.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,_?void 0:"i"),o]}function safelyDecodeURI(e){try{return decodeURI(e)}catch(_){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_+").")),e}}function safelyDecodeURIComponent(e,_){try{return decodeURIComponent(e)}catch(d){return warning(!1,'The value for the URL param "'+_+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+d+").")),e}}function stripBasename(e,_){if(_==="/")return e;if(!e.toLowerCase().startsWith(_.toLowerCase()))return null;let d=_.endsWith("/")?_.length-1:_.length,o=e.charAt(d);return o&&o!=="/"?null:e.slice(d)||"/"}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var _=1;_<arguments.length;_++){var d=arguments[_];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o])}return e},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}const OutletContext=reactExports.createContext(null);function useOutlet(e){let _=reactExports.useContext(RouteContext).outlet;return _&&reactExports.createElement(OutletContext.Provider,{value:e},_)}function useRoutes(e,_){return useRoutesImpl(e,_)}function useRoutesImpl(e,_,d){useInRouterContext()||invariant(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),s=c[c.length-1],h=s?s.params:{};s&&s.pathname;let f=s?s.pathnameBase:"/";s&&s.route;let g=useLocation(),b;if(_){var k;let nt=typeof _=="string"?parsePath(_):_;f==="/"||(k=nt.pathname)!=null&&k.startsWith(f)||invariant(!1),b=nt}else b=g;let $=b.pathname||"/",j=f==="/"?$:$.slice(f.length)||"/",_e=matchRoutes(e,{pathname:j}),et=_renderMatches(_e&&_e.map(nt=>Object.assign({},nt,{params:Object.assign({},h,nt.params),pathname:joinPaths([f,o.encodeLocation?o.encodeLocation(nt.pathname).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?f:joinPaths([f,o.encodeLocation?o.encodeLocation(nt.pathnameBase).pathname:nt.pathnameBase])})),c,d);return _&&et?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Action.Pop}},et):et}function DefaultErrorComponent(){let e=useRouteError(),_=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),d=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_),d?reactExports.createElement("pre",{style:c},d):null,s)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_){super(_),this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,d){return d.location!==_.location||d.revalidation!=="idle"&&_.revalidation==="idle"?{error:_.error,location:_.location,revalidation:_.revalidation}:{error:_.error||d.error,location:d.location,revalidation:_.revalidation||d.revalidation}}componentDidCatch(_,d){console.error("React Router caught the following error during render",_,d)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:_,match:d,children:o}=e,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=d.route.id),reactExports.createElement(RouteContext.Provider,{value:_},o)}function _renderMatches(e,_,d){var o;if(_===void 0&&(_=[]),d===void 0&&(d=null),e==null){var c;if((c=d)!=null&&c.errors)e=d.matches;else return null}let s=e,h=(o=d)==null?void 0:o.errors;if(h!=null){let f=s.findIndex(g=>g.route.id&&(h==null?void 0:h[g.route.id]));f>=0||invariant(!1),s=s.slice(0,Math.min(s.length,f+1))}return s.reduceRight((f,g,b)=>{let k=g.route.id?h==null?void 0:h[g.route.id]:null,$=null;d&&($=g.route.errorElement||defaultErrorElement);let j=_.concat(s.slice(0,b+1)),_e=()=>{let et;return k?et=$:g.route.Component?et=reactExports.createElement(g.route.Component,null):g.route.element?et=g.route.element:et=f,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:f,matches:j,isDataRoute:d!=null},children:et})};return d&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?reactExports.createElement(RenderErrorBoundary,{location:d.location,revalidation:d.revalidation,component:$,error:k,children:_e(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):_e()},null)}var DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterState(e){let _=reactExports.useContext(DataRouterStateContext);return _||invariant(!1),_}function useRouteContext(e){let _=reactExports.useContext(RouteContext);return _||invariant(!1),_}function useCurrentRouteId(e){let _=useRouteContext(),d=_.matches[_.matches.length-1];return d.route.id||invariant(!1),d.route.id}function useRouteError(){var e;let _=reactExports.useContext(RouteErrorContext),d=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _||((e=d.errors)==null?void 0:e[o])}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant(!1)}function Router(e){let{basename:_="/",children:d=null,location:o,navigationType:c=Action.Pop,navigator:s,static:h=!1}=e;useInRouterContext()&&invariant(!1);let f=_.replace(/^\/*/,"/"),g=reactExports.useMemo(()=>({basename:f,navigator:s,static:h}),[f,s,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:b="/",search:k="",hash:$="",state:j=null,key:_e="default"}=o,et=reactExports.useMemo(()=>{let nt=stripBasename(b,f);return nt==null?null:{location:{pathname:nt,search:k,hash:$,state:j,key:_e},navigationType:c}},[f,b,k,$,j,_e,c]);return et==null?null:reactExports.createElement(NavigationContext.Provider,{value:g},reactExports.createElement(LocationContext.Provider,{children:d,value:et}))}function Routes(e){let{children:_,location:d}=e;return useRoutes(createRoutesFromChildren(_),d)}new Promise(()=>{});function createRoutesFromChildren(e,_){_===void 0&&(_=[]);let d=[];return reactExports.Children.forEach(e,(o,c)=>{if(!reactExports.isValidElement(o))return;let s=[..._,c];if(o.type===reactExports.Fragment){d.push.apply(d,createRoutesFromChildren(o.props.children,s));return}o.type!==Route&&invariant(!1),!o.props.index||!o.props.children||invariant(!1);let h={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,s)),d.push(h)}),d}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(e){let{basename:_,children:d,future:o,window:c}=e,s=reactExports.useRef();s.current==null&&(s.current=createBrowserHistory({window:c,v5Compat:!0}));let h=s.current,[f,g]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:b}=o||{},k=reactExports.useCallback($=>{b&&startTransitionImpl?startTransitionImpl(()=>g($)):g($)},[g,b]);return reactExports.useLayoutEffect(()=>h.listen(k),[h,k]),reactExports.createElement(Router,{basename:_,children:d,location:f.location,navigationType:f.action,navigator:h})}var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var Clipboard$2={},hxClasses_stub={};Object.defineProperty(hxClasses_stub,"__esModule",{value:!0});hxClasses_stub.default={Enum:{}};var hxEnums_stub={};Object.defineProperty(hxEnums_stub,"__esModule",{value:!0});hxEnums_stub.default={};var Clipboard$1={},_Event_Void_Void={},_Reflect={},CallStack={},HxOverrides={},HaxeError={},extend_stub={};Object.defineProperty(extend_stub,"__esModule",{value:!0});extend_stub.default=function(_,d){function o(){}o.prototype=_;var c=new o;for(var s in d)c[s]=d[s];return d.toString!==Object.prototype.toString&&(c.toString=d.toString),c};var hasRequiredHaxeError;function requireHaxeError(){return hasRequiredHaxeError||(hasRequiredHaxeError=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default,c=function(s){Error.call(this),this.val=s,Error.captureStackTrace&&Error.captureStackTrace(this,c)};c.__name__="js._Boot.HaxeError",c.__isInterface__=!1,c.__super__=Error,c.prototype=o(Error.prototype,{}),c.prototype.__class__=c.prototype.constructor=d["js._Boot.HaxeError"]=c,Object.defineProperty(c.prototype,"message",{get:function(){return String(this.val)}}),c.wrap=function(s){return s instanceof Error?s:new c(s)},e.default=c}(HaxeError)),HaxeError}var Lib$9={},hasRequiredLib$2;function requireLib$2(){return hasRequiredLib$2||(hasRequiredLib$2=1,function(exports){var $global=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;$global.Object.defineProperty(exports,"__esModule",{value:!0});var $hxClasses=hxClasses_stub.default;hxEnums_stub.default;var Lib=function(){};Lib.__name__="js.Lib",Lib.__isInterface__=!1,Lib.prototype={},Lib.prototype.__class__=Lib.prototype.constructor=$hxClasses["js.Lib"]=Lib,Lib.eval=function(code){return eval(code)},Lib.get_undefined=function(){},Lib.getNextHaxeUID=function(){return $global.$haxeUID++},exports.default=Lib}(Lib$9)),Lib$9}var hasRequiredHxOverrides;function requireHxOverrides(){return hasRequiredHxOverrides||(hasRequiredHxOverrides=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireLib$2()}var s=function(){};s.__name__="HxOverrides",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d.HxOverrides=s,s.strDate=function(h){switch(h.length){case 8:var f=h.split(":"),g=new Date;return g.setTime(0),g.setUTCHours(f[0]),g.setUTCMinutes(f[1]),g.setUTCSeconds(f[2]),g;case 10:var b=h.split("-");return new Date(b[0],b[1]-1,b[2],0,0,0);case 19:var k=h.split(" "),$=k[0].split("-"),j=k[1].split(":");return new Date($[0],$[1]-1,$[2],j[0],j[1],j[2]);default:throw new(o()).default("Invalid date format : "+h)}},s.cca=function(h,f){var g=h.charCodeAt(f);return g!=g?c().default.get_undefined():g},s.substr=function(h,f,g){if(g==null)g=h.length;else if(g<0)if(f==0)g=h.length+g;else return"";return h.substr(f,g)},s.remove=function(h,f){var g=h.indexOf(f);return g==-1?!1:(h.splice(g,1),!0)},s.iter=function(h){return{cur:0,arr:h,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},e.default=s}(HxOverrides)),HxOverrides}var StackItem={},estr_stub={},Boot={},Std={},StringTools={},StringBuf={},hasRequiredStringBuf;function requireStringBuf(){return hasRequiredStringBuf||(hasRequiredStringBuf=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireHxOverrides()}var s=function(){this.b=""};s.__name__="StringBuf",s.__isInterface__=!1,s.prototype={get_length:function(){return this.b.length},add:function(h){this.b+=o().default.string(h)},addChar:function(h){this.b+=String.fromCodePoint(h)},addSub:function(h,f,g){this.b+=g==null?c().default.substr(h,f,null):c().default.substr(h,f,g)},toString:function(){return this.b}},s.prototype.__class__=s.prototype.constructor=d.StringBuf=s,e.default=s}(StringBuf)),StringBuf}var StringIteratorUnicode={},hasRequiredStringIteratorUnicode;function requireStringIteratorUnicode(){return hasRequiredStringIteratorUnicode||(hasRequiredStringIteratorUnicode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringTools()}var c=function(s){this.offset=0,this.s=s};c.__name__="haxe.iterators.StringIteratorUnicode",c.__isInterface__=!1,c.prototype={hasNext:function(){return this.offset<this.s.length},next:function(){var s=o().default.utf16CodePointAt(this.s,this.offset++);return s>=65536&&this.offset++,s}},c.prototype.__class__=c.prototype.constructor=d["haxe.iterators.StringIteratorUnicode"]=c,e.default=c}(StringIteratorUnicode)),StringIteratorUnicode}var hasRequiredStringTools;function requireStringTools(){return hasRequiredStringTools||(hasRequiredStringTools=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringBuf()}function c(){return requireStringIteratorUnicode()}function s(){return requireHxOverrides()}var h=function(){};h.__name__="StringTools",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d.StringTools=h,h.urlEncode=function(f){return encodeURIComponent(f)},h.urlDecode=function(f){return decodeURIComponent(f.split("+").join(" "))},h.htmlEscape=function(f,g){for(var b=new(o()).default,k=new(c()).default(f);k.hasNext();){var $=k.next();switch($){case 34:g?b.add("&quot;"):b.addChar($);break;case 38:b.add("&amp;");break;case 39:g?b.add("&#039;"):b.addChar($);break;case 60:b.add("&lt;");break;case 62:b.add("&gt;");break;default:b.addChar($)}}return b.toString()},h.htmlUnescape=function(f){return f.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")},h.startsWith=function(f,g){return f.length>=g.length?f.lastIndexOf(g,0)==0:!1},h.endsWith=function(f,g){var b=g.length,k=f.length;return k>=b?f.indexOf(g,k-b)==k-b:!1},h.isSpace=function(f,g){var b=s().default.cca(f,g);return b>8&&b<14?!0:b==32},h.ltrim=function(f){for(var g=f.length,b=0;b<g&&h.isSpace(f,b);)++b;return b>0?s().default.substr(f,b,g-b):f},h.rtrim=function(f){for(var g=f.length,b=0;b<g&&h.isSpace(f,g-b-1);)++b;return b>0?s().default.substr(f,0,g-b):f},h.trim=function(f){return h.ltrim(h.rtrim(f))},h.lpad=function(f,g,b){if(g.length<=0)return f;var k=new(o()).default;for(b-=f.length;k.get_length()<b;)k.add(g);return k.add(f),k.toString()},h.replace=function(f,g,b){return f.split(g).join(b)},h.hex=function(f,g){for(var b="",k="0123456789ABCDEF";b=k.charAt(f&15)+b,f>>>=4,f>0;);if(g!=null)for(;b.length<g;)b="0"+b;return b},h.fastCodeAt=function(f,g){return f.charCodeAt(g)},h.isEof=function(f){return f!=f},h.utf16CodePointAt=function(f,g){var b=h.fastCodeAt(f,g);return b>=55296&&b<=56319&&(b=b-55232<<10|h.fastCodeAt(f,g+1)&1023),b},e.default=h}(StringTools)),StringTools}var hasRequiredStd;function requireStd(){return hasRequiredStd||(hasRequiredStd=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBoot()}function c(){return requireStringTools()}var s=function(){};s.__name__="Std",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d.Std=s,String.prototype.__class__=d.String=String,String.__name__="String",d.Array=Array,Array.__name__="Array",Date.prototype.__class__=d.Date=Date,Date.__name__="Date",d.Int={},d.Dynamic={},d.Float=Number,d.Bool=Boolean,d.Class={},d.Enum={},s.is=function(h,f){return o().default.__instanceof(h,f)},s.string=function(h){return o().default.__string_rec(h,"")},s.int=function(h){return h|0},s.parseInt=function(h){if(h!=null)for(var f=0,g=h.length;f<g;){var b=f++,k=c().default.fastCodeAt(h,b);if(k<=8||k>=14&&k!=32&&k!=45){var $=parseInt(h,h[b+1]=="x"||h[b+1]=="X"?16:10);return isNaN($)?null:$}}return null},s.parseFloat=function(h){return parseFloat(h)},e.default=s}(Std)),Std}var hasRequiredBoot;function requireBoot(){return hasRequiredBoot||(hasRequiredBoot=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default,o=hxEnums_stub.default;function c(){return requireCallStack()}function s(){return requireHaxeError()}function h(){return requireStd()}var f=function(){};f.__name__="js.Boot",f.__isInterface__=!1,f.prototype={},f.prototype.__class__=f.prototype.constructor=d["js.Boot"]=f,f.__toStr={}.toString,f.isClass=function(g){return g.__name__},f.isInterface=function(g){return g.__isInterface__},f.isEnum=function(g){return g.__ename__},f.getClass=function(g){if(g==null)return null;if(g instanceof Array)return Array;var b=g.__class__;if(b!=null)return b;var k=f.__nativeClassName(g);return k!=null?f.__resolveNativeClass(k):null},f.__string_rec=function(g,b){if(g==null)return"null";if(b.length>=5)return"<...>";var k=typeof g;switch(k=="function"&&(f.isClass(g)||f.isEnum(g))&&(k="object"),k){case"function":return"<function>";case"object":if(g.__enum__){var $=o[g.__enum__],j=$.__constructs__[g._hx_index],_e=$[j];return _e.__params__?(b=b+"	",j+"("+function(ot){for(var lt,ft=[],ht=0,dt=_e.__params__;ht<dt.length;){var pt=dt[ht];ht=ht+1,ft.push(f.__string_rec(g[pt],b))}return lt=ft,lt}().join(",")+")"):j}if(g instanceof Array){var et="[";b+="	";for(var nt=0,rt=g.length;nt<rt;){var tt=nt++;et+=(tt>0?",":"")+f.__string_rec(g[tt],b)}return et+="]",et}var it;try{it=g.toString}catch(ot){return c().default.lastException=ot,ot instanceof s().default&&ot.val,"???"}if(it!=null&&it!=Object.toString&&typeof it=="function"){var st=g.toString();if(st!="[object Object]")return st}var at=`{
`;b+="	";var _t=g.hasOwnProperty!=null,ut=null;for(ut in g)_t&&!g.hasOwnProperty(ut)||ut=="prototype"||ut=="__class__"||ut=="__super__"||ut=="__interfaces__"||ut=="__properties__"||(at.length!=2&&(at+=`, 
`),at+=b+ut+" : "+f.__string_rec(g[ut],b));return b=b.substring(1),at+=`
`+b+"}",at;case"string":return g;default:return String(g)}},f.__interfLoop=function(g,b){if(g==null)return!1;if(g==b)return!0;if(Object.prototype.hasOwnProperty.call(g,"__interfaces__"))for(var k=g.__interfaces__,$=0,j=k.length;$<j;){var _e=$++,et=k[_e];if(et==b||f.__interfLoop(et,b))return!0}return f.__interfLoop(g.__super__,b)},f.__instanceof=function(g,b){if(b==null)return!1;switch(b){case Array:return g instanceof Array;case d.Bool:return typeof g=="boolean";case d.Dynamic:return g!=null;case d.Float:return typeof g=="number";case d.Int:return typeof g=="number"?(g|0)===g:!1;case String:return typeof g=="string";default:if(g!=null){if(typeof b=="function"){if(f.__downcastCheck(g,b))return!0}else if(typeof b=="object"&&f.__isNativeObj(b)&&g instanceof b)return!0}else return!1;return b==d.Class&&g.__name__!=null||b==d.Enum&&g.__ename__!=null?!0:g.__enum__!=null?o[g.__enum__]==b:!1}},f.__downcastCheck=function(g,b){return g instanceof b?!0:f.isInterface(b)?f.__interfLoop(f.getClass(g),b):!1},f.__implements=function(g,b){return f.__interfLoop(f.getClass(g),b)},f.__cast=function(g,b){if(g==null||f.__instanceof(g,b))return g;throw new(s()).default("Cannot cast "+h().default.string(g)+" to "+h().default.string(b))},f.__nativeClassName=function(g){var b=f.__toStr.call(g).slice(8,-1);return b=="Object"||b=="Function"||b=="Math"||b=="JSON"?null:b},f.__isNativeObj=function(g){return f.__nativeClassName(g)!=null},f.__resolveNativeClass=function(g){return _[g]},e.default=f}(Boot)),Boot}Object.defineProperty(estr_stub,"__esModule",{value:!0});var js_Boot=requireBoot();estr_stub.default=function e(){return js_Boot.__string_rec(this,"")};var hasRequiredStackItem;function requireStackItem(){return hasRequiredStackItem||(hasRequiredStackItem=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"],Module:($_=function(s){return{_hx_index:1,m:s,__enum__:"haxe.StackItem",toString:d}},$_.__params__=["m"],$_),Method:($_=function(s,h){return{_hx_index:3,classname:s,method:h,__enum__:"haxe.StackItem",toString:d}},$_.__params__=["classname","method"],$_),LocalFunction:($_=function(s){return{_hx_index:4,v:s,__enum__:"haxe.StackItem",toString:d}},$_.__params__=["v"],$_),FilePos:($_=function(s,h,f,g){return{_hx_index:2,s,file:h,line:f,column:g,__enum__:"haxe.StackItem",toString:d}},$_.__params__=["s","file","line","column"],$_),CFunction:{_hx_index:0,__enum__:"haxe.StackItem",toString:d}};e.default=c}(StackItem)),StackItem}var EReg={},hasRequiredEReg;function requireEReg(){return hasRequiredEReg||(hasRequiredEReg=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireHxOverrides()}function s(){return requireStringBuf()}var h=function(f,g){this.r=new RegExp(f,g.split("u").join(""))};h.__name__="EReg",h.__isInterface__=!1,h.prototype={match:function(f){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(f),this.r.s=f,this.r.m!=null},matched:function(f){if(this.r.m!=null&&f>=0&&f<this.r.m.length)return this.r.m[f];throw new(o()).default("EReg::matched")},matchedRight:function(){if(this.r.m==null)throw new(o()).default("No string matched");var f=this.r.m.index+this.r.m[0].length;return c().default.substr(this.r.s,f,this.r.s.length-f)},matchedPos:function(){if(this.r.m==null)throw new(o()).default("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(f,g,b){if(b==null&&(b=-1),this.r.global){this.r.lastIndex=g,this.r.m=this.r.exec(b<0?f:c().default.substr(f,0,g+b));var k=this.r.m!=null;return k&&(this.r.s=f),k}else{var $=this.match(b<0?c().default.substr(f,g,null):c().default.substr(f,g,b));return $&&(this.r.s=f,this.r.m.index+=g),$}},split:function(f){var g="#__delim__#";return this.replace(f,g).split(g)},replace:function(f,g){return f.replace(this.r,g)},map:function(f,g){for(var b=0,k=new(s()).default;!(b>=f.length);){if(!this.matchSub(f,b)){k.add(c().default.substr(f,b,null));break}var $=this.matchedPos();if(k.add(c().default.substr(f,b,$.pos-b)),k.add(g(this)),$.len==0?(k.add(c().default.substr(f,$.pos,1)),b=$.pos+1):b=$.pos+$.len,!this.r.global)break}return!this.r.global&&b>0&&b<f.length&&k.add(c().default.substr(f,b,null)),k.toString()}},h.prototype.__class__=h.prototype.constructor=d.EReg=h,e.default=h}(EReg)),EReg}var hasRequiredCallStack;function requireCallStack(){return hasRequiredCallStack||(hasRequiredCallStack=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHxOverrides()}function c(){return requireStackItem()}function s(){return requireHaxeError()}function h(){return requireStringBuf()}function f(){return requireEReg()}function g(){return requireStd()}function b(){return requireStringTools()}var k=function(){};k.__name__="haxe.CallStack",k.__isInterface__=!1,k.prototype={},k.prototype.__class__=k.prototype.constructor=d["haxe.CallStack"]=k,k.getStack=function($){if($==null)return[];var j=Error.prepareStackTrace;Error.prepareStackTrace=function(et,nt){for(var rt=[],tt=0;tt<nt.length;){var it=nt[tt];++tt,k.wrapCallSite!=null&&(it=k.wrapCallSite(it));var st=null,at=it.getFunctionName();if(at!=null){var _t=at.lastIndexOf(".");if(_t>=0){var ut=o().default.substr(at,0,_t),ot=o().default.substr(at,_t+1,null);st=c().default.Method(ut,ot)}}var lt=it.getFileName(),ft=lt==null?-1:lt.indexOf("file:");k.wrapCallSite!=null&&ft>0&&(lt=o().default.substr(lt,ft+6,null)),rt.push(c().default.FilePos(st,lt,it.getLineNumber(),it.getColumnNumber()))}return rt};var _e=k.makeStack($.stack);return Error.prepareStackTrace=j,_e},k.callStack=function(){try{throw new Error}catch(j){k.lastException=j,j instanceof s().default&&j.val;var $=k.getStack(j);return $.shift(),$}},k.exceptionStack=function(){return k.getStack(k.lastException)},k.toString=function($){for(var j=new(h()).default,_e=0;_e<$.length;){var et=$[_e];++_e,j.add(`
Called from `),k.itemToString(j,et)}return j.toString()},k.itemToString=function($,j){switch(j._hx_index){case 0:$.add("a C function");break;case 1:var _e=j.m;$.add("module "),$.add(_e);break;case 2:var et=j.column,nt=j.line,rt=j.file,tt=j.s;tt!=null&&(k.itemToString($,tt),$.add(" (")),$.add(rt),$.add(" line "),$.add(nt),et!=null&&($.add(" column "),$.add(et)),tt!=null&&$.add(")");break;case 3:var it=j.method,st=j.classname;$.add(st??"<unknown>"),$.add("."),$.add(it);break;case 4:var at=j.v;$.add("local function #"),$.add(at);break}},k.makeStack=function($){if($==null)return[];if(typeof $=="string"){var j=$.split(`
`);j[0]=="Error"&&j.shift();for(var _e=[],et=new(f()).default("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$",""),nt=0;nt<j.length;){var rt=j[nt];if(++nt,et.match(rt)){var tt=et.matched(1).split("."),it=tt.pop(),st=et.matched(2),at=g().default.parseInt(et.matched(3)),_t=g().default.parseInt(et.matched(4));_e.push(c().default.FilePos(it=="Anonymous function"?c().default.LocalFunction():it=="Global code"?null:c().default.Method(tt.join("."),it),st,at,_t))}else _e.push(c().default.Module(b().default.trim(rt)))}return _e}else return $},e.default=k}(CallStack)),CallStack}var hasRequired_Reflect;function require_Reflect(){return hasRequired_Reflect||(hasRequired_Reflect=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCallStack()}function c(){return requireHaxeError()}function s(){return requireBoot()}var h=function(){};h.__name__="Reflect",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d.Reflect=h,h.hasField=function(f,g){return Object.prototype.hasOwnProperty.call(f,g)},h.field=function(f,g){try{return f[g]}catch(b){return o().default.lastException=b,b instanceof c().default&&b.val,null}},h.setField=function(f,g,b){f[g]=b},h.getProperty=function(f,g){var b;if(f==null)return null;var k;return f.__properties__?(b=f.__properties__["get_"+g],k=b):k=!1,k?f[b]():f[g]},h.setProperty=function(f,g,b){var k,$;f.__properties__?(k=f.__properties__["set_"+g],$=k):$=!1,$?f[k](b):f[g]=b},h.callMethod=function(f,g,b){return g.apply(f,b)},h.fields=function(f){var g=[];if(f!=null){var b=Object.prototype.hasOwnProperty;for(var k in f)k!="__id__"&&k!="hx__closures__"&&b.call(f,k)&&g.push(k)}return g},h.isFunction=function(f){return typeof f=="function"?!(s().default.isClass(f)||s().default.isEnum(f)):!1},h.compare=function(f,g){return f==g?0:f>g?1:-1},h.compareMethods=function(f,g){return f==g?!0:!h.isFunction(f)||!h.isFunction(g)?!1:f.scope==g.scope&&f.method==g.method?f.method!=null:!1},h.isEnumValue=function(f){return f!=null?f.__enum__!=null:!1},h.deleteField=function(f,g){return h.hasField(f,g)?(delete f[g],!0):!1},h.makeVarArgs=function(f){return function(){var g=Array.prototype.slice.call(arguments);return f(g)}},e.default=h}(_Reflect)),_Reflect}var hasRequired_Event_Void_Void;function require_Event_Void_Void(){return hasRequired_Event_Void_Void||(hasRequired_Event_Void_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Void_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(){this.canceled=!1;for(var s=this.__listeners,h=this.__repeat,f=0;f<s.length&&(s[f](),h[f]?++f:this.remove(s[f]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Void_Void"]=c,e.default=c}(_Event_Void_Void)),_Event_Void_Void}var Application$1={},bind_stub={};Object.defineProperty(bind_stub,"__esModule",{value:!0});var $fid=0;bind_stub.default=function e(_,d){var o,c;return d==null?null:(c=d._i=d._i||$fid++,_._c==null?_._c={}:o=_._c[c],o==null&&(o=function(){return o._m.apply(o._s,arguments)},o._s=_,o._m=d,_._c[c]=o),o)};var Module={},IModule={},hasRequiredIModule;function requireIModule(){return hasRequiredIModule||(hasRequiredIModule=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.app.IModule",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.app.IModule"]=o,e.default=o}(IModule)),IModule}var _Event_Int_Void={},hasRequired_Event_Int_Void;function require_Event_Int_Void(){return hasRequired_Event_Int_Void||(hasRequired_Event_Int_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Int_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Int_Void"]=c,e.default=c}(_Event_Int_Void)),_Event_Int_Void}var hasRequiredModule;function requireModule(){return hasRequiredModule||(hasRequiredModule=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIModule()}function c(){return require_Event_Int_Void()}var s=function(){this.onExit=new(c()).default};s.__name__="lime.app.Module",s.__isInterface__=!1,s.__interfaces__=[o().default],s.prototype={__registerLimeModule:function(h){},__unregisterLimeModule:function(h){}},s.prototype.__class__=s.prototype.constructor=d["lime.app.Module"]=s,e.default=s}(Module)),Module}var Window$2={},_Event_String_Void={},hasRequired_Event_String_Void;function require_Event_String_Void(){return hasRequired_Event_String_Void||(hasRequired_Event_String_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_String_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_String_Void"]=c,e.default=c}(_Event_String_Void)),_Event_String_Void}var _Event_String_Int_Int_Void={},hasRequired_Event_String_Int_Int_Void;function require_Event_String_Int_Int_Void(){return hasRequired_Event_String_Int_Int_Void||(hasRequired_Event_String_Int_Int_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_String_Int_Int_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_String_Int_Int_Void"]=c,e.default=c}(_Event_String_Int_Int_Void)),_Event_String_Int_Int_Void}var _Event_Int_Int_Void={},hasRequired_Event_Int_Int_Void;function require_Event_Int_Int_Void(){return hasRequired_Event_Int_Int_Void||(hasRequired_Event_Int_Int_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Int_Int_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Int_Int_Void"]=c,e.default=c}(_Event_Int_Int_Void)),_Event_Int_Int_Void}var _Event_lime_graphics_RenderContext_Void={},hasRequired_Event_lime_graphics_RenderContext_Void;function require_Event_lime_graphics_RenderContext_Void(){return hasRequired_Event_lime_graphics_RenderContext_Void||(hasRequired_Event_lime_graphics_RenderContext_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_graphics_RenderContext_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_graphics_RenderContext_Void"]=c,e.default=c}(_Event_lime_graphics_RenderContext_Void)),_Event_lime_graphics_RenderContext_Void}var _Event_Float_Float_Void={},hasRequired_Event_Float_Float_Void;function require_Event_Float_Float_Void(){return hasRequired_Event_Float_Float_Void||(hasRequired_Event_Float_Float_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Float_Float_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Float_Float_Void"]=c,e.default=c}(_Event_Float_Float_Void)),_Event_Float_Float_Void}var _Event_Float_Float_lime_ui_MouseWheelMode_Void={},hasRequired_Event_Float_Float_lime_ui_MouseWheelMode_Void;function require_Event_Float_Float_lime_ui_MouseWheelMode_Void(){return hasRequired_Event_Float_Float_lime_ui_MouseWheelMode_Void||(hasRequired_Event_Float_Float_lime_ui_MouseWheelMode_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=c,e.default=c}(_Event_Float_Float_lime_ui_MouseWheelMode_Void)),_Event_Float_Float_lime_ui_MouseWheelMode_Void}var _Event_Float_Float_Int_Void={},hasRequired_Event_Float_Float_Int_Void;function require_Event_Float_Float_Int_Void(){return hasRequired_Event_Float_Float_Int_Void||(hasRequired_Event_Float_Float_Int_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Float_Float_Int_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Float_Float_Int_Void"]=c,e.default=c}(_Event_Float_Float_Int_Void)),_Event_Float_Float_Int_Void}var _Event_Float_Float_lime_ui_MouseButton_Void={},hasRequired_Event_Float_Float_lime_ui_MouseButton_Void;function require_Event_Float_Float_lime_ui_MouseButton_Void(){return hasRequired_Event_Float_Float_lime_ui_MouseButton_Void||(hasRequired_Event_Float_Float_lime_ui_MouseButton_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=c,e.default=c}(_Event_Float_Float_lime_ui_MouseButton_Void)),_Event_Float_Float_lime_ui_MouseButton_Void}var _Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void={},hasRequired_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void;function require_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void(){return hasRequired_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void||(hasRequired_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=c,e.default=c}(_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void)),_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void}var HTML5Window={},Browser={},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCallStack()}function c(){return requireHaxeError()}function s(){return requireStd()}var h=function(){};h.__name__="js.Browser",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["js.Browser"]=h,h.getLocalStorage=function(){try{var f=window.localStorage;if(f.getItem(""),f.length==0){var g="_hx_"+Math.random();f.setItem(g,g),f.removeItem(g)}return f}catch(b){return o().default.lastException=b,b instanceof c().default&&b.val,null}},h.alert=function(f){window.alert(s().default.string(f))},e.default=h}(Browser)),Browser}var RenderContext={},hasRequiredRenderContext;function requireRenderContext(){return hasRequiredRenderContext||(hasRequiredRenderContext=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.graphics.RenderContext",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.graphics.RenderContext"]=o,e.default=o}(RenderContext)),RenderContext}var WebGLRenderContext_Impl_={},GL={},DataPointer_Impl_={},CFFIPointer_Impl_={},hasRequiredCFFIPointer_Impl_;function requireCFFIPointer_Impl_(){return hasRequiredCFFIPointer_Impl_||(hasRequiredCFFIPointer_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.system._CFFIPointer.CFFIPointer_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.system._CFFIPointer.CFFIPointer_Impl_"]=o,o._new=function(c){var s=c;return s},o.get=function(c){return 0},o.equals=function(c,s){return o.get(c)==s},o.equalsPointer=function(c,s){return o.get(c)==o.get(s)},o.greaterThan=function(c,s){return o.get(c)>s},o.greaterThanPointer=function(c,s){return o.get(c)>o.get(s)},o.greaterThanOrEqual=function(c,s){return o.get(c)>=s},o.greaterThanOrEqualPointer=function(c,s){return o.get(c)>=o.get(s)},o.lessThan=function(c,s){return o.get(c)<s},o.lessThanPointer=function(c,s){return o.get(c)<o.get(s)},o.lessThanOrEqual=function(c,s){return o.get(c)<=s},o.lessThanOrEqualPointer=function(c,s){return o.get(c)<=o.get(s)},o.notEquals=function(c,s){return o.get(c)!=s},o.notEqualsPointer=function(c,s){return o.get(c)!=o.get(s)},e.default=o}(CFFIPointer_Impl_)),CFFIPointer_Impl_}var hasRequiredDataPointer_Impl_;function requireDataPointer_Impl_(){return hasRequiredDataPointer_Impl_||(hasRequiredDataPointer_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCFFIPointer_Impl_()}function c(){return requireStd()}var s=function(){};s.__name__="lime.utils._DataPointer.DataPointer_Impl_",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.utils._DataPointer.DataPointer_Impl_"]=s,s._new=function(h){var f=h;return f},s.fromFloat=function(h){return h},s.fromBytesPointer=function(h){return s.fromFloat(0)},s.fromArrayBufferView=function(h){return s.fromFloat(0)},s.fromArrayBuffer=function(h){return s.fromFloat(0)},s.fromBytes=function(h){return s.fromFloat(0)},s.fromBytesData=function(h){return s.fromFloat(0)},s.fromLimeBytes=function(h){return s.fromBytes(h)},s.fromCFFIPointer=function(h){return s.fromFloat(0)},s.fromFile=function(h){return s.fromFloat(0)},s.__withOffset=function(h,f){return s.fromFloat(0)},s.equals=function(h,f){return h==f},s.equalsPointer=function(h,f){return h==f},s.greaterThan=function(h,f){return h>f},s.greaterThanPointer=function(h,f){return o().default.get(h)>o().default.get(f)},s.greaterThanOrEqual=function(h,f){return h>=f},s.greaterThanOrEqualPointer=function(h,f){return o().default.get(h)>=o().default.get(f)},s.lessThan=function(h,f){return h<f},s.lessThanPointer=function(h,f){return o().default.get(h)<o().default.get(f)},s.lessThanOrEqual=function(h,f){return h<=f},s.lessThanOrEqualPointer=function(h,f){return o().default.get(h)<=o().default.get(f)},s.notEquals=function(h,f){return h!=f},s.notEqualsPointer=function(h,f){return h!=f},s.plus=function(h,f){return s.__withOffset(h,f)},s.plusPointer=function(h,f){return s.__withOffset(h,c().default.int(f))},s.minus=function(h,f){return s.__withOffset(h,-f)},s.minusPointer=function(h,f){return s.__withOffset(h,-c().default.int(f))},e.default=s}(DataPointer_Impl_)),DataPointer_Impl_}var WebGL2RenderContext_Impl_={},hasRequiredWebGL2RenderContext_Impl_;function requireWebGL2RenderContext_Impl_(){return hasRequiredWebGL2RenderContext_Impl_||(hasRequiredWebGL2RenderContext_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.graphics._WebGL2RenderContext.WebGL2RenderContext_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.graphics._WebGL2RenderContext.WebGL2RenderContext_Impl_"]=o,o.bufferData=function(c,s,h,f,g,b){g!=null?c.bufferData(s,h,f,g,b):c.bufferData(s,h,f)},o.bufferSubData=function(c,s,h,f,g,b){g!=null?c.bufferSubData(s,h,f,g,b):c.bufferSubData(s,h,f)},o.compressedTexImage2D=function(c,s,h,f,g,b,k,$,j,_e){j!=null?c.compressedTexImage2D(s,h,f,g,b,k,$,j,_e):c.compressedTexImage2D(s,h,f,g,b,k,$)},o.compressedTexSubImage2D=function(c,s,h,f,g,b,k,$,j,_e,et){_e!=null?c.compressedTexSubImage2D(s,h,f,g,b,k,$,j,_e,et):c.compressedTexSubImage2D(s,h,f,g,b,k,$,j)},o.getBufferSubData=function(c,s,h,f,g,b){g!=null?c.getBufferSubData(s,h,f,g,b):c.getBufferSubData(s,h,f)},o.readPixels=function(c,s,h,f,g,b,k,$,j){j!=null?c.readPixels(s,h,f,g,b,k,$,j):c.readPixels(s,h,f,g,b,k,$)},o.texImage2D=function(c,s,h,f,g,b,k,$,j,_e,et){et!=null?c.texImage2D(s,h,f,g,b,k,$,j,_e,et):$!=null?c.texImage2D(s,h,f,g,b,k,$,j,_e):c.texImage2D(s,h,f,g,b,k)},o.texSubImage2D=function(c,s,h,f,g,b,k,$,j,_e,et){et!=null?c.texSubImage2D(s,h,f,g,b,k,$,j,_e,et):j!=null?c.texSubImage2D(s,h,f,g,b,k,$,j,_e):c.texSubImage2D(s,h,f,g,b,k,$)},o.uniform1fv=function(c,s,h,f,g){f!=null?c.uniform1fv(s,h,f,g):c.uniform1fv(s,h)},o.uniform1iv=function(c,s,h,f,g){f!=null?c.uniform1iv(s,h,f,g):c.uniform1iv(s,h)},o.uniform2fv=function(c,s,h,f,g){f!=null?c.uniform2fv(s,h,f,g):c.uniform2fv(s,h)},o.uniform2iv=function(c,s,h,f,g){f!=null?c.uniform2iv(s,h,f,g):c.uniform2iv(s,h)},o.uniform3fv=function(c,s,h,f,g){f!=null?c.uniform3fv(s,h,f,g):c.uniform3fv(s,h)},o.uniform3iv=function(c,s,h,f,g){f!=null?c.uniform3iv(s,h,f,g):c.uniform3iv(s,h)},o.uniform4fv=function(c,s,h,f,g){f!=null?c.uniform4fv(s,h,f,g):c.uniform4fv(s,h)},o.uniform4iv=function(c,s,h,f,g){f!=null?c.uniform4iv(s,h,f,g):c.uniform4iv(s,h)},o.uniformMatrix2fv=function(c,s,h,f,g,b){g!=null?c.uniformMatrix2fv(s,h,f,g,b):c.uniformMatrix2fv(s,h,f)},o.uniformMatrix3fv=function(c,s,h,f,g,b){g!=null?c.uniformMatrix3fv(s,h,f,g,b):c.uniformMatrix3fv(s,h,f)},o.uniformMatrix4fv=function(c,s,h,f,g,b){g!=null?c.uniformMatrix4fv(s,h,f,g,b):c.uniformMatrix4fv(s,h,f)},o.fromGL=function(c){return null},o.fromRenderContext=function(c){return c.webgl2},o.toWebGLRenderContext=function(c){return c},e.default=o}(WebGL2RenderContext_Impl_)),WebGL2RenderContext_Impl_}var hasRequiredGL;function requireGL(){return hasRequiredGL||(hasRequiredGL=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDataPointer_Impl_()}function c(){return requireWebGL2RenderContext_Impl_()}var s=function(){};s.__name__="lime.graphics.opengl.GL",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.graphics.opengl.GL"]=s,s.activeTexture=function(h){s.context.activeTexture(h)},s.attachShader=function(h,f){s.context.attachShader(h,f)},s.beginQuery=function(h,f){s.context.beginQuery(h,f)},s.beginTransformFeedback=function(h){s.context.beginTransformFeedback(h)},s.bindAttribLocation=function(h,f,g){s.context.bindAttribLocation(h,f,g)},s.bindBuffer=function(h,f){s.context.bindBuffer(h,f)},s.bindBufferBase=function(h,f,g){s.context.bindBufferBase(h,f,g)},s.bindBufferRange=function(h,f,g,b,k){s.context.bindBufferRange(h,f,g,b,o().default.fromFloat(k))},s.bindFramebuffer=function(h,f){s.context.bindFramebuffer(h,f)},s.bindRenderbuffer=function(h,f){s.context.bindRenderbuffer(h,f)},s.bindSampler=function(h,f){s.context.bindSampler(h,f)},s.bindTexture=function(h,f){s.context.bindTexture(h,f)},s.bindTransformFeedback=function(h,f){s.context.bindTransformFeedback(h,f)},s.bindVertexArray=function(h){s.context.bindVertexArray(h)},s.blitFramebuffer=function(h,f,g,b,k,$,j,_e,et,nt){s.context.blitFramebuffer(h,f,g,b,k,$,j,_e,et,nt)},s.blendColor=function(h,f,g,b){s.context.blendColor(h,f,g,b)},s.blendEquation=function(h){s.context.blendEquation(h)},s.blendEquationSeparate=function(h,f){s.context.blendEquationSeparate(h,f)},s.blendFunc=function(h,f){s.context.blendFunc(h,f)},s.blendFuncSeparate=function(h,f,g,b){s.context.blendFuncSeparate(h,f,g,b)},s.bufferDataWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.bufferData(h,f,g,b,k):$.bufferData(h,f,g)},s.bufferSubDataWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.bufferSubData(h,f,g,b,k):$.bufferSubData(h,f,g)},s.checkFramebufferStatus=function(h){return s.context.checkFramebufferStatus(h)},s.clear=function(h){s.context.clear(h)},s.clearBufferfi=function(h,f,g,b){s.context.clearBufferfi(h,f,g,b)},s.clearBufferfvWEBGL=function(h,f,g,b){s.context.clearBufferfv(h,f,g,b)},s.clearBufferivWEBGL=function(h,f,g,b){s.context.clearBufferiv(h,f,g,b)},s.clearBufferuivWEBGL=function(h,f,g,b){s.context.clearBufferuiv(h,f,g,b)},s.clearColor=function(h,f,g,b){s.context.clearColor(h,f,g,b)},s.clearDepth=function(h){s.context.clearDepth(h)},s.clearStencil=function(h){s.context.clearStencil(h)},s.clientWaitSync=function(h,f,g){return s.context.clientWaitSync(h,f,g)},s.colorMask=function(h,f,g,b){s.context.colorMask(h,f,g,b)},s.compileShader=function(h){s.context.compileShader(h)},s.compressedTexImage2DWEBGL=function(h,f,g,b,k,$,j,_e,et){var nt=s.context;_e!=null?nt.compressedTexImage2D(h,f,g,b,k,$,j,_e,et):nt.compressedTexImage2D(h,f,g,b,k,$,j)},s.compressedTexImage3DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt){s.context.compressedTexImage3D(h,f,g,b,k,$,j,_e,et,nt)},s.compressedTexSubImage2DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt){var rt=s.context;et!=null?rt.compressedTexSubImage2D(h,f,g,b,k,$,j,_e,et,nt):rt.compressedTexSubImage2D(h,f,g,b,k,$,j,_e)},s.compressedTexSubImage3DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt,rt,tt){s.context.compressedTexSubImage3D(h,f,g,b,k,$,j,_e,et,nt,rt,tt)},s.copyTexImage2D=function(h,f,g,b,k,$,j,_e){s.context.copyTexImage2D(h,f,g,b,k,$,j,_e)},s.copyTexSubImage2D=function(h,f,g,b,k,$,j,_e){s.context.copyTexSubImage2D(h,f,g,b,k,$,j,_e)},s.copyTexSubImage3D=function(h,f,g,b,k,$,j,_e,et){s.context.copyTexSubImage3D(h,f,g,b,k,$,j,_e,et)},s.createBuffer=function(){return s.context.createBuffer()},s.createFramebuffer=function(){return s.context.createFramebuffer()},s.createProgram=function(){return s.context.createProgram()},s.createQuery=function(){return s.context.createQuery()},s.createRenderbuffer=function(){return s.context.createRenderbuffer()},s.createSampler=function(){return s.context.createSampler()},s.createShader=function(h){return s.context.createShader(h)},s.createTexture=function(){return s.context.createTexture()},s.createTransformFeedback=function(){return s.context.createTransformFeedback()},s.createVertexArray=function(){return s.context.createVertexArray()},s.cullFace=function(h){s.context.cullFace(h)},s.deleteBuffer=function(h){s.context.deleteBuffer(h)},s.deleteFramebuffer=function(h){s.context.deleteFramebuffer(h)},s.deleteProgram=function(h){s.context.deleteProgram(h)},s.deleteQuery=function(h){s.context.deleteQuery(h)},s.deleteRenderbuffer=function(h){s.context.deleteRenderbuffer(h)},s.deleteSampler=function(h){s.context.deleteSampler(h)},s.deleteShader=function(h){s.context.deleteShader(h)},s.deleteSync=function(h){s.context.deleteSync(h)},s.deleteTexture=function(h){s.context.deleteTexture(h)},s.deleteTransformFeedback=function(h){s.context.deleteTransformFeedback(h)},s.deleteVertexArray=function(h){s.context.deleteVertexArray(h)},s.depthFunc=function(h){s.context.depthFunc(h)},s.depthMask=function(h){s.context.depthMask(h)},s.depthRange=function(h,f){s.context.depthRange(h,f)},s.detachShader=function(h,f){s.context.detachShader(h,f)},s.disable=function(h){s.context.disable(h)},s.disableVertexAttribArray=function(h){s.context.disableVertexAttribArray(h)},s.drawArrays=function(h,f,g){s.context.drawArrays(h,f,g)},s.drawArraysInstanced=function(h,f,g,b){s.context.drawArraysInstanced(h,f,g,b)},s.drawBuffers=function(h){s.context.drawBuffers(h)},s.drawElements=function(h,f,g,b){s.context.drawElements(h,f,g,b)},s.drawElementsInstanced=function(h,f,g,b,k){s.context.drawElementsInstanced(h,f,g,b,k)},s.drawRangeElements=function(h,f,g,b,k,$){s.context.drawRangeElements(h,f,g,b,k,$)},s.enable=function(h){s.context.enable(h)},s.enableVertexAttribArray=function(h){s.context.enableVertexAttribArray(h)},s.endQuery=function(h){s.context.endQuery(h)},s.endTransformFeedback=function(){s.context.endTransformFeedback()},s.fenceSync=function(h,f){return s.context.fenceSync(h,f)},s.finish=function(){s.context.finish()},s.flush=function(){s.context.flush()},s.framebufferRenderbuffer=function(h,f,g,b){s.context.framebufferRenderbuffer(h,f,g,b)},s.framebufferTexture2D=function(h,f,g,b,k){s.context.framebufferTexture2D(h,f,g,b,k)},s.framebufferTextureLayer=function(h,f,g,b,k){s.context.framebufferTextureLayer(h,f,g,b,k)},s.frontFace=function(h){s.context.frontFace(h)},s.generateMipmap=function(h){s.context.generateMipmap(h)},s.getActiveAttrib=function(h,f){return s.context.getActiveAttrib(h,f)},s.getActiveUniform=function(h,f){return s.context.getActiveUniform(h,f)},s.getActiveUniformBlockName=function(h,f){return s.context.getActiveUniformBlockName(h,f)},s.getActiveUniformBlockParameter=function(h,f,g){return s.context.getActiveUniformBlockParameter(h,f,g)},s.getActiveUniforms=function(h,f,g){return s.context.getActiveUniforms(h,f,g)},s.getAttachedShaders=function(h){return s.context.getAttachedShaders(h)},s.getAttribLocation=function(h,f){return s.context.getAttribLocation(h,f)},s.getBufferParameter=function(h,f){return s.context.getBufferParameter(h,f)},s.getBufferSubDataWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.getBufferSubData(h,f,g,b,k):$.getBufferSubData(h,f,g)},s.getContextAttributes=function(){return s.context.getContextAttributes()},s.getError=function(){return s.context.getError()},s.getExtension=function(h){return s.context.getExtension(h)},s.getFragDataLocation=function(h,f){return s.context.getFragDataLocation(h,f)},s.getFramebufferAttachmentParameter=function(h,f,g){return s.context.getFramebufferAttachmentParameter(h,f,g)},s.getIndexedParameter=function(h,f){return s.context.getIndexedParameter(h,f)},s.getInternalformatParameter=function(h,f,g){return s.context.getInternalformatParameter(h,f,g)},s.getParameter=function(h){return s.context.getParameter(h)},s.getProgramInfoLog=function(h){return s.context.getProgramInfoLog(h)},s.getProgramParameter=function(h,f){return s.context.getProgramParameter(h,f)},s.getQuery=function(h,f){return s.context.getQuery(h,f)},s.getQueryParameter=function(h,f){return s.context.getQueryParameter(h,f)},s.getRenderbufferParameter=function(h,f){return s.context.getRenderbufferParameter(h,f)},s.getSamplerParameter=function(h,f){return s.context.getSamplerParameter(h,f)},s.getShaderInfoLog=function(h){return s.context.getShaderInfoLog(h)},s.getShaderParameter=function(h,f){return s.context.getShaderParameter(h,f)},s.getShaderPrecisionFormat=function(h,f){return s.context.getShaderPrecisionFormat(h,f)},s.getShaderSource=function(h){return s.context.getShaderSource(h)},s.getSupportedExtensions=function(){return s.context.getSupportedExtensions()},s.getSyncParameter=function(h,f){return s.context.getSyncParameter(h,f)},s.getTexParameter=function(h,f){return s.context.getTexParameter(h,f)},s.getTransformFeedbackVarying=function(h,f){return s.context.getTransformFeedbackVarying(h,f)},s.getUniform=function(h,f){return s.context.getUniform(h,f)},s.getUniformBlockIndex=function(h,f){return s.context.getUniformBlockIndex(h,f)},s.getUniformIndices=function(h,f){return s.context.getUniformIndices(h,f)},s.getUniformLocation=function(h,f){return s.context.getUniformLocation(h,f)},s.getVertexAttrib=function(h,f){return s.context.getVertexAttrib(h,f)},s.getVertexAttribOffset=function(h,f){return o().default.fromFloat(s.context.getVertexAttribOffset(h,f))},s.hint=function(h,f){s.context.hint(h,f)},s.invalidateFramebuffer=function(h,f){s.context.invalidateFramebuffer(h,f)},s.invalidateSubFramebuffer=function(h,f,g,b,k,$){s.context.invalidateSubFramebuffer(h,f,g,b,k,$)},s.isBuffer=function(h){return s.context.isBuffer(h)},s.isContextLost=function(){return s.context.isContextLost()},s.isEnabled=function(h){return s.context.isEnabled(h)},s.isFramebuffer=function(h){return s.context.isFramebuffer(h)},s.isProgram=function(h){return s.context.isProgram(h)},s.isQuery=function(h){return s.context.isQuery(h)},s.isRenderbuffer=function(h){return s.context.isRenderbuffer(h)},s.isSampler=function(h){return s.context.isSampler(h)},s.isShader=function(h){return s.context.isShader(h)},s.isSync=function(h){return s.context.isSync(h)},s.isTexture=function(h){return s.context.isTexture(h)},s.isTransformFeedback=function(h){return s.context.isTransformFeedback(h)},s.isVertexArray=function(h){return s.context.isVertexArray(h)},s.lineWidth=function(h){s.context.lineWidth(h)},s.linkProgram=function(h){s.context.linkProgram(h)},s.pauseTransformFeedback=function(){s.context.pauseTransformFeedback()},s.pixelStorei=function(h,f){s.context.pixelStorei(h,f)},s.polygonOffset=function(h,f){s.context.polygonOffset(h,f)},s.readBuffer=function(h){s.context.readBuffer(h)},s.readPixelsWEBGL=function(h,f,g,b,k,$,j,_e){var et=s.context;_e!=null?et.readPixels(h,f,g,b,k,$,j,_e):et.readPixels(h,f,g,b,k,$,j)},s.renderbufferStorage=function(h,f,g,b){s.context.renderbufferStorage(h,f,g,b)},s.renderbufferStorageMultisample=function(h,f,g,b,k){s.context.renderbufferStorageMultisample(h,f,g,b,k)},s.resumeTransformFeedback=function(){s.context.resumeTransformFeedback()},s.sampleCoverage=function(h,f){s.context.sampleCoverage(h,f)},s.samplerParameterf=function(h,f,g){s.context.samplerParameterf(h,f,g)},s.samplerParameteri=function(h,f,g){s.context.samplerParameteri(h,f,g)},s.scissor=function(h,f,g,b){s.context.scissor(h,f,g,b)},s.shaderSource=function(h,f){s.context.shaderSource(h,f)},s.stencilFunc=function(h,f,g){s.context.stencilFunc(h,f,g)},s.stencilFuncSeparate=function(h,f,g,b){s.context.stencilFuncSeparate(h,f,g,b)},s.stencilMask=function(h){s.context.stencilMask(h)},s.stencilMaskSeparate=function(h,f){s.context.stencilMaskSeparate(h,f)},s.stencilOp=function(h,f,g){s.context.stencilOp(h,f,g)},s.stencilOpSeparate=function(h,f,g,b){s.context.stencilOpSeparate(h,f,g,b)},s.texImage2DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt){var rt=s.context;nt!=null?rt.texImage2D(h,f,g,b,k,$,j,_e,et,nt):j!=null?rt.texImage2D(h,f,g,b,k,$,j,_e,et):rt.texImage2D(h,f,g,b,k,$)},s.texImage3DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt,rt){s.context.texImage3D(h,f,g,b,k,$,j,_e,et,nt,rt)},s.texStorage2D=function(h,f,g,b,k){s.context.texStorage2D(h,f,g,b,k)},s.texStorage3D=function(h,f,g,b,k,$){s.context.texStorage3D(h,f,g,b,k,$)},s.texParameterf=function(h,f,g){s.context.texParameterf(h,f,g)},s.texParameteri=function(h,f,g){s.context.texParameteri(h,f,g)},s.texSubImage2DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt){var rt=s.context;nt!=null?rt.texSubImage2D(h,f,g,b,k,$,j,_e,et,nt):_e!=null?rt.texSubImage2D(h,f,g,b,k,$,j,_e,et):rt.texSubImage2D(h,f,g,b,k,$,j)},s.texSubImage3DWEBGL=function(h,f,g,b,k,$,j,_e,et,nt,rt,tt){s.context.texSubImage3D(h,f,g,b,k,$,j,_e,et,nt,rt,tt)},s.transformFeedbackVaryings=function(h,f,g){s.context.transformFeedbackVaryings(h,f,g)},s.uniform1f=function(h,f){s.context.uniform1f(h,f)},s.uniform1fvWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform1fv(h,f,g,b):k.uniform1fv(h,f)},s.uniform1i=function(h,f){s.context.uniform1i(h,f)},s.uniform1ivWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform1iv(h,f,g,b):k.uniform1iv(h,f)},s.uniform1ui=function(h,f){s.context.uniform1ui(h,f)},s.uniform1uivWEBGL=function(h,f,g,b){s.context.uniform1uiv(h,f,g,b)},s.uniform2f=function(h,f,g){s.context.uniform2f(h,f,g)},s.uniform2fvWEBGL=function(h,f,g,b){c().default.uniform2fv(s.context,h,f,g,b)},s.uniform2i=function(h,f,g){s.context.uniform2i(h,f,g)},s.uniform2ivWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform2iv(h,f,g,b):k.uniform2iv(h,f)},s.uniform2ui=function(h,f,g){s.context.uniform2ui(h,f,g)},s.uniform2uivWEBGL=function(h,f,g,b){s.context.uniform2uiv(h,f,g,b)},s.uniform3f=function(h,f,g,b){s.context.uniform3f(h,f,g,b)},s.uniform3fvWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform3fv(h,f,g,b):k.uniform3fv(h,f)},s.uniform3i=function(h,f,g,b){s.context.uniform3i(h,f,g,b)},s.uniform3ivWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform3iv(h,f,g,b):k.uniform3iv(h,f)},s.uniform3ui=function(h,f,g,b){s.context.uniform3ui(h,f,g,b)},s.uniform3uivWEBGL=function(h,f,g,b){s.context.uniform3uiv(h,f,g,b)},s.uniform4f=function(h,f,g,b,k){s.context.uniform4f(h,f,g,b,k)},s.uniform4fvWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform4fv(h,f,g,b):k.uniform4fv(h,f)},s.uniform4i=function(h,f,g,b,k){s.context.uniform4i(h,f,g,b,k)},s.uniform4ivWEBGL=function(h,f,g,b){var k=s.context;g!=null?k.uniform4iv(h,f,g,b):k.uniform4iv(h,f)},s.uniform4ui=function(h,f,g,b,k){s.context.uniform4ui(h,f,g,b,k)},s.uniform4uivWEBGL=function(h,f,g,b){s.context.uniform4uiv(h,f,g,b)},s.uniformBlockBinding=function(h,f,g){s.context.uniformBlockBinding(h,f,g)},s.uniformMatrix2fvWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.uniformMatrix2fv(h,f,g,b,k):$.uniformMatrix2fv(h,f,g)},s.uniformMatrix2x3fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix2x3fv(h,f,g,b,k)},s.uniformMatrix2x4fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix2x4fv(h,f,g,b,k)},s.uniformMatrix3fvWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.uniformMatrix3fv(h,f,g,b,k):$.uniformMatrix3fv(h,f,g)},s.uniformMatrix3x2fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix3x2fv(h,f,g,b,k)},s.uniformMatrix3x4fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix3x4fv(h,f,g,b,k)},s.uniformMatrix4fvWEBGL=function(h,f,g,b,k){var $=s.context;b!=null?$.uniformMatrix4fv(h,f,g,b,k):$.uniformMatrix4fv(h,f,g)},s.uniformMatrix4x2fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix4x2fv(h,f,g,b,k)},s.uniformMatrix4x3fvWEBGL=function(h,f,g,b,k){s.context.uniformMatrix4x3fv(h,f,g,b,k)},s.useProgram=function(h){s.context.useProgram(h)},s.validateProgram=function(h){s.context.validateProgram(h)},s.vertexAttrib1f=function(h,f){s.context.vertexAttrib1f(h,f)},s.vertexAttrib1fv=function(h,f){s.context.vertexAttrib1fv(h,f)},s.vertexAttrib1fvWEBGL=function(h,f){s.context.vertexAttrib1fv(h,f)},s.vertexAttrib2f=function(h,f,g){s.context.vertexAttrib2f(h,f,g)},s.vertexAttrib2fv=function(h,f){s.context.vertexAttrib2fv(h,f)},s.vertexAttrib2fvWEBGL=function(h,f){s.context.vertexAttrib2fv(h,f)},s.vertexAttrib3f=function(h,f,g,b){s.context.vertexAttrib3f(h,f,g,b)},s.vertexAttrib3fv=function(h,f){s.context.vertexAttrib3fv(h,f)},s.vertexAttrib3fvWEBGL=function(h,f){s.context.vertexAttrib3fv(h,f)},s.vertexAttrib4f=function(h,f,g,b,k){s.context.vertexAttrib4f(h,f,g,b,k)},s.vertexAttrib4fv=function(h,f){s.context.vertexAttrib4fv(h,f)},s.vertexAttrib4fvWEBGL=function(h,f){s.context.vertexAttrib4fv(h,f)},s.vertexAttribDivisor=function(h,f){s.context.vertexAttribDivisor(h,f)},s.vertexAttribI4i=function(h,f,g,b,k){s.context.vertexAttribI4i(h,f,g,b,k)},s.vertexAttribI4iv=function(h,f){s.context.vertexAttribI4iv(h,f)},s.vertexAttribI4ivWEBGL=function(h,f){s.context.vertexAttribI4iv(h,f)},s.vertexAttribI4ui=function(h,f,g,b,k){s.context.vertexAttribI4ui(h,f,g,b,k)},s.vertexAttribI4uiv=function(h,f){s.context.vertexAttribI4uiv(h,f)},s.vertexAttribI4uivWEBGL=function(h,f){s.context.vertexAttribI4uiv(h,f)},s.vertexAttribIPointer=function(h,f,g,b,k){s.context.vertexAttribIPointer(h,f,g,b,k)},s.vertexAttribPointer=function(h,f,g,b,k,$){s.context.vertexAttribPointer(h,f,g,b,k,$)},s.viewport=function(h,f,g,b){s.context.viewport(h,f,g,b)},s.waitSync=function(h,f,g){s.context.waitSync(h,f,g)},s.__getObjectID=function(h){return h==null?0:h.id},s.DEPTH_BUFFER_BIT=256,s.STENCIL_BUFFER_BIT=1024,s.COLOR_BUFFER_BIT=16384,s.POINTS=0,s.LINES=1,s.LINE_LOOP=2,s.LINE_STRIP=3,s.TRIANGLES=4,s.TRIANGLE_STRIP=5,s.TRIANGLE_FAN=6,s.ZERO=0,s.ONE=1,s.SRC_COLOR=768,s.ONE_MINUS_SRC_COLOR=769,s.SRC_ALPHA=770,s.ONE_MINUS_SRC_ALPHA=771,s.DST_ALPHA=772,s.ONE_MINUS_DST_ALPHA=773,s.DST_COLOR=774,s.ONE_MINUS_DST_COLOR=775,s.SRC_ALPHA_SATURATE=776,s.FUNC_ADD=32774,s.BLEND_EQUATION=32777,s.BLEND_EQUATION_RGB=32777,s.BLEND_EQUATION_ALPHA=34877,s.FUNC_SUBTRACT=32778,s.FUNC_REVERSE_SUBTRACT=32779,s.BLEND_DST_RGB=32968,s.BLEND_SRC_RGB=32969,s.BLEND_DST_ALPHA=32970,s.BLEND_SRC_ALPHA=32971,s.CONSTANT_COLOR=32769,s.ONE_MINUS_CONSTANT_COLOR=32770,s.CONSTANT_ALPHA=32771,s.ONE_MINUS_CONSTANT_ALPHA=32772,s.BLEND_COLOR=32773,s.ARRAY_BUFFER=34962,s.ELEMENT_ARRAY_BUFFER=34963,s.ARRAY_BUFFER_BINDING=34964,s.ELEMENT_ARRAY_BUFFER_BINDING=34965,s.STREAM_DRAW=35040,s.STATIC_DRAW=35044,s.DYNAMIC_DRAW=35048,s.BUFFER_SIZE=34660,s.BUFFER_USAGE=34661,s.CURRENT_VERTEX_ATTRIB=34342,s.FRONT=1028,s.BACK=1029,s.FRONT_AND_BACK=1032,s.CULL_FACE=2884,s.BLEND=3042,s.DITHER=3024,s.STENCIL_TEST=2960,s.DEPTH_TEST=2929,s.SCISSOR_TEST=3089,s.POLYGON_OFFSET_FILL=32823,s.SAMPLE_ALPHA_TO_COVERAGE=32926,s.SAMPLE_COVERAGE=32928,s.NO_ERROR=0,s.INVALID_ENUM=1280,s.INVALID_VALUE=1281,s.INVALID_OPERATION=1282,s.OUT_OF_MEMORY=1285,s.CW=2304,s.CCW=2305,s.LINE_WIDTH=2849,s.ALIASED_POINT_SIZE_RANGE=33901,s.ALIASED_LINE_WIDTH_RANGE=33902,s.CULL_FACE_MODE=2885,s.FRONT_FACE=2886,s.DEPTH_RANGE=2928,s.DEPTH_WRITEMASK=2930,s.DEPTH_CLEAR_VALUE=2931,s.DEPTH_FUNC=2932,s.STENCIL_CLEAR_VALUE=2961,s.STENCIL_FUNC=2962,s.STENCIL_FAIL=2964,s.STENCIL_PASS_DEPTH_FAIL=2965,s.STENCIL_PASS_DEPTH_PASS=2966,s.STENCIL_REF=2967,s.STENCIL_VALUE_MASK=2963,s.STENCIL_WRITEMASK=2968,s.STENCIL_BACK_FUNC=34816,s.STENCIL_BACK_FAIL=34817,s.STENCIL_BACK_PASS_DEPTH_FAIL=34818,s.STENCIL_BACK_PASS_DEPTH_PASS=34819,s.STENCIL_BACK_REF=36003,s.STENCIL_BACK_VALUE_MASK=36004,s.STENCIL_BACK_WRITEMASK=36005,s.VIEWPORT=2978,s.SCISSOR_BOX=3088,s.COLOR_CLEAR_VALUE=3106,s.COLOR_WRITEMASK=3107,s.UNPACK_ALIGNMENT=3317,s.PACK_ALIGNMENT=3333,s.MAX_TEXTURE_SIZE=3379,s.MAX_VIEWPORT_DIMS=3386,s.SUBPIXEL_BITS=3408,s.RED_BITS=3410,s.GREEN_BITS=3411,s.BLUE_BITS=3412,s.ALPHA_BITS=3413,s.DEPTH_BITS=3414,s.STENCIL_BITS=3415,s.POLYGON_OFFSET_UNITS=10752,s.POLYGON_OFFSET_FACTOR=32824,s.TEXTURE_BINDING_2D=32873,s.SAMPLE_BUFFERS=32936,s.SAMPLES=32937,s.SAMPLE_COVERAGE_VALUE=32938,s.SAMPLE_COVERAGE_INVERT=32939,s.NUM_COMPRESSED_TEXTURE_FORMATS=34466,s.COMPRESSED_TEXTURE_FORMATS=34467,s.DONT_CARE=4352,s.FASTEST=4353,s.NICEST=4354,s.GENERATE_MIPMAP_HINT=33170,s.BYTE=5120,s.UNSIGNED_BYTE=5121,s.SHORT=5122,s.UNSIGNED_SHORT=5123,s.INT=5124,s.UNSIGNED_INT=5125,s.FLOAT=5126,s.DEPTH_COMPONENT=6402,s.ALPHA=6406,s.RGB=6407,s.RGBA=6408,s.LUMINANCE=6409,s.LUMINANCE_ALPHA=6410,s.UNSIGNED_SHORT_4_4_4_4=32819,s.UNSIGNED_SHORT_5_5_5_1=32820,s.UNSIGNED_SHORT_5_6_5=33635,s.FRAGMENT_SHADER=35632,s.VERTEX_SHADER=35633,s.MAX_VERTEX_ATTRIBS=34921,s.MAX_VERTEX_UNIFORM_VECTORS=36347,s.MAX_VARYING_VECTORS=36348,s.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,s.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,s.MAX_TEXTURE_IMAGE_UNITS=34930,s.MAX_FRAGMENT_UNIFORM_VECTORS=36349,s.SHADER_TYPE=35663,s.DELETE_STATUS=35712,s.LINK_STATUS=35714,s.VALIDATE_STATUS=35715,s.ATTACHED_SHADERS=35717,s.ACTIVE_UNIFORMS=35718,s.ACTIVE_ATTRIBUTES=35721,s.SHADING_LANGUAGE_VERSION=35724,s.CURRENT_PROGRAM=35725,s.NEVER=512,s.LESS=513,s.EQUAL=514,s.LEQUAL=515,s.GREATER=516,s.NOTEQUAL=517,s.GEQUAL=518,s.ALWAYS=519,s.KEEP=7680,s.REPLACE=7681,s.INCR=7682,s.DECR=7683,s.INVERT=5386,s.INCR_WRAP=34055,s.DECR_WRAP=34056,s.VENDOR=7936,s.RENDERER=7937,s.VERSION=7938,s.EXTENSIONS=7939,s.NEAREST=9728,s.LINEAR=9729,s.NEAREST_MIPMAP_NEAREST=9984,s.LINEAR_MIPMAP_NEAREST=9985,s.NEAREST_MIPMAP_LINEAR=9986,s.LINEAR_MIPMAP_LINEAR=9987,s.TEXTURE_MAG_FILTER=10240,s.TEXTURE_MIN_FILTER=10241,s.TEXTURE_WRAP_S=10242,s.TEXTURE_WRAP_T=10243,s.TEXTURE_2D=3553,s.TEXTURE=5890,s.TEXTURE_CUBE_MAP=34067,s.TEXTURE_BINDING_CUBE_MAP=34068,s.TEXTURE_CUBE_MAP_POSITIVE_X=34069,s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,s.MAX_CUBE_MAP_TEXTURE_SIZE=34076,s.TEXTURE0=33984,s.TEXTURE1=33985,s.TEXTURE2=33986,s.TEXTURE3=33987,s.TEXTURE4=33988,s.TEXTURE5=33989,s.TEXTURE6=33990,s.TEXTURE7=33991,s.TEXTURE8=33992,s.TEXTURE9=33993,s.TEXTURE10=33994,s.TEXTURE11=33995,s.TEXTURE12=33996,s.TEXTURE13=33997,s.TEXTURE14=33998,s.TEXTURE15=33999,s.TEXTURE16=34e3,s.TEXTURE17=34001,s.TEXTURE18=34002,s.TEXTURE19=34003,s.TEXTURE20=34004,s.TEXTURE21=34005,s.TEXTURE22=34006,s.TEXTURE23=34007,s.TEXTURE24=34008,s.TEXTURE25=34009,s.TEXTURE26=34010,s.TEXTURE27=34011,s.TEXTURE28=34012,s.TEXTURE29=34013,s.TEXTURE30=34014,s.TEXTURE31=34015,s.ACTIVE_TEXTURE=34016,s.REPEAT=10497,s.CLAMP_TO_EDGE=33071,s.MIRRORED_REPEAT=33648,s.FLOAT_VEC2=35664,s.FLOAT_VEC3=35665,s.FLOAT_VEC4=35666,s.INT_VEC2=35667,s.INT_VEC3=35668,s.INT_VEC4=35669,s.BOOL=35670,s.BOOL_VEC2=35671,s.BOOL_VEC3=35672,s.BOOL_VEC4=35673,s.FLOAT_MAT2=35674,s.FLOAT_MAT3=35675,s.FLOAT_MAT4=35676,s.SAMPLER_2D=35678,s.SAMPLER_CUBE=35680,s.VERTEX_ATTRIB_ARRAY_ENABLED=34338,s.VERTEX_ATTRIB_ARRAY_SIZE=34339,s.VERTEX_ATTRIB_ARRAY_STRIDE=34340,s.VERTEX_ATTRIB_ARRAY_TYPE=34341,s.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,s.VERTEX_ATTRIB_ARRAY_POINTER=34373,s.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,s.IMPLEMENTATION_COLOR_READ_TYPE=35738,s.IMPLEMENTATION_COLOR_READ_FORMAT=35739,s.VERTEX_PROGRAM_POINT_SIZE=34370,s.POINT_SPRITE=34913,s.COMPILE_STATUS=35713,s.LOW_FLOAT=36336,s.MEDIUM_FLOAT=36337,s.HIGH_FLOAT=36338,s.LOW_INT=36339,s.MEDIUM_INT=36340,s.HIGH_INT=36341,s.FRAMEBUFFER=36160,s.RENDERBUFFER=36161,s.RGBA4=32854,s.RGB5_A1=32855,s.RGB565=36194,s.DEPTH_COMPONENT16=33189,s.STENCIL_INDEX=6401,s.STENCIL_INDEX8=36168,s.DEPTH_STENCIL=34041,s.RENDERBUFFER_WIDTH=36162,s.RENDERBUFFER_HEIGHT=36163,s.RENDERBUFFER_INTERNAL_FORMAT=36164,s.RENDERBUFFER_RED_SIZE=36176,s.RENDERBUFFER_GREEN_SIZE=36177,s.RENDERBUFFER_BLUE_SIZE=36178,s.RENDERBUFFER_ALPHA_SIZE=36179,s.RENDERBUFFER_DEPTH_SIZE=36180,s.RENDERBUFFER_STENCIL_SIZE=36181,s.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,s.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,s.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,s.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,s.COLOR_ATTACHMENT0=36064,s.DEPTH_ATTACHMENT=36096,s.STENCIL_ATTACHMENT=36128,s.DEPTH_STENCIL_ATTACHMENT=33306,s.NONE=0,s.FRAMEBUFFER_COMPLETE=36053,s.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,s.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,s.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,s.FRAMEBUFFER_UNSUPPORTED=36061,s.FRAMEBUFFER_BINDING=36006,s.RENDERBUFFER_BINDING=36007,s.MAX_RENDERBUFFER_SIZE=34024,s.INVALID_FRAMEBUFFER_OPERATION=1286,s.UNPACK_FLIP_Y_WEBGL=37440,s.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,s.CONTEXT_LOST_WEBGL=37442,s.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,s.BROWSER_DEFAULT_WEBGL=37444,s.READ_BUFFER=3074,s.UNPACK_ROW_LENGTH=3314,s.UNPACK_SKIP_ROWS=3315,s.UNPACK_SKIP_PIXELS=3316,s.PACK_ROW_LENGTH=3330,s.PACK_SKIP_ROWS=3331,s.PACK_SKIP_PIXELS=3332,s.TEXTURE_BINDING_3D=32874,s.UNPACK_SKIP_IMAGES=32877,s.UNPACK_IMAGE_HEIGHT=32878,s.MAX_3D_TEXTURE_SIZE=32883,s.MAX_ELEMENTS_VERTICES=33e3,s.MAX_ELEMENTS_INDICES=33001,s.MAX_TEXTURE_LOD_BIAS=34045,s.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657,s.MAX_VERTEX_UNIFORM_COMPONENTS=35658,s.MAX_ARRAY_TEXTURE_LAYERS=35071,s.MIN_PROGRAM_TEXEL_OFFSET=35076,s.MAX_PROGRAM_TEXEL_OFFSET=35077,s.MAX_VARYING_COMPONENTS=35659,s.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,s.RASTERIZER_DISCARD=35977,s.VERTEX_ARRAY_BINDING=34229,s.MAX_VERTEX_OUTPUT_COMPONENTS=37154,s.MAX_FRAGMENT_INPUT_COMPONENTS=37157,s.MAX_SERVER_WAIT_TIMEOUT=37137,s.MAX_ELEMENT_INDEX=36203,s.RED=6403,s.RGB8=32849,s.RGBA8=32856,s.RGB10_A2=32857,s.TEXTURE_3D=32879,s.TEXTURE_WRAP_R=32882,s.TEXTURE_MIN_LOD=33082,s.TEXTURE_MAX_LOD=33083,s.TEXTURE_BASE_LEVEL=33084,s.TEXTURE_MAX_LEVEL=33085,s.TEXTURE_COMPARE_MODE=34892,s.TEXTURE_COMPARE_FUNC=34893,s.SRGB=35904,s.SRGB8=35905,s.SRGB8_ALPHA8=35907,s.COMPARE_REF_TO_TEXTURE=34894,s.RGBA32F=34836,s.RGB32F=34837,s.RGBA16F=34842,s.RGB16F=34843,s.TEXTURE_2D_ARRAY=35866,s.TEXTURE_BINDING_2D_ARRAY=35869,s.R11F_G11F_B10F=35898,s.RGB9_E5=35901,s.RGBA32UI=36208,s.RGB32UI=36209,s.RGBA16UI=36214,s.RGB16UI=36215,s.RGBA8UI=36220,s.RGB8UI=36221,s.RGBA32I=36226,s.RGB32I=36227,s.RGBA16I=36232,s.RGB16I=36233,s.RGBA8I=36238,s.RGB8I=36239,s.RED_INTEGER=36244,s.RGB_INTEGER=36248,s.RGBA_INTEGER=36249,s.R8=33321,s.RG8=33323,s.R16F=33325,s.R32F=33326,s.RG16F=33327,s.RG32F=33328,s.R8I=33329,s.R8UI=33330,s.R16I=33331,s.R16UI=33332,s.R32I=33333,s.R32UI=33334,s.RG8I=33335,s.RG8UI=33336,s.RG16I=33337,s.RG16UI=33338,s.RG32I=33339,s.RG32UI=33340,s.R8_SNORM=36756,s.RG8_SNORM=36757,s.RGB8_SNORM=36758,s.RGBA8_SNORM=36759,s.RGB10_A2UI=36975,s.TEXTURE_IMMUTABLE_FORMAT=37167,s.TEXTURE_IMMUTABLE_LEVELS=33503,s.UNSIGNED_INT_2_10_10_10_REV=33640,s.UNSIGNED_INT_10F_11F_11F_REV=35899,s.UNSIGNED_INT_5_9_9_9_REV=35902,s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269,s.UNSIGNED_INT_24_8=34042,s.HALF_FLOAT=5131,s.RG=33319,s.RG_INTEGER=33320,s.INT_2_10_10_10_REV=36255,s.CURRENT_QUERY=34917,s.QUERY_RESULT=34918,s.QUERY_RESULT_AVAILABLE=34919,s.ANY_SAMPLES_PASSED=35887,s.ANY_SAMPLES_PASSED_CONSERVATIVE=36202,s.MAX_DRAW_BUFFERS=34852,s.DRAW_BUFFER0=34853,s.DRAW_BUFFER1=34854,s.DRAW_BUFFER2=34855,s.DRAW_BUFFER3=34856,s.DRAW_BUFFER4=34857,s.DRAW_BUFFER5=34858,s.DRAW_BUFFER6=34859,s.DRAW_BUFFER7=34860,s.DRAW_BUFFER8=34861,s.DRAW_BUFFER9=34862,s.DRAW_BUFFER10=34863,s.DRAW_BUFFER11=34864,s.DRAW_BUFFER12=34865,s.DRAW_BUFFER13=34866,s.DRAW_BUFFER14=34867,s.DRAW_BUFFER15=34868,s.MAX_COLOR_ATTACHMENTS=36063,s.COLOR_ATTACHMENT1=36065,s.COLOR_ATTACHMENT2=36066,s.COLOR_ATTACHMENT3=36067,s.COLOR_ATTACHMENT4=36068,s.COLOR_ATTACHMENT5=36069,s.COLOR_ATTACHMENT6=36070,s.COLOR_ATTACHMENT7=36071,s.COLOR_ATTACHMENT8=36072,s.COLOR_ATTACHMENT9=36073,s.COLOR_ATTACHMENT10=36074,s.COLOR_ATTACHMENT11=36075,s.COLOR_ATTACHMENT12=36076,s.COLOR_ATTACHMENT13=36077,s.COLOR_ATTACHMENT14=36078,s.COLOR_ATTACHMENT15=36079,s.SAMPLER_3D=35679,s.SAMPLER_2D_SHADOW=35682,s.SAMPLER_2D_ARRAY=36289,s.SAMPLER_2D_ARRAY_SHADOW=36292,s.SAMPLER_CUBE_SHADOW=36293,s.INT_SAMPLER_2D=36298,s.INT_SAMPLER_3D=36299,s.INT_SAMPLER_CUBE=36300,s.INT_SAMPLER_2D_ARRAY=36303,s.UNSIGNED_INT_SAMPLER_2D=36306,s.UNSIGNED_INT_SAMPLER_3D=36307,s.UNSIGNED_INT_SAMPLER_CUBE=36308,s.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,s.MAX_SAMPLES=36183,s.SAMPLER_BINDING=35097,s.PIXEL_PACK_BUFFER=35051,s.PIXEL_UNPACK_BUFFER=35052,s.PIXEL_PACK_BUFFER_BINDING=35053,s.PIXEL_UNPACK_BUFFER_BINDING=35055,s.COPY_READ_BUFFER=36662,s.COPY_WRITE_BUFFER=36663,s.COPY_READ_BUFFER_BINDING=36662,s.COPY_WRITE_BUFFER_BINDING=36663,s.FLOAT_MAT2x3=35685,s.FLOAT_MAT2x4=35686,s.FLOAT_MAT3x2=35687,s.FLOAT_MAT3x4=35688,s.FLOAT_MAT4x2=35689,s.FLOAT_MAT4x3=35690,s.UNSIGNED_INT_VEC2=36294,s.UNSIGNED_INT_VEC3=36295,s.UNSIGNED_INT_VEC4=36296,s.UNSIGNED_NORMALIZED=35863,s.SIGNED_NORMALIZED=36764,s.VERTEX_ATTRIB_ARRAY_INTEGER=35069,s.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,s.TRANSFORM_FEEDBACK_BUFFER_MODE=35967,s.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968,s.TRANSFORM_FEEDBACK_VARYINGS=35971,s.TRANSFORM_FEEDBACK_BUFFER_START=35972,s.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973,s.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976,s.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978,s.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979,s.INTERLEAVED_ATTRIBS=35980,s.SEPARATE_ATTRIBS=35981,s.TRANSFORM_FEEDBACK_BUFFER=35982,s.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983,s.TRANSFORM_FEEDBACK=36386,s.TRANSFORM_FEEDBACK_PAUSED=36387,s.TRANSFORM_FEEDBACK_ACTIVE=36388,s.TRANSFORM_FEEDBACK_BINDING=36389,s.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296,s.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297,s.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298,s.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299,s.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300,s.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301,s.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302,s.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303,s.FRAMEBUFFER_DEFAULT=33304,s.DEPTH24_STENCIL8=35056,s.DRAW_FRAMEBUFFER_BINDING=36006,s.READ_FRAMEBUFFER=36008,s.DRAW_FRAMEBUFFER=36009,s.READ_FRAMEBUFFER_BINDING=36010,s.RENDERBUFFER_SAMPLES=36011,s.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052,s.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182,s.UNIFORM_BUFFER=35345,s.UNIFORM_BUFFER_BINDING=35368,s.UNIFORM_BUFFER_START=35369,s.UNIFORM_BUFFER_SIZE=35370,s.MAX_VERTEX_UNIFORM_BLOCKS=35371,s.MAX_FRAGMENT_UNIFORM_BLOCKS=35373,s.MAX_COMBINED_UNIFORM_BLOCKS=35374,s.MAX_UNIFORM_BUFFER_BINDINGS=35375,s.MAX_UNIFORM_BLOCK_SIZE=35376,s.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377,s.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379,s.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380,s.ACTIVE_UNIFORM_BLOCKS=35382,s.UNIFORM_TYPE=35383,s.UNIFORM_SIZE=35384,s.UNIFORM_BLOCK_INDEX=35386,s.UNIFORM_OFFSET=35387,s.UNIFORM_ARRAY_STRIDE=35388,s.UNIFORM_MATRIX_STRIDE=35389,s.UNIFORM_IS_ROW_MAJOR=35390,s.UNIFORM_BLOCK_BINDING=35391,s.UNIFORM_BLOCK_DATA_SIZE=35392,s.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394,s.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,s.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,s.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,s.OBJECT_TYPE=37138,s.SYNC_CONDITION=37139,s.SYNC_STATUS=37140,s.SYNC_FLAGS=37141,s.SYNC_FENCE=37142,s.SYNC_GPU_COMMANDS_COMPLETE=37143,s.UNSIGNALED=37144,s.SIGNALED=37145,s.ALREADY_SIGNALED=37146,s.TIMEOUT_EXPIRED=37147,s.CONDITION_SATISFIED=37148,s.WAIT_FAILED=37149,s.SYNC_FLUSH_COMMANDS_BIT=1,s.COLOR=6144,s.DEPTH=6145,s.STENCIL=6146,s.MIN=32775,s.MAX=32776,s.DEPTH_COMPONENT24=33190,s.STREAM_READ=35041,s.STREAM_COPY=35042,s.STATIC_READ=35045,s.STATIC_COPY=35046,s.DYNAMIC_READ=35049,s.DYNAMIC_COPY=35050,s.DEPTH_COMPONENT32F=36012,s.DEPTH32F_STENCIL8=36013,s.INVALID_INDEX=-1,s.TIMEOUT_IGNORED=-1,s.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447,e.default=s}(GL)),GL}var hasRequiredWebGLRenderContext_Impl_;function requireWebGLRenderContext_Impl_(){return hasRequiredWebGLRenderContext_Impl_||(hasRequiredWebGLRenderContext_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireGL()}var c=function(){};c.__name__="lime.graphics._WebGLRenderContext.WebGLRenderContext_Impl_",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.graphics._WebGLRenderContext.WebGLRenderContext_Impl_"]=c,c.bufferData=function(s,h,f,g){s.bufferData(h,f,g)},c.bufferSubData=function(s,h,f,g){s.bufferSubData(h,f,g)},c.compressedTexImage2D=function(s,h,f,g,b,k,$,j){s.compressedTexImage2D(h,f,g,b,k,$,j)},c.compressedTexSubImage2D=function(s,h,f,g,b,k,$,j,_e){s.compressedTexSubImage2D(h,f,g,b,k,$,j,_e)},c.readPixels=function(s,h,f,g,b,k,$,j){s.readPixels(h,f,g,b,k,$,j)},c.texImage2D=function(s,h,f,g,b,k,$,j,_e,et){j!=null?s.texImage2D(h,f,g,b,k,$,j,_e,et):s.texImage2D(h,f,g,b,k,$)},c.texSubImage2D=function(s,h,f,g,b,k,$,j,_e,et){_e!=null?s.texSubImage2D(h,f,g,b,k,$,j,_e,et):s.texSubImage2D(h,f,g,b,k,$,j)},c.uniformMatrix2fv=function(s,h,f,g){var b=g;s.uniformMatrix2fv(h,f,b)},c.uniformMatrix3fv=function(s,h,f,g){var b=g;s.uniformMatrix3fv(h,f,b)},c.uniformMatrix4fv=function(s,h,f,g){var b=g;s.uniformMatrix4fv(h,f,b)},c.fromWebGL2RenderContext=function(s){return s},c.fromRenderContext=function(s){return s.webgl},c.fromGL=function(s){return o().default.context},e.default=c}(WebGLRenderContext_Impl_)),WebGLRenderContext_Impl_}var Timer$4={},Log$1={},hasRequiredLog$1;function requireLog$1(){return hasRequiredLog$1||(hasRequiredLog$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}var c=function(){};c.__name__="haxe.Log",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["haxe.Log"]=c,c.formatOutput=function(s,h){var f=o().default.string(s);if(h==null)return f;var g=h.fileName+":"+h.lineNumber;if(h.customParams!=null)for(var b=0,k=h.customParams;b<k.length;){var $=k[b];++b,f+=", "+o().default.string($)}return g+": "+f},c.trace=function(s,h){var f=c.formatOutput(s,h);typeof console<"u"&&console.log!=null&&console.log(f)},e.default=c}(Log$1)),Log$1}var hasRequiredTimer;function requireTimer(){return hasRequiredTimer||(hasRequiredTimer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireLog$1()}var c=function(s){var h=this;this.id=setInterval(function(){h.run()},s)};c.__name__="haxe.Timer",c.__isInterface__=!1,c.prototype={stop:function(){this.id!=null&&(clearInterval(this.id),this.id=null)},run:function(){}},c.prototype.__class__=c.prototype.constructor=d["haxe.Timer"]=c,c.delay=function(s,h){var f=new c(h);return f.run=function(){f.stop(),s()},f},c.measure=function(s,h){var f=c.stamp(),g=s();return o().default.trace(c.stamp()-f+"s",h),g},c.stamp=function(){return new Date().getTime()/1e3},e.default=c}(Timer$4)),Timer$4}var System$2={},IntMap={},IMap={},hasRequiredIMap;function requireIMap(){return hasRequiredIMap||(hasRequiredIMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe.IMap",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.IMap"]=o,e.default=o}(IMap)),IMap}var hasRequiredIntMap;function requireIntMap(){return hasRequiredIntMap||(hasRequiredIntMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIMap()}function c(){return requireHxOverrides()}var s=function(){this.h={}};s.__name__="haxe.ds.IntMap",s.__isInterface__=!1,s.__interfaces__=[o().default],s.prototype={set:function(h,f){this.h[h]=f},get:function(h){return this.h[h]},exists:function(h){return this.h.hasOwnProperty(h)},remove:function(h){return this.h.hasOwnProperty(h)?(delete this.h[h],!0):!1},keys:function(){var h=[];for(var f in this.h)this.h.hasOwnProperty(f)&&h.push(f|0);return c().default.iter(h)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var h=this.it.next();return this.ref[h]}}}},s.prototype.__class__=s.prototype.constructor=d["haxe.ds.IntMap"]=s,e.default=s}(IntMap)),IntMap}var Display={},hasRequiredDisplay;function requireDisplay(){return hasRequiredDisplay||(hasRequiredDisplay=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.system.Display",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.system.Display"]=o,e.default=o}(Display)),Display}var DisplayMode={},hasRequiredDisplayMode;function requireDisplayMode(){return hasRequiredDisplayMode||(hasRequiredDisplayMode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f){this.width=c,this.height=s,this.refreshRate=h,this.pixelFormat=f};o.__name__="lime.system.DisplayMode",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.system.DisplayMode"]=o,e.default=o}(DisplayMode)),DisplayMode}var Rectangle$3={},Vector2={},hasRequiredVector2;function requireVector2(){return hasRequiredVector2||(hasRequiredVector2=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){s==null&&(s=0),c==null&&(c=0),this.x=c,this.y=s};o.__name__="lime.math.Vector2",o.__isInterface__=!1,o.prototype={add:function(c,s){return s==null&&(s=new o),s.setTo(c.x+this.x,c.y+this.y),s},clone:function(){return new o(this.x,this.y)},equals:function(c){return c!=null&&c.x==this.x?c.y==this.y:!1},normalize:function(c){if(!(this.x==0&&this.y==0)){var s=c/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=s,this.y*=s}},offset:function(c,s){this.x+=c,this.y+=s},setTo:function(c,s){this.x=c,this.y=s},subtract:function(c,s){return s==null&&(s=new o),s.setTo(this.x-c.x,this.y-c.y),s},__toFlashPoint:function(){return null},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y}},o.prototype.__class__=o.prototype.constructor=d["lime.math.Vector2"]=o,o.distance=function(c,s){var h=c.x-s.x,f=c.y-s.y;return Math.sqrt(h*h+f*f)},o.interpolate=function(c,s,h,f){return f==null&&(f=new o),f.setTo(s.x+h*(c.x-s.x),s.y+h*(c.y-s.y)),f},o.polar=function(c,s,h){return h==null&&(h=new o),h.setTo(c*Math.cos(s),c*Math.sin(s)),h},e.default=o}(Vector2)),Vector2}var hasRequiredRectangle;function requireRectangle(){return hasRequiredRectangle||(hasRequiredRectangle=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVector2()}var c=function(s,h,f,g){g==null&&(g=0),f==null&&(f=0),h==null&&(h=0),s==null&&(s=0),this.x=s,this.y=h,this.width=f,this.height=g};c.__name__="lime.math.Rectangle",c.__isInterface__=!1,c.prototype={clone:function(){return new c(this.x,this.y,this.width,this.height)},contains:function(s,h){return s>=this.x&&h>=this.y&&s<this.get_right()?h<this.get_bottom():!1},containsPoint:function(s){return this.containsVector(s)},containsRect:function(s){return s.width<=0||s.height<=0?s.x>this.x&&s.y>this.y&&s.get_right()<this.get_right()?s.get_bottom()<this.get_bottom():!1:s.x>=this.x&&s.y>=this.y&&s.get_right()<=this.get_right()?s.get_bottom()<=this.get_bottom():!1},containsVector:function(s){return this.contains(s.x,s.y)},copyFrom:function(s){this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height},equals:function(s){return s!=null&&this.x==s.x&&this.y==s.y&&this.width==s.width?this.height==s.height:!1},inflate:function(s,h){this.x-=s,this.width+=s*2,this.y-=h,this.height+=h*2},inflateVector:function(s){this.inflate(s.x,s.y)},intersection:function(s,h){h==null&&(h=new c);var f=this.x<s.x?s.x:this.x,g=this.get_right()>s.get_right()?s.get_right():this.get_right();if(g<=f)return h.setEmpty(),h;var b=this.y<s.y?s.y:this.y,k=this.get_bottom()>s.get_bottom()?s.get_bottom():this.get_bottom();return k<=b?(h.setEmpty(),h):(h.x=f,h.y=b,h.width=g-f,h.height=k-b,h)},intersects:function(s){var h=this.x<s.x?s.x:this.x,f=this.get_right()>s.get_right()?s.get_right():this.get_right();if(f<=h)return!1;var g=this.y<s.y?s.y:this.y,b=this.get_bottom()>s.get_bottom()?s.get_bottom():this.get_bottom();return b>g},isEmpty:function(){return this.width<=0?!0:this.height<=0},offset:function(s,h){this.x+=s,this.y+=h},offsetVector:function(s){this.x+=s.x,this.y+=s.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(s,h,f,g){this.x=s,this.y=h,this.width=f,this.height=g},union:function(s,h){if(h==null&&(h=new c),this.width==0||this.height==0)h.copyFrom(s);else if(s.width==0||s.height==0)h.copyFrom(this);else{var f=this.x>s.x?s.x:this.x,g=this.get_right()<s.get_right()?s.get_right():this.get_right(),b=this.y>s.y?s.y:this.y,k=this.get_bottom()<s.get_bottom()?s.get_bottom():this.get_bottom();h.setTo(f,b,g-f,k-b)}return h},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},set_bottom:function(s){return this.height=s-this.y,s},get_bottomRight:function(){return new(o()).default(this.x+this.width,this.y+this.height)},set_bottomRight:function(s){return this.width=s.x-this.x,this.height=s.y-this.y,s.clone()},get_left:function(){return this.x},set_left:function(s){return this.width-=s-this.x,this.x=s,s},get_right:function(){return this.x+this.width},set_right:function(s){return this.width=s-this.x,s},get_size:function(){return new(o()).default(this.width,this.height)},set_size:function(s){return this.width=s.x,this.height=s.y,s.clone()},get_top:function(){return this.y},set_top:function(s){return this.height-=s-this.y,this.y=s,s},get_topLeft:function(){return new(o()).default(this.x,this.y)},set_topLeft:function(s){return this.x=s.x,this.y=s.y,s.clone()}},c.prototype.__class__=c.prototype.constructor=d["lime.math.Rectangle"]=c,e.default=c}(Rectangle$3)),Rectangle$3}var CFFI={},hasRequiredCFFI;function requireCFFI(){return hasRequiredCFFI||(hasRequiredCFFI=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){};c.__name__="lime.system.CFFI",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.system.CFFI"]=c,c.available=!1,c.enabled=!1,c.load=function(s,h,f,g){if(!c.enabled)return o().default.makeVarArgs(function(k){return{}});var b=null;return b},c.__findHaxelib=function(s){return""},c.__loaderTrace=function(s){},c.__sysName=function(){return null},c.__tryLoad=function(s,h,f,g){return null},c.__moduleNames=null,e.default=c}(CFFI)),CFFI}var StringMap={},StringMapIterator={},hasRequiredStringMapIterator;function requireStringMapIterator(){return hasRequiredStringMapIterator||(hasRequiredStringMapIterator=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.map=c,this.keys=s,this.index=0,this.count=s.length};o.__name__="haxe.ds._StringMap.StringMapIterator",o.__isInterface__=!1,o.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])}},o.prototype.__class__=o.prototype.constructor=d["haxe.ds._StringMap.StringMapIterator"]=o,e.default=o}(StringMapIterator)),StringMapIterator}var hasRequiredStringMap;function requireStringMap(){return hasRequiredStringMap||(hasRequiredStringMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var f={},d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIMap()}function c(){return requireHxOverrides()}function s(){return requireStringMapIterator()}var h=function(){this.h={}};h.__name__="haxe.ds.StringMap",h.__isInterface__=!1,h.__interfaces__=[o().default],h.prototype={isReserved:function(g){return f[g]!=null},set:function(g,b){this.isReserved(g)?this.setReserved(g,b):this.h[g]=b},get:function(g){return this.isReserved(g)?this.getReserved(g):this.h[g]},exists:function(g){return this.isReserved(g)?this.existsReserved(g):this.h.hasOwnProperty(g)},setReserved:function(g,b){this.rh==null&&(this.rh={}),this.rh["$"+g]=b},getReserved:function(g){return this.rh==null?null:this.rh["$"+g]},existsReserved:function(g){return this.rh==null?!1:this.rh.hasOwnProperty("$"+g)},remove:function(g){return this.isReserved(g)?(g="$"+g,this.rh==null||!this.rh.hasOwnProperty(g)?!1:(delete this.rh[g],!0)):this.h.hasOwnProperty(g)?(delete this.h[g],!0):!1},keys:function(){return c().default.iter(this.arrayKeys())},arrayKeys:function(){var g=[];for(var b in this.h)this.h.hasOwnProperty(b)&&g.push(b);if(this.rh!=null)for(var b in this.rh)b.charCodeAt(0)==36&&g.push(b.substr(1));return g},iterator:function(){return new(s()).default(this,this.arrayKeys())},clear:function(){this.h={},this.rh=null}},h.prototype.__class__=h.prototype.constructor=d["haxe.ds.StringMap"]=h;var f={};e.default=h}(StringMap)),StringMap}var Endian$1={},hasRequiredEndian;function requireEndian(){return hasRequiredEndian||(hasRequiredEndian=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.system.Endian"]={__ename__:"lime.system.Endian",__constructs__:["LITTLE_ENDIAN","BIG_ENDIAN"],LITTLE_ENDIAN:{_hx_index:0,__enum__:"lime.system.Endian",toString:d},BIG_ENDIAN:{_hx_index:1,__enum__:"lime.system.Endian",toString:d}};e.default=c}(Endian$1)),Endian$1}var hasRequiredSystem;function requireSystem(){return hasRequiredSystem||(hasRequiredSystem=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}function c(){return requireStd()}function s(){return require_Reflect()}function h(){return requireStringTools()}function f(){return requireApplication$1()}function g(){return requireDisplay()}function b(){return requireDisplayMode()}function k(){return requireRectangle()}function $(){return requireCFFI()}function j(){return requireStringMap()}function _e(){return requireEndian()}var et=function(){};et.__name__="lime.system.System",et.__isInterface__=!1,et.prototype={},et.prototype.__class__=et.prototype.constructor=d["lime.system.System"]=et,et.embed=function(nt,rt,tt,it,st){if(et.__applicationEntryPoint!=null&&et.__applicationEntryPoint.exists(nt)){var at=null;if(typeof rt=="string"?at=window.document.getElementById(rt):rt==null?at=window.document.createElement("div"):at=rt,at==null){window.console.log("[lime.embed] ERROR: Cannot find target element: "+c().default.string(rt));return}if(tt==null&&(tt=0),it==null&&(it=0),st==null&&(st={}),s().default.hasField(st,"background")&&typeof st.background=="string"){var _t=h().default.replace(c().default.string(st.background),"#","");_t.indexOf("0x")>-1?st.background=c().default.parseInt(_t):st.background=c().default.parseInt("0x"+_t)}st.element=at,st.width=tt,st.height=it,et.__applicationEntryPoint.get(nt)(st)}},et.exit=function(nt){var rt=f().default.current;rt!=null&&(rt.onExit.dispatch(nt),rt.onExit.canceled)||rt!=null&&rt.get_window()!=null&&rt.get_window().close()},et.getDisplay=function(nt){if(nt==0){var rt=new(g()).default;return rt.id=0,rt.name="Generic Display",rt.dpi=96*window.devicePixelRatio,rt.currentMode=new(b()).default(window.screen.width,window.screen.height,60,1),rt.supportedModes=[rt.currentMode],rt.bounds=new(k()).default(0,0,rt.currentMode.width,rt.currentMode.height),rt}return null},et.getTimer=function(){return c().default.int(window.performance.now())},et.load=function(nt,rt,tt,it){return it==null&&(it=!1),tt==null&&(tt=0),$().default.load(nt,rt,tt,it)},et.openFile=function(nt){nt!=null&&window.open(nt,"_blank")},et.openURL=function(nt,rt){rt==null&&(rt="_blank"),nt!=null&&window.open(nt,rt)},et.__copyMissingFields=function(nt,rt){if(!(rt==null||nt==null))for(var tt=0,it=s().default.fields(rt);tt<it.length;){var st=it[tt];++tt,s().default.hasField(nt,st)||s().default.setField(nt,st,s().default.field(rt,st))}},et.__getDirectory=function(nt){return null},et.__parseBool=function(nt){return nt=="true"},et.__registerEntryPoint=function(nt,rt){et.__applicationEntryPoint==null&&(et.__applicationEntryPoint=new(j()).default),et.__applicationEntryPoint.set(nt,rt)},et.__runProcess=function(nt,rt){return null},et.get_allowScreenTimeout=function(){return!0},et.set_allowScreenTimeout=function(nt){return!0},et.get_applicationDirectory=function(){return et.__applicationDirectory==null&&(et.__applicationDirectory=et.__getDirectory(0)),et.__applicationDirectory},et.get_applicationStorageDirectory=function(){return et.__applicationStorageDirectory==null&&(et.__applicationStorageDirectory=et.__getDirectory(1)),et.__applicationStorageDirectory},et.get_deviceModel=function(){return et.__deviceModel==null,et.__deviceModel},et.get_deviceVendor=function(){return et.__deviceVendor==null,et.__deviceVendor},et.get_desktopDirectory=function(){return et.__desktopDirectory==null&&(et.__desktopDirectory=et.__getDirectory(2)),et.__desktopDirectory},et.get_documentsDirectory=function(){return et.__documentsDirectory==null&&(et.__documentsDirectory=et.__getDirectory(3)),et.__documentsDirectory},et.get_endianness=function(){if(et.__endianness==null){var nt=new ArrayBuffer(2),rt=null,tt=null,it=null,st=null,at;rt!=null?at=new Uint8Array(rt):tt!=null?at=new Uint8Array(tt):it!=null?at=new Uint8Array(it):nt!=null?st==null?at=new Uint8Array(nt,0):at=new Uint8Array(nt,0,st):at=null;var _t=at,ut=null,ot=null,lt=null,ft=null,ht;ut!=null?ht=new Uint16Array(ut):ot!=null?ht=new Uint16Array(ot):lt!=null?ht=new Uint16Array(lt):nt!=null?ft==null?ht=new Uint16Array(nt,0):ht=new Uint16Array(nt,0,ft):ht=null;var dt=ht;_t[0]=170,_t[1]=187,dt[0]==43707?et.__endianness=_e().default.BIG_ENDIAN:et.__endianness=_e().default.LITTLE_ENDIAN}return et.__endianness},et.get_fontsDirectory=function(){return et.__fontsDirectory==null&&(et.__fontsDirectory=et.__getDirectory(4)),et.__fontsDirectory},et.get_numDisplays=function(){return 1},et.get_platformLabel=function(){if(et.__platformLabel==null){var nt=et.get_platformName(),rt=et.get_platformVersion();nt!=null&&rt!=null?et.__platformLabel=nt+" "+rt:nt!=null&&(et.__platformLabel=nt)}return et.__platformLabel},et.get_platformName=function(){return et.__platformName==null&&(et.__platformName="HTML5"),et.__platformName},et.get_platformVersion=function(){return et.__platformVersion==null,et.__platformVersion},et.get_userDirectory=function(){return et.__userDirectory==null&&(et.__userDirectory=et.__getDirectory(5)),et.__userDirectory},et.__directories=new(o()).default,e.default=et}(System$2)),System$2}var Joystick={},_Event_lime_ui_Joystick_Void={},hasRequired_Event_lime_ui_Joystick_Void;function require_Event_lime_ui_Joystick_Void(){return hasRequired_Event_lime_ui_Joystick_Void||(hasRequired_Event_lime_ui_Joystick_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_Joystick_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_Joystick_Void"]=c,e.default=c}(_Event_lime_ui_Joystick_Void)),_Event_lime_ui_Joystick_Void}var _Event_Int_Float_Float_Void={},hasRequired_Event_Int_Float_Float_Void;function require_Event_Int_Float_Float_Void(){return hasRequired_Event_Int_Float_Float_Void||(hasRequired_Event_Int_Float_Float_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Int_Float_Float_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Int_Float_Float_Void"]=c,e.default=c}(_Event_Int_Float_Float_Void)),_Event_Int_Float_Float_Void}var _Event_Int_lime_ui_JoystickHatPosition_Void={},hasRequired_Event_Int_lime_ui_JoystickHatPosition_Void;function require_Event_Int_lime_ui_JoystickHatPosition_Void(){return hasRequired_Event_Int_lime_ui_JoystickHatPosition_Void||(hasRequired_Event_Int_lime_ui_JoystickHatPosition_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=c,e.default=c}(_Event_Int_lime_ui_JoystickHatPosition_Void)),_Event_Int_lime_ui_JoystickHatPosition_Void}var _Event_Int_Float_Void={},hasRequired_Event_Int_Float_Void;function require_Event_Int_Float_Void(){return hasRequired_Event_Int_Float_Void||(hasRequired_Event_Int_Float_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Int_Float_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Int_Float_Void"]=c,e.default=c}(_Event_Int_Float_Void)),_Event_Int_Float_Void}var hasRequiredJoystick;function requireJoystick(){return hasRequiredJoystick||(hasRequiredJoystick=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}function c(){return require_Event_lime_ui_Joystick_Void()}function s(){return require_Event_Int_Float_Float_Void()}function h(){return require_Event_Int_lime_ui_JoystickHatPosition_Void()}function f(){return require_Event_Void_Void()}function g(){return require_Event_Int_Void()}function b(){return require_Event_Int_Float_Void()}var k=function($){this.onTrackballMove=new(s()).default,this.onHatMove=new(h()).default,this.onDisconnect=new(f()).default,this.onButtonUp=new(g()).default,this.onButtonDown=new(g()).default,this.onAxisMove=new(b()).default,this.id=$,this.connected=!0};k.__name__="lime.ui.Joystick",k.__isInterface__=!1,k.prototype={get_guid:function(){var $=k.__getDeviceData();return $[this.id].id},get_name:function(){var $=k.__getDeviceData();return $[this.id].id},get_numAxes:function(){var $=k.__getDeviceData();return $[this.id].axes.length},get_numButtons:function(){var $=k.__getDeviceData();return $[this.id].buttons.length},get_numHats:function(){return 0},get_numTrackballs:function(){return 0}},k.prototype.__class__=k.prototype.constructor=d["lime.ui.Joystick"]=k,k.__connect=function($){if(!k.devices.exists($)){var j=new k($);k.devices.set($,j),k.onConnect.dispatch(j)}},k.__disconnect=function($){var j=k.devices.get($);j!=null&&(j.connected=!1),k.devices.remove($),j!=null&&j.onDisconnect.dispatch()},k.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null},k.devices=new(o()).default,k.onConnect=new(c()).default,e.default=k}(Joystick)),Joystick}var Gamepad={},_Event_lime_ui_Gamepad_Void={},hasRequired_Event_lime_ui_Gamepad_Void;function require_Event_lime_ui_Gamepad_Void(){return hasRequired_Event_lime_ui_Gamepad_Void||(hasRequired_Event_lime_ui_Gamepad_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_Gamepad_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_Gamepad_Void"]=c,e.default=c}(_Event_lime_ui_Gamepad_Void)),_Event_lime_ui_Gamepad_Void}var _Event_lime_ui_GamepadButton_Void={},hasRequired_Event_lime_ui_GamepadButton_Void;function require_Event_lime_ui_GamepadButton_Void(){return hasRequired_Event_lime_ui_GamepadButton_Void||(hasRequired_Event_lime_ui_GamepadButton_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_GamepadButton_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_GamepadButton_Void"]=c,e.default=c}(_Event_lime_ui_GamepadButton_Void)),_Event_lime_ui_GamepadButton_Void}var _Event_lime_ui_GamepadAxis_Float_Void={},hasRequired_Event_lime_ui_GamepadAxis_Float_Void;function require_Event_lime_ui_GamepadAxis_Float_Void(){return hasRequired_Event_lime_ui_GamepadAxis_Float_Void||(hasRequired_Event_lime_ui_GamepadAxis_Float_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h){this.canceled=!1;for(var f=this.__listeners,g=this.__repeat,b=0;b<f.length&&(f[b](s,h),g[b]?++b:this.remove(f[b]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=c,e.default=c}(_Event_lime_ui_GamepadAxis_Float_Void)),_Event_lime_ui_GamepadAxis_Float_Void}var hasRequiredGamepad;function requireGamepad(){return hasRequiredGamepad||(hasRequiredGamepad=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireJoystick()}function c(){return requireIntMap()}function s(){return require_Event_lime_ui_Gamepad_Void()}function h(){return require_Event_Void_Void()}function f(){return require_Event_lime_ui_GamepadButton_Void()}function g(){return require_Event_lime_ui_GamepadAxis_Float_Void()}var b=function(k){this.onDisconnect=new(h()).default,this.onButtonUp=new(f()).default,this.onButtonDown=new(f()).default,this.onAxisMove=new(g()).default,this.id=k,this.connected=!0};b.__name__="lime.ui.Gamepad",b.__isInterface__=!1,b.prototype={get_guid:function(){var k=o().default.__getDeviceData();return k[this.id].id},get_name:function(){var k=o().default.__getDeviceData();return k[this.id].id}},b.prototype.__class__=b.prototype.constructor=d["lime.ui.Gamepad"]=b,b.addMappings=function(k){},b.__connect=function(k){if(!b.devices.exists(k)){var $=new b(k);b.devices.set(k,$),b.onConnect.dispatch($)}},b.__disconnect=function(k){var $=b.devices.get(k);$!=null&&($.connected=!1),b.devices.remove(k),$!=null&&$.onDisconnect.dispatch()},b.devices=new(c()).default,b.onConnect=new(s()).default,e.default=b}(Gamepad)),Gamepad}var MouseWheelMode={},hasRequiredMouseWheelMode;function requireMouseWheelMode(){return hasRequiredMouseWheelMode||(hasRequiredMouseWheelMode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:["PIXELS","LINES","PAGES","UNKNOWN"],UNKNOWN:{_hx_index:3,__enum__:"lime.ui.MouseWheelMode",toString:d},PIXELS:{_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:d},PAGES:{_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:d},LINES:{_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:d}};e.default=c}(MouseWheelMode)),MouseWheelMode}var Touch={},_Event_lime_ui_Touch_Void={},hasRequired_Event_lime_ui_Touch_Void;function require_Event_lime_ui_Touch_Void(){return hasRequired_Event_lime_ui_Touch_Void||(hasRequired_Event_lime_ui_Touch_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_Touch_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_Touch_Void"]=c,e.default=c}(_Event_lime_ui_Touch_Void)),_Event_lime_ui_Touch_Void}var hasRequiredTouch;function requireTouch(){return hasRequiredTouch||(hasRequiredTouch=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Event_lime_ui_Touch_Void()}var c=function(s,h,f,g,b,k,$){this.x=s,this.y=h,this.id=f,this.dx=g,this.dy=b,this.pressure=k,this.device=$};c.__name__="lime.ui.Touch",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.ui.Touch"]=c,c.onCancel=new(o()).default,c.onEnd=new(o()).default,c.onMove=new(o()).default,c.onStart=new(o()).default,e.default=c}(Touch)),Touch}var Image$2={},ImageType={},hasRequiredImageType;function requireImageType(){return hasRequiredImageType||(hasRequiredImageType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:["CANVAS","DATA","FLASH","CUSTOM"],FLASH:{_hx_index:2,__enum__:"lime.graphics.ImageType",toString:d},DATA:{_hx_index:1,__enum__:"lime.graphics.ImageType",toString:d},CUSTOM:{_hx_index:3,__enum__:"lime.graphics.ImageType",toString:d},CANVAS:{_hx_index:0,__enum__:"lime.graphics.ImageType",toString:d}};e.default=c}(ImageType)),ImageType}var ImageCanvasUtil={},ImageDataUtil={},ImageDataView={},hasRequiredImageDataView;function requireImageDataView(){return hasRequiredImageDataView||(hasRequiredImageDataView=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireRectangle()}var c=function(s,h){this.image=s,h==null?this.rect=s.get_rect():(h.x<0&&(h.x=0),h.y<0&&(h.y=0),h.x+h.width>s.width&&(h.width=s.width-h.x),h.y+h.height>s.height&&(h.height=s.height-h.y),h.width<0&&(h.width=0),h.height<0&&(h.height=0),this.rect=h),this.stride=s.buffer.get_stride(),this.__update()};c.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView",c.__isInterface__=!1,c.prototype={clip:function(s,h,f,g){this.tempRect==null&&(this.tempRect=new(o()).default),this.tempRect.setTo(s,h,f,g),this.rect.intersection(this.tempRect,this.rect),this.__update()},hasRow:function(s){return s>=0?s<this.height:!1},offset:function(s,h){s<0?(this.rect.x+=s,this.rect.x<0&&(this.rect.x=0)):(this.rect.x+=s,this.rect.width-=s),h<0?(this.rect.y+=h,this.rect.y<0&&(this.rect.y=0)):(this.rect.y+=h,this.rect.height-=h),this.__update()},row:function(s){return this.byteOffset+this.stride*s},__update:function(){this.x=Math.ceil(this.rect.x),this.y=Math.ceil(this.rect.y),this.width=Math.floor(this.rect.width),this.height=Math.floor(this.rect.height),this.byteOffset=this.stride*(this.y+this.image.offsetY)+(this.x+this.image.offsetX)*4}},c.prototype.__class__=c.prototype.constructor=d["lime._internal.graphics._ImageDataUtil.ImageDataView"]=c,e.default=c}(ImageDataView)),ImageDataView}var RGBA_Impl_={},hasRequiredRGBA_Impl_;function requireRGBA_Impl_(){return hasRequiredRGBA_Impl_||(hasRequiredRGBA_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.math._RGBA.RGBA_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.math._RGBA.RGBA_Impl_"]=o;{var c=new Uint32Array(256);o.__alpha16=c;for(var s=0;s<256;){var h=s++;o.__alpha16[h]=Math.ceil(h*257.00392156862745)}var f=new Uint8Array(511);o.__clamp=f;for(var g=0;g<255;){var b=g++;o.__clamp[b]=b}for(var k=255,$=511;k<$;){var j=k++;o.__clamp[j]=255}}o._new=function(_e){_e==null&&(_e=0);var et=_e;return et},o.create=function(_e,et,nt,rt){var tt=0,it=tt;return it=(_e&255)<<24|(et&255)<<16|(nt&255)<<8|rt&255,it},o.multiplyAlpha=function(_e){_e&255?(_e&255)!=255&&(o.a16=o.__alpha16[_e&255],_e=((_e>>>24&255)*o.a16>>16&255)<<24|((_e>>>16&255)*o.a16>>16&255)<<16|((_e>>>8&255)*o.a16>>16&255)<<8|_e&255&255):_e!=0&&(_e=0)},o.readUInt8=function(_e,et,nt,rt,tt){switch(tt==null&&(tt=!1),rt==null&&(rt=0),rt){case 0:_e=(et[nt]&255)<<24|(et[nt+1]&255)<<16|(et[nt+2]&255)<<8|et[nt+3]&255;break;case 1:_e=(et[nt+1]&255)<<24|(et[nt+2]&255)<<16|(et[nt+3]&255)<<8|et[nt]&255;break;case 2:_e=(et[nt+2]&255)<<24|(et[nt+1]&255)<<16|(et[nt]&255)<<8|et[nt+3]&255;break}tt&&_e&255&&(_e&255)!=255&&(o.unmult=255/(_e&255),_e=(o.__clamp[Math.round((_e>>>24&255)*o.unmult)]&255)<<24|(o.__clamp[Math.round((_e>>>16&255)*o.unmult)]&255)<<16|(o.__clamp[Math.round((_e>>>8&255)*o.unmult)]&255)<<8|_e&255&255)},o.set=function(_e,et,nt,rt,tt){},o.unmultiplyAlpha=function(_e){_e&255&&(_e&255)!=255&&(o.unmult=255/(_e&255),_e=(o.__clamp[Math.round((_e>>>24&255)*o.unmult)]&255)<<24|(o.__clamp[Math.round((_e>>>16&255)*o.unmult)]&255)<<16|(o.__clamp[Math.round((_e>>>8&255)*o.unmult)]&255)<<8|_e&255&255)},o.writeUInt8=function(_e,et,nt,rt,tt){switch(tt==null&&(tt=!1),rt==null&&(rt=0),tt&&(_e&255?(_e&255)!=255&&(o.a16=o.__alpha16[_e&255],_e=((_e>>>24&255)*o.a16>>16&255)<<24|((_e>>>16&255)*o.a16>>16&255)<<16|((_e>>>8&255)*o.a16>>16&255)<<8|_e&255&255):_e!=0&&(_e=0)),rt){case 0:et[nt]=_e>>>24&255,et[nt+1]=_e>>>16&255,et[nt+2]=_e>>>8&255,et[nt+3]=_e&255;break;case 1:et[nt]=_e&255,et[nt+1]=_e>>>24&255,et[nt+2]=_e>>>16&255,et[nt+3]=_e>>>8&255;break;case 2:et[nt]=_e>>>8&255,et[nt+1]=_e>>>16&255,et[nt+2]=_e>>>24&255,et[nt+3]=_e&255;break}},o.__fromARGB=function(_e){var et=0,nt=et;return nt=(_e>>>16&255&255)<<24|(_e>>>8&255&255)<<16|(_e&255&255)<<8|_e>>>24&255&255,nt},o.__fromBGRA=function(_e){var et=0,nt=et;return nt=(_e>>>8&255&255)<<24|(_e>>>16&255&255)<<16|(_e>>>24&255&255)<<8|_e&255&255,nt},o.get_a=function(_e){return _e&255},o.set_a=function(_e,et){return et},o.get_b=function(_e){return _e>>>8&255},o.set_b=function(_e,et){return et},o.get_g=function(_e){return _e>>>16&255},o.set_g=function(_e,et){return et},o.get_r=function(_e){return _e>>>24&255},o.set_r=function(_e,et){return et},e.default=o}(RGBA_Impl_)),RGBA_Impl_}var Vector4={},hasRequiredVector4;function requireVector4(){return hasRequiredVector4||(hasRequiredVector4=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f){f==null&&(f=0),h==null&&(h=0),s==null&&(s=0),c==null&&(c=0),this.w=f,this.x=c,this.y=s,this.z=h};o.__name__="lime.math.Vector4",o.__isInterface__=!1,o.prototype={add:function(c,s){return s==null&&(s=new o),s.setTo(this.x+c.x,this.y+c.y,this.z+c.z),s},clone:function(){return new o(this.x,this.y,this.z,this.w)},copyFrom:function(c){this.x=c.x,this.y=c.y,this.z=c.z},crossProduct:function(c,s){return s==null&&(s=new o),s.setTo(this.y*c.z-this.z*c.y,this.z*c.x-this.x*c.z,this.x*c.y-this.y*c.x),s.w=1,s},decrementBy:function(c){this.x-=c.x,this.y-=c.y,this.z-=c.z},dotProduct:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},equals:function(c,s){return s==null&&(s=!1),this.x==c.x&&this.y==c.y&&this.z==c.z?s?this.w==c.w:!0:!1},incrementBy:function(c){this.x+=c.x,this.y+=c.y,this.z+=c.z},nearEquals:function(c,s,h){return h==null&&(h=!1),Math.abs(this.x-c.x)<s&&Math.abs(this.y-c.y)<s&&Math.abs(this.z-c.z)<s?h?Math.abs(this.w-c.w)<s:!0:!1},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var c=this.get_length();return c!=0&&(this.x/=c,this.y/=c,this.z/=c),c},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(c){this.x*=c,this.y*=c,this.z*=c},setTo:function(c,s,h){this.x=c,this.y=s,this.z=h},subtract:function(c,s){return s==null&&(s=new o),s.setTo(this.x-c.x,this.y-c.y,this.z-c.z),s},toString:function(){return"Vector4("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},o.prototype.__class__=o.prototype.constructor=d["lime.math.Vector4"]=o,o.angleBetween=function(c,s){var h=c.clone();h.normalize();var f=s.clone();return f.normalize(),Math.acos(h.dotProduct(f))},o.distance=function(c,s){var h=s.x-c.x,f=s.y-c.y,g=s.z-c.z;return Math.sqrt(h*h+f*f+g*g)},o.distanceSquared=function(c,s){var h=s.x-c.x,f=s.y-c.y,g=s.z-c.z;return h*h+f*f+g*g},o.get_X_AXIS=function(){return new o(1,0,0)},o.get_Y_AXIS=function(){return new o(0,1,0)},o.get_Z_AXIS=function(){return new o(0,0,1)},e.default=o}(Vector4)),Vector4}var ColorMatrix_Impl_={},Float32Array_Impl_$1={},Bytes={},_Error$2={},hasRequired_Error;function require_Error(){return hasRequired_Error||(hasRequired_Error=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Overflow:{_hx_index:1,__enum__:"haxe.io.Error",toString:d},OutsideBounds:{_hx_index:2,__enum__:"haxe.io.Error",toString:d},Custom:($_=function(s){return{_hx_index:3,e:s,__enum__:"haxe.io.Error",toString:d}},$_.__params__=["e"],$_),Blocked:{_hx_index:0,__enum__:"haxe.io.Error",toString:d}};e.default=c}(_Error$2)),_Error$2}var ___Int64={},hasRequired___Int64;function require___Int64(){return hasRequired___Int64||(hasRequired___Int64=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.high=c,this.low=s};o.__name__="haxe._Int64.___Int64",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe._Int64.___Int64"]=o,e.default=o}(___Int64)),___Int64}var String_Impl_={},hasRequiredString_Impl_;function requireString_Impl_(){return hasRequiredString_Impl_||(hasRequiredString_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="_String.String_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["_String.String_Impl_"]=o,o.fromCharCode=function(c){return String.fromCodePoint(c)},e.default=o}(String_Impl_)),String_Impl_}var hasRequiredBytes;function requireBytes(){return hasRequiredBytes||(hasRequiredBytes=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return require_Error()}function s(){return require___Int64()}function h(){return requireString_Impl_()}function f(){return requireStringBuf()}function g(){return requireHxOverrides()}function b(){return requireStringTools()}var k=function($){this.set_length($.byteLength),this.b=new Uint8Array($),this.b.bufferValue=$,$.hxBytes=this,$.bytes=this.b};k.__name__="haxe.io.Bytes",k.__isInterface__=!1,k.prototype={get:function($){return this.b[$]},set:function($,j){this.b[$]=j&255},blit:function($,j,_e,et){if($<0||_e<0||et<0||$+et>this.get_length()||_e+et>j.get_length())throw new(o()).default(c().default.OutsideBounds);_e==0&&et==j.b.byteLength?this.b.set(j.b,$):this.b.set(j.b.subarray(_e,_e+et),$)},fill:function($,j,_e){for(var et=0,nt=j;et<nt;)et++,this.set($++,_e)},sub:function($,j){if($<0||j<0||$+j>this.get_length())throw new(o()).default(c().default.OutsideBounds);return new k(this.b.buffer.slice($+this.b.byteOffset,$+this.b.byteOffset+j))},compare:function($){for(var j=this.b,_e=$.b,et=this.get_length()<$.get_length()?this.get_length():$.get_length(),nt=0,rt=et;nt<rt;){var tt=nt++;if(j[tt]!=_e[tt])return j[tt]-_e[tt]}return this.get_length()-$.get_length()},initData:function(){this.data==null&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength))},getDouble:function($){return this.initData(),this.data.getFloat64($,!0)},getFloat:function($){return this.initData(),this.data.getFloat32($,!0)},setDouble:function($,j){this.initData(),this.data.setFloat64($,j,!0)},setFloat:function($,j){this.initData(),this.data.setFloat32($,j,!0)},getUInt16:function($){return this.initData(),this.data.getUint16($,!0)},setUInt16:function($,j){this.initData(),this.data.setUint16($,j,!0)},getInt32:function($){return this.initData(),this.data.getInt32($,!0)},setInt32:function($,j){this.initData(),this.data.setInt32($,j,!0)},getInt64:function($){var j=new(s()).default(this.getInt32($+4),this.getInt32($));return j},setInt64:function($,j){this.setInt32($,j.low),this.setInt32($+4,j.high)},getString:function($,j,_e){if($<0||j<0||$+j>this.get_length())throw new(o()).default(c().default.OutsideBounds);for(var et="",nt=this.b,rt=h().default.fromCharCode,tt=$,it=$+j;tt<it;){var st=nt[tt++];if(st<128){if(st==0)break;et+=rt(st)}else if(st<224)et+=rt((st&63)<<6|nt[tt++]&127);else if(st<240){var at=nt[tt++];et+=rt((st&31)<<12|(at&127)<<6|nt[tt++]&127)}else{var _t=nt[tt++],ut=nt[tt++],ot=(st&15)<<18|(_t&127)<<12|(ut&127)<<6|nt[tt++]&127;et+=rt((ot>>10)+55232),et+=rt(ot&1023|56320)}}return et},readString:function($,j){return this.getString($,j)},toString:function(){return this.getString(0,this.get_length())},toHex:function(){for(var $=new(f()).default,j=[],_e="0123456789abcdef",et=0,nt=_e.length;et<nt;){var rt=et++;j.push(g().default.cca(_e,rt))}for(var tt=0,it=this.get_length();tt<it;){var st=tt++,at=this.get(st);$.addChar(j[at>>4]),$.addChar(j[at&15])}return $.toString()},getData:function(){return this.b.bufferValue},get_length:function(){return this.l},set_length:function($){return this.l=$}},k.prototype.__class__=k.prototype.constructor=d["haxe.io.Bytes"]=k,k.alloc=function($){return new k(new ArrayBuffer($))},k.ofString=function($,j){for(var _e=[],et=0;et<$.length;){var nt=b().default.fastCodeAt($,et++);55296<=nt&&nt<=56319&&(nt=nt-55232<<10|b().default.fastCodeAt($,et++)&1023),nt<=127?_e.push(nt):nt<=2047?(_e.push(192|nt>>6),_e.push(128|nt&63)):nt<=65535?(_e.push(224|nt>>12),_e.push(128|nt>>6&63),_e.push(128|nt&63)):(_e.push(240|nt>>18),_e.push(128|nt>>12&63),_e.push(128|nt>>6&63),_e.push(128|nt&63))}return new k(new Uint8Array(_e).buffer)},k.ofData=function($){var j=$.hxBytes;return j??new k($)},k.ofHex=function($){if($.length&1)throw new(o()).default("Not a hex string (odd number of digits)");for(var j=[],_e=0,et=$.length>>1;_e<et;){var nt=b().default.fastCodeAt($,_e*2),rt=b().default.fastCodeAt($,_e*2+1);nt=(nt&15)+((nt&64)>>6)*9,rt=(rt&15)+((rt&64)>>6)*9,j.push((nt<<4|rt)&255),++_e}return new k(new Uint8Array(j).buffer)},k.fastGet=function($,j){return $.bytes[j]},e.default=k}(Bytes)),Bytes}var hasRequiredFloat32Array_Impl_$1;function requireFloat32Array_Impl_$1(){return hasRequiredFloat32Array_Impl_$1||(hasRequiredFloat32Array_Impl_$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}var c=function(){};c.__name__="lime.utils._Float32Array.Float32Array_Impl_",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.utils._Float32Array.Float32Array_Impl_"]=c,c.toArrayBufferView=function(s){return s},c.fromBytes=function(s,h,f){return h==null&&(h=0),h==null?new Float32Array(s.getData()):f==null?new Float32Array(s.getData(),h):new Float32Array(s.getData(),h,f)},c.toBytes=function(s){return new(o()).default(new Uint8Array(s.buffer))},c.toString=function(s){return s!=null?"Float32Array [byteLength:"+s.byteLength+", length:"+s.length+"]":null},c.BYTES_PER_ELEMENT=4,e.default=c}(Float32Array_Impl_$1)),Float32Array_Impl_$1}var hasRequiredColorMatrix_Impl_;function requireColorMatrix_Impl_(){return hasRequiredColorMatrix_Impl_||(hasRequiredColorMatrix_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireFloat32Array_Impl_$1()}function c(){return requireStd()}var s=function(){};s.__name__="lime.math._ColorMatrix.ColorMatrix_Impl_",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.math._ColorMatrix.ColorMatrix_Impl_"]=s,s._new=function(h){var f;if(h!=null&&h.length==20)f=h;else{var g=null,b=s.__identity,k=null,$=null,j=null,_e;g!=null?_e=new Float32Array(g):b!=null?_e=new Float32Array(b):k!=null?_e=new Float32Array(k):$!=null?j==null?_e=new Float32Array($,0):_e=new Float32Array($,0,j):_e=null,f=_e}return f},s.clone=function(h){var f=o().default.toArrayBufferView(h),g;return f!=null?g=new Float32Array(f):g=null,s._new(g)},s.concat=function(h,f){h[0]+=f[0],h[6]+=f[6],h[12]+=f[12],h[18]+=f[18]},s.copyFrom=function(h,f){h.set(f)},s.identity=function(h){h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=0,h[6]=1,h[7]=0,h[8]=0,h[9]=0,h[10]=0,h[11]=0,h[12]=1,h[13]=0,h[14]=0,h[15]=0,h[16]=0,h[17]=0,h[18]=1,h[19]=0},s.getAlphaTable=function(h){if(s.__alphaTable==null){var f=new Uint8Array(256);s.__alphaTable=f}var g;s.__alphaTable[0]=0;for(var b=1;b<256;){var k=b++;g=Math.floor(k*h[18]+h[19]*255),g>255&&(g=255),g<0&&(g=0),s.__alphaTable[k]=g}return s.__alphaTable},s.getBlueTable=function(h){if(s.__blueTable==null){var f=new Uint8Array(256);s.__blueTable=f}for(var g,b=0;b<256;){var k=b++;g=Math.floor(k*h[12]+h[14]*255),g>255&&(g=255),g<0&&(g=0),s.__blueTable[k]=g}return s.__blueTable},s.getGreenTable=function(h){if(s.__greenTable==null){var f=new Uint8Array(256);s.__greenTable=f}for(var g,b=0;b<256;){var k=b++;g=Math.floor(k*h[6]+h[9]*255),g>255&&(g=255),g<0&&(g=0),s.__greenTable[k]=g}return s.__greenTable},s.getRedTable=function(h){if(s.__redTable==null){var f=new Uint8Array(256);s.__redTable=f}for(var g,b=0;b<256;){var k=b++;g=Math.floor(k*h[0]+h[4]*255),g>255&&(g=255),g<0&&(g=0),s.__redTable[k]=g}return s.__redTable},s.__toFlashColorTransform=function(h){return null},s.get_alphaMultiplier=function(h){return h[18]},s.set_alphaMultiplier=function(h,f){return h[18]=f},s.get_alphaOffset=function(h){return h[19]*255},s.set_alphaOffset=function(h,f){return h[19]=f/255},s.get_blueMultiplier=function(h){return h[12]},s.set_blueMultiplier=function(h,f){return h[12]=f},s.get_blueOffset=function(h){return h[14]*255},s.set_blueOffset=function(h,f){return h[14]=f/255},s.get_color=function(h){return c().default.int(h[4]*255)<<16|c().default.int(h[9]*255)<<8|c().default.int(h[14]*255)},s.set_color=function(h,f){return h[4]=(f>>16&255)/255,h[9]=(f>>8&255)/255,h[14]=(f&255)/255,h[0]=0,h[6]=0,h[12]=0,s.get_color(h)},s.get_greenMultiplier=function(h){return h[6]},s.set_greenMultiplier=function(h,f){return h[6]=f},s.get_greenOffset=function(h){return h[9]*255},s.set_greenOffset=function(h,f){return h[9]=f/255},s.get_redMultiplier=function(h){return h[0]},s.set_redMultiplier=function(h,f){return h[0]=f},s.get_redOffset=function(h){return h[4]*255},s.set_redOffset=function(h,f){return h[4]=f/255},s.get=function(h,f){return h[f]},s.set=function(h,f,g){return h[f]=g},s.__identity=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],e.default=s}(ColorMatrix_Impl_)),ColorMatrix_Impl_}var StackBlur={},BlurStack={},hasRequiredBlurStack;function requireBlurStack(){return hasRequiredBlurStack||(hasRequiredBlurStack=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.r=0,this.g=0,this.b=0,this.a=0,this.n=null};o.__name__="lime._internal.graphics.BlurStack",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime._internal.graphics.BlurStack"]=o,e.default=o}(BlurStack)),BlurStack}var hasRequiredStackBlur;function requireStackBlur(){return hasRequiredStackBlur||(hasRequiredStackBlur=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireBlurStack()}var s=function(){};s.__name__="lime._internal.graphics.StackBlur",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime._internal.graphics.StackBlur"]=s,s.blur=function(h,f,g,b,k,$,j){h.copyPixels(f,g,b),s.__stackBlurCanvasRGBA(h,o().default.int(g.width),o().default.int(g.height),k,$,j)},s.__stackBlurCanvasRGBA=function(h,f,g,b,k,$){var j=Math.round(b)>>1,_e=Math.round(k)>>1;if(s.MUL_TABLE!=null&&(j>=s.MUL_TABLE.length&&(j=s.MUL_TABLE.length-1),_e>=s.MUL_TABLE.length&&(_e=s.MUL_TABLE.length-1),!(j<0||_e<0))){var et=$;et<1&&(et=1),et>3&&(et=3);for(var nt=h.get_data(),rt,tt,it,st,at,_t,ut,ot,lt,ft,ht,dt,pt,xt,vt,bt=j+j+1,wt=_e+_e+1,At=f,ct=g,mt=At-1,gt=ct-1,Tt=j+1,yt=_e+1,Et=new(c()).default,Ct=Et,It=1,Rt=bt;It<Rt;)It++,Ct=Ct.n=new(c()).default;Ct.n=Et;for(var Ft=new(c()).default,Lt=Ft,Ot=1,Kt=wt;Ot<Kt;)Ot++,Lt=Lt.n=new(c()).default;Lt.n=Ft;for(var qt=null,Ht=s.MUL_TABLE[j],Zt=s.SHG_TABLE[j],or=s.MUL_TABLE[_e],ir=s.SHG_TABLE[_e];et>0;){--et,at=0,_t=at;var lr=Ht,ar=Zt;for(rt=ct;;){for(ht=nt[at],ut=Tt*ht,dt=nt[at+1],ot=Tt*dt,pt=nt[at+2],lt=Tt*pt,xt=nt[at+3],ft=Tt*xt,Ct=Et,tt=Tt;Ct.r=ht,Ct.g=dt,Ct.b=pt,Ct.a=xt,Ct=Ct.n,--tt>-1;);for(var Mt=1,kt=Tt;Mt<kt;){var Vt=Mt++;it=at+((mt<Vt?mt:Vt)<<2),ut+=Ct.r=nt[it],ot+=Ct.g=nt[it+1],lt+=Ct.b=nt[it+2],ft+=Ct.a=nt[it+3],Ct=Ct.n}qt=Et;for(var Nt=0,Wt=At;Nt<Wt;){var Qt=Nt++;nt[at++]=ut*lr>>>ar,nt[at++]=ot*lr>>>ar,nt[at++]=lt*lr>>>ar,nt[at++]=ft*lr>>>ar,it=Qt+j+1,it=_t+(it<mt?it:mt)<<2,ut-=qt.r-(qt.r=nt[it]),ot-=qt.g-(qt.g=nt[it+1]),lt-=qt.b-(qt.b=nt[it+2]),ft-=qt.a-(qt.a=nt[it+3]),qt=qt.n}if(_t+=At,!(--rt>0))break}lr=or,ar=ir;for(var tr=0,sr=At;tr<sr;){var dr=tr++;at=dr<<2,ht=nt[at],ut=yt*ht,dt=nt[at+1],ot=yt*dt,pt=nt[at+2],lt=yt*pt,xt=nt[at+3],ft=yt*xt,Lt=Ft;for(var pr=0,cr=yt;pr<cr;)pr++,Lt.r=ht,Lt.g=dt,Lt.b=pt,Lt.a=xt,Lt=Lt.n;st=At;for(var mr=1,fr=_e+1;mr<fr;){var Bt=mr++;at=st+dr<<2,ut+=Lt.r=nt[at],ot+=Lt.g=nt[at+1],lt+=Lt.b=nt[at+2],ft+=Lt.a=nt[at+3],Lt=Lt.n,Bt<gt&&(st+=At)}if(at=dr,qt=Ft,et>0)for(var Xt=0,rr=ct;Xt<rr;){var nr=Xt++;it=at<<2,xt=ft*lr>>>ar,nt[it+3]=xt,xt>0?(nt[it]=ut*lr>>>ar,nt[it+1]=ot*lr>>>ar,nt[it+2]=lt*lr>>>ar):nt[it]=nt[it+1]=nt[it+2]=0,it=nr+yt,it=dr+(it<gt?it:gt)*At<<2,ut-=qt.r-(qt.r=nt[it]),ot-=qt.g-(qt.g=nt[it+1]),lt-=qt.b-(qt.b=nt[it+2]),ft-=qt.a-(qt.a=nt[it+3]),qt=qt.n,at+=At}else for(var Gt=0,zt=ct;Gt<zt;){var $t=Gt++;it=at<<2,xt=ft*lr>>>ar,nt[it+3]=xt,xt>0?(vt=255/xt,ht=o().default.int((ut*lr>>>ar)*vt),dt=o().default.int((ot*lr>>>ar)*vt),pt=o().default.int((lt*lr>>>ar)*vt),nt[it]=ht>255?255:ht,nt[it+1]=dt>255?255:dt,nt[it+2]=pt>255?255:pt):nt[it]=nt[it+1]=nt[it+2]=0,it=$t+yt,it=dr+(it<gt?it:gt)*At<<2,ut-=qt.r-(qt.r=nt[it]),ot-=qt.g-(qt.g=nt[it+1]),lt-=qt.b-(qt.b=nt[it+2]),ft-=qt.a-(qt.a=nt[it+3]),qt=qt.n,at+=At}}}}},s.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],s.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.default=s}(StackBlur)),StackBlur}var ImageBuffer={},hasRequiredImageBuffer;function requireImageBuffer(){return hasRequiredImageBuffer||(hasRequiredImageBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}var c=function(h,f,g,b,k){b==null&&(b=32),g==null&&(g=0),f==null&&(f=0),this.data=h,this.width=f,this.height=g,this.bitsPerPixel=b,this.format=k??0,this.premultiplied=!1,this.transparent=!0};c.__name__="lime.graphics.ImageBuffer",c.__isInterface__=!1,c.prototype={clone:function(){var h=new c(this.data,this.width,this.height,this.bitsPerPixel);if(this.data!=null){var f=this.data.byteLength,g=null,b=null,k=null,$=null,j;f!=null?j=new Uint8Array(f):g!=null?j=new Uint8Array(g):b!=null?j=new Uint8Array(b):k!=null?$==null?j=new Uint8Array(k,0):j=new Uint8Array(k,0,$):j=null,h.data=j;var _e=null,et=null,nt=this.data,rt=null,tt=null,it;_e!=null?it=new Uint8Array(_e):et!=null?it=new Uint8Array(et):nt!=null?it=new Uint8Array(nt):rt!=null?tt==null?it=new Uint8Array(rt,0):it=new Uint8Array(rt,0,tt):it=null;var st=it;h.data.set(st)}else if(this.__srcImageData!=null){h.__srcCanvas=window.document.createElement("canvas"),h.__srcContext=h.__srcCanvas.getContext("2d"),h.__srcCanvas.width=this.__srcImageData.width,h.__srcCanvas.height=this.__srcImageData.height,h.__srcImageData=h.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height);var at=new Uint8ClampedArray(this.__srcImageData.data);h.__srcImageData.data.set(at)}else this.__srcCanvas!=null?(h.__srcCanvas=window.document.createElement("canvas"),h.__srcContext=h.__srcCanvas.getContext("2d"),h.__srcCanvas.width=this.__srcCanvas.width,h.__srcCanvas.height=this.__srcCanvas.height,h.__srcContext.drawImage(this.__srcCanvas,0,0)):h.__srcImage=this.__srcImage;return h.bitsPerPixel=this.bitsPerPixel,h.format=this.format,h.premultiplied=this.premultiplied,h.transparent=this.transparent,h},get_src:function(){return this.__srcImage!=null?this.__srcImage:this.__srcCanvas},set_src:function(h){return h instanceof Image?this.__srcImage=h:h instanceof HTMLCanvasElement&&(this.__srcCanvas=h,this.__srcContext=this.__srcCanvas.getContext("2d")),h},get_stride:function(){return this.width*o().default.int(this.bitsPerPixel/8)}},c.prototype.__class__=c.prototype.constructor=d["lime.graphics.ImageBuffer"]=c;{var s=c.prototype;Object.defineProperties(s,{src:{get:s.get_src,set:s.set_src},stride:{get:s.get_stride}})}e.default=c}(ImageBuffer)),ImageBuffer}var UInt_Impl_={},hasRequiredUInt_Impl_;function requireUInt_Impl_(){return hasRequiredUInt_Impl_||(hasRequiredUInt_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="_UInt.UInt_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["_UInt.UInt_Impl_"]=o,o.gt=function(c,s){var h=c<0,f=s<0;return h!=f?h:c>s},o.toFloat=function(c){var s=c;return s<0?4294967296+s:s+0},e.default=o}(UInt_Impl_)),UInt_Impl_}var hasRequiredImageDataUtil;function requireImageDataUtil(){return hasRequiredImageDataUtil||(hasRequiredImageDataUtil=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageDataView()}function c(){return requireStd()}function s(){return requireRGBA_Impl_()}function h(){return requireVector4()}function f(){return requireColorMatrix_Impl_()}function g(){return requireRectangle()}function b(){return requireStackBlur()}function k(){return requireBytes()}function $(){return requireImageBuffer()}function j(){return requireUInt_Impl_()}function _e(){return requireEndian()}var et=function(){};et.__name__="lime._internal.graphics.ImageDataUtil",et.__isInterface__=!1,et.prototype={},et.prototype.__class__=et.prototype.constructor=d["lime._internal.graphics.ImageDataUtil"]=et,et.displaceMap=function(nt,rt,tt,it,st,at,_t){for(var ut=nt.buffer.data,ot=rt.buffer.data,lt=tt.buffer.data,ft=nt.buffer.format,ht=rt.buffer.format,dt=tt.buffer.format,pt=nt.get_premultiplied(),xt=rt.get_premultiplied(),vt=tt.get_premultiplied(),bt=new(o()).default(rt),wt=new(o()).default(tt),At,ct,mt=0,gt=0,Tt,yt,Et,Ct=0,It=0,Rt=0,Ft=0,Lt,Ot,Kt,qt,Ht,Zt,or=0,ir=bt.height;or<ir;){var lr=or++;At=bt.row(lr);for(var ar=0,Mt=bt.width;ar<Mt;){var kt=ar++;if(ct=At+kt*4,Lt=c().default.int(it.x),Ot=c().default.int(it.y),_t){var Vt=bt.row(lr-Ot+1)+(kt-Lt)*4,Nt=dt,Wt=vt;switch(Wt==null&&(Wt=!1),Nt==null&&(Nt=0),Nt){case 0:Ct=(lt[Vt]&255)<<24|(lt[Vt+1]&255)<<16|(lt[Vt+2]&255)<<8|lt[Vt+3]&255;break;case 1:Ct=(lt[Vt+1]&255)<<24|(lt[Vt+2]&255)<<16|(lt[Vt+3]&255)<<8|lt[Vt]&255;break;case 2:Ct=(lt[Vt+2]&255)<<24|(lt[Vt+1]&255)<<16|(lt[Vt]&255)<<8|lt[Vt+3]&255;break}Wt&&Ct&255&&(Ct&255)!=255&&(s().default.unmult=255/(Ct&255),Ct=(s().default.__clamp[Math.round((Ct>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Ct>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Ct>>>8&255)*s().default.unmult)]&255)<<8|Ct&255&255);var Qt=bt.row(lr-Ot)+(kt-Lt+1)*4,tr=dt,sr=vt;switch(sr==null&&(sr=!1),tr==null&&(tr=0),tr){case 0:It=(lt[Qt]&255)<<24|(lt[Qt+1]&255)<<16|(lt[Qt+2]&255)<<8|lt[Qt+3]&255;break;case 1:It=(lt[Qt+1]&255)<<24|(lt[Qt+2]&255)<<16|(lt[Qt+3]&255)<<8|lt[Qt]&255;break;case 2:It=(lt[Qt+2]&255)<<24|(lt[Qt+1]&255)<<16|(lt[Qt]&255)<<8|lt[Qt+3]&255;break}sr&&It&255&&(It&255)!=255&&(s().default.unmult=255/(It&255),It=(s().default.__clamp[Math.round((It>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((It>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((It>>>8&255)*s().default.unmult)]&255)<<8|It&255&255);var dr=bt.row(lr-Ot+1)+(kt-Lt+1)*4,pr=dt,cr=vt;switch(cr==null&&(cr=!1),pr==null&&(pr=0),pr){case 0:Rt=(lt[dr]&255)<<24|(lt[dr+1]&255)<<16|(lt[dr+2]&255)<<8|lt[dr+3]&255;break;case 1:Rt=(lt[dr+1]&255)<<24|(lt[dr+2]&255)<<16|(lt[dr+3]&255)<<8|lt[dr]&255;break;case 2:Rt=(lt[dr+2]&255)<<24|(lt[dr+1]&255)<<16|(lt[dr]&255)<<8|lt[dr+3]&255;break}cr&&Rt&255&&(Rt&255)!=255&&(s().default.unmult=255/(Rt&255),Rt=(s().default.__clamp[Math.round((Rt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Rt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Rt>>>8&255)*s().default.unmult)]&255)<<8|Rt&255&255);var mr=bt.row(lr-Ot)+(kt-Lt)*4,fr=dt,Bt=vt;switch(Bt==null&&(Bt=!1),fr==null&&(fr=0),fr){case 0:Ft=(lt[mr]&255)<<24|(lt[mr+1]&255)<<16|(lt[mr+2]&255)<<8|lt[mr+3]&255;break;case 1:Ft=(lt[mr+1]&255)<<24|(lt[mr+2]&255)<<16|(lt[mr+3]&255)<<8|lt[mr]&255;break;case 2:Ft=(lt[mr+2]&255)<<24|(lt[mr+1]&255)<<16|(lt[mr]&255)<<8|lt[mr+3]&255;break}Bt&&Ft&255&&(Ft&255)!=255&&(s().default.unmult=255/(Ft&255),Ft=(s().default.__clamp[Math.round((Ft>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Ft>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Ft>>>8&255)*s().default.unmult)]&255)<<8|Ft&255&255),gt=et.bilinear(Ct,It,Rt,Ft,it.x-Lt,it.y-Ot)}else{var Xt=wt.row(lr-Ot)+(kt-Lt)*4,rr=dt,nr=vt;switch(nr==null&&(nr=!1),rr==null&&(rr=0),rr){case 0:gt=(lt[Xt]&255)<<24|(lt[Xt+1]&255)<<16|(lt[Xt+2]&255)<<8|lt[Xt+3]&255;break;case 1:gt=(lt[Xt+1]&255)<<24|(lt[Xt+2]&255)<<16|(lt[Xt+3]&255)<<8|lt[Xt]&255;break;case 2:gt=(lt[Xt+2]&255)<<24|(lt[Xt+1]&255)<<16|(lt[Xt]&255)<<8|lt[Xt+3]&255;break}nr&&gt&255&&(gt&255)!=255&&(s().default.unmult=255/(gt&255),gt=(s().default.__clamp[Math.round((gt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((gt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((gt>>>8&255)*s().default.unmult)]&255)<<8|gt&255&255)}if(Et=(gt&255)/255,Tt=((gt>>>24&255)-128)/255*Et,yt=((gt>>>16&255)-128)/255*Et,Ht=Tt*st.x+yt*at.x,Zt=Tt*st.y+yt*at.y,Kt=Math.floor(Ht*bt.width),qt=Math.floor(Zt*bt.height),_t){var Gt=bt.row(lr+qt+1)+(kt+Kt)*4,zt=ht,$t=xt;switch($t==null&&($t=!1),zt==null&&(zt=0),zt){case 0:Ct=(ot[Gt]&255)<<24|(ot[Gt+1]&255)<<16|(ot[Gt+2]&255)<<8|ot[Gt+3]&255;break;case 1:Ct=(ot[Gt+1]&255)<<24|(ot[Gt+2]&255)<<16|(ot[Gt+3]&255)<<8|ot[Gt]&255;break;case 2:Ct=(ot[Gt+2]&255)<<24|(ot[Gt+1]&255)<<16|(ot[Gt]&255)<<8|ot[Gt+3]&255;break}$t&&Ct&255&&(Ct&255)!=255&&(s().default.unmult=255/(Ct&255),Ct=(s().default.__clamp[Math.round((Ct>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Ct>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Ct>>>8&255)*s().default.unmult)]&255)<<8|Ct&255&255);var er=bt.row(lr+qt)+(kt+Kt+1)*4,ur=ht,St=xt;switch(St==null&&(St=!1),ur==null&&(ur=0),ur){case 0:It=(ot[er]&255)<<24|(ot[er+1]&255)<<16|(ot[er+2]&255)<<8|ot[er+3]&255;break;case 1:It=(ot[er+1]&255)<<24|(ot[er+2]&255)<<16|(ot[er+3]&255)<<8|ot[er]&255;break;case 2:It=(ot[er+2]&255)<<24|(ot[er+1]&255)<<16|(ot[er]&255)<<8|ot[er+3]&255;break}St&&It&255&&(It&255)!=255&&(s().default.unmult=255/(It&255),It=(s().default.__clamp[Math.round((It>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((It>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((It>>>8&255)*s().default.unmult)]&255)<<8|It&255&255);var Ut=bt.row(lr+qt+1)+(kt+Kt+1)*4,Yt=ht,Dt=xt;switch(Dt==null&&(Dt=!1),Yt==null&&(Yt=0),Yt){case 0:Rt=(ot[Ut]&255)<<24|(ot[Ut+1]&255)<<16|(ot[Ut+2]&255)<<8|ot[Ut+3]&255;break;case 1:Rt=(ot[Ut+1]&255)<<24|(ot[Ut+2]&255)<<16|(ot[Ut+3]&255)<<8|ot[Ut]&255;break;case 2:Rt=(ot[Ut+2]&255)<<24|(ot[Ut+1]&255)<<16|(ot[Ut]&255)<<8|ot[Ut+3]&255;break}Dt&&Rt&255&&(Rt&255)!=255&&(s().default.unmult=255/(Rt&255),Rt=(s().default.__clamp[Math.round((Rt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Rt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Rt>>>8&255)*s().default.unmult)]&255)<<8|Rt&255&255);var Pt=bt.row(lr+qt)+(kt+Kt)*4,Jt=ht,_r=xt;switch(_r==null&&(_r=!1),Jt==null&&(Jt=0),Jt){case 0:Ft=(ot[Pt]&255)<<24|(ot[Pt+1]&255)<<16|(ot[Pt+2]&255)<<8|ot[Pt+3]&255;break;case 1:Ft=(ot[Pt+1]&255)<<24|(ot[Pt+2]&255)<<16|(ot[Pt+3]&255)<<8|ot[Pt]&255;break;case 2:Ft=(ot[Pt+2]&255)<<24|(ot[Pt+1]&255)<<16|(ot[Pt]&255)<<8|ot[Pt+3]&255;break}_r&&Ft&255&&(Ft&255)!=255&&(s().default.unmult=255/(Ft&255),Ft=(s().default.__clamp[Math.round((Ft>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Ft>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Ft>>>8&255)*s().default.unmult)]&255)<<8|Ft&255&255),mt=et.bilinear(Ct,It,Rt,Ft,Ht*bt.width-Kt,Zt*bt.height-qt)}else{var hr=bt.row(lr+qt)+(kt+Kt)*4,vr=ht,gr=xt;switch(gr==null&&(gr=!1),vr==null&&(vr=0),vr){case 0:mt=(ot[hr]&255)<<24|(ot[hr+1]&255)<<16|(ot[hr+2]&255)<<8|ot[hr+3]&255;break;case 1:mt=(ot[hr+1]&255)<<24|(ot[hr+2]&255)<<16|(ot[hr+3]&255)<<8|ot[hr]&255;break;case 2:mt=(ot[hr+2]&255)<<24|(ot[hr+1]&255)<<16|(ot[hr]&255)<<8|ot[hr+3]&255;break}gr&&mt&255&&(mt&255)!=255&&(s().default.unmult=255/(mt&255),mt=(s().default.__clamp[Math.round((mt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((mt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((mt>>>8&255)*s().default.unmult)]&255)<<8|mt&255&255)}var br=ft,wr=pt;switch(wr==null&&(wr=!1),br==null&&(br=0),wr&&(mt&255?(mt&255)!=255&&(s().default.a16=s().default.__alpha16[mt&255],mt=((mt>>>24&255)*s().default.a16>>16&255)<<24|((mt>>>16&255)*s().default.a16>>16&255)<<16|((mt>>>8&255)*s().default.a16>>16&255)<<8|mt&255&255):mt!=0&&(mt=0)),br){case 0:ut[ct]=mt>>>24&255,ut[ct+1]=mt>>>16&255,ut[ct+2]=mt>>>8&255,ut[ct+3]=mt&255;break;case 1:ut[ct]=mt&255,ut[ct+1]=mt>>>24&255,ut[ct+2]=mt>>>16&255,ut[ct+3]=mt>>>8&255;break;case 2:ut[ct]=mt>>>8&255,ut[ct+1]=mt>>>16&255,ut[ct+2]=mt>>>24&255,ut[ct+3]=mt&255;break}}}nt.dirty=!0,nt.version++},et.bilinear=function(nt,rt,tt,it,st,at){return et.lerpRGBA(et.lerpRGBA(it,rt,st),et.lerpRGBA(nt,tt,st),at)},et.lerpRGBA=function(nt,rt,tt){var it=0,st=Math.floor(et.lerp(nt>>>24&255,rt>>>24&255,tt));it=(st&255)<<24|(it>>>16&255&255)<<16|(it>>>8&255&255)<<8|it&255&255;var at=Math.floor(et.lerp(nt>>>16&255,rt>>>16&255,tt));it=(it>>>24&255&255)<<24|(at&255)<<16|(it>>>8&255&255)<<8|it&255&255;var _t=Math.floor(et.lerp(nt>>>8&255,rt>>>8&255,tt));it=(it>>>24&255&255)<<24|(it>>>16&255&255)<<16|(_t&255)<<8|it&255&255;var ut=Math.floor(et.lerp(nt&255,rt&255,tt));return it=(it>>>24&255&255)<<24|(it>>>16&255&255)<<16|(it>>>8&255&255)<<8|ut&255,it},et.lerp4f=function(nt,rt,tt){return new(h()).default(et.lerp(nt.x,rt.x,tt),et.lerp(nt.y,rt.y,tt),et.lerp(nt.z,rt.z,tt),et.lerp(nt.w,rt.w,tt))},et.lerp=function(nt,rt,tt){return(1-tt)*nt+tt*rt},et.colorTransform=function(nt,rt,tt){var it=nt.buffer.data;if(it!=null){for(var st=nt.buffer.format,at=nt.buffer.premultiplied,_t=new(o()).default(nt,rt),ut=f().default.getAlphaTable(tt),ot=f().default.getRedTable(tt),lt=f().default.getGreenTable(tt),ft=f().default.getBlueTable(tt),ht,dt,pt=0,xt=0,vt=_t.height;xt<vt;){var bt=xt++;ht=_t.row(bt);for(var wt=0,At=_t.width;wt<At;){var ct=wt++;dt=ht+ct*4;var mt=st,gt=at;switch(gt==null&&(gt=!1),mt==null&&(mt=0),mt){case 0:pt=(it[dt]&255)<<24|(it[dt+1]&255)<<16|(it[dt+2]&255)<<8|it[dt+3]&255;break;case 1:pt=(it[dt+1]&255)<<24|(it[dt+2]&255)<<16|(it[dt+3]&255)<<8|it[dt]&255;break;case 2:pt=(it[dt+2]&255)<<24|(it[dt+1]&255)<<16|(it[dt]&255)<<8|it[dt+3]&255;break}gt&&pt&255&&(pt&255)!=255&&(s().default.unmult=255/(pt&255),pt=(s().default.__clamp[Math.round((pt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((pt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((pt>>>8&255)*s().default.unmult)]&255)<<8|pt&255&255),pt=(ot[pt>>>24&255]&255)<<24|(lt[pt>>>16&255]&255)<<16|(ft[pt>>>8&255]&255)<<8|ut[pt&255]&255;var Tt=st,yt=at;switch(yt==null&&(yt=!1),Tt==null&&(Tt=0),yt&&(pt&255?(pt&255)!=255&&(s().default.a16=s().default.__alpha16[pt&255],pt=((pt>>>24&255)*s().default.a16>>16&255)<<24|((pt>>>16&255)*s().default.a16>>16&255)<<16|((pt>>>8&255)*s().default.a16>>16&255)<<8|pt&255&255):pt!=0&&(pt=0)),Tt){case 0:it[dt]=pt>>>24&255,it[dt+1]=pt>>>16&255,it[dt+2]=pt>>>8&255,it[dt+3]=pt&255;break;case 1:it[dt]=pt&255,it[dt+1]=pt>>>24&255,it[dt+2]=pt>>>16&255,it[dt+3]=pt>>>8&255;break;case 2:it[dt]=pt>>>8&255,it[dt+1]=pt>>>16&255,it[dt+2]=pt>>>24&255,it[dt+3]=pt&255;break}}}nt.dirty=!0,nt.version++}},et.copyChannel=function(nt,rt,tt,it,st,at){var _t;switch(at._hx_index){case 0:_t=0;break;case 1:_t=1;break;case 2:_t=2;break;case 3:_t=3;break}var ut;switch(st._hx_index){case 0:ut=0;break;case 1:ut=1;break;case 2:ut=2;break;case 3:ut=3;break}var ot=rt.buffer.data,lt=nt.buffer.data;if(!(ot==null||lt==null)){for(var ft=new(o()).default(rt,tt),ht=new(o()).default(nt,new(g()).default(it.x,it.y,ft.width,ft.height)),dt=rt.buffer.format,pt=nt.buffer.format,xt=rt.buffer.premultiplied,vt=nt.buffer.premultiplied,bt,wt,At=0,ct=0,mt=0,gt=0,Tt=ht.height;gt<Tt;){var yt=gt++;bt=ft.row(yt),wt=ht.row(yt);for(var Et=0,Ct=ht.width;Et<Ct;){Et++;var It=dt,Rt=xt;switch(Rt==null&&(Rt=!1),It==null&&(It=0),It){case 0:At=(ot[bt]&255)<<24|(ot[bt+1]&255)<<16|(ot[bt+2]&255)<<8|ot[bt+3]&255;break;case 1:At=(ot[bt+1]&255)<<24|(ot[bt+2]&255)<<16|(ot[bt+3]&255)<<8|ot[bt]&255;break;case 2:At=(ot[bt+2]&255)<<24|(ot[bt+1]&255)<<16|(ot[bt]&255)<<8|ot[bt+3]&255;break}Rt&&At&255&&(At&255)!=255&&(s().default.unmult=255/(At&255),At=(s().default.__clamp[Math.round((At>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((At>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((At>>>8&255)*s().default.unmult)]&255)<<8|At&255&255);var Ft=pt,Lt=vt;switch(Lt==null&&(Lt=!1),Ft==null&&(Ft=0),Ft){case 0:ct=(lt[wt]&255)<<24|(lt[wt+1]&255)<<16|(lt[wt+2]&255)<<8|lt[wt+3]&255;break;case 1:ct=(lt[wt+1]&255)<<24|(lt[wt+2]&255)<<16|(lt[wt+3]&255)<<8|lt[wt]&255;break;case 2:ct=(lt[wt+2]&255)<<24|(lt[wt+1]&255)<<16|(lt[wt]&255)<<8|lt[wt+3]&255;break}switch(Lt&&ct&255&&(ct&255)!=255&&(s().default.unmult=255/(ct&255),ct=(s().default.__clamp[Math.round((ct>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((ct>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((ct>>>8&255)*s().default.unmult)]&255)<<8|ct&255&255),ut){case 0:mt=At>>>24&255;break;case 1:mt=At>>>16&255;break;case 2:mt=At>>>8&255;break;case 3:mt=At&255;break}switch(_t){case 0:ct=(mt&255)<<24|(ct>>>16&255&255)<<16|(ct>>>8&255&255)<<8|ct&255&255;break;case 1:ct=(ct>>>24&255&255)<<24|(mt&255)<<16|(ct>>>8&255&255)<<8|ct&255&255;break;case 2:ct=(ct>>>24&255&255)<<24|(ct>>>16&255&255)<<16|(mt&255)<<8|ct&255&255;break;case 3:ct=(ct>>>24&255&255)<<24|(ct>>>16&255&255)<<16|(ct>>>8&255&255)<<8|mt&255;break}var Ot=pt,Kt=vt;switch(Kt==null&&(Kt=!1),Ot==null&&(Ot=0),Kt&&(ct&255?(ct&255)!=255&&(s().default.a16=s().default.__alpha16[ct&255],ct=((ct>>>24&255)*s().default.a16>>16&255)<<24|((ct>>>16&255)*s().default.a16>>16&255)<<16|((ct>>>8&255)*s().default.a16>>16&255)<<8|ct&255&255):ct!=0&&(ct=0)),Ot){case 0:lt[wt]=ct>>>24&255,lt[wt+1]=ct>>>16&255,lt[wt+2]=ct>>>8&255,lt[wt+3]=ct&255;break;case 1:lt[wt]=ct&255,lt[wt+1]=ct>>>24&255,lt[wt+2]=ct>>>16&255,lt[wt+3]=ct>>>8&255;break;case 2:lt[wt]=ct>>>8&255,lt[wt+1]=ct>>>16&255,lt[wt+2]=ct>>>24&255,lt[wt+3]=ct&255;break}bt+=4,wt+=4}}nt.dirty=!0,nt.version++}},et.copyPixels=function(nt,rt,tt,it,st,at,_t){if(_t==null&&(_t=!1),nt.width==rt.width&&nt.height==rt.height&&tt.width==rt.width&&tt.height==rt.height&&tt.x==0&&tt.y==0&&it.x==0&&it.y==0&&st==null&&at==null&&_t==!1&&nt.get_format()==rt.get_format())nt.buffer.data.set(rt.buffer.data);else{var ut=rt.buffer.data,ot=nt.buffer.data;if(ut==null||ot==null)return;var lt=new(o()).default(rt,tt),ft=new(g()).default(it.x,it.y,lt.width,lt.height),ht=new(o()).default(nt,ft),dt=rt.buffer.format,pt=nt.buffer.format,xt,vt,bt,wt,At,ct,mt=0,gt=0,Tt=rt.buffer.premultiplied,yt=nt.buffer.premultiplied,Et=c().default.int(rt.buffer.bitsPerPixel/8),Ct=c().default.int(nt.buffer.bitsPerPixel/8),It=st!=null&&st.get_transparent(),Rt=_t||It&&!nt.get_transparent()||!_t&&!nt.get_transparent()&&rt.get_transparent();if(It){var nr=st.buffer.data,Gt=st.buffer.format,zt,$t=0,er=new(o()).default(st,new(g()).default(lt.x+(at==null?0:at.x),lt.y+(at==null?0:at.y),lt.width,lt.height));if(ht.clip(c().default.int(it.x),c().default.int(it.y),er.width,er.height),Rt)for(var ur=0,St=ht.height;ur<St;){var Ut=ur++;xt=lt.row(Ut),vt=ht.row(Ut),zt=er.row(Ut);for(var Yt=0,Dt=ht.width;Yt<Dt;){Yt++;var Pt=dt,Jt=Tt;switch(Jt==null&&(Jt=!1),Pt==null&&(Pt=0),Pt){case 0:mt=(ut[xt]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt+2]&255)<<8|ut[xt+3]&255;break;case 1:mt=(ut[xt+1]&255)<<24|(ut[xt+2]&255)<<16|(ut[xt+3]&255)<<8|ut[xt]&255;break;case 2:mt=(ut[xt+2]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt]&255)<<8|ut[xt+3]&255;break}Jt&&mt&255&&(mt&255)!=255&&(s().default.unmult=255/(mt&255),mt=(s().default.__clamp[Math.round((mt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((mt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((mt>>>8&255)*s().default.unmult)]&255)<<8|mt&255&255);var _r=pt,hr=yt;switch(hr==null&&(hr=!1),_r==null&&(_r=0),_r){case 0:gt=(ot[vt]&255)<<24|(ot[vt+1]&255)<<16|(ot[vt+2]&255)<<8|ot[vt+3]&255;break;case 1:gt=(ot[vt+1]&255)<<24|(ot[vt+2]&255)<<16|(ot[vt+3]&255)<<8|ot[vt]&255;break;case 2:gt=(ot[vt+2]&255)<<24|(ot[vt+1]&255)<<16|(ot[vt]&255)<<8|ot[vt+3]&255;break}hr&&gt&255&&(gt&255)!=255&&(s().default.unmult=255/(gt&255),gt=(s().default.__clamp[Math.round((gt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((gt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((gt>>>8&255)*s().default.unmult)]&255)<<8|gt&255&255);var vr=Gt,gr=!1;switch(gr==null&&(gr=!1),vr==null&&(vr=0),vr){case 0:$t=(nr[zt]&255)<<24|(nr[zt+1]&255)<<16|(nr[zt+2]&255)<<8|nr[zt+3]&255;break;case 1:$t=(nr[zt+1]&255)<<24|(nr[zt+2]&255)<<16|(nr[zt+3]&255)<<8|nr[zt]&255;break;case 2:$t=(nr[zt+2]&255)<<24|(nr[zt+1]&255)<<16|(nr[zt]&255)<<8|nr[zt+3]&255;break}if(gr&&$t&255&&($t&255)!=255&&(s().default.unmult=255/($t&255),$t=(s().default.__clamp[Math.round(($t>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round(($t>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round(($t>>>8&255)*s().default.unmult)]&255)<<8|$t&255&255),bt=($t&255)/255*((mt&255)/255),bt>0){wt=(gt&255)/255,At=1-bt,ct=bt+wt*At;var br=s().default.__clamp[Math.round(((mt>>>24&255)*bt+(gt>>>24&255)*wt*At)/ct)];gt=(br&255)<<24|(gt>>>16&255&255)<<16|(gt>>>8&255&255)<<8|gt&255&255;var wr=s().default.__clamp[Math.round(((mt>>>16&255)*bt+(gt>>>16&255)*wt*At)/ct)];gt=(gt>>>24&255&255)<<24|(wr&255)<<16|(gt>>>8&255&255)<<8|gt&255&255;var yr=s().default.__clamp[Math.round(((mt>>>8&255)*bt+(gt>>>8&255)*wt*At)/ct)];gt=(gt>>>24&255&255)<<24|(gt>>>16&255&255)<<16|(yr&255)<<8|gt&255&255;var xr=s().default.__clamp[Math.round(ct*255)];gt=(gt>>>24&255&255)<<24|(gt>>>16&255&255)<<16|(gt>>>8&255&255)<<8|xr&255;var Tr=pt,Cr=yt;switch(Cr==null&&(Cr=!1),Tr==null&&(Tr=0),Cr&&(gt&255?(gt&255)!=255&&(s().default.a16=s().default.__alpha16[gt&255],gt=((gt>>>24&255)*s().default.a16>>16&255)<<24|((gt>>>16&255)*s().default.a16>>16&255)<<16|((gt>>>8&255)*s().default.a16>>16&255)<<8|gt&255&255):gt!=0&&(gt=0)),Tr){case 0:ot[vt]=gt>>>24&255,ot[vt+1]=gt>>>16&255,ot[vt+2]=gt>>>8&255,ot[vt+3]=gt&255;break;case 1:ot[vt]=gt&255,ot[vt+1]=gt>>>24&255,ot[vt+2]=gt>>>16&255,ot[vt+3]=gt>>>8&255;break;case 2:ot[vt]=gt>>>8&255,ot[vt+1]=gt>>>16&255,ot[vt+2]=gt>>>24&255,ot[vt+3]=gt&255;break}}xt+=4,vt+=4,zt+=4}}else for(var Br=0,Dr=ht.height;Br<Dr;){var Sr=Br++;xt=lt.row(Sr),vt=ht.row(Sr),zt=er.row(Sr);for(var Ar=0,Mr=ht.width;Ar<Mr;){Ar++;var Ir=dt,Rr=Tt;switch(Rr==null&&(Rr=!1),Ir==null&&(Ir=0),Ir){case 0:mt=(ut[xt]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt+2]&255)<<8|ut[xt+3]&255;break;case 1:mt=(ut[xt+1]&255)<<24|(ut[xt+2]&255)<<16|(ut[xt+3]&255)<<8|ut[xt]&255;break;case 2:mt=(ut[xt+2]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt]&255)<<8|ut[xt+3]&255;break}Rr&&mt&255&&(mt&255)!=255&&(s().default.unmult=255/(mt&255),mt=(s().default.__clamp[Math.round((mt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((mt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((mt>>>8&255)*s().default.unmult)]&255)<<8|mt&255&255);var Fr=Gt,Yr=!1;switch(Yr==null&&(Yr=!1),Fr==null&&(Fr=0),Fr){case 0:$t=(nr[zt]&255)<<24|(nr[zt+1]&255)<<16|(nr[zt+2]&255)<<8|nr[zt+3]&255;break;case 1:$t=(nr[zt+1]&255)<<24|(nr[zt+2]&255)<<16|(nr[zt+3]&255)<<8|nr[zt]&255;break;case 2:$t=(nr[zt+2]&255)<<24|(nr[zt+1]&255)<<16|(nr[zt]&255)<<8|nr[zt+3]&255;break}Yr&&$t&255&&($t&255)!=255&&(s().default.unmult=255/($t&255),$t=(s().default.__clamp[Math.round(($t>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round(($t>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round(($t>>>8&255)*s().default.unmult)]&255)<<8|$t&255&255);var Zr=Math.round((mt&255)*(($t&255)/255));mt=(mt>>>24&255&255)<<24|(mt>>>16&255&255)<<16|(mt>>>8&255&255)<<8|Zr&255;var Kr=pt,kr=yt;switch(kr==null&&(kr=!1),Kr==null&&(Kr=0),kr&&(mt&255?(mt&255)!=255&&(s().default.a16=s().default.__alpha16[mt&255],mt=((mt>>>24&255)*s().default.a16>>16&255)<<24|((mt>>>16&255)*s().default.a16>>16&255)<<16|((mt>>>8&255)*s().default.a16>>16&255)<<8|mt&255&255):mt!=0&&(mt=0)),Kr){case 0:ot[vt]=mt>>>24&255,ot[vt+1]=mt>>>16&255,ot[vt+2]=mt>>>8&255,ot[vt+3]=mt&255;break;case 1:ot[vt]=mt&255,ot[vt+1]=mt>>>24&255,ot[vt+2]=mt>>>16&255,ot[vt+3]=mt>>>8&255;break;case 2:ot[vt]=mt>>>8&255,ot[vt+1]=mt>>>16&255,ot[vt+2]=mt>>>24&255,ot[vt+3]=mt&255;break}xt+=4,vt+=4,zt+=4}}}else if(Rt)for(var Ft=0,Lt=ht.height;Ft<Lt;){var Ot=Ft++;xt=lt.row(Ot),vt=ht.row(Ot);for(var Kt=0,qt=ht.width;Kt<qt;){Kt++;var Ht=dt,Zt=Tt;switch(Zt==null&&(Zt=!1),Ht==null&&(Ht=0),Ht){case 0:mt=(ut[xt]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt+2]&255)<<8|ut[xt+3]&255;break;case 1:mt=(ut[xt+1]&255)<<24|(ut[xt+2]&255)<<16|(ut[xt+3]&255)<<8|ut[xt]&255;break;case 2:mt=(ut[xt+2]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt]&255)<<8|ut[xt+3]&255;break}Zt&&mt&255&&(mt&255)!=255&&(s().default.unmult=255/(mt&255),mt=(s().default.__clamp[Math.round((mt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((mt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((mt>>>8&255)*s().default.unmult)]&255)<<8|mt&255&255);var or=pt,ir=yt;switch(ir==null&&(ir=!1),or==null&&(or=0),or){case 0:gt=(ot[vt]&255)<<24|(ot[vt+1]&255)<<16|(ot[vt+2]&255)<<8|ot[vt+3]&255;break;case 1:gt=(ot[vt+1]&255)<<24|(ot[vt+2]&255)<<16|(ot[vt+3]&255)<<8|ot[vt]&255;break;case 2:gt=(ot[vt+2]&255)<<24|(ot[vt+1]&255)<<16|(ot[vt]&255)<<8|ot[vt+3]&255;break}if(ir&&gt&255&&(gt&255)!=255&&(s().default.unmult=255/(gt&255),gt=(s().default.__clamp[Math.round((gt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((gt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((gt>>>8&255)*s().default.unmult)]&255)<<8|gt&255&255),bt=(mt&255)/255,wt=(gt&255)/255,At=1-bt,ct=bt+wt*At,ct==0)gt=0;else{var lr=s().default.__clamp[Math.round(((mt>>>24&255)*bt+(gt>>>24&255)*wt*At)/ct)];gt=(lr&255)<<24|(gt>>>16&255&255)<<16|(gt>>>8&255&255)<<8|gt&255&255;var ar=s().default.__clamp[Math.round(((mt>>>16&255)*bt+(gt>>>16&255)*wt*At)/ct)];gt=(gt>>>24&255&255)<<24|(ar&255)<<16|(gt>>>8&255&255)<<8|gt&255&255;var Mt=s().default.__clamp[Math.round(((mt>>>8&255)*bt+(gt>>>8&255)*wt*At)/ct)];gt=(gt>>>24&255&255)<<24|(gt>>>16&255&255)<<16|(Mt&255)<<8|gt&255&255;var kt=s().default.__clamp[Math.round(ct*255)];gt=(gt>>>24&255&255)<<24|(gt>>>16&255&255)<<16|(gt>>>8&255&255)<<8|kt&255}var Vt=pt,Nt=yt;switch(Nt==null&&(Nt=!1),Vt==null&&(Vt=0),Nt&&(gt&255?(gt&255)!=255&&(s().default.a16=s().default.__alpha16[gt&255],gt=((gt>>>24&255)*s().default.a16>>16&255)<<24|((gt>>>16&255)*s().default.a16>>16&255)<<16|((gt>>>8&255)*s().default.a16>>16&255)<<8|gt&255&255):gt!=0&&(gt=0)),Vt){case 0:ot[vt]=gt>>>24&255,ot[vt+1]=gt>>>16&255,ot[vt+2]=gt>>>8&255,ot[vt+3]=gt&255;break;case 1:ot[vt]=gt&255,ot[vt+1]=gt>>>24&255,ot[vt+2]=gt>>>16&255,ot[vt+3]=gt>>>8&255;break;case 2:ot[vt]=gt>>>8&255,ot[vt+1]=gt>>>16&255,ot[vt+2]=gt>>>24&255,ot[vt+3]=gt&255;break}xt+=4,vt+=4}}else if(dt==pt&&Tt==yt&&Et==Ct)for(var Wt=0,Qt=ht.height;Wt<Qt;){var tr=Wt++;xt=lt.row(tr),vt=ht.row(tr),ot.set(ut.subarray(xt,xt+ht.width*Ct),vt)}else for(var sr=0,dr=ht.height;sr<dr;){var pr=sr++;xt=lt.row(pr),vt=ht.row(pr);for(var cr=0,mr=ht.width;cr<mr;){cr++;var fr=dt,Bt=Tt;switch(Bt==null&&(Bt=!1),fr==null&&(fr=0),fr){case 0:mt=(ut[xt]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt+2]&255)<<8|ut[xt+3]&255;break;case 1:mt=(ut[xt+1]&255)<<24|(ut[xt+2]&255)<<16|(ut[xt+3]&255)<<8|ut[xt]&255;break;case 2:mt=(ut[xt+2]&255)<<24|(ut[xt+1]&255)<<16|(ut[xt]&255)<<8|ut[xt+3]&255;break}Bt&&mt&255&&(mt&255)!=255&&(s().default.unmult=255/(mt&255),mt=(s().default.__clamp[Math.round((mt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((mt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((mt>>>8&255)*s().default.unmult)]&255)<<8|mt&255&255);var Xt=pt,rr=yt;switch(rr==null&&(rr=!1),Xt==null&&(Xt=0),rr&&(mt&255?(mt&255)!=255&&(s().default.a16=s().default.__alpha16[mt&255],mt=((mt>>>24&255)*s().default.a16>>16&255)<<24|((mt>>>16&255)*s().default.a16>>16&255)<<16|((mt>>>8&255)*s().default.a16>>16&255)<<8|mt&255&255):mt!=0&&(mt=0)),Xt){case 0:ot[vt]=mt>>>24&255,ot[vt+1]=mt>>>16&255,ot[vt+2]=mt>>>8&255,ot[vt+3]=mt&255;break;case 1:ot[vt]=mt&255,ot[vt+1]=mt>>>24&255,ot[vt+2]=mt>>>16&255,ot[vt+3]=mt>>>8&255;break;case 2:ot[vt]=mt>>>8&255,ot[vt+1]=mt>>>16&255,ot[vt+2]=mt>>>24&255,ot[vt+3]=mt&255;break}xt+=4,vt+=4}}}nt.dirty=!0,nt.version++},et.fillRect=function(nt,rt,tt,it){var st;switch(it){case 1:var at=tt,_t=0,ut=_t;ut=(at>>>16&255&255)<<24|(at>>>8&255&255)<<16|(at&255&255)<<8|at>>>24&255&255,st=ut;break;case 2:var ot=tt,lt=0,ft=lt;ft=(ot>>>8&255&255)<<24|(ot>>>16&255&255)<<16|(ot>>>24&255&255)<<8|ot&255&255,st=ft;break;default:st=tt}nt.get_transparent()||(st=(st>>>24&255&255)<<24|(st>>>16&255&255)<<16|(st>>>8&255&255)<<8|255);var ht=nt.buffer.data;if(ht!=null){var dt=nt.buffer.format,pt=nt.buffer.premultiplied;pt&&(st&255?(st&255)!=255&&(s().default.a16=s().default.__alpha16[st&255],st=((st>>>24&255)*s().default.a16>>16&255)<<24|((st>>>16&255)*s().default.a16>>16&255)<<16|((st>>>8&255)*s().default.a16>>16&255)<<8|st&255&255):st!=0&&(st=0));for(var xt=new(o()).default(nt,rt),vt,bt=0,wt=xt.height;bt<wt;){var At=bt++;vt=xt.row(At);for(var ct=0,mt=xt.width;ct<mt;){var gt=ct++,Tt=vt+gt*4,yt=dt,Et=!1;switch(Et==null&&(Et=!1),yt==null&&(yt=0),Et&&(st&255?(st&255)!=255&&(s().default.a16=s().default.__alpha16[st&255],st=((st>>>24&255)*s().default.a16>>16&255)<<24|((st>>>16&255)*s().default.a16>>16&255)<<16|((st>>>8&255)*s().default.a16>>16&255)<<8|st&255&255):st!=0&&(st=0)),yt){case 0:ht[Tt]=st>>>24&255,ht[Tt+1]=st>>>16&255,ht[Tt+2]=st>>>8&255,ht[Tt+3]=st&255;break;case 1:ht[Tt]=st&255,ht[Tt+1]=st>>>24&255,ht[Tt+2]=st>>>16&255,ht[Tt+3]=st>>>8&255;break;case 2:ht[Tt]=st>>>8&255,ht[Tt+1]=st>>>16&255,ht[Tt+2]=st>>>24&255,ht[Tt+3]=st&255;break}}}nt.dirty=!0,nt.version++}},et.floodFill=function(nt,rt,tt,it,st){var at=nt.buffer.data;if(at!=null){st==1&&(it=(it&16777215)<<8|it>>24&255);var _t=nt.buffer.format,ut=nt.buffer.premultiplied,ot=it,lt=0,ft=(tt+nt.offsetY)*(nt.buffer.width*4)+(rt+nt.offsetX)*4,ht=_t,dt=ut;switch(dt==null&&(dt=!1),ht==null&&(ht=0),ht){case 0:lt=(at[ft]&255)<<24|(at[ft+1]&255)<<16|(at[ft+2]&255)<<8|at[ft+3]&255;break;case 1:lt=(at[ft+1]&255)<<24|(at[ft+2]&255)<<16|(at[ft+3]&255)<<8|at[ft]&255;break;case 2:lt=(at[ft+2]&255)<<24|(at[ft+1]&255)<<16|(at[ft]&255)<<8|at[ft+3]&255;break}if(dt&&lt&255&&(lt&255)!=255&&(s().default.unmult=255/(lt&255),lt=(s().default.__clamp[Math.round((lt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((lt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((lt>>>8&255)*s().default.unmult)]&255)<<8|lt&255&255),nt.get_transparent()||(ot=(ot>>>24&255&255)<<24|(ot>>>16&255&255)<<16|(ot>>>8&255&255)<<8|255,lt=(lt>>>24&255&255)<<24|(lt>>>16&255&255)<<16|(lt>>>8&255&255)<<8|255),ot!=lt){ut&&(ot&255?(ot&255)!=255&&(s().default.a16=s().default.__alpha16[ot&255],ot=((ot>>>24&255)*s().default.a16>>16&255)<<24|((ot>>>16&255)*s().default.a16>>16&255)<<16|((ot>>>8&255)*s().default.a16>>16&255)<<8|ot&255&255):ot!=0&&(ot=0));var pt=[0,-1,1,0],xt=[-1,0,0,1],vt=-nt.offsetX,bt=-nt.offsetY,wt=vt+nt.width,At=bt+nt.height,ct=[];ct.push(rt),ct.push(tt);for(var mt,gt,Tt,yt,Et,Ct=0;ct.length>0;){gt=ct.pop(),mt=ct.pop();for(var It=0;It<4;){var Rt=It++;if(Tt=mt+pt[Rt],yt=gt+xt[Rt],!(Tt<vt||yt<bt||Tt>=wt||yt>=At)){Et=(yt*nt.width+Tt)*4;var Ft=_t,Lt=ut;switch(Lt==null&&(Lt=!1),Ft==null&&(Ft=0),Ft){case 0:Ct=(at[Et]&255)<<24|(at[Et+1]&255)<<16|(at[Et+2]&255)<<8|at[Et+3]&255;break;case 1:Ct=(at[Et+1]&255)<<24|(at[Et+2]&255)<<16|(at[Et+3]&255)<<8|at[Et]&255;break;case 2:Ct=(at[Et+2]&255)<<24|(at[Et+1]&255)<<16|(at[Et]&255)<<8|at[Et+3]&255;break}if(Lt&&Ct&255&&(Ct&255)!=255&&(s().default.unmult=255/(Ct&255),Ct=(s().default.__clamp[Math.round((Ct>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Ct>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Ct>>>8&255)*s().default.unmult)]&255)<<8|Ct&255&255),Ct==lt){var Ot=_t,Kt=!1;switch(Kt==null&&(Kt=!1),Ot==null&&(Ot=0),Kt&&(ot&255?(ot&255)!=255&&(s().default.a16=s().default.__alpha16[ot&255],ot=((ot>>>24&255)*s().default.a16>>16&255)<<24|((ot>>>16&255)*s().default.a16>>16&255)<<16|((ot>>>8&255)*s().default.a16>>16&255)<<8|ot&255&255):ot!=0&&(ot=0)),Ot){case 0:at[Et]=ot>>>24&255,at[Et+1]=ot>>>16&255,at[Et+2]=ot>>>8&255,at[Et+3]=ot&255;break;case 1:at[Et]=ot&255,at[Et+1]=ot>>>24&255,at[Et+2]=ot>>>16&255,at[Et+3]=ot>>>8&255;break;case 2:at[Et]=ot>>>8&255,at[Et+1]=ot>>>16&255,at[Et+2]=ot>>>24&255,at[Et+3]=ot&255;break}ct.push(Tt),ct.push(yt)}}}}nt.dirty=!0,nt.version++}}},et.gaussianBlur=function(nt,rt,tt,it,st,at,_t,ut,ot){_t==null&&(_t=1),at==null&&(at=4),st==null&&(st=4);var lt=nt.get_premultiplied();return lt&&nt.set_premultiplied(!1),b().default.blur(nt,rt,tt,it,st,at,_t),nt.dirty=!0,nt.version++,lt&&nt.set_premultiplied(!0),nt},et.getColorBoundsRect=function(nt,rt,tt,it,st){var at=nt.width+1,_t=0,ut=nt.height+1,ot=0,lt,ft;switch(st){case 1:var ht=tt,dt=0,pt=dt;pt=(ht>>>16&255&255)<<24|(ht>>>8&255&255)<<16|(ht&255&255)<<8|ht>>>24&255&255,lt=pt;var xt=rt,vt=0,bt=vt;bt=(xt>>>16&255&255)<<24|(xt>>>8&255&255)<<16|(xt&255&255)<<8|xt>>>24&255&255,ft=bt;break;case 2:var wt=tt,At=0,ct=At;ct=(wt>>>8&255&255)<<24|(wt>>>16&255&255)<<16|(wt>>>24&255&255)<<8|wt&255&255,lt=ct;var mt=rt,gt=0,Tt=gt;Tt=(mt>>>8&255&255)<<24|(mt>>>16&255&255)<<16|(mt>>>24&255&255)<<8|mt&255&255,ft=Tt;break;default:lt=tt,ft=rt}nt.get_transparent()||(lt=(lt>>>24&255&255)<<24|(lt>>>16&255&255)<<16|(lt>>>8&255&255)<<8|255,ft=(ft>>>24&255&255)<<24|(ft>>>16&255&255)<<16|(ft>>>8&255&255)<<8|255);for(var yt,Et,Ct=0,It=nt.width;Ct<It;){var Rt=Ct++;Et=!1;for(var Ft=0,Lt=nt.height;Ft<Lt;){var Ot=Ft++;if(yt=nt.getPixel32(Rt,Ot,0),Et=it?(yt&ft)==lt:(yt&ft)!=lt,Et){Rt<at&&(at=Rt);break}}if(Et)break}for(var Kt,qt=0,Ht=nt.width;qt<Ht;){var Zt=qt++;Kt=nt.width-1-Zt,Et=!1;for(var or=0,ir=nt.height;or<ir;){var lr=or++;if(yt=nt.getPixel32(Kt,lr,0),Et=it?(yt&ft)==lt:(yt&ft)!=lt,Et){Kt>_t&&(_t=Kt);break}}if(Et)break}for(var ar=0,Mt=nt.height;ar<Mt;){var kt=ar++;Et=!1;for(var Vt=0,Nt=nt.width;Vt<Nt;){var Wt=Vt++;if(yt=nt.getPixel32(Wt,kt,0),Et=it?(yt&ft)==lt:(yt&ft)!=lt,Et){kt<ut&&(ut=kt);break}}if(Et)break}for(var Qt,tr=0,sr=nt.height;tr<sr;){var dr=tr++;Qt=nt.height-1-dr,Et=!1;for(var pr=0,cr=nt.width;pr<cr;){var mr=pr++;if(yt=nt.getPixel32(mr,Qt,0),Et=it?(yt&ft)==lt:(yt&ft)!=lt,Et){Qt>ot&&(ot=Qt);break}}if(Et)break}var fr=_t-at,Bt=ot-ut;return fr>0&&++fr,Bt>0&&++Bt,fr<0&&(fr=0),Bt<0&&(Bt=0),at==_t&&(fr=1),ut==ot&&(Bt=1),at>nt.width&&(at=0),ut>nt.height&&(ut=0),new(g()).default(at,ut,fr,Bt)},et.getPixel=function(nt,rt,tt,it){var st=0,at=nt.buffer.data,_t=4*(tt+nt.offsetY)*nt.buffer.width+(rt+nt.offsetX)*4,ut=nt.buffer.format,ot=nt.buffer.premultiplied;switch(ot==null&&(ot=!1),ut==null&&(ut=0),ut){case 0:st=(at[_t]&255)<<24|(at[_t+1]&255)<<16|(at[_t+2]&255)<<8|at[_t+3]&255;break;case 1:st=(at[_t+1]&255)<<24|(at[_t+2]&255)<<16|(at[_t+3]&255)<<8|at[_t]&255;break;case 2:st=(at[_t+2]&255)<<24|(at[_t+1]&255)<<16|(at[_t]&255)<<8|at[_t+3]&255;break}switch(ot&&st&255&&(st&255)!=255&&(s().default.unmult=255/(st&255),st=(s().default.__clamp[Math.round((st>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((st>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((st>>>8&255)*s().default.unmult)]&255)<<8|st&255&255),st=(st>>>24&255&255)<<24|(st>>>16&255&255)<<16|(st>>>8&255&255)<<8|0,it){case 1:var lt=0,ft=lt;return ft=(st&255&255)<<24|(st>>>24&255&255)<<16|(st>>>16&255&255)<<8|st>>>8&255&255,ft;case 2:var ht=0,dt=ht;return dt=(st>>>8&255&255)<<24|(st>>>16&255&255)<<16|(st>>>24&255&255)<<8|st&255&255,dt;default:return st}},et.getPixel32=function(nt,rt,tt,it){var st=0,at=nt.buffer.data,_t=4*(tt+nt.offsetY)*nt.buffer.width+(rt+nt.offsetX)*4,ut=nt.buffer.format,ot=nt.buffer.premultiplied;switch(ot==null&&(ot=!1),ut==null&&(ut=0),ut){case 0:st=(at[_t]&255)<<24|(at[_t+1]&255)<<16|(at[_t+2]&255)<<8|at[_t+3]&255;break;case 1:st=(at[_t+1]&255)<<24|(at[_t+2]&255)<<16|(at[_t+3]&255)<<8|at[_t]&255;break;case 2:st=(at[_t+2]&255)<<24|(at[_t+1]&255)<<16|(at[_t]&255)<<8|at[_t+3]&255;break}switch(ot&&st&255&&(st&255)!=255&&(s().default.unmult=255/(st&255),st=(s().default.__clamp[Math.round((st>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((st>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((st>>>8&255)*s().default.unmult)]&255)<<8|st&255&255),it){case 1:var lt=0,ft=lt;return ft=(st&255&255)<<24|(st>>>24&255&255)<<16|(st>>>16&255&255)<<8|st>>>8&255&255,ft;case 2:var ht=0,dt=ht;return dt=(st>>>8&255&255)<<24|(st>>>16&255&255)<<16|(st>>>24&255&255)<<8|st&255&255,dt;default:return st}},et.getPixels=function(nt,rt,tt){if(nt.buffer.data==null)return null;for(var it=c().default.int(rt.width*rt.height),st=k().default.alloc(it*4),at=nt.buffer.data,_t=nt.buffer.format,ut=nt.buffer.premultiplied,ot=new(o()).default(nt,rt),lt,ft=0,ht=0,dt=0,pt=0,xt=0,vt=ot.height;xt<vt;){var bt=xt++;lt=ot.row(bt);for(var wt=0,At=ot.width;wt<At;){wt++;var ct=_t,mt=ut;switch(mt==null&&(mt=!1),ct==null&&(ct=0),ct){case 0:dt=(at[lt]&255)<<24|(at[lt+1]&255)<<16|(at[lt+2]&255)<<8|at[lt+3]&255;break;case 1:dt=(at[lt+1]&255)<<24|(at[lt+2]&255)<<16|(at[lt+3]&255)<<8|at[lt]&255;break;case 2:dt=(at[lt+2]&255)<<24|(at[lt+1]&255)<<16|(at[lt]&255)<<8|at[lt+3]&255;break}switch(mt&&dt&255&&(dt&255)!=255&&(s().default.unmult=255/(dt&255),dt=(s().default.__clamp[Math.round((dt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((dt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((dt>>>8&255)*s().default.unmult)]&255)<<8|dt&255&255),tt){case 1:var gt=0,Tt=gt;Tt=(dt&255&255)<<24|(dt>>>24&255&255)<<16|(dt>>>16&255&255)<<8|dt>>>8&255&255,ft=Tt,dt=ft;break;case 2:var yt=0,Et=yt;Et=(dt>>>8&255&255)<<24|(dt>>>16&255&255)<<16|(dt>>>24&255&255)<<8|dt&255&255,ht=Et,dt=ht;break}st.set(pt++,dt>>>24&255),st.set(pt++,dt>>>16&255),st.set(pt++,dt>>>8&255),st.set(pt++,dt&255),lt+=4}}return st},et.merge=function(nt,rt,tt,it,st,at,_t,ut){if(!(nt.buffer.data==null||rt.buffer.data==null)){for(var ot=new(o()).default(rt,tt),lt=new(o()).default(nt,new(g()).default(it.x,it.y,ot.width,ot.height)),ft=rt.buffer.data,ht=nt.buffer.data,dt=rt.buffer.format,pt=nt.buffer.format,xt=rt.buffer.premultiplied,vt=nt.buffer.premultiplied,bt,wt,At=0,ct=0,mt=0,gt=lt.height;mt<gt;){var Tt=mt++;bt=ot.row(Tt),wt=lt.row(Tt);for(var yt=0,Et=lt.width;yt<Et;){yt++;var Ct=dt,It=xt;switch(It==null&&(It=!1),Ct==null&&(Ct=0),Ct){case 0:At=(ft[bt]&255)<<24|(ft[bt+1]&255)<<16|(ft[bt+2]&255)<<8|ft[bt+3]&255;break;case 1:At=(ft[bt+1]&255)<<24|(ft[bt+2]&255)<<16|(ft[bt+3]&255)<<8|ft[bt]&255;break;case 2:At=(ft[bt+2]&255)<<24|(ft[bt+1]&255)<<16|(ft[bt]&255)<<8|ft[bt+3]&255;break}It&&At&255&&(At&255)!=255&&(s().default.unmult=255/(At&255),At=(s().default.__clamp[Math.round((At>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((At>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((At>>>8&255)*s().default.unmult)]&255)<<8|At&255&255);var Rt=pt,Ft=vt;switch(Ft==null&&(Ft=!1),Rt==null&&(Rt=0),Rt){case 0:ct=(ht[wt]&255)<<24|(ht[wt+1]&255)<<16|(ht[wt+2]&255)<<8|ht[wt+3]&255;break;case 1:ct=(ht[wt+1]&255)<<24|(ht[wt+2]&255)<<16|(ht[wt+3]&255)<<8|ht[wt]&255;break;case 2:ct=(ht[wt+2]&255)<<24|(ht[wt+1]&255)<<16|(ht[wt]&255)<<8|ht[wt+3]&255;break}Ft&&ct&255&&(ct&255)!=255&&(s().default.unmult=255/(ct&255),ct=(s().default.__clamp[Math.round((ct>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((ct>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((ct>>>8&255)*s().default.unmult)]&255)<<8|ct&255&255);var Lt=c().default.int(((At>>>24&255)*st+(ct>>>24&255)*(256-st))/256);ct=(Lt&255)<<24|(ct>>>16&255&255)<<16|(ct>>>8&255&255)<<8|ct&255&255;var Ot=c().default.int(((At>>>16&255)*at+(ct>>>16&255)*(256-at))/256);ct=(ct>>>24&255&255)<<24|(Ot&255)<<16|(ct>>>8&255&255)<<8|ct&255&255;var Kt=c().default.int(((At>>>8&255)*_t+(ct>>>8&255)*(256-_t))/256);ct=(ct>>>24&255&255)<<24|(ct>>>16&255&255)<<16|(Kt&255)<<8|ct&255&255;var qt=c().default.int(((At&255)*ut+(ct&255)*(256-ut))/256);ct=(ct>>>24&255&255)<<24|(ct>>>16&255&255)<<16|(ct>>>8&255&255)<<8|qt&255;var Ht=pt,Zt=vt;switch(Zt==null&&(Zt=!1),Ht==null&&(Ht=0),Zt&&(ct&255?(ct&255)!=255&&(s().default.a16=s().default.__alpha16[ct&255],ct=((ct>>>24&255)*s().default.a16>>16&255)<<24|((ct>>>16&255)*s().default.a16>>16&255)<<16|((ct>>>8&255)*s().default.a16>>16&255)<<8|ct&255&255):ct!=0&&(ct=0)),Ht){case 0:ht[wt]=ct>>>24&255,ht[wt+1]=ct>>>16&255,ht[wt+2]=ct>>>8&255,ht[wt+3]=ct&255;break;case 1:ht[wt]=ct&255,ht[wt+1]=ct>>>24&255,ht[wt+2]=ct>>>16&255,ht[wt+3]=ct>>>8&255;break;case 2:ht[wt]=ct>>>8&255,ht[wt+1]=ct>>>16&255,ht[wt+2]=ct>>>24&255,ht[wt+3]=ct&255;break}bt+=4,wt+=4}}nt.dirty=!0,nt.version++}},et.multiplyAlpha=function(nt){var rt=nt.buffer.data;if(!(rt==null||!nt.buffer.transparent)){for(var tt=nt.buffer.format,it=c().default.int(rt.length/4),st=0,at=0,_t=it;at<_t;){var ut=at++,ot=ut*4,lt=tt,ft=!1;switch(ft==null&&(ft=!1),lt==null&&(lt=0),lt){case 0:st=(rt[ot]&255)<<24|(rt[ot+1]&255)<<16|(rt[ot+2]&255)<<8|rt[ot+3]&255;break;case 1:st=(rt[ot+1]&255)<<24|(rt[ot+2]&255)<<16|(rt[ot+3]&255)<<8|rt[ot]&255;break;case 2:st=(rt[ot+2]&255)<<24|(rt[ot+1]&255)<<16|(rt[ot]&255)<<8|rt[ot+3]&255;break}ft&&st&255&&(st&255)!=255&&(s().default.unmult=255/(st&255),st=(s().default.__clamp[Math.round((st>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((st>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((st>>>8&255)*s().default.unmult)]&255)<<8|st&255&255);var ht=ut*4,dt=tt,pt=!0;switch(pt==null&&(pt=!1),dt==null&&(dt=0),pt&&(st&255?(st&255)!=255&&(s().default.a16=s().default.__alpha16[st&255],st=((st>>>24&255)*s().default.a16>>16&255)<<24|((st>>>16&255)*s().default.a16>>16&255)<<16|((st>>>8&255)*s().default.a16>>16&255)<<8|st&255&255):st!=0&&(st=0)),dt){case 0:rt[ht]=st>>>24&255,rt[ht+1]=st>>>16&255,rt[ht+2]=st>>>8&255,rt[ht+3]=st&255;break;case 1:rt[ht]=st&255,rt[ht+1]=st>>>24&255,rt[ht+2]=st>>>16&255,rt[ht+3]=st>>>8&255;break;case 2:rt[ht]=st>>>8&255,rt[ht+1]=st>>>16&255,rt[ht+2]=st>>>24&255,rt[ht+3]=st&255;break}}nt.buffer.premultiplied=!0,nt.dirty=!0,nt.version++}},et.resize=function(nt,rt,tt){var it=nt.buffer;if(!(it.width==rt&&it.height==tt)){var st=rt*tt*4,at;st!=null?at=new Uint8Array(st):at=null;for(var _t=new($()).default(at,rt,tt),ut=nt.width,ot=nt.height,lt=nt.get_data(),ft=_t.data,ht,dt,pt,xt,vt,bt,wt,At,ct,mt,gt,Tt,yt,Et=0,Ct=tt;Et<Ct;)for(var It=Et++,Rt=0,Ft=rt;Rt<Ft;){var Lt=Rt++;At=(Lt+.5)/rt*ut-.5,ct=(It+.5)/tt*ot-.5,bt=c().default.int(At),wt=c().default.int(ct),ht=(wt*ut+bt)*4,dt=bt<ut-1?ht+4:ht,pt=wt<ot-1?ht+ut*4:ht,xt=dt!=ht?pt+4:pt,vt=(It*rt+Lt)*4,mt=At-bt,gt=ct-wt,Tt=1-mt,yt=1-gt,ft[vt]=c().default.int((j().default.toFloat(lt[ht])*Tt+j().default.toFloat(lt[dt])*mt)*yt+(j().default.toFloat(lt[pt])*Tt+j().default.toFloat(lt[xt])*mt)*gt),ft[vt+1]=c().default.int((j().default.toFloat(lt[ht+1])*Tt+j().default.toFloat(lt[dt+1])*mt)*yt+(j().default.toFloat(lt[pt+1])*Tt+j().default.toFloat(lt[xt+1])*mt)*gt),ft[vt+2]=c().default.int((j().default.toFloat(lt[ht+2])*Tt+j().default.toFloat(lt[dt+2])*mt)*yt+(j().default.toFloat(lt[pt+2])*Tt+j().default.toFloat(lt[xt+2])*mt)*gt),lt[dt+3]==0||lt[pt+3]==0||lt[xt+3]==0?ft[vt+3]=0:ft[vt+3]=lt[ht+3]}it.data=_t.data,it.width=rt,it.height=tt,it.__srcImage=null,it.__srcImageData=null,it.__srcCanvas=null,it.__srcContext=null,nt.dirty=!0,nt.version++}},et.resizeBuffer=function(nt,rt,tt){var it=nt.buffer,st=nt.get_data(),at=rt*tt*4,_t;at!=null?_t=new Uint8Array(at):_t=null;for(var ut=_t,ot,lt,ft=0,ht=it.height;ft<ht;)for(var dt=ft++,pt=0,xt=it.width;pt<xt;){var vt=pt++;ot=(dt*it.width+vt)*4,lt=(dt*rt+vt)*4,ut[lt]=st[ot],ut[lt+1]=st[ot+1],ut[lt+2]=st[ot+2],ut[lt+3]=st[ot+3]}it.data=ut,it.width=rt,it.height=tt,it.__srcImage=null,it.__srcImageData=null,it.__srcCanvas=null,it.__srcContext=null,nt.dirty=!0,nt.version++},et.setFormat=function(nt,rt){var tt=nt.buffer.data;if(tt!=null){var it,st=c().default.int(tt.length/4),at,_t,ut,ot,lt,ft,ht,dt,pt,xt,vt,bt;switch(nt.get_format()){case 0:at=0,_t=1,ut=2,ot=3;break;case 1:at=1,_t=2,ut=3,ot=0;break;case 2:at=2,_t=1,ut=0,ot=3;break}switch(rt){case 0:lt=0,ft=1,ht=2,dt=3;break;case 1:lt=1,ft=2,ht=3,dt=0;break;case 2:lt=2,ft=1,ht=0,dt=3;break}for(var wt=0,At=st;wt<At;){var ct=wt++;it=ct*4,pt=tt[it+at],xt=tt[it+_t],vt=tt[it+ut],bt=tt[it+ot],tt[it+lt]=pt,tt[it+ft]=xt,tt[it+ht]=vt,tt[it+dt]=bt}nt.buffer.format=rt,nt.dirty=!0,nt.version++}},et.setPixel=function(nt,rt,tt,it,st){var at;switch(st){case 1:var _t=it,ut=0,ot=ut;ot=(_t>>>16&255&255)<<24|(_t>>>8&255&255)<<16|(_t&255&255)<<8|_t>>>24&255&255,at=ot;break;case 2:var lt=it,ft=0,ht=ft;ht=(lt>>>8&255&255)<<24|(lt>>>16&255&255)<<16|(lt>>>24&255&255)<<8|lt&255&255,at=ht;break;default:at=it}var dt=0,pt=dt,xt=nt.buffer.data,vt=4*(tt+nt.offsetY)*nt.buffer.width+(rt+nt.offsetX)*4,bt=nt.buffer.format,wt=nt.buffer.premultiplied;switch(wt==null&&(wt=!1),bt==null&&(bt=0),bt){case 0:pt=(xt[vt]&255)<<24|(xt[vt+1]&255)<<16|(xt[vt+2]&255)<<8|xt[vt+3]&255;break;case 1:pt=(xt[vt+1]&255)<<24|(xt[vt+2]&255)<<16|(xt[vt+3]&255)<<8|xt[vt]&255;break;case 2:pt=(xt[vt+2]&255)<<24|(xt[vt+1]&255)<<16|(xt[vt]&255)<<8|xt[vt+3]&255;break}wt&&pt&255&&(pt&255)!=255&&(s().default.unmult=255/(pt&255),pt=(s().default.__clamp[Math.round((pt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((pt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((pt>>>8&255)*s().default.unmult)]&255)<<8|pt&255&255);var At=pt&255;at=(at>>>24&255&255)<<24|(at>>>16&255&255)<<16|(at>>>8&255&255)<<8|At&255;var ct=nt.buffer.data,mt=4*(tt+nt.offsetY)*nt.buffer.width+(rt+nt.offsetX)*4,gt=nt.buffer.format,Tt=nt.buffer.premultiplied;switch(Tt==null&&(Tt=!1),gt==null&&(gt=0),Tt&&(at&255?(at&255)!=255&&(s().default.a16=s().default.__alpha16[at&255],at=((at>>>24&255)*s().default.a16>>16&255)<<24|((at>>>16&255)*s().default.a16>>16&255)<<16|((at>>>8&255)*s().default.a16>>16&255)<<8|at&255&255):at!=0&&(at=0)),gt){case 0:ct[mt]=at>>>24&255,ct[mt+1]=at>>>16&255,ct[mt+2]=at>>>8&255,ct[mt+3]=at&255;break;case 1:ct[mt]=at&255,ct[mt+1]=at>>>24&255,ct[mt+2]=at>>>16&255,ct[mt+3]=at>>>8&255;break;case 2:ct[mt]=at>>>8&255,ct[mt+1]=at>>>16&255,ct[mt+2]=at>>>24&255,ct[mt+3]=at&255;break}nt.dirty=!0,nt.version++},et.setPixel32=function(nt,rt,tt,it,st){var at;switch(st){case 1:var _t=it,ut=0,ot=ut;ot=(_t>>>16&255&255)<<24|(_t>>>8&255&255)<<16|(_t&255&255)<<8|_t>>>24&255&255,at=ot;break;case 2:var lt=it,ft=0,ht=ft;ht=(lt>>>8&255&255)<<24|(lt>>>16&255&255)<<16|(lt>>>24&255&255)<<8|lt&255&255,at=ht;break;default:at=it}nt.get_transparent()||(at=(at>>>24&255&255)<<24|(at>>>16&255&255)<<16|(at>>>8&255&255)<<8|255);var dt=nt.buffer.data,pt=4*(tt+nt.offsetY)*nt.buffer.width+(rt+nt.offsetX)*4,xt=nt.buffer.format,vt=nt.buffer.premultiplied;switch(vt==null&&(vt=!1),xt==null&&(xt=0),vt&&(at&255?(at&255)!=255&&(s().default.a16=s().default.__alpha16[at&255],at=((at>>>24&255)*s().default.a16>>16&255)<<24|((at>>>16&255)*s().default.a16>>16&255)<<16|((at>>>8&255)*s().default.a16>>16&255)<<8|at&255&255):at!=0&&(at=0)),xt){case 0:dt[pt]=at>>>24&255,dt[pt+1]=at>>>16&255,dt[pt+2]=at>>>8&255,dt[pt+3]=at&255;break;case 1:dt[pt]=at&255,dt[pt+1]=at>>>24&255,dt[pt+2]=at>>>16&255,dt[pt+3]=at>>>8&255;break;case 2:dt[pt]=at>>>8&255,dt[pt+1]=at>>>16&255,dt[pt+2]=at>>>24&255,dt[pt+3]=at&255;break}nt.dirty=!0,nt.version++},et.setPixels=function(nt,rt,tt,it,st){if(nt.buffer.data!=null){for(var at=nt.buffer.data,_t=nt.buffer.format,ut=nt.buffer.premultiplied,ot=new(o()).default(nt,rt),lt,ft,ht,dt=nt.get_transparent(),pt=tt.bytes,xt=tt.offset,vt=st!=_e().default.BIG_ENDIAN,bt=0,wt=ot.height;bt<wt;){var At=bt++;lt=ot.row(At);for(var ct=0,mt=ot.width;ct<mt;){var gt=ct++;switch(vt?ft=pt.getInt32(xt):ft=pt.get(xt+3)|pt.get(xt+2)<<8|pt.get(xt+1)<<16|pt.get(xt)<<24,xt+=4,it){case 1:var Tt=ft,yt=0,Et=yt;Et=(Tt>>>16&255&255)<<24|(Tt>>>8&255&255)<<16|(Tt&255&255)<<8|Tt>>>24&255&255,ht=Et;break;case 2:var Ct=ft,It=0,Rt=It;Rt=(Ct>>>8&255&255)<<24|(Ct>>>16&255&255)<<16|(Ct>>>24&255&255)<<8|Ct&255&255,ht=Rt;break;default:ht=ft}dt||(ht=(ht>>>24&255&255)<<24|(ht>>>16&255&255)<<16|(ht>>>8&255&255)<<8|255);var Ft=lt+gt*4,Lt=_t,Ot=ut;switch(Ot==null&&(Ot=!1),Lt==null&&(Lt=0),Ot&&(ht&255?(ht&255)!=255&&(s().default.a16=s().default.__alpha16[ht&255],ht=((ht>>>24&255)*s().default.a16>>16&255)<<24|((ht>>>16&255)*s().default.a16>>16&255)<<16|((ht>>>8&255)*s().default.a16>>16&255)<<8|ht&255&255):ht!=0&&(ht=0)),Lt){case 0:at[Ft]=ht>>>24&255,at[Ft+1]=ht>>>16&255,at[Ft+2]=ht>>>8&255,at[Ft+3]=ht&255;break;case 1:at[Ft]=ht&255,at[Ft+1]=ht>>>24&255,at[Ft+2]=ht>>>16&255,at[Ft+3]=ht>>>8&255;break;case 2:at[Ft]=ht>>>8&255,at[Ft+1]=ht>>>16&255,at[Ft+2]=ht>>>24&255,at[Ft+3]=ht&255;break}}}nt.dirty=!0,nt.version++}},et.threshold=function(nt,rt,tt,it,st,at,_t,ut,ot,lt){var ft,ht,dt;switch(lt){case 1:var pt=_t,xt=0,vt=xt;vt=(pt>>>16&255&255)<<24|(pt>>>8&255&255)<<16|(pt&255&255)<<8|pt>>>24&255&255,ft=vt;var bt=ut,wt=0,At=wt;At=(bt>>>16&255&255)<<24|(bt>>>8&255&255)<<16|(bt&255&255)<<8|bt>>>24&255&255,ht=At;var ct=at,mt=0,gt=mt;gt=(ct>>>16&255&255)<<24|(ct>>>8&255&255)<<16|(ct&255&255)<<8|ct>>>24&255&255,dt=gt;break;case 2:var Tt=_t,yt=0,Et=yt;Et=(Tt>>>8&255&255)<<24|(Tt>>>16&255&255)<<16|(Tt>>>24&255&255)<<8|Tt&255&255,ft=Et;var Ct=ut,It=0,Rt=It;Rt=(Ct>>>8&255&255)<<24|(Ct>>>16&255&255)<<16|(Ct>>>24&255&255)<<8|Ct&255&255,ht=Rt;var Ft=at,Lt=0,Ot=Lt;Ot=(Ft>>>8&255&255)<<24|(Ft>>>16&255&255)<<16|(Ft>>>24&255&255)<<8|Ft&255&255,dt=Ot;break;default:ft=_t,ht=ut,dt=at}var Kt;switch(st){case"!=":Kt=0;break;case"<":Kt=2;break;case"<=":Kt=3;break;case"==":Kt=1;break;case">":Kt=4;break;case">=":Kt=5;break;default:Kt=-1}if(Kt==-1)return 0;var qt=rt.buffer.data,Ht=nt.buffer.data;if(qt==null||Ht==null)return 0;for(var Zt=0,or=new(o()).default(rt,tt),ir=new(o()).default(nt,new(g()).default(it.x,it.y,or.width,or.height)),lr=rt.buffer.format,ar=nt.buffer.format,Mt=rt.buffer.premultiplied,kt=nt.buffer.premultiplied,Vt,Nt,Wt=0,Qt,tr,sr,dr=0,pr=ir.height;dr<pr;){var cr=dr++;Vt=or.row(cr),Nt=ir.row(cr);for(var mr=0,fr=ir.width;mr<fr;){mr++;var Bt=lr,Xt=Mt;switch(Xt==null&&(Xt=!1),Bt==null&&(Bt=0),Bt){case 0:Wt=(qt[Vt]&255)<<24|(qt[Vt+1]&255)<<16|(qt[Vt+2]&255)<<8|qt[Vt+3]&255;break;case 1:Wt=(qt[Vt+1]&255)<<24|(qt[Vt+2]&255)<<16|(qt[Vt+3]&255)<<8|qt[Vt]&255;break;case 2:Wt=(qt[Vt+2]&255)<<24|(qt[Vt+1]&255)<<16|(qt[Vt]&255)<<8|qt[Vt+3]&255;break}switch(Xt&&Wt&255&&(Wt&255)!=255&&(s().default.unmult=255/(Wt&255),Wt=(s().default.__clamp[Math.round((Wt>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((Wt>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((Wt>>>8&255)*s().default.unmult)]&255)<<8|Wt&255&255),Qt=Wt&ht,sr=et.__pixelCompare(Qt,dt),Kt){case 0:tr=sr!=0;break;case 1:tr=sr==0;break;case 2:tr=sr==-1;break;case 3:tr=sr==0||sr==-1;break;case 4:tr=sr==1;break;case 5:tr=sr==0||sr==1;break;default:tr=!1}if(tr){var rr=ar,nr=kt;switch(nr==null&&(nr=!1),rr==null&&(rr=0),nr&&(ft&255?(ft&255)!=255&&(s().default.a16=s().default.__alpha16[ft&255],ft=((ft>>>24&255)*s().default.a16>>16&255)<<24|((ft>>>16&255)*s().default.a16>>16&255)<<16|((ft>>>8&255)*s().default.a16>>16&255)<<8|ft&255&255):ft!=0&&(ft=0)),rr){case 0:Ht[Nt]=ft>>>24&255,Ht[Nt+1]=ft>>>16&255,Ht[Nt+2]=ft>>>8&255,Ht[Nt+3]=ft&255;break;case 1:Ht[Nt]=ft&255,Ht[Nt+1]=ft>>>24&255,Ht[Nt+2]=ft>>>16&255,Ht[Nt+3]=ft>>>8&255;break;case 2:Ht[Nt]=ft>>>8&255,Ht[Nt+1]=ft>>>16&255,Ht[Nt+2]=ft>>>24&255,Ht[Nt+3]=ft&255;break}++Zt}else if(ot){var Gt=ar,zt=kt;switch(zt==null&&(zt=!1),Gt==null&&(Gt=0),zt&&(Wt&255?(Wt&255)!=255&&(s().default.a16=s().default.__alpha16[Wt&255],Wt=((Wt>>>24&255)*s().default.a16>>16&255)<<24|((Wt>>>16&255)*s().default.a16>>16&255)<<16|((Wt>>>8&255)*s().default.a16>>16&255)<<8|Wt&255&255):Wt!=0&&(Wt=0)),Gt){case 0:Ht[Nt]=Wt>>>24&255,Ht[Nt+1]=Wt>>>16&255,Ht[Nt+2]=Wt>>>8&255,Ht[Nt+3]=Wt&255;break;case 1:Ht[Nt]=Wt&255,Ht[Nt+1]=Wt>>>24&255,Ht[Nt+2]=Wt>>>16&255,Ht[Nt+3]=Wt>>>8&255;break;case 2:Ht[Nt]=Wt>>>8&255,Ht[Nt+1]=Wt>>>16&255,Ht[Nt+2]=Wt>>>24&255,Ht[Nt+3]=Wt&255;break}}Vt+=4,Nt+=4}}return Zt>0&&(nt.dirty=!0,nt.version++),Zt},et.unmultiplyAlpha=function(nt){var rt=nt.buffer.data;if(rt!=null){for(var tt=nt.buffer.format,it=c().default.int(rt.length/4),st=0,at=0,_t=it;at<_t;){var ut=at++,ot=ut*4,lt=tt,ft=!0;switch(ft==null&&(ft=!1),lt==null&&(lt=0),lt){case 0:st=(rt[ot]&255)<<24|(rt[ot+1]&255)<<16|(rt[ot+2]&255)<<8|rt[ot+3]&255;break;case 1:st=(rt[ot+1]&255)<<24|(rt[ot+2]&255)<<16|(rt[ot+3]&255)<<8|rt[ot]&255;break;case 2:st=(rt[ot+2]&255)<<24|(rt[ot+1]&255)<<16|(rt[ot]&255)<<8|rt[ot+3]&255;break}ft&&st&255&&(st&255)!=255&&(s().default.unmult=255/(st&255),st=(s().default.__clamp[Math.round((st>>>24&255)*s().default.unmult)]&255)<<24|(s().default.__clamp[Math.round((st>>>16&255)*s().default.unmult)]&255)<<16|(s().default.__clamp[Math.round((st>>>8&255)*s().default.unmult)]&255)<<8|st&255&255);var ht=ut*4,dt=tt,pt=!1;switch(pt==null&&(pt=!1),dt==null&&(dt=0),pt&&(st&255?(st&255)!=255&&(s().default.a16=s().default.__alpha16[st&255],st=((st>>>24&255)*s().default.a16>>16&255)<<24|((st>>>16&255)*s().default.a16>>16&255)<<16|((st>>>8&255)*s().default.a16>>16&255)<<8|st&255&255):st!=0&&(st=0)),dt){case 0:rt[ht]=st>>>24&255,rt[ht+1]=st>>>16&255,rt[ht+2]=st>>>8&255,rt[ht+3]=st&255;break;case 1:rt[ht]=st&255,rt[ht+1]=st>>>24&255,rt[ht+2]=st>>>16&255,rt[ht+3]=st>>>8&255;break;case 2:rt[ht]=st>>>8&255,rt[ht+1]=st>>>16&255,rt[ht+2]=st>>>24&255,rt[ht+3]=st&255;break}}nt.buffer.premultiplied=!1,nt.dirty=!0,nt.version++}},et.__boxBlur=function(nt,rt,tt,it,st,at){rt.set(nt);var _t=c().default.int(st),ut=c().default.int(at);et.__boxBlurH(rt,nt,tt,it,_t,0),et.__boxBlurH(rt,nt,tt,it,_t,1),et.__boxBlurH(rt,nt,tt,it,_t,2),et.__boxBlurH(rt,nt,tt,it,_t,3),et.__boxBlurT(nt,rt,tt,it,ut,0),et.__boxBlurT(nt,rt,tt,it,ut,1),et.__boxBlurT(nt,rt,tt,it,ut,2),et.__boxBlurT(nt,rt,tt,it,ut,3)},et.__boxBlurH=function(nt,rt,tt,it,st,at){for(var _t=1/(st+st+1),ut,ot,lt,ft,ht,dt,pt=0,xt=it;pt<xt;){var vt=pt++;ut=vt*tt,ot=ut,lt=ut+st,ft=nt[ut*4+at],ht=nt[(ut+tt-1)*4+at],dt=(st+1)*ft;for(var bt=0,wt=st;bt<wt;){var At=bt++;dt=dt+nt[(ut+At)*4+at]}for(var ct=0,mt=st+1;ct<mt;)ct++,dt=dt+(nt[lt*4+at]-ft),rt[ut*4+at]=Math.round(j().default.toFloat(dt)*_t),++lt,++ut;for(var gt=st+1,Tt=tt-st;gt<Tt;)gt++,dt=dt+(nt[lt*4+at]-nt[ot*4+at]),rt[ut*4+at]=Math.round(j().default.toFloat(dt)*_t),++lt,++ot,++ut;for(var yt=tt-st,Et=tt;yt<Et;)yt++,dt=dt+(ht-nt[ot*4+at]),rt[ut*4+at]=Math.round(j().default.toFloat(dt)*_t),++ot,++ut}},et.__boxBlurT=function(nt,rt,tt,it,st,at){for(var _t=1/(st+st+1),ut=tt*4,ot,lt,ft,ht,dt,pt,xt=0,vt=tt;xt<vt;){var bt=xt++;ot=bt*4+at,lt=ot,ft=ot+st*ut,ht=nt[ot],dt=nt[ot+ut*(it-1)],pt=(st+1)*ht;for(var wt=0,At=st;wt<At;){var ct=wt++;pt=pt+nt[ot+ct*ut]}for(var mt=0,gt=st+1;mt<gt;)mt++,pt=pt+(nt[ft]-ht),rt[ot]=Math.round(j().default.toFloat(pt)*_t),ft+=ut,ot+=ut;for(var Tt=st+1,yt=it-st;Tt<yt;)Tt++,pt=pt+(nt[ft]-nt[lt]),rt[ot]=Math.round(j().default.toFloat(pt)*_t),lt+=ut,ft+=ut,ot+=ut;for(var Et=it-st,Ct=it;Et<Ct;)Et++,pt=pt+(dt-nt[lt]),rt[ot]=Math.round(j().default.toFloat(pt)*_t),lt+=ut,ot+=ut}},et.__calculateSourceOffset=function(nt,rt,tt,it){var st=tt-c().default.int(rt.x),at=it-c().default.int(rt.y),_t=0;return st<0||at<0||st>=nt.width||at>=nt.height?_t=-1:_t=4*(at*c().default.int(nt.width)+st),_t},et.__getBoxesForGaussianBlur=function(nt,rt){var tt=Math.sqrt(12*nt*nt/rt+1),it=Math.floor(tt);it%2==0&&--it;for(var st=it+2,at=(12*nt*nt-rt*it*it-4*rt*it-3*rt)/(-4*it-4),_t=Math.round(at),ut=[],ot=0,lt=rt;ot<lt;){var ft=ot++;ut.push(ft<_t?it:st)}return ut},et.__pixelCompare=function(nt,rt){var tt=nt>>>24&255,it=rt>>>24&255;return tt!=it?j().default.gt(tt,it)?1:-1:(tt=nt>>>16&255,it=rt>>>16&255,tt!=it?j().default.gt(tt,it)?1:-1:(tt=nt>>>8&255,it=rt>>>8&255,tt!=it?j().default.gt(tt,it)?1:-1:(tt=nt&255,it=rt&255,tt!=it?j().default.gt(tt,it)?1:-1:0)))},et.__translatePixel=function(nt,rt,tt,it,st,at,_t){var ut=4*(at*c().default.int(tt.width)+st),ot=et.__calculateSourceOffset(rt,it,st,at);if(ot<0)nt[ut]=nt[ut+1]=nt[ut+2]=nt[ut+3]=0;else{nt[ut]=nt[ot],nt[ut+1]=nt[ot+1],nt[ut+2]=nt[ot+2];var lt=c().default.int(j().default.toFloat(nt[ot+3])*_t);nt[ut+3]=lt<0?0:lt>255?255:lt}},e.default=et}(ImageDataUtil)),ImageDataUtil}var ImageChannel={},hasRequiredImageChannel;function requireImageChannel(){return hasRequiredImageChannel||(hasRequiredImageChannel=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:["RED","GREEN","BLUE","ALPHA"],RED:{_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:d},GREEN:{_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:d},BLUE:{_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:d},ALPHA:{_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:d}};e.default=c}(ImageChannel)),ImageChannel}var hasRequiredImageCanvasUtil;function requireImageCanvasUtil(){return hasRequiredImageCanvasUtil||(hasRequiredImageCanvasUtil=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageDataUtil()}function c(){return requireImageType()}function s(){return requireVector2()}function h(){return requireRectangle()}function f(){return requireImageChannel()}function g(){return requireStd()}var b=function(){};b.__name__="lime._internal.graphics.ImageCanvasUtil",b.__isInterface__=!1,b.prototype={},b.prototype.__class__=b.prototype.constructor=d["lime._internal.graphics.ImageCanvasUtil"]=b,b.colorTransform=function(k,$,j){b.convertToData(k),o().default.colorTransform(k,$,j)},b.convertToCanvas=function(k,$){$==null&&($=!1);var j=k.buffer;j.__srcImage!=null?(j.__srcCanvas==null&&(b.createCanvas(k,j.__srcImage.width,j.__srcImage.height),j.__srcContext.drawImage(j.__srcImage,0,0)),j.__srcImage=null):j.__srcCanvas==null&&j.data!=null?(k.set_transparent(!0),b.createCanvas(k,j.width,j.height),b.createImageData(k),j.__srcContext.putImageData(j.__srcImageData,0,0)):k.type==c().default.DATA&&j.__srcImageData!=null&&k.dirty&&(j.__srcContext.putImageData(j.__srcImageData,0,0),k.dirty=!1),$?(j.data=null,j.__srcImageData=null):j.data==null&&j.__srcImageData!=null&&(j.data=j.__srcImageData.data),k.type=c().default.CANVAS},b.convertToData=function(k,$){$==null&&($=!1);var j=k.buffer;if(j.__srcImage!=null&&b.convertToCanvas(k),j.__srcCanvas!=null&&j.data==null)b.createImageData(k),k.type==c().default.CANVAS&&(k.dirty=!1);else if(k.type==c().default.CANVAS&&j.__srcCanvas!=null&&k.dirty){if(j.__srcImageData==null)b.createImageData(k);else{j.__srcImageData=j.__srcContext.getImageData(0,0,j.width,j.height);var _e=j.__srcImageData.data.buffer,et=null,nt=null,rt=null,tt=null,it;_e!=null?it=new Uint8Array(_e):et!=null?it=new Uint8Array(et):nt!=null?it=new Uint8Array(nt):rt!=null?tt==null?it=new Uint8Array(rt,0):it=new Uint8Array(rt,0,tt):it=null,j.data=it}k.dirty=!1}$&&(k.buffer.__srcCanvas=null,k.buffer.__srcContext=null),k.type=c().default.DATA},b.copyChannel=function(k,$,j,_e,et,nt){b.convertToData($),b.convertToData(k),o().default.copyChannel(k,$,j,_e,et,nt)},b.copyPixels=function(k,$,j,_e,et,nt,rt){if(rt==null&&(rt=!1),!(_e==null||_e.x>=k.width||_e.y>=k.height||j==null||j.width<1||j.height<1)){if(et!=null&&et.get_transparent()){nt==null&&(nt=new(s()).default);var tt=$.clone();tt.copyChannel(et,new(h()).default(j.x+nt.x,j.y+nt.y,j.width,j.height),new(s()).default(j.x,j.y),f().default.ALPHA,f().default.ALPHA),$=tt}b.convertToCanvas(k,!0),rt||k.get_transparent()&&$.get_transparent()&&k.buffer.__srcContext.clearRect(_e.x+k.offsetX,_e.y+k.offsetY,j.width+k.offsetX,j.height+k.offsetY),b.convertToCanvas($),$.buffer.get_src()!=null&&(k.buffer.__srcContext.globalCompositeOperation="source-over",k.buffer.__srcContext.drawImage($.buffer.get_src(),g().default.int(j.x+$.offsetX),g().default.int(j.y+$.offsetY),g().default.int(j.width),g().default.int(j.height),g().default.int(_e.x+k.offsetX),g().default.int(_e.y+k.offsetY),g().default.int(j.width),g().default.int(j.height))),k.dirty=!0,k.version++}},b.createCanvas=function(k,$,j){var _e=k.buffer;_e.__srcCanvas==null&&(_e.__srcCanvas=window.document.createElement("canvas"),_e.__srcCanvas.width=$,_e.__srcCanvas.height=j,k.get_transparent()?_e.__srcContext=_e.__srcCanvas.getContext("2d"):(k.get_transparent()||_e.__srcCanvas.setAttribute("moz-opaque","true"),_e.__srcContext=_e.__srcCanvas.getContext("2d",{alpha:!1})))},b.createImageData=function(k){var $=k.buffer;if($.__srcImageData==null){$.data==null?$.__srcImageData=$.__srcContext.getImageData(0,0,$.width,$.height):($.__srcImageData=$.__srcContext.createImageData($.width,$.height),$.__srcImageData.data.set($.data));var j=$.__srcImageData.data.buffer,_e=null,et=null,nt=null,rt=null,tt;j!=null?tt=new Uint8Array(j):_e!=null?tt=new Uint8Array(_e):et!=null?tt=new Uint8Array(et):nt!=null?rt==null?tt=new Uint8Array(nt,0):tt=new Uint8Array(nt,0,rt):tt=null,$.data=tt}},b.fillRect=function(k,$,j,_e){b.convertToCanvas(k);var et,nt,rt,tt;if(_e==1?(et=j>>16&255,nt=j>>8&255,rt=j&255,tt=k.get_transparent()?j>>24&255:255):(et=j>>24&255,nt=j>>16&255,rt=j>>8&255,tt=k.get_transparent()?j&255:255),$.x==0&&$.y==0&&$.width==k.width&&$.height==k.height&&k.get_transparent()&&tt==0){k.buffer.__srcCanvas.width=k.buffer.width;return}tt<255&&k.buffer.__srcContext.clearRect($.x+k.offsetX,$.y+k.offsetY,$.width+k.offsetX,$.height+k.offsetY),tt>0&&(k.buffer.__srcContext.fillStyle="rgba("+et+", "+nt+", "+rt+", "+tt/255+")",k.buffer.__srcContext.fillRect($.x+k.offsetX,$.y+k.offsetY,$.width+k.offsetX,$.height+k.offsetY)),k.dirty=!0,k.version++},b.floodFill=function(k,$,j,_e,et){b.convertToData(k),o().default.floodFill(k,$,j,_e,et)},b.getPixel=function(k,$,j,_e){return b.convertToData(k),o().default.getPixel(k,$,j,_e)},b.getPixel32=function(k,$,j,_e){return b.convertToData(k),o().default.getPixel32(k,$,j,_e)},b.getPixels=function(k,$,j){return b.convertToData(k),o().default.getPixels(k,$,j)},b.merge=function(k,$,j,_e,et,nt,rt,tt){b.convertToData($),b.convertToData(k),o().default.merge(k,$,j,_e,et,nt,rt,tt)},b.resize=function(k,$,j){var _e=k.buffer;if(_e.__srcCanvas==null)b.createCanvas(k,$,j),_e.__srcContext.drawImage(_e.get_src(),0,0,$,j);else{b.convertToCanvas(k,!0);var et=_e.__srcCanvas;_e.__srcCanvas=null,b.createCanvas(k,$,j),_e.__srcContext.drawImage(et,0,0,$,j)}_e.__srcImageData=null,_e.data=null,k.dirty=!0,k.version++},b.scroll=function(k,$,j){if(!($%k.width==0&&j%k.height==0)){var _e=k.clone();b.convertToCanvas(k,!0),k.buffer.__srcContext.clearRect($,j,k.width,k.height),k.buffer.__srcContext.drawImage(_e.get_src(),$,j),k.dirty=!0,k.version++}},b.setPixel=function(k,$,j,_e,et){b.convertToData(k),o().default.setPixel(k,$,j,_e,et)},b.setPixel32=function(k,$,j,_e,et){b.convertToData(k),o().default.setPixel32(k,$,j,_e,et)},b.setPixels=function(k,$,j,_e,et){b.convertToData(k),o().default.setPixels(k,$,j,_e,et)},b.sync=function(k,$){k!=null&&(k.type==c().default.CANVAS&&(k.buffer.__srcCanvas!=null||k.buffer.data!=null)?b.convertToCanvas(k,$):k.type==c().default.DATA&&b.convertToData(k,$))},e.default=b}(ImageCanvasUtil)),ImageCanvasUtil}var PNG={},hasRequiredPNG;function requirePNG(){return hasRequiredPNG||(hasRequiredPNG=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageCanvasUtil()}function c(){return requireBytes()}function s(){return requireHxOverrides()}var h=function(){};h.__name__="lime._internal.format.PNG",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime._internal.format.PNG"]=h,h.decodeBytes=function(f,g){return null},h.decodeFile=function(f,g){return null},h.encode=function(f){if((f.get_premultiplied()||f.get_format()!=0)&&(f=f.clone(),f.set_premultiplied(!1),f.set_format(0)),o().default.convertToCanvas(f,!1),f.buffer.__srcCanvas!=null){for(var g=f.buffer.__srcCanvas.toDataURL("image/png"),b=window.atob(g.split(";base64,")[1]),k=c().default.alloc(b.length),$=0,j=b.length;$<j;){var _e=$++;k.set(_e,s().default.cca(b,_e))}return k}return null},e.default=h}(PNG)),PNG}var BMP={},BMPType={},hasRequiredBMPType;function requireBMPType(){return hasRequiredBMPType||(hasRequiredBMPType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime._internal.format.BMPType"]={__ename__:"lime._internal.format.BMPType",__constructs__:["RGB","BITFIELD","ICO"],RGB:{_hx_index:0,__enum__:"lime._internal.format.BMPType",toString:d},ICO:{_hx_index:2,__enum__:"lime._internal.format.BMPType",toString:d},BITFIELD:{_hx_index:1,__enum__:"lime._internal.format.BMPType",toString:d}};e.default=c}(BMPType)),BMPType}var hasRequiredBMP;function requireBMP(){return hasRequiredBMP||(hasRequiredBMP=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBMPType()}function c(){return requireBytes()}function s(){return requireRectangle()}var h=function(){};h.__name__="lime._internal.format.BMP",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime._internal.format.BMP"]=h,h.encode=function(f,g){(f.get_premultiplied()||f.get_format()!=0)&&(f=f.clone(),f.set_premultiplied(!1),f.set_format(0)),g==null&&(g=o().default.RGB);var b=14,k=40,$=f.width*f.height*4;if(g!=null)switch(g._hx_index){case 0:$=(f.width*3+f.width*3%4)*f.height;break;case 1:k=108;break;case 2:b=0,$+=f.width*f.height;break}var j=c().default.alloc(b+k+$),_e=0;if(b>0&&(j.set(_e++,66),j.set(_e++,77),j.setInt32(_e,j.get_length()),_e+=4,j.setUInt16(_e,0),_e+=2,j.setUInt16(_e,0),_e+=2,j.setInt32(_e,b+k),_e+=4),j.setInt32(_e,k),_e+=4,j.setInt32(_e,f.width),_e+=4,j.setInt32(_e,g==o().default.ICO?f.height*2:f.height),_e+=4,j.setUInt16(_e,1),_e+=2,j.setUInt16(_e,g==o().default.RGB?24:32),_e+=2,j.setInt32(_e,g==o().default.BITFIELD?3:0),_e+=4,j.setInt32(_e,$),_e+=4,j.setInt32(_e,11824),_e+=4,j.setInt32(_e,11824),_e+=4,j.setInt32(_e,0),_e+=4,j.setInt32(_e,0),_e+=4,g==o().default.BITFIELD){j.setInt32(_e,16711680),_e+=4,j.setInt32(_e,65280),_e+=4,j.setInt32(_e,255),_e+=4,j.setInt32(_e,-16777216),_e+=4,j.set(_e++,32),j.set(_e++,110),j.set(_e++,105),j.set(_e++,87);for(var et=0;et<48;)et++,j.set(_e++,0)}var nt=f.getPixels(new(s()).default(0,0,f.width,f.height),1),rt=0,tt,it,st,at;if(g!=null)switch(g._hx_index){case 0:for(var _t=0,ut=f.height;_t<ut;){var ot=_t++;rt=(f.height-1-ot)*4*f.width;for(var lt=0,ft=f.width;lt<ft;)lt++,tt=nt.get(rt++),it=nt.get(rt++),st=nt.get(rt++),at=nt.get(rt++),j.set(_e++,at),j.set(_e++,st),j.set(_e++,it);for(var ht=0,dt=f.width*3%4;ht<dt;)ht++,j.set(_e++,0)}break;case 1:for(var pt=0,xt=f.height;pt<xt;){var vt=pt++;rt=(f.height-1-vt)*4*f.width;for(var bt=0,wt=f.width;bt<wt;)bt++,tt=nt.get(rt++),it=nt.get(rt++),st=nt.get(rt++),at=nt.get(rt++),j.set(_e++,at),j.set(_e++,st),j.set(_e++,it),j.set(_e++,tt)}break;case 2:for(var At=c().default.alloc(f.width*f.height),ct=0,mt=0,gt=f.height;mt<gt;){var Tt=mt++;rt=(f.height-1-Tt)*4*f.width;for(var yt=0,Et=f.width;yt<Et;)yt++,tt=nt.get(rt++),it=nt.get(rt++),st=nt.get(rt++),at=nt.get(rt++),j.set(_e++,at),j.set(_e++,st),j.set(_e++,it),j.set(_e++,tt),At.set(ct++,0)}j.blit(_e,At,0,f.width*f.height);break}return j},e.default=h}(BMP)),BMP}var JPEG={},hasRequiredJPEG;function requireJPEG(){return hasRequiredJPEG||(hasRequiredJPEG=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageCanvasUtil()}function c(){return requireBytes()}function s(){return requireHxOverrides()}var h=function(){};h.__name__="lime._internal.format.JPEG",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime._internal.format.JPEG"]=h,h.decodeBytes=function(f,g){return null},h.decodeFile=function(f,g){return null},h.encode=function(f,g){if((f.get_premultiplied()||f.get_format()!=0)&&(f=f.clone(),f.set_premultiplied(!1),f.set_format(0)),o().default.convertToCanvas(f,!1),f.buffer.__srcCanvas!=null){for(var b=f.buffer.__srcCanvas.toDataURL("image/jpeg",g/100),k=window.atob(b.split(";base64,")[1]),$=c().default.alloc(k.length),j=0,_e=k.length;j<_e;){var et=j++;$.set(et,s().default.cca(k,et))}return $}return null},e.default=h}(JPEG)),JPEG}var Base64$1={},Base64={},BaseCode={},hasRequiredBaseCode;function requireBaseCode(){return hasRequiredBaseCode||(hasRequiredBaseCode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}function c(){return requireHaxeError()}var s=function(h){for(var f=h.get_length(),g=1;f>1<<g;)++g;if(g>8||f!=1<<g)throw new(c()).default("BaseCode : base length must be a power of two.");this.base=h,this.nbits=g};s.__name__="haxe.crypto.BaseCode",s.__isInterface__=!1,s.prototype={initTable:function(){for(var h=[],f=0;f<256;){var g=f++;h[g]=-1}for(var b=0,k=this.base.get_length();b<k;){var $=b++;h[this.base.get($)]=$}this.tbl=h},decodeBytes:function(h){var f=this.nbits;this.base,this.tbl==null&&this.initTable();for(var g=this.tbl,b=h.get_length()*f>>3,k=o().default.alloc(b),$=0,j=0,_e=0,et=0;et<b;){for(;j<8;){j+=f,$<<=f;var nt=g[h.get(_e++)];if(nt==-1)throw new(c()).default("BaseCode : invalid encoded char");$|=nt}j-=8,k.set(et++,$>>j&255)}return k}},s.prototype.__class__=s.prototype.constructor=d["haxe.crypto.BaseCode"]=s,e.default=s}(BaseCode)),BaseCode}var hasRequiredBase64$1;function requireBase64$1(){return hasRequiredBase64$1||(hasRequiredBase64$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}function c(){return requireHxOverrides()}function s(){return requireBaseCode()}var h=function(){};h.__name__="haxe.crypto.Base64",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["haxe.crypto.Base64"]=h,h.decode=function(f,g){if(g==null&&(g=!0),g)for(;c().default.cca(f,f.length-1)==61;)f=c().default.substr(f,0,-1);return new(s()).default(h.BYTES).decodeBytes(o().default.ofString(f))},h.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h.BYTES=o().default.ofString(h.CHARS),e.default=h}(Base64)),Base64}var hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBase64$1()}var c=function(){};c.__name__="lime._internal.format.Base64",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime._internal.format.Base64"]=c,c.decode=function(s){return o().default.decode(s)},c.encode=function(s){var h=[],f=c.DICTIONARY,g=c.EXTENDED_DICTIONARY,b=s.get_length(),k=Math.floor(b/3),$=k*2;h.length=Math.ceil(b/3)*2;for(var j=0,_e=0,et;_e<$;)et=s.get(j)<<16|s.get(j+1)<<8|s.get(j+2),h[_e]=g[et>>12&4095],h[_e+1]=g[et&4095],j+=3,_e+=2;switch(b-k*3){case 1:et=s.get(j)<<16,h[_e]=g[et>>12&4095],h[_e+1]="==";break;case 2:et=s.get(j)<<16|s.get(j+1)<<8,h[_e]=g[et>>12&4095],h[_e+1]=f[et>>6&63]+"=";break}return h.join("")},c.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),c.EXTENDED_DICTIONARY=function(s){for(var h,f=[],g=0,b=c.DICTIONARY;g<b.length;){var k=b[g];++g;for(var $=0,j=c.DICTIONARY;$<j.length;){var _e=j[$];++$,f.push(k+_e)}}return h=f,h}(),e.default=c}(Base64$1)),Base64$1}var HTML5HTTPRequest={},Lambda={},getIterator_stub={},hasRequiredGetIterator_stub;function requireGetIterator_stub(){if(hasRequiredGetIterator_stub)return getIterator_stub;hasRequiredGetIterator_stub=1,Object.defineProperty(getIterator_stub,"__esModule",{value:!0});var e=requireHxOverrides().default;return getIterator_stub.default=function(d){return d instanceof Array?e.iter(d):d.iterator()},getIterator_stub}var hasRequiredLambda;function requireLambda(){return hasRequiredLambda||(hasRequiredLambda=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=requireGetIterator_stub().default,c=function(){};c.__name__="Lambda",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d.Lambda=c,c.array=function(s){for(var h=[],f=o(s);f.hasNext();){var g=f.next();h.push(g)}return h},c.map=function(s,h){for(var f=[],g=o(s);g.hasNext();){var b=g.next();f.push(h(b))}return f},c.count=function(s,h){var f=0;if(h==null)for(var g=o(s);g.hasNext();)g.next(),++f;else for(var b=o(s);b.hasNext();){var k=b.next();h(k)&&++f}return f},e.default=c}(Lambda)),Lambda}var _Promise={},Future$1={},Log={},hasRequiredLog;function requireLog(){return hasRequiredLog||(hasRequiredLog=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireHaxeError()}var s=function(){};s.__name__="lime.utils.Log",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.utils.Log"]=s,s.level=3,typeof console>"u"&&(console={}),console.log==null&&(console.log=function(){}),s.debug=function(h,f){s.level>=4&&console.debug("["+f.className+"] "+o().default.string(h))},s.error=function(h,f){if(s.level>=1){var g="["+f.className+"] ERROR: "+o().default.string(h);if(s.throwErrors)throw new(c()).default(g);console.error(g)}},s.info=function(h,f){s.level>=3&&console.info("["+f.className+"] "+o().default.string(h))},s.print=function(h){console.log(h)},s.println=function(h){console.log(h)},s.verbose=function(h,f){s.level>=5&&s.println("["+f.className+"] "+o().default.string(h))},s.warn=function(h,f){s.level>=2&&console.warn("["+f.className+"] WARNING: "+o().default.string(h))},s.throwErrors=!0,e.default=s}(Log)),Log}var FutureWork={},ThreadPool={},_Event_Dynamic_Void={},hasRequired_Event_Dynamic_Void;function require_Event_Dynamic_Void(){return hasRequired_Event_Dynamic_Void||(hasRequired_Event_Dynamic_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Dynamic_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Dynamic_Void"]=c,e.default=c}(_Event_Dynamic_Void)),_Event_Dynamic_Void}var hasRequiredThreadPool;function requireThreadPool(){return hasRequiredThreadPool||(hasRequiredThreadPool=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Event_Dynamic_Void()}var c=function(s,h){h==null&&(h=1),s==null&&(s=0),this.onRun=new(o()).default,this.onProgress=new(o()).default,this.onError=new(o()).default,this.onComplete=new(o()).default,this.doWork=new(o()).default,this.minThreads=s,this.maxThreads=h,this.currentThreads=0};c.__name__="lime.system.ThreadPool",c.__isInterface__=!1,c.prototype={queue:function(s){this.runWork(s)},sendComplete:function(s){this.onComplete.dispatch(s)},sendError:function(s){this.onError.dispatch(s)},sendProgress:function(s){this.onProgress.dispatch(s)},runWork:function(s){this.onRun.dispatch(s),this.doWork.dispatch(s)}},c.prototype.__class__=c.prototype.constructor=d["lime.system.ThreadPool"]=c,e.default=c}(ThreadPool)),ThreadPool}var hasRequiredFutureWork;function requireFutureWork(){return hasRequiredFutureWork||(hasRequiredFutureWork=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireThreadPool()}function c(){return requireCallStack()}function s(){return requireHaxeError()}var h=function(){};h.__name__="lime.app._Future.FutureWork",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime.app._Future.FutureWork"]=h,h.queue=function(f){h.threadPool==null&&(h.threadPool=new(o()).default,h.threadPool.doWork.add(h.threadPool_doWork),h.threadPool.onComplete.add(h.threadPool_onComplete),h.threadPool.onError.add(h.threadPool_onError)),h.threadPool.queue(f)},h.threadPool_doWork=function(f){try{var g=f.work();h.threadPool.sendComplete({promise:f.promise,result:g})}catch(b){c().default.lastException=b,h.threadPool.sendError({promise:f.promise,error:b instanceof s().default?b.val:b})}},h.threadPool_onComplete=function(f){f.promise.complete(f.result)},h.threadPool_onError=function(f){f.promise.error(f.error)},e.default=h}(FutureWork)),FutureWork}var hasRequiredFuture;function requireFuture(){return hasRequiredFuture||(hasRequiredFuture=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireLog()}function s(){return require_Promise()}function h(){return requireFutureWork()}function f(){return requireCallStack()}function g(){return requireHaxeError()}var b=function(k,$){if($==null&&($=!1),k!=null)if($){var j=new(s()).default;j.future=this,h().default.queue({promise:j,work:k})}else try{this.value=k(),this.isComplete=!0}catch(_e){f().default.lastException=_e,this.error=_e instanceof g().default?_e.val:_e,this.isError=!0}};b.__name__="lime.app.Future",b.__isInterface__=!1,b.prototype={onComplete:function(k){return k!=null&&(this.isComplete?k(this.value):this.isError||(this.__completeListeners==null&&(this.__completeListeners=[]),this.__completeListeners.push(k))),this},onError:function(k){return k!=null&&(this.isError?k(this.error):this.isComplete||(this.__errorListeners==null&&(this.__errorListeners=[]),this.__errorListeners.push(k))),this},onProgress:function(k){return k!=null&&(this.__progressListeners==null&&(this.__progressListeners=[]),this.__progressListeners.push(k)),this},ready:function(k){return this.isComplete||this.isError?this:(c().default.warn("Cannot block thread in JavaScript",{fileName:"../node_modules/lime/src/lime/app/Future.hx",lineNumber:208,className:"lime.app.Future",methodName:"ready"}),this)},result:function(k){return k==null&&(k=-1),this.ready(k),this.isComplete?this.value:null},then:function(k){if(this.isComplete)return k(this.value);if(this.isError){var $=new b;return $.isError=!0,$.error=this.error,$}else{var j=new(s()).default;return this.onError(o(j,j.error)),this.onProgress(o(j,j.progress)),this.onComplete(function(_e){var et=k(_e);et.onError(o(j,j.error)),et.onComplete(o(j,j.complete))}),j.future}}},b.prototype.__class__=b.prototype.constructor=d["lime.app.Future"]=b,b.ofEvents=function(k,$,j){var _e=new(s()).default;return k.add(function(et){_e.complete(et)},!0),$!=null&&$.add(function(et){_e.error(et)},!0),j!=null&&j.add(function(et,nt){_e.progress(et,nt)},!0),_e.future},b.withError=function(k){var $=new b;return $.isError=!0,$.error=k,$},b.withValue=function(k){var $=new b;return $.isComplete=!0,$.value=k,$},e.default=b}(Future$1)),Future$1}var hasRequired_Promise;function require_Promise(){return hasRequired_Promise||(hasRequired_Promise=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireFuture()}var s=function(){this.future=new(c()).default};s.__name__="lime.app.Promise",s.__isInterface__=!1,s.prototype={complete:function(f){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=f,this.future.__completeListeners!=null)){for(var g=0,b=this.future.__completeListeners;g<b.length;){var k=b[g];++g,k(f)}this.future.__completeListeners=null}return this},completeWith:function(f){return f.onComplete(o(this,this.complete)),f.onError(o(this,this.error)),f.onProgress(o(this,this.progress)),this},error:function(f){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=f,this.future.__errorListeners!=null)){for(var g=0,b=this.future.__errorListeners;g<b.length;){var k=b[g];++g,k(f)}this.future.__errorListeners=null}return this},progress:function(f,g){if(!this.future.isError&&!this.future.isComplete&&this.future.__progressListeners!=null)for(var b=0,k=this.future.__progressListeners;b<k.length;){var $=k[b];++b,$(f,g)}return this},get_isComplete:function(){return this.future.isComplete},get_isError:function(){return this.future.isError}},s.prototype.__class__=s.prototype.constructor=d["lime.app.Promise"]=s;{var h=s.prototype;Object.defineProperties(h,{isComplete:{get:h.get_isComplete},isError:{get:h.get_isError}})}e.default=s}(_Promise)),_Promise}var HTTPRequestHeader={},hasRequiredHTTPRequestHeader;function requireHTTPRequestHeader(){return hasRequiredHTTPRequestHeader||(hasRequiredHTTPRequestHeader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){s==null&&(s=""),this.name=c,this.value=s};o.__name__="lime.net.HTTPRequestHeader",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.net.HTTPRequestHeader"]=o,e.default=o}(HTTPRequestHeader)),HTTPRequestHeader}var _HTTPRequestErrorResponse={},hasRequired_HTTPRequestErrorResponse;function require_HTTPRequestErrorResponse(){return hasRequired_HTTPRequestErrorResponse||(hasRequired_HTTPRequestErrorResponse=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.error=c,this.responseData=s};o.__name__="lime.net._HTTPRequestErrorResponse",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.net._HTTPRequestErrorResponse"]=o,e.default=o}(_HTTPRequestErrorResponse)),_HTTPRequestErrorResponse}var List={},ListNode={},hasRequiredListNode;function requireListNode(){return hasRequiredListNode||(hasRequiredListNode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.item=c,this.next=s};o.__name__="haxe.ds._List.ListNode",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.ds._List.ListNode"]=o,e.default=o}(ListNode)),ListNode}var ListIterator={},hasRequiredListIterator;function requireListIterator(){return hasRequiredListIterator||(hasRequiredListIterator=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){this.head=c};o.__name__="haxe.ds._List.ListIterator",o.__isInterface__=!1,o.prototype={hasNext:function(){return this.head!=null},next:function(){var c=this.head.item;return this.head=this.head.next,c}},o.prototype.__class__=o.prototype.constructor=d["haxe.ds._List.ListIterator"]=o,e.default=o}(ListIterator)),ListIterator}var hasRequiredList;function requireList(){return hasRequiredList||(hasRequiredList=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireListNode()}function c(){return requireListIterator()}var s=function(){this.length=0};s.__name__="haxe.ds.List",s.__isInterface__=!1,s.prototype={add:function(h){var f=new(o()).default(h,null);this.h==null?this.h=f:this.q.next=f,this.q=f,this.length++},push:function(h){var f=new(o()).default(h,this.h);this.h=f,this.q==null&&(this.q=f),this.length++},pop:function(){if(this.h==null)return null;var h=this.h.item;return this.h=this.h.next,this.h==null&&(this.q=null),this.length--,h},clear:function(){this.h=null,this.q=null,this.length=0},remove:function(h){for(var f=null,g=this.h;g!=null;){if(g.item==h)return f==null?this.h=g.next:f.next=g.next,this.q==g&&(this.q=f),this.length--,!0;f=g,g=g.next}return!1},iterator:function(){return new(c()).default(this.h)}},s.prototype.__class__=s.prototype.constructor=d["haxe.ds.List"]=s,e.default=s}(List)),List}var hasRequiredHTML5HTTPRequest;function requireHTML5HTTPRequest(){return hasRequiredHTML5HTTPRequest||(hasRequiredHTML5HTTPRequest=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireLambda()}function c(){return requireStringTools()}function s(){return requireStd()}function h(){return require_Promise()}function f(){return requireHxOverrides()}function g(){return requireHTTPRequestHeader()}function b(){return requireBytes()}function k(){return require_HTTPRequestErrorResponse()}function $(){return requireList()}function j(){return requireBase64()}function _e(){return requireImageBuffer()}function et(){return requireImage()}function nt(){return requireEReg()}var rt=function(){this.validStatus0=new(nt()).default("Tizen","gi").match(window.navigator.userAgent)};rt.__name__="lime._internal.backend.html5.HTML5HTTPRequest",rt.__isInterface__=!1,rt.prototype={cancel:function(){this.request!=null&&this.request.abort()},init:function(tt){this.parent=tt},load:function(tt,it,st){this.request=new XMLHttpRequest,this.parent.method=="POST"?this.request.upload.addEventListener("progress",it,!1):this.request.addEventListener("progress",it,!1),this.request.onreadystatechange=st;var at="";if(this.parent.data==null){for(var _t=this.parent.formData.keys();_t.hasNext();){var ut=_t.next();at.length>0&&(at+="&");var ot=this.parent.formData.get(ut);if(ut.indexOf("[]")>-1&&ot instanceof Array){var lt=o().default.map(ot,function(xt){return c().default.urlEncode(xt)}).join("&amp;"+ut+"=");at+=c().default.urlEncode(ut)+"="+lt}else at+=c().default.urlEncode(ut)+"="+c().default.urlEncode(s().default.string(ot))}this.parent.method=="GET"&&at!=""&&(tt.indexOf("?")>-1?tt+="&"+at:tt+="?"+at,at="")}this.request.open(s().default.string(this.parent.method),tt,!0),this.parent.timeout>0&&(this.request.timeout=this.parent.timeout),this.binary&&(this.request.responseType="arraybuffer");for(var ft=null,ht=0,dt=this.parent.headers;ht<dt.length;){var pt=dt[ht];++ht,pt.name=="Content-Type"?ft=pt.value:this.request.setRequestHeader(pt.name,pt.value)}this.parent.contentType!=null&&(ft=this.parent.contentType),ft==null&&(this.parent.data!=null?ft="application/octet-stream":at!=""&&(ft="application/x-www-form-urlencoded")),ft!=null&&this.request.setRequestHeader("Content-Type",ft),this.parent.withCredentials&&(this.request.withCredentials=!0),this.parent.data!=null?this.request.send(this.parent.data.getData()):this.request.send(at)},loadData:function(tt){var it=new(h()).default;return rt.activeRequests<rt.requestLimit?(rt.activeRequests++,this.__loadData(tt,it)):rt.requestQueue.add({instance:this,uri:tt,promise:it,type:"BINARY",options:0}),it.future},loadText:function(tt){var it=new(h()).default;return rt.activeRequests<rt.requestLimit?(rt.activeRequests++,this.__loadText(tt,it)):rt.requestQueue.add({instance:this,uri:tt,promise:it,type:"TEXT",options:0}),it.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var tt,it,st=0,at=this.request.getAllResponseHeaders().split(`
`);st<at.length;){var _t=at[st];++st,tt=c().default.trim(f().default.substr(_t,0,_t.indexOf(":"))),it=c().default.trim(f().default.substr(_t,_t.indexOf(":")+1,null)),tt!=""&&this.parent.responseHeaders.push(new(g()).default(tt,it))}}this.parent.responseStatus=this.request.status},__loadData:function(tt,it){var st=this,at=function(ut){it.progress(ut.loaded,ut.total)},_t=function(ut){if(st.request.readyState==4){var ot=null;st.request.responseType==""?st.request.responseText!=null&&(ot=b().default.ofString(st.request.responseText)):st.request.response!=null&&(ot=b().default.ofData(st.request.response)),st.request.status!=null&&(st.request.status>=200&&st.request.status<400||st.validStatus0&&st.request.status==0)?(st.processResponse(),it.complete(ot)):(st.processResponse(),it.error(new(k()).default(st.request.status,ot))),st.request=null,rt.activeRequests--,rt.processQueue()}};this.binary=!0,this.load(tt,at,_t)},__loadText:function(tt,it){var st=this,at=function(ut){it.progress(ut.loaded,ut.total)},_t=function(ut){st.request.readyState==4&&(st.request.status!=null&&(st.request.status>=200&&st.request.status<400||st.validStatus0&&st.request.status==0)?(st.processResponse(),it.complete(st.request.responseText)):(st.processResponse(),it.error(new(k()).default(st.request.status,st.request.responseText))),st.request=null,rt.activeRequests--,rt.processQueue())};this.binary=!1,this.load(tt,at,_t)}},rt.prototype.__class__=rt.prototype.constructor=d["lime._internal.backend.html5.HTML5HTTPRequest"]=rt,rt.loadImage=function(tt){var it=new(h()).default;return rt.activeRequests<rt.requestLimit?(rt.activeRequests++,rt.__loadImage(tt,it,0)):rt.requestQueue.add({instance:null,uri:tt,promise:it,type:"IMAGE",options:0}),it.future},rt.loadImageFromBytes=function(tt,it){var st=rt.__createBlobURIFromBytes(tt,it);if(st!=null){var at=new(h()).default;return rt.activeRequests<rt.requestLimit?(rt.activeRequests++,rt.__loadImage(st,at,1)):rt.requestQueue.add({instance:null,uri:st,promise:at,type:"IMAGE",options:1}),at.future}else return rt.loadImage("data:"+it+";base64,"+j().default.encode(tt))},rt.processQueue=function(){if(rt.activeRequests<rt.requestLimit&&rt.requestQueue.length>0){rt.activeRequests++;var tt=rt.requestQueue.pop();switch(tt.type){case"BINARY":tt.instance.__loadData(tt.uri,tt.promise);break;case"IMAGE":rt.__loadImage(tt.uri,tt.promise,tt.options);break;case"TEXT":tt.instance.__loadText(tt.uri,tt.promise);break;default:rt.activeRequests--}}},rt.__createBlobURIFromBytes=function(tt,it){return URL.createObjectURL(new Blob([tt.getData()],{type:it}))},rt.__fixHostname=function(tt){return tt??""},rt.__fixPort=function(tt,it){if(tt==null||tt=="")switch(it){case"ftp:":return"21";case"gopher:":return"70";case"http:":return"80";case"https:":return"443";case"ws:":return"80";case"wss:":return"443";default:return""}return tt},rt.__fixProtocol=function(tt){return tt==null||tt==""?"http:":tt},rt.__isInMemoryURI=function(tt){return c().default.startsWith(tt,"data:")?!0:c().default.startsWith(tt,"blob:")},rt.__isSameOrigin=function(tt){if(tt==null||tt==""||rt.__isInMemoryURI(tt))return!0;rt.originElement==null&&(rt.originElement=window.document.createElement("a"),rt.originHostname=rt.__fixHostname(window.location.hostname),rt.originProtocol=rt.__fixProtocol(window.location.protocol),rt.originPort=rt.__fixPort(window.location.port,rt.originProtocol));var it=rt.originElement;it.href=tt,it.hostname==""&&(it.href=it.href);var st=rt.__fixHostname(it.hostname),at=rt.__fixProtocol(it.protocol),_t=rt.__fixPort(it.port,at),ut=st==""||st==rt.originHostname,ot=_t==""||_t==rt.originPort;return at!="file:"&&ut?ot:!1},rt.__loadImage=function(tt,it,st){var at=new window.Image;if(rt.__isSameOrigin(tt)||(at.crossOrigin="Anonymous"),rt.supportsImageProgress==null&&(rt.supportsImageProgress="onprogress"in at),rt.supportsImageProgress||rt.__isInMemoryURI(tt))at.addEventListener("load",function(ut){rt.__revokeBlobURI(tt,st);var ot=new(_e()).default(null,at.width,at.height);ot.__srcImage=at,rt.activeRequests--,rt.processQueue(),it.complete(new(et()).default(ot))},!1),at.addEventListener("progress",function(ut){it.progress(ut.loaded,ut.total)},!1),at.addEventListener("error",function(ut){rt.__revokeBlobURI(tt,st),rt.activeRequests--,rt.processQueue(),it.error(new(k()).default(ut.detail,null))},!1),at.src=tt;else{var _t=new XMLHttpRequest;_t.onload=function(ut){rt.activeRequests--,rt.processQueue();var ot=new(et()).default;ot.__fromBytes(b().default.ofData(_t.response),function(lt){it.complete(lt)})},_t.onerror=function(ut){it.error(new(k()).default(ut.message,null))},_t.onprogress=function(ut){ut.lengthComputable&&it.progress(ut.loaded,ut.total)},_t.open("GET",tt,!0),_t.responseType="arraybuffer",_t.overrideMimeType("text/plain; charset=x-user-defined"),_t.send(null)}},rt.__revokeBlobURI=function(tt,it){it&1&&URL.revokeObjectURL(tt)},rt.OPTION_REVOKE_URL=1,rt.activeRequests=0,rt.requestLimit=17,rt.requestQueue=new($()).default,e.default=rt}(HTML5HTTPRequest)),HTML5HTTPRequest}var hasRequiredImage;function requireImage(){return hasRequiredImage||(hasRequiredImage=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageType()}function c(){return requireImageCanvasUtil()}function s(){return requireImageDataUtil()}function h(){return requireColorMatrix_Impl_()}function f(){return requireImageChannel()}function g(){return requirePNG()}function b(){return requireBMP()}function k(){return requireJPEG()}function $(){return requireRectangle()}function j(){return requireVector2()}function _e(){return requireEndian()}function et(){return requireImageBuffer()}function nt(){return requireBase64()}function rt(){return requireHTML5HTTPRequest()}function tt(){return requireFuture()}var it=function(at,_t,ut,ot,lt,ft,ht){if(lt==null&&(lt=-1),ot==null&&(ot=-1),ut==null&&(ut=0),_t==null&&(_t=0),this.offsetX=_t,this.offsetY=ut,this.width=ot,this.height=lt,this.version=0,ht==null&&(ht=o().default.CANVAS),this.type=ht,at==null){if(ot>0&&lt>0)switch(this.type._hx_index){case 0:this.buffer=new(et()).default(null,ot,lt),c().default.createCanvas(this,ot,lt),ft!=null&&ft!=0&&this.fillRect(new($()).default(0,0,ot,lt),ft);break;case 1:var dt=ot*lt*4,pt=null,xt=null,vt=null,bt=null,wt;dt!=null?wt=new Uint8Array(dt):pt!=null?wt=new Uint8Array(pt):xt!=null?wt=new Uint8Array(xt):vt!=null?bt==null?wt=new Uint8Array(vt,0):wt=new Uint8Array(vt,0,bt):wt=null,this.buffer=new(et()).default(wt,ot,lt),ft!=null&&ft!=0&&this.fillRect(new($()).default(0,0,ot,lt),ft);break}}else this.__fromImageBuffer(at)};it.__name__="lime.graphics.Image",it.__isInterface__=!1,it.prototype={clone:function(){if(this.buffer!=null){this.type==o().default.CANVAS?c().default.convertToCanvas(this):c().default.convertToData(this);var at=new it(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);return at.version=this.version,at}else return new it(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},colorTransform:function(at,_t){if(at=this.__clipRect(at),!(this.buffer==null||at==null))switch(this.type._hx_index){case 0:c().default.colorTransform(this,at,_t);break;case 1:c().default.convertToData(this),s().default.colorTransform(this,at,_t);break;case 2:at.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.colorTransform(at.__toFlashRectangle(),h().default.__toFlashColorTransform(_t));break}},copyChannel:function(at,_t,ut,ot,lt){if(_t=this.__clipRect(_t),!(this.buffer==null||_t==null)&&!(lt==f().default.ALPHA&&!this.get_transparent())&&!(_t.width<=0||_t.height<=0))switch(_t.x+_t.width>at.width&&(_t.width=at.width-_t.x),_t.y+_t.height>at.height&&(_t.height=at.height-_t.y),this.type._hx_index){case 0:c().default.copyChannel(this,at,_t,ut,ot,lt);break;case 1:c().default.convertToData(this),c().default.convertToData(at),s().default.copyChannel(this,at,_t,ut,ot,lt);break;case 2:var ft;switch(ot._hx_index){case 0:ft=1;break;case 1:ft=2;break;case 2:ft=4;break;case 3:ft=8;break}var ht;switch(lt._hx_index){case 0:ht=1;break;case 1:ht=2;break;case 2:ht=4;break;case 3:ht=8;break}_t.offset(at.offsetX,at.offsetY),ut.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.copyChannel(at.buffer.get_src(),_t.__toFlashRectangle(),ut.__toFlashPoint(),ft,ht);break}},copyPixels:function(at,_t,ut,ot,lt,ft){if(ft==null&&(ft=!1),!(this.buffer==null||at==null)&&!(_t.width<=0||_t.height<=0)&&!(this.width<=0||this.height<=0))switch(_t.x+_t.width>at.width&&(_t.width=at.width-_t.x),_t.y+_t.height>at.height&&(_t.height=at.height-_t.y),_t.x<0&&(_t.width+=_t.x,_t.x=0),_t.y<0&&(_t.height+=_t.y,_t.y=0),ut.x+_t.width>this.width&&(_t.width=this.width-ut.x),ut.y+_t.height>this.height&&(_t.height=this.height-ut.y),ut.x<0&&(_t.width+=ut.x,_t.x-=ut.x,ut.x=0),ut.y<0&&(_t.height+=ut.y,_t.y-=ut.y,ut.y=0),at==this&&ut.x<_t.get_right()&&ut.y<_t.get_bottom()&&(at=this.clone()),ot==at&&(lt==null||lt.x==0&&lt.y==0)&&(ot=null,lt=null),this.type._hx_index){case 0:ot!=null?(c().default.convertToData(this),c().default.convertToData(at),ot!=null&&c().default.convertToData(ot),s().default.copyPixels(this,at,_t,ut,ot,lt,ft)):(c().default.convertToCanvas(this),c().default.convertToCanvas(at),c().default.copyPixels(this,at,_t,ut,ot,lt,ft));break;case 1:c().default.convertToData(this),c().default.convertToData(at),ot!=null&&c().default.convertToData(ot),s().default.copyPixels(this,at,_t,ut,ot,lt,ft);break;case 2:_t.offset(at.offsetX,at.offsetY),ut.offset(this.offsetX,this.offsetY),ot!=null&&lt!=null&&lt.offset(ot.offsetX,ot.offsetY),this.buffer.__srcBitmapData.copyPixels(at.buffer.__srcBitmapData,_t.__toFlashRectangle(),ut.__toFlashPoint(),ot!=null?ot.buffer.get_src():null,lt!=null?lt.__toFlashPoint():null,ft);break}},encode:function(at,_t){if(_t==null&&(_t=90),at==null)return g().default.encode(this);switch(at._hx_index){case 0:return b().default.encode(this);case 1:return k().default.encode(this,_t);case 2:return g().default.encode(this)}},fillRect:function(at,_t,ut){if(at=this.__clipRect(at),!(this.buffer==null||at==null))switch(this.type._hx_index){case 0:c().default.fillRect(this,at,_t,ut);break;case 1:if(c().default.convertToData(this),this.buffer.data.length==0)return;s().default.fillRect(this,at,_t,ut);break;case 2:at.offset(this.offsetX,this.offsetY);var ot;if(ut==null){var lt=_t,ft=0,ht=ft;ht=(lt&255&255)<<24|(lt>>>24&255&255)<<16|(lt>>>16&255&255)<<8|lt>>>8&255&255,ot=ht}else switch(ut){case 1:ot=_t;break;case 2:var dt=_t,pt=0,xt=pt;xt=(dt&255&255)<<24|(dt>>>8&255&255)<<16|(dt>>>16&255&255)<<8|dt>>>24&255&255,ot=xt;break;default:var vt=_t,bt=0,wt=bt;wt=(vt&255&255)<<24|(vt>>>24&255&255)<<16|(vt>>>16&255&255)<<8|vt>>>8&255&255,ot=wt}this.buffer.__srcBitmapData.fillRect(at.__toFlashRectangle(),ot);break}},floodFill:function(at,_t,ut,ot){if(this.buffer!=null)switch(this.type._hx_index){case 0:c().default.floodFill(this,at,_t,ut,ot);break;case 1:c().default.convertToData(this),s().default.floodFill(this,at,_t,ut,ot);break;case 2:var lt;if(ot==null){var ft=ut,ht=0,dt=ht;dt=(ft&255&255)<<24|(ft>>>24&255&255)<<16|(ft>>>16&255&255)<<8|ft>>>8&255&255,lt=dt}else switch(ot){case 1:lt=ut;break;case 2:var pt=ut,xt=0,vt=xt;vt=(pt&255&255)<<24|(pt>>>8&255&255)<<16|(pt>>>16&255&255)<<8|pt>>>24&255&255,lt=vt;break;default:var bt=ut,wt=0,At=wt;At=(bt&255&255)<<24|(bt>>>24&255&255)<<16|(bt>>>16&255&255)<<8|bt>>>8&255&255,lt=At}this.buffer.__srcBitmapData.floodFill(at+this.offsetX,_t+this.offsetY,lt);break}},getColorBoundsRect:function(at,_t,ut,ot){if(ut==null&&(ut=!0),this.buffer==null)return null;switch(this.type._hx_index){case 0:return c().default.convertToData(this),s().default.getColorBoundsRect(this,at,_t,ut,ot);case 1:return s().default.getColorBoundsRect(this,at,_t,ut,ot);case 2:var lt=this.buffer.__srcBitmapData.getColorBoundsRect(at,_t,ut);return new($()).default(lt.x,lt.y,lt.width,lt.height);default:return null}},getPixel:function(at,_t,ut){if(this.buffer==null||at<0||_t<0||at>=this.width||_t>=this.height)return 0;switch(this.type._hx_index){case 0:return c().default.getPixel(this,at,_t,ut);case 1:return c().default.convertToData(this),s().default.getPixel(this,at,_t,ut);case 2:var ot=this.buffer.__srcBitmapData.getPixel(at+this.offsetX,_t+this.offsetY);if(ut==null){var lt=0,ft=lt;ft=(ot>>>16&255&255)<<24|(ot>>>8&255&255)<<16|(ot&255&255)<<8|ot>>>24&255&255;var ht=ft;return ht}else switch(ut){case 1:return ot;case 2:var dt=0,pt=dt;pt=(ot&255&255)<<24|(ot>>>8&255&255)<<16|(ot>>>16&255&255)<<8|ot>>>24&255&255;var xt=pt;return xt;default:var vt=0,bt=vt;bt=(ot>>>16&255&255)<<24|(ot>>>8&255&255)<<16|(ot&255&255)<<8|ot>>>24&255&255;var wt=bt;return wt}default:return 0}},getPixel32:function(at,_t,ut){if(this.buffer==null||at<0||_t<0||at>=this.width||_t>=this.height)return 0;switch(this.type._hx_index){case 0:return c().default.getPixel32(this,at,_t,ut);case 1:return c().default.convertToData(this),s().default.getPixel32(this,at,_t,ut);case 2:var ot=this.buffer.__srcBitmapData.getPixel32(at+this.offsetX,_t+this.offsetY);if(ut==null){var lt=0,ft=lt;ft=(ot>>>16&255&255)<<24|(ot>>>8&255&255)<<16|(ot&255&255)<<8|ot>>>24&255&255;var ht=ft;return ht}else switch(ut){case 1:return ot;case 2:var dt=0,pt=dt;pt=(ot&255&255)<<24|(ot>>>8&255&255)<<16|(ot>>>16&255&255)<<8|ot>>>24&255&255;var xt=pt;return xt;default:var vt=0,bt=vt;bt=(ot>>>16&255&255)<<24|(ot>>>8&255&255)<<16|(ot&255&255)<<8|ot>>>24&255&255;var wt=bt;return wt}default:return 0}},getPixels:function(at,_t){if(this.buffer==null)return null;switch(this.type._hx_index){case 0:return c().default.getPixels(this,at,_t);case 1:return c().default.convertToData(this),s().default.getPixels(this,at,_t);case 2:return null;default:return null}},merge:function(at,_t,ut,ot,lt,ft,ht){if(!(this.buffer==null||at==null))switch(this.type._hx_index){case 0:c().default.convertToCanvas(this),c().default.merge(this,at,_t,ut,ot,lt,ft,ht);break;case 1:c().default.convertToData(this),c().default.convertToData(at),s().default.merge(this,at,_t,ut,ot,lt,ft,ht);break;case 2:_t.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.merge(at.buffer.__srcBitmapData,_t.__toFlashRectangle(),ut.__toFlashPoint(),ot,lt,ft,ht);break;default:return}},resize:function(at,_t){switch(this.type._hx_index){case 0:c().default.resize(this,at,_t);break;case 1:s().default.resize(this,at,_t);break}this.buffer.width=at,this.buffer.height=_t,this.offsetX=0,this.offsetY=0,this.width=at,this.height=_t},scroll:function(at,_t){if(this.buffer!=null)switch(this.type._hx_index){case 0:c().default.scroll(this,at,_t);break;case 1:this.copyPixels(this,this.get_rect(),new(j()).default(at,_t));break;case 2:this.buffer.__srcBitmapData.scroll(at+this.offsetX,_t+this.offsetX);break}},setPixel:function(at,_t,ut,ot){if(!(this.buffer==null||at<0||_t<0||at>=this.width||_t>=this.height))switch(this.type._hx_index){case 0:c().default.setPixel(this,at,_t,ut,ot);break;case 1:c().default.convertToData(this),s().default.setPixel(this,at,_t,ut,ot);break;case 2:var lt;if(ot==null){var ft=ut,ht=0,dt=ht;dt=(ft&255&255)<<24|(ft>>>24&255&255)<<16|(ft>>>16&255&255)<<8|ft>>>8&255&255,lt=dt}else switch(ot){case 1:lt=ut;break;case 2:var pt=ut,xt=0,vt=xt;vt=(pt&255&255)<<24|(pt>>>8&255&255)<<16|(pt>>>16&255&255)<<8|pt>>>24&255&255,lt=vt;break;default:var bt=ut,wt=0,At=wt;At=(bt&255&255)<<24|(bt>>>24&255&255)<<16|(bt>>>16&255&255)<<8|bt>>>8&255&255,lt=At}this.buffer.__srcBitmapData.setPixel(at+this.offsetX,_t+this.offsetX,lt);break}},setPixel32:function(at,_t,ut,ot){if(!(this.buffer==null||at<0||_t<0||at>=this.width||_t>=this.height))switch(this.type._hx_index){case 0:c().default.setPixel32(this,at,_t,ut,ot);break;case 1:c().default.convertToData(this),s().default.setPixel32(this,at,_t,ut,ot);break;case 2:var lt;if(ot==null){var ft=ut,ht=0,dt=ht;dt=(ft&255&255)<<24|(ft>>>24&255&255)<<16|(ft>>>16&255&255)<<8|ft>>>8&255&255,lt=dt}else switch(ot){case 1:lt=ut;break;case 2:var pt=ut,xt=0,vt=xt;vt=(pt&255&255)<<24|(pt>>>8&255&255)<<16|(pt>>>16&255&255)<<8|pt>>>24&255&255,lt=vt;break;default:var bt=ut,wt=0,At=wt;At=(bt&255&255)<<24|(bt>>>24&255&255)<<16|(bt>>>16&255&255)<<8|bt>>>8&255&255,lt=At}this.buffer.__srcBitmapData.setPixel32(at+this.offsetX,_t+this.offsetY,lt);break}},setPixels:function(at,_t,ut,ot){if(at=this.__clipRect(at),!(this.buffer==null||at==null))switch(ot==null&&(ot=_e().default.BIG_ENDIAN),this.type._hx_index){case 0:c().default.setPixels(this,at,_t,ut,ot);break;case 1:c().default.convertToData(this),s().default.setPixels(this,at,_t,ut,ot);break}},threshold:function(at,_t,ut,ot,lt,ft,ht,dt,pt){if(dt==null&&(dt=!1),ht==null&&(ht=-1),ft==null&&(ft=0),this.buffer==null||at==null||_t==null)return 0;switch(this.type._hx_index){case 0:case 1:return c().default.convertToData(this),c().default.convertToData(at),s().default.threshold(this,at,_t,ut,ot,lt,ft,ht,dt,pt);case 2:var xt;if(pt==null){var vt=ft,bt=0,wt=bt;wt=(vt&255&255)<<24|(vt>>>24&255&255)<<16|(vt>>>16&255&255)<<8|vt>>>8&255&255,xt=wt}else switch(pt){case 1:xt=ft;break;case 2:var At=ft,ct=0,mt=ct;mt=(At&255&255)<<24|(At>>>8&255&255)<<16|(At>>>16&255&255)<<8|At>>>24&255&255,xt=mt;break;default:var gt=ft,Tt=0,yt=Tt;yt=(gt&255&255)<<24|(gt>>>24&255&255)<<16|(gt>>>16&255&255)<<8|gt>>>8&255&255,xt=yt}var Et;if(pt==null){var Ct=ht,It=0,Rt=It;Rt=(Ct&255&255)<<24|(Ct>>>24&255&255)<<16|(Ct>>>16&255&255)<<8|Ct>>>8&255&255,Et=Rt}else switch(pt){case 1:Et=ht;break;case 2:var Ft=ht,Lt=0,Ot=Lt;Ot=(Ft&255&255)<<24|(Ft>>>8&255&255)<<16|(Ft>>>16&255&255)<<8|Ft>>>24&255&255,Et=Ot;break;default:var Kt=ht,qt=0,Ht=qt;Ht=(Kt&255&255)<<24|(Kt>>>24&255&255)<<16|(Kt>>>16&255&255)<<8|Kt>>>8&255&255,Et=Ht}return _t.offset(at.offsetX,at.offsetY),ut.offset(this.offsetX,this.offsetY),this.buffer.__srcBitmapData.threshold(at.buffer.get_src(),_t.__toFlashRectangle(),ut.__toFlashPoint(),ot,lt,xt,Et,dt)}return 0},__clipRect:function(at){return at==null||at.x<0&&(at.width-=-at.x,at.x=0,at.x+at.width<=0)||at.y<0&&(at.height-=-at.y,at.y=0,at.y+at.height<=0)||at.x+at.width>=this.width&&(at.width-=at.x+at.width-this.width,at.width<=0)||at.y+at.height>=this.height&&(at.height-=at.y+at.height-this.height,at.height<=0)?null:at},__fromBase64:function(at,_t,ut){var ot=this,lt=new window.Image,ft=function(ht){ot.buffer=new(et()).default(null,lt.width,lt.height),ot.buffer.__srcImage=lt,ot.offsetX=0,ot.offsetY=0,ot.width=ot.buffer.width,ot.height=ot.buffer.height,ut!=null&&ut(ot)};lt.addEventListener("load",ft,!1),lt.src="data:"+_t+";base64,"+at},__fromBytes:function(at,_t){var ut="";if(it.__isPNG(at))ut="image/png";else if(it.__isJPG(at))ut="image/jpeg";else if(it.__isGIF(at))ut="image/gif";else return!1;return this.__fromBase64(nt().default.encode(at),ut,_t),!0},__fromFile:function(at,_t,ut){var ot=this,lt=new window.Image;return rt().default.__isSameOrigin(at)||(lt.crossOrigin="Anonymous"),lt.onload=function(ft){ot.buffer=new(et()).default(null,lt.width,lt.height),ot.buffer.__srcImage=lt,ot.width=lt.width,ot.height=lt.height,_t!=null&&_t(ot)},lt.onerror=function(ft){ut!=null&&ut()},lt.src=at,lt.complete,!0},__fromImageBuffer:function(at){this.buffer=at,at!=null&&(this.width==-1&&(this.width=at.width),this.height==-1&&(this.height=at.height))},get_data:function(){return this.buffer.data==null&&this.buffer.width>0&&this.buffer.height>0&&c().default.convertToData(this),this.buffer.data},set_data:function(at){return this.buffer.data=at},get_format:function(){return this.buffer.format},set_format:function(at){return this.buffer.format!=at&&this.type._hx_index==1&&s().default.setFormat(this,at),this.buffer.format=at},get_powerOfTwo:function(){return this.buffer.width!=0&&(this.buffer.width&~this.buffer.width+1)==this.buffer.width&&this.buffer.height!=0?(this.buffer.height&~this.buffer.height+1)==this.buffer.height:!1},set_powerOfTwo:function(at){if(at!=this.get_powerOfTwo()){for(var _t=1,ut=1;_t<this.buffer.width;)_t<<=1;for(;ut<this.buffer.height;)ut<<=1;if(_t==this.buffer.width&&ut==this.buffer.height)return at;switch(this.type._hx_index){case 0:c().default.convertToData(this),s().default.resizeBuffer(this,_t,ut);break;case 1:s().default.resizeBuffer(this,_t,ut);break}}return at},get_premultiplied:function(){return this.buffer.premultiplied},set_premultiplied:function(at){if(at&&!this.buffer.premultiplied)switch(this.type._hx_index){case 0:case 1:c().default.convertToData(this),s().default.multiplyAlpha(this);break}else!at&&this.buffer.premultiplied&&this.type._hx_index==1&&(c().default.convertToData(this),s().default.unmultiplyAlpha(this));return at},get_rect:function(){return new($()).default(0,0,this.width,this.height)},get_src:function(){return this.buffer.__srcCanvas==null&&(this.buffer.data!=null||this.type==o().default.DATA)&&c().default.convertToCanvas(this),this.buffer.get_src()},set_src:function(at){return this.buffer.set_src(at)},get_transparent:function(){return this.buffer==null?!1:this.buffer.transparent},set_transparent:function(at){return this.buffer==null?!1:this.buffer.transparent=at}},it.prototype.__class__=it.prototype.constructor=d["lime.graphics.Image"]=it;{var st=it.prototype;Object.defineProperties(st,{data:{get:st.get_data,set:st.set_data},format:{get:st.get_format,set:st.set_format},powerOfTwo:{get:st.get_powerOfTwo,set:st.set_powerOfTwo},premultiplied:{get:st.get_premultiplied,set:st.set_premultiplied},rect:{get:st.get_rect},src:{get:st.get_src,set:st.set_src},transparent:{get:st.get_transparent,set:st.set_transparent}})}it.fromBase64=function(at,_t){if(at==null)return null;var ut=new it;return ut.__fromBase64(at,_t),ut},it.fromBitmapData=function(at){return at==null?null:at.image},it.fromBytes=function(at){if(at==null)return null;var _t=new it;return _t.__fromBytes(at)?_t:null},it.fromCanvas=function(at){if(at==null)return null;var _t=new(et()).default(null,at.width,at.height);_t.set_src(at);var ut=new it(_t);return ut.type=o().default.CANVAS,ut},it.fromFile=function(at){if(at==null)return null;var _t=new it;return _t.__fromFile(at)?_t:null},it.fromImageElement=function(at){if(at==null)return null;var _t=new(et()).default(null,at.width,at.height);_t.set_src(at);var ut=new it(_t);return ut.type=o().default.CANVAS,ut},it.loadFromBase64=function(at,_t){return at==null||_t==null?tt().default.withValue(null):rt().default.loadImage("data:"+_t+";base64,"+at)},it.loadFromBytes=function(at){if(at==null)return tt().default.withValue(null);var _t="";if(it.__isPNG(at))_t="image/png";else if(it.__isJPG(at))_t="image/jpeg";else if(it.__isGIF(at))_t="image/gif";else if(it.__isWebP(at))_t="image/webp";else return tt().default.withValue(null);return rt().default.loadImageFromBytes(at,_t)},it.loadFromFile=function(at){return at==null?tt().default.withValue(null):rt().default.loadImage(at)},it.__isGIF=function(at){if(at==null||at.get_length()<6)return!1;var _t=at.getString(0,6);return _t!="GIF87a"?_t=="GIF89a":!0},it.__isJPG=function(at){return at==null||at.get_length()<4?!1:at.get(0)==255&&at.get(1)==216&&at.get(at.get_length()-2)==255?at.get(at.get_length()-1)==217:!1},it.__isPNG=function(at){return at==null||at.get_length()<8?!1:at.get(0)==137&&at.get(1)==80&&at.get(2)==78&&at.get(3)==71&&at.get(4)==13&&at.get(5)==10&&at.get(6)==26?at.get(7)==10:!1},it.__isWebP=function(at){return at==null||at.get_length()<16?!1:at.getString(0,4)=="RIFF"?at.getString(8,4)=="WEBP":!1},e.default=it}(Image$2)),Image$2}var MouseCursor$1={},hasRequiredMouseCursor;function requireMouseCursor(){return hasRequiredMouseCursor||(hasRequiredMouseCursor=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:["ARROW","CROSSHAIR","DEFAULT","MOVE","POINTER","RESIZE_NESW","RESIZE_NS","RESIZE_NWSE","RESIZE_WE","TEXT","WAIT","WAIT_ARROW","CUSTOM"],WAIT_ARROW:{_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:d},WAIT:{_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:d},TEXT:{_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:d},RESIZE_WE:{_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:d},RESIZE_NWSE:{_hx_index:7,__enum__:"lime.ui.MouseCursor",toString:d},RESIZE_NS:{_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:d},RESIZE_NESW:{_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:d},POINTER:{_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:d},MOVE:{_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:d},DEFAULT:{_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:d},CUSTOM:{_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:d},CROSSHAIR:{_hx_index:1,__enum__:"lime.ui.MouseCursor",toString:d},ARROW:{_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:d}};e.default=c}(MouseCursor$1)),MouseCursor$1}var hasRequiredHTML5Window;function requireHTML5Window(){return hasRequiredHTML5Window||(hasRequiredHTML5Window=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireBrowser()}function s(){return requireRenderContext()}function h(){return require_Reflect()}function f(){return requireWebGLRenderContext_Impl_()}function g(){return requireGL()}function b(){return requireTimer()}function k(){return requireSystem()}function $(){return requireClipboard()}function j(){return requireBoot()}function _e(){return requireJoystick()}function et(){return requireGamepad()}function nt(){return requireStringTools()}function rt(){return requireMouseWheelMode()}function tt(){return requireTouch()}function it(){return requireRectangle()}function st(){return requireStd()}function at(){return requireImage()}function _t(){return requireImageCanvasUtil()}function ut(){return requireEReg()}function ot(){return requireList()}function lt(){return requireIntMap()}function ft(){return requireMouseCursor()}var ht=function(dt){this.imeCompositionActive=!1,this.unusedTouchesPool=new(ot()).default,this.scale=1,this.currentTouches=new(lt()).default,this.parent=dt,this.cursor=ft().default.DEFAULT,this.cacheMouseX=0,this.cacheMouseY=0;var pt=dt.__attributes;h().default.hasField(pt,"context")||(pt.context={}),this.renderType=pt.context.type,h().default.hasField(pt,"element")&&(dt.element=pt.element);var xt=dt.element;if(h().default.hasField(pt,"allowHighDPI")&&pt.allowHighDPI&&this.renderType!="dom"&&(this.scale=window.devicePixelRatio),dt.__scale=this.scale,this.setWidth=h().default.hasField(pt,"width")?pt.width:0,this.setHeight=h().default.hasField(pt,"height")?pt.height:0,dt.__width=this.setWidth,dt.__height=this.setHeight,dt.id=ht.windowID++,xt instanceof HTMLCanvasElement?this.canvas=xt:this.renderType=="dom"?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas"),this.canvas!=null){var vt=this.canvas.style;vt.setProperty("-webkit-transform","translateZ(0)",null),vt.setProperty("transform","translateZ(0)",null)}else if(this.div!=null){var bt=this.div.style;bt.setProperty("-webkit-transform","translate3D(0,0,0)",null),bt.setProperty("transform","translate3D(0,0,0)",null),bt.position="relative",bt.overflow="hidden",bt.setProperty("-webkit-user-select","none",null),bt.setProperty("-moz-user-select","none",null),bt.setProperty("-ms-user-select","none",null),bt.setProperty("-o-user-select","none",null)}if(dt.__width==0&&dt.__height==0&&(xt!=null?(dt.__width=xt.clientWidth,dt.__height=xt.clientHeight):(dt.__width=window.innerWidth,dt.__height=window.innerHeight),this.cacheElementWidth=dt.__width,this.cacheElementHeight=dt.__height,this.resizeElement=!0),this.canvas!=null?(this.canvas.width=Math.round(dt.__width*this.scale),this.canvas.height=Math.round(dt.__height*this.scale),this.canvas.style.width=dt.__width+"px",this.canvas.style.height=dt.__height+"px"):(this.div.style.width=dt.__width+"px",this.div.style.height=dt.__height+"px"),(h().default.hasField(pt,"resizable")&&pt.resizable||!h().default.hasField(pt,"width")&&this.setWidth==0&&this.setHeight==0)&&(dt.__resizable=!0),this.updateSize(),xt!=null){this.canvas!=null?xt!=this.canvas&&xt.appendChild(this.canvas):xt.appendChild(this.div);for(var wt=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],At=0;At<wt.length;){var ct=wt[At];++At,xt.addEventListener(ct,o(this,this.handleMouseEvent),!0)}xt.addEventListener("contextmenu",o(this,this.handleContextMenuEvent),!0),xt.addEventListener("dragstart",o(this,this.handleDragEvent),!0),xt.addEventListener("dragover",o(this,this.handleDragEvent),!0),xt.addEventListener("drop",o(this,this.handleDragEvent),!0),xt.addEventListener("touchstart",o(this,this.handleTouchEvent),!0),xt.addEventListener("touchmove",o(this,this.handleTouchEvent),!0),xt.addEventListener("touchend",o(this,this.handleTouchEvent),!0),xt.addEventListener("touchcancel",o(this,this.handleTouchEvent),!0),xt.addEventListener("gamepadconnected",o(this,this.handleGamepadEvent),!0),xt.addEventListener("gamepaddisconnected",o(this,this.handleGamepadEvent),!0)}this.createContext(),dt.context.type=="webgl"&&(this.canvas.addEventListener("webglcontextlost",o(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",o(this,this.handleContextEvent),!1))};ht.__name__="lime._internal.backend.html5.HTML5Window",ht.__isInterface__=!1,ht.prototype={alert:function(dt,pt){dt!=null&&c().default.alert(dt)},close:function(){var dt=this.parent.element;if(dt!=null){this.canvas!=null?(dt!=this.canvas&&dt.removeChild(this.canvas),this.canvas=null):this.div!=null&&(dt.removeChild(this.div),this.div=null);for(var pt=["mousedown","mouseenter","mouseleave","mousemove","mouseup","wheel"],xt=0;xt<pt.length;){var vt=pt[xt];++xt,dt.removeEventListener(vt,o(this,this.handleMouseEvent),!0)}dt.removeEventListener("contextmenu",o(this,this.handleContextMenuEvent),!0),dt.removeEventListener("dragstart",o(this,this.handleDragEvent),!0),dt.removeEventListener("dragover",o(this,this.handleDragEvent),!0),dt.removeEventListener("drop",o(this,this.handleDragEvent),!0),dt.removeEventListener("touchstart",o(this,this.handleTouchEvent),!0),dt.removeEventListener("touchmove",o(this,this.handleTouchEvent),!0),dt.removeEventListener("touchend",o(this,this.handleTouchEvent),!0),dt.removeEventListener("touchcancel",o(this,this.handleTouchEvent),!0),dt.removeEventListener("gamepadconnected",o(this,this.handleGamepadEvent),!0),dt.removeEventListener("gamepaddisconnected",o(this,this.handleGamepadEvent),!0)}this.parent.application.__removeWindow(this.parent)},createContext:function(){var dt=new(s()).default,pt=this.parent.__attributes.context;if(dt.window=this.parent,dt.attributes=pt,this.div!=null)dt.dom=this.div,dt.type="dom",dt.version="";else if(this.canvas!=null){var xt=null,vt=this.renderType=="canvas",bt=this.renderType=="opengl"||this.renderType=="opengles"||this.renderType=="webgl",wt=!1,At=!1;if(bt||!vt&&(!h().default.hasField(pt,"hardware")||pt.hardware)){var ct=h().default.hasField(pt,"background")&&pt.background==null,mt=h().default.hasField(pt,"colorDepth")?pt.colorDepth:16,gt={alpha:ct||mt>16,antialias:h().default.hasField(pt,"antialiasing")&&pt.antialiasing>0,depth:h().default.hasField(pt,"depth")?pt.depth:!0,premultipliedAlpha:!0,stencil:h().default.hasField(pt,"stencil")&&pt.stencil,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1},Tt=["webgl","experimental-webgl"];wt&&Tt.unshift("webgl2");for(var yt=0;yt<Tt.length;){var Et=Tt[yt];if(++yt,xt=this.canvas.getContext(Et,gt),xt!=null&&Et=="webgl2"&&(At=!0),xt!=null)break}}xt==null?(dt.canvas2D=this.canvas.getContext("2d"),dt.type="canvas",dt.version=""):(dt.webgl=f().default.fromWebGL2RenderContext(xt),At&&(dt.webgl2=xt),g().default.context==null&&(g().default.context=xt,g().default.type="webgl",g().default.version=At?2:1),dt.type="webgl",dt.version=At?"2":"1")}this.parent.context=dt},focus:function(){},focusTextInput:function(){var dt=this;this.__focusPending||(this.__focusPending=!0,b().default.delay(function(){dt.__focusPending=!1,dt.textInputEnabled&&ht.textInput.focus()},20))},getCursor:function(){return this.cursor},getDisplay:function(){return k().default.getDisplay(0)},getDisplayMode:function(){return k().default.getDisplay(0).currentMode},getFrameRate:function(){return this.parent.application==null?0:this.parent.application.__backend.framePeriod<0?60:this.parent.application.__backend.framePeriod==1e3?0:1e3/this.parent.application.__backend.framePeriod},getMouseLock:function(){return!1},getOpacity:function(){return 1},getTextInputEnabled:function(){return this.textInputEnabled},handleContextEvent:function(dt){switch(dt.type){case"webglcontextlost":dt.cancelable&&dt.preventDefault(),g().default.context!=null,this.parent.context=null,this.parent.onRenderContextLost.dispatch();break;case"webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context);break}},handleContextMenuEvent:function(dt){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&dt.cancelable&&dt.preventDefault()},handleCutOrCopyEvent:function(dt){var pt=$().default.get_text();pt==null&&(pt=""),dt.clipboardData.setData("text/plain",pt),dt.cancelable&&dt.preventDefault()},handleDragEvent:function(dt){switch(dt.type){case"dragover":return dt.preventDefault(),!1;case"dragstart":if(j().default.__cast(dt.target,HTMLElement).nodeName.toLowerCase()=="img"&&dt.cancelable)return dt.preventDefault(),!1;break;case"drop":if(dt.dataTransfer!=null&&dt.dataTransfer.files.length>0)return this.parent.onDropFile.dispatch(dt.dataTransfer.files),dt.preventDefault(),!1;break}return!0},handleFocusEvent:function(dt){this.textInputEnabled&&(dt.relatedTarget==null||this.isDescendent(dt.relatedTarget))&&this.focusTextInput()},handleFullscreenEvent:function(dt){var pt=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;if(pt!=null)this.isFullscreen=!0,this.parent.__fullscreen=!0,this.requestedFullscreen&&(this.requestedFullscreen=!1,this.parent.onFullscreen.dispatch());else{this.isFullscreen=!1,this.parent.__fullscreen=!1,this.parent.onRestore.dispatch();for(var xt=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],vt=["fullscreenerror","mozfullscreenerror","webkitfullscreenerror","MSFullscreenError"],bt=0,wt=xt.length;bt<wt;){var At=bt++;window.document.removeEventListener(xt[At],o(this,this.handleFullscreenEvent),!1),window.document.removeEventListener(vt[At],o(this,this.handleFullscreenEvent),!1)}}},handleGamepadEvent:function(dt){switch(dt.type){case"gamepadconnected":_e().default.__connect(dt.gamepad.index),dt.gamepad.mapping=="standard"&&et().default.__connect(dt.gamepad.index);break;case"gamepaddisconnected":_e().default.__disconnect(dt.gamepad.index),et().default.__disconnect(dt.gamepad.index);break}},handleInputEvent:function(dt){if(!this.imeCompositionActive&&ht.textInput.value!=ht.dummyCharacter){var pt=nt().default.replace(ht.textInput.value,ht.dummyCharacter,"");pt.length>0&&this.parent.onTextInput.dispatch(pt),ht.textInput.value=ht.dummyCharacter}},handleMouseEvent:function(dt){var pt=0,xt=0;if(dt.type!="wheel"){if(this.parent.element!=null)if(this.canvas!=null){var vt=this.canvas.getBoundingClientRect();pt=(dt.clientX-vt.left)*(this.parent.__width/vt.width),xt=(dt.clientY-vt.top)*(this.parent.__height/vt.height)}else if(this.div!=null){var bt=this.div.getBoundingClientRect();pt=dt.clientX-bt.left,xt=dt.clientY-bt.top}else{var wt=this.parent.element.getBoundingClientRect();pt=(dt.clientX-wt.left)*(this.parent.__width/wt.width),xt=(dt.clientY-wt.top)*(this.parent.__height/wt.height)}else pt=dt.clientX,xt=dt.clientY;switch(dt.type){case"mousedown":dt.currentTarget==this.parent.element&&window.addEventListener("mouseup",o(this,this.handleMouseEvent)),this.parent.clickCount=dt.detail,this.parent.onMouseDown.dispatch(pt,xt,dt.button),this.parent.clickCount=0,this.parent.onMouseDown.canceled&&dt.cancelable&&dt.preventDefault();break;case"mouseenter":dt.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&dt.cancelable&&dt.preventDefault());break;case"mouseleave":dt.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&dt.cancelable&&dt.preventDefault());break;case"mousemove":(pt!=this.cacheMouseX||xt!=this.cacheMouseY)&&(this.parent.onMouseMove.dispatch(pt,xt),this.parent.onMouseMoveRelative.dispatch(pt-this.cacheMouseX,xt-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&dt.cancelable&&dt.preventDefault());break;case"mouseup":window.removeEventListener("mouseup",o(this,this.handleMouseEvent)),dt.currentTarget==this.parent.element&&dt.stopPropagation(),this.parent.clickCount=dt.detail,this.parent.onMouseUp.dispatch(pt,xt,dt.button),this.parent.clickCount=0,this.parent.onMouseUp.canceled&&dt.cancelable&&dt.preventDefault();break}this.cacheMouseX=pt,this.cacheMouseY=xt}else{var At;switch(dt.deltaMode){case 0:At=rt().default.PIXELS;break;case 1:At=rt().default.LINES;break;case 2:At=rt().default.PAGES;break;default:At=rt().default.UNKNOWN}this.parent.onMouseWheel.dispatch(dt.deltaX,-dt.deltaY,At),this.parent.onMouseWheel.canceled&&dt.cancelable&&dt.preventDefault()}},handlePasteEvent:function(dt){if(dt.clipboardData.types.indexOf("text/plain")>-1){var pt=dt.clipboardData.getData("text/plain");$().default.set_text(pt),this.textInputEnabled&&this.parent.onTextInput.dispatch(pt),dt.cancelable&&dt.preventDefault()}},handleResizeEvent:function(dt){this.primaryTouch=null,this.updateSize()},handleTouchEvent:function(dt){dt.cancelable&&dt.preventDefault();var pt=null;this.parent.element!=null&&(this.canvas!=null?pt=this.canvas.getBoundingClientRect():this.div!=null?pt=this.div.getBoundingClientRect():pt=this.parent.element.getBoundingClientRect());var xt=this.setWidth,vt=this.setHeight;(xt==0||vt==0)&&(pt!=null?(xt=pt.width,vt=pt.height):(xt=1,vt=1));for(var bt,wt,At,ct,mt,gt=0,Tt=dt.changedTouches;gt<Tt.length;){var yt=Tt[gt];if(++gt,wt=0,At=0,pt!=null?(wt=(yt.clientX-pt.left)*(xt/pt.width),At=(yt.clientY-pt.top)*(vt/pt.height)):(wt=yt.clientX,At=yt.clientY),dt.type=="touchstart")bt=this.unusedTouchesPool.pop(),bt==null?bt=new(tt()).default(wt/xt,At/vt,yt.identifier,0,0,yt.force,this.parent.id):(bt.x=wt/xt,bt.y=At/vt,bt.id=yt.identifier,bt.dx=0,bt.dy=0,bt.pressure=yt.force,bt.device=this.parent.id),this.currentTouches.set(yt.identifier,bt),tt().default.onStart.dispatch(bt),this.primaryTouch==null&&(this.primaryTouch=bt),bt==this.primaryTouch&&this.parent.onMouseDown.dispatch(wt,At,0);else if(bt=this.currentTouches.get(yt.identifier),bt!=null)switch(ct=bt.x,mt=bt.y,bt.x=wt/xt,bt.y=At/vt,bt.dx=bt.x-ct,bt.dy=bt.y-mt,bt.pressure=yt.force,dt.type){case"touchcancel":tt().default.onCancel.dispatch(bt),this.currentTouches.remove(yt.identifier),this.unusedTouchesPool.add(bt),bt==this.primaryTouch&&(this.primaryTouch=null);break;case"touchend":tt().default.onEnd.dispatch(bt),this.currentTouches.remove(yt.identifier),this.unusedTouchesPool.add(bt),bt==this.primaryTouch&&(this.parent.onMouseUp.dispatch(wt,At,0),this.primaryTouch=null);break;case"touchmove":tt().default.onMove.dispatch(bt),bt==this.primaryTouch&&this.parent.onMouseMove.dispatch(wt,At);break}}},isDescendent:function(dt){if(dt==this.parent.element)return!0;for(;dt!=null;){if(dt.parentNode==this.parent.element)return!0;dt=dt.parentNode}return!1},move:function(dt,pt){},readPixels:function(dt){if(this.canvas!=null){var pt=new(it()).default(0,0,this.canvas.width,this.canvas.height);if(dt==null?dt=pt:dt.intersection(pt,dt),dt.width>0&&dt.height>0){var xt=window.document.createElement("canvas");xt.width=st().default.int(dt.width),xt.height=st().default.int(dt.height);var vt=xt.getContext("2d");return vt.drawImage(this.canvas,-dt.x,-dt.y),at().default.fromCanvas(xt)}}return null},resize:function(dt,pt){},setMinSize:function(dt,pt){},setMaxSize:function(dt,pt){},setBorderless:function(dt){return dt},setClipboard:function(dt){ht.textArea==null&&(ht.textArea=window.document.createElement("textarea"),ht.textArea.style.height="0px",ht.textArea.style.left="-100px",ht.textArea.style.opacity="0",ht.textArea.style.position="fixed",ht.textArea.style.top="-100px",ht.textArea.style.width="0px",window.document.body.appendChild(ht.textArea)),ht.textArea.value=dt,ht.textArea.focus(),ht.textArea.select(),window.document.queryCommandEnabled("copy")&&window.document.execCommand("copy"),this.textInputEnabled&&this.focusTextInput()},setCursor:function(dt){if(this.cursor!=dt){if(dt==null)this.parent.element.style.cursor="none";else{var pt;switch(dt._hx_index){case 0:pt="default";break;case 1:pt="crosshair";break;case 3:pt="move";break;case 4:pt="pointer";break;case 5:pt="nesw-resize";break;case 6:pt="ns-resize";break;case 7:pt="nwse-resize";break;case 8:pt="ew-resize";break;case 9:pt="text";break;case 10:pt="wait";break;case 11:pt="wait";break;default:pt="auto"}this.parent.element.style.cursor=pt}this.cursor=dt}return this.cursor},setDisplayMode:function(dt){return dt},setFrameRate:function(dt){return this.parent.application!=null&&(dt>=60?this.parent==this.parent.application.get_window()&&(this.parent.application.__backend.framePeriod=-1):dt>0?this.parent==this.parent.application.get_window()&&(this.parent.application.__backend.framePeriod=1e3/dt):this.parent==this.parent.application.get_window()&&(this.parent.application.__backend.framePeriod=1e3)),dt},setFullscreen:function(dt){return dt?!this.requestedFullscreen&&!this.isFullscreen&&(this.requestedFullscreen=!0,$_=this.parent.element,o($_,$_.requestFullscreen)?(document.addEventListener("fullscreenchange",o(this,this.handleFullscreenEvent),!1),document.addEventListener("fullscreenerror",o(this,this.handleFullscreenEvent),!1),this.parent.element.requestFullscreen()):this.parent.element.mozRequestFullScreen?(document.addEventListener("mozfullscreenchange",o(this,this.handleFullscreenEvent),!1),document.addEventListener("mozfullscreenerror",o(this,this.handleFullscreenEvent),!1),this.parent.element.mozRequestFullScreen()):this.parent.element.webkitRequestFullscreen?(document.addEventListener("webkitfullscreenchange",o(this,this.handleFullscreenEvent),!1),document.addEventListener("webkitfullscreenerror",o(this,this.handleFullscreenEvent),!1),this.parent.element.webkitRequestFullscreen()):this.parent.element.msRequestFullscreen&&(document.addEventListener("MSFullscreenChange",o(this,this.handleFullscreenEvent),!1),document.addEventListener("MSFullscreenError",o(this,this.handleFullscreenEvent),!1),this.parent.element.msRequestFullscreen())):this.isFullscreen&&(this.requestedFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),dt},setIcon:function(dt){_t().default.convertToCanvas(dt);var pt=window.document.querySelector("link[rel*='icon']");pt==null&&(pt=window.document.createElement("link")),pt.type="image/x-icon",pt.rel="shortcut icon",pt.href=dt.buffer.get_src().toDataURL("image/x-icon"),window.document.getElementsByTagName("head")[0].appendChild(pt)},setMaximized:function(dt){return!1},setMinimized:function(dt){return!1},setMouseLock:function(dt){},setOpacity:function(dt){},setResizable:function(dt){return dt},setTextInputEnabled:function(dt){return dt?(ht.textInput==null&&(ht.textInput=window.document.createElement("input"),ht.textInput.type=window.navigator.userAgent.indexOf("Android")>=0?"password":"text",ht.textInput.style.position="absolute",ht.textInput.style.opacity="0",ht.textInput.style.color="transparent",ht.textInput.value=ht.dummyCharacter,ht.textInput.autocapitalize="off",ht.textInput.autocorrect="off",ht.textInput.autocomplete="off",ht.textInput.style.left="0px",ht.textInput.style.top="50%",new(ut()).default("(iPad|iPhone|iPod).*OS 8_","gi").match(window.navigator.userAgent)?(ht.textInput.style.fontSize="0px",ht.textInput.style.width="0px",ht.textInput.style.height="0px"):(ht.textInput.style.width="1px",ht.textInput.style.height="1px"),ht.textInput.style.pointerEvents="none",ht.textInput.style.zIndex="-10000000"),ht.textInput.parentNode==null&&this.parent.element.appendChild(ht.textInput),this.textInputEnabled||(ht.textInput.addEventListener("input",o(this,this.handleInputEvent),!0),ht.textInput.addEventListener("blur",o(this,this.handleFocusEvent),!0),ht.textInput.addEventListener("cut",o(this,this.handleCutOrCopyEvent),!0),ht.textInput.addEventListener("copy",o(this,this.handleCutOrCopyEvent),!0),ht.textInput.addEventListener("paste",o(this,this.handlePasteEvent),!0),ht.textInput.addEventListener("compositionstart",o(this,this.handleCompositionstartEvent),!0),ht.textInput.addEventListener("compositionend",o(this,this.handleCompositionendEvent),!0)),ht.textInput.focus(),ht.textInput.select()):ht.textInput!=null&&(ht.textInput.blur(),ht.textInput.removeEventListener("input",o(this,this.handleInputEvent),!0),ht.textInput.removeEventListener("blur",o(this,this.handleFocusEvent),!0),ht.textInput.removeEventListener("cut",o(this,this.handleCutOrCopyEvent),!0),ht.textInput.removeEventListener("copy",o(this,this.handleCutOrCopyEvent),!0),ht.textInput.removeEventListener("paste",o(this,this.handlePasteEvent),!0),ht.textInput.removeEventListener("compositionstart",o(this,this.handleCompositionstartEvent),!0),ht.textInput.removeEventListener("compositionend",o(this,this.handleCompositionendEvent),!0)),this.textInputEnabled=dt},setTextInputRect:function(dt){return this.textInputRect=dt},handleCompositionstartEvent:function(dt){this.imeCompositionActive=!0},handleCompositionendEvent:function(dt){this.imeCompositionActive=!1,this.handleInputEvent(dt)},setTitle:function(dt){return dt!=null&&(window.document.title=dt),dt},setVisible:function(dt){return dt},updateSize:function(){if(this.parent.__resizable){var dt,pt;if(this.parent.element!=null?(dt=this.parent.element.clientWidth,pt=this.parent.element.clientHeight):(dt=window.innerWidth,pt=window.innerHeight),dt!=this.cacheElementWidth||pt!=this.cacheElementHeight){this.cacheElementWidth=dt,this.cacheElementHeight=pt;var xt=this.resizeElement||this.setWidth==0&&this.setHeight==0;if(this.parent.element!=null&&(this.div==null||this.div!=null&&xt))if(xt)(this.parent.__width!=dt||this.parent.__height!=pt)&&(this.parent.__width=dt,this.parent.__height=pt,this.canvas!=null?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(dt*this.scale),this.canvas.height=Math.round(pt*this.scale),this.canvas.style.width=dt+"px",this.canvas.style.height=pt+"px"):(this.div.style.width=dt+"px",this.div.style.height=pt+"px"),this.parent.onResize.dispatch(dt,pt));else{var vt=this.setWidth!=0?dt/this.setWidth:1,bt=this.setHeight!=0?pt/this.setHeight:1,wt=dt,At=pt,ct=0,mt=0;vt<bt?(At=Math.floor(this.setHeight*vt),mt=Math.floor((pt-At)/2)):(wt=Math.floor(this.setWidth*bt),ct=Math.floor((dt-wt)/2)),this.canvas!=null?this.parent.element!=this.canvas&&(this.canvas.style.width=wt+"px",this.canvas.style.height=At+"px",this.canvas.style.marginLeft=ct+"px",this.canvas.style.marginTop=mt+"px"):(this.div.style.width=wt+"px",this.div.style.height=At+"px",this.div.style.marginLeft=ct+"px",this.div.style.marginTop=mt+"px")}}}},warpMouse:function(dt,pt){}},ht.prototype.__class__=ht.prototype.constructor=d["lime._internal.backend.html5.HTML5Window"]=ht,ht.dummyCharacter="",ht.windowID=0,e.default=ht}(HTML5Window)),HTML5Window}var hasRequiredWindow$2;function requireWindow$2(){return hasRequiredWindow$2||(hasRequiredWindow$2=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Event_String_Void()}function c(){return require_Event_String_Int_Int_Void()}function s(){return require_Event_Void_Void()}function h(){return require_Event_Int_Int_Void()}function f(){return require_Event_lime_graphics_RenderContext_Void()}function g(){return require_Event_Float_Float_Void()}function b(){return require_Event_Float_Float_lime_ui_MouseWheelMode_Void()}function k(){return require_Event_Float_Float_Int_Void()}function $(){return require_Event_Float_Float_lime_ui_MouseButton_Void()}function j(){return require_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void()}function _e(){return require_Reflect()}function et(){return requireHTML5Window()}var nt=function(tt,it){this.__maxHeight=2147483647,this.__maxWidth=2147483647,this.__minHeight=0,this.__minWidth=0,this.clickCount=0,this.onTextInput=new(o()).default,this.onTextEdit=new(c()).default,this.onShow=new(s()).default,this.onRestore=new(s()).default,this.onResize=new(h()).default,this.onRenderContextRestored=new(f()).default,this.onRenderContextLost=new(s()).default,this.onRender=new(f()).default,this.onMove=new(g()).default,this.onMouseWheel=new(b()).default,this.onMouseUp=new(k()).default,this.onMouseMoveRelative=new(g()).default,this.onMouseMove=new(g()).default,this.onMouseDown=new($()).default,this.onMinimize=new(s()).default,this.onMaximize=new(s()).default,this.onLeave=new(s()).default,this.onKeyUp=new(j()).default,this.onKeyDown=new(j()).default,this.onHide=new(s()).default,this.onFullscreen=new(s()).default,this.onFocusOut=new(s()).default,this.onFocusIn=new(s()).default,this.onExpose=new(s()).default,this.onEnter=new(s()).default,this.onDropFile=new(o()).default,this.onDeactivate=new(s()).default,this.onClose=new(s()).default,this.onActivate=new(s()).default,this.application=tt,this.__attributes=it??{},_e().default.hasField(this.__attributes,"parameters")&&(this.parameters=this.__attributes.parameters),this.__width=0,this.__height=0,this.__fullscreen=!1,this.__scale=1,this.__x=0,this.__y=0,this.__title=_e().default.hasField(this.__attributes,"title")?this.__attributes.title:"",this.id=-1,this.__backend=new(et()).default(this)};nt.__name__="lime.ui.Window",nt.__isInterface__=!1,nt.prototype={alert:function(tt,it){this.__backend.alert(tt,it)},close:function(){this.__backend.close()},focus:function(){this.__backend.focus()},move:function(tt,it){this.__backend.move(tt,it),this.__x=tt,this.__y=it},readPixels:function(tt){return this.__backend.readPixels(tt)},resize:function(tt,it){tt<this.__minWidth?tt=this.__minWidth:tt>this.__maxWidth&&(tt=this.__maxWidth),it<this.__minHeight?it=this.__minHeight:it>this.__maxHeight&&(it=this.__maxHeight),this.__backend.resize(tt,it),this.__width=tt,this.__height=it},setMinSize:function(tt,it){this.__backend.setMinSize(tt,it),this.__minWidth=tt,this.__minHeight=it,(this.__width<this.__minWidth||this.__height<this.__minHeight)&&this.resize(this.__width,this.__height)},setMaxSize:function(tt,it){this.__backend.setMaxSize(tt,it),this.__maxWidth=tt,this.__maxHeight=it,(this.__width>this.__maxWidth||this.__height>this.__maxHeight)&&this.resize(this.__width,this.__height)},setIcon:function(tt){tt!=null&&this.__backend.setIcon(tt)},toString:function(){return"[object Window]"},warpMouse:function(tt,it){this.__backend.warpMouse(tt,it)},get_cursor:function(){return this.__backend.getCursor()},set_cursor:function(tt){return this.__backend.setCursor(tt)},get_display:function(){return this.__backend.getDisplay()},get_displayMode:function(){return this.__backend.getDisplayMode()},set_displayMode:function(tt){return this.__backend.setDisplayMode(tt)},get_borderless:function(){return this.__borderless},set_borderless:function(tt){return this.__borderless=this.__backend.setBorderless(tt)},get_frameRate:function(){return this.__backend.getFrameRate()},set_frameRate:function(tt){return this.__backend.setFrameRate(tt)},get_fullscreen:function(){return this.__fullscreen},set_fullscreen:function(tt){return this.__fullscreen=this.__backend.setFullscreen(tt)},get_height:function(){return this.__height},set_height:function(tt){return this.resize(this.__width,tt),this.__height},get_hidden:function(){return this.__hidden},get_maxHeight:function(){return this.__maxHeight},set_maxHeight:function(tt){return this.setMaxSize(this.__maxWidth,tt),this.__maxHeight},get_maximized:function(){return this.__maximized},set_maximized:function(tt){return this.__minimized=!1,this.__maximized=this.__backend.setMaximized(tt)},get_maxWidth:function(){return this.__maxWidth},set_maxWidth:function(tt){return this.setMinSize(tt,this.__maxHeight),this.__maxWidth},get_minHeight:function(){return this.__minHeight},set_minHeight:function(tt){return this.setMinSize(this.__minWidth,tt),this.__minHeight},get_minimized:function(){return this.__minimized},set_minimized:function(tt){return this.__maximized=!1,this.__minimized=this.__backend.setMinimized(tt)},get_minWidth:function(){return this.__minWidth},set_minWidth:function(tt){return this.setMinSize(tt,this.__minHeight),this.__minWidth},get_mouseLock:function(){return this.__backend.getMouseLock()},set_mouseLock:function(tt){return this.__backend.setMouseLock(tt),tt},get_opacity:function(){return this.__backend.getOpacity()},set_opacity:function(tt){return this.__backend.setOpacity(tt),tt},get_resizable:function(){return this.__resizable},set_resizable:function(tt){return this.__resizable=this.__backend.setResizable(tt),this.__resizable},get_scale:function(){return this.__scale},get_textInputEnabled:function(){return this.__backend.getTextInputEnabled()},set_textInputEnabled:function(tt){return this.__backend.setTextInputEnabled(tt)},setTextInputRect:function(tt){return this.__backend.setTextInputRect(tt)},get_title:function(){return this.__title},set_title:function(tt){return this.__title=this.__backend.setTitle(tt)},get_visible:function(){return this.__visible},set_visible:function(tt){return this.__visible=this.__backend.setVisible(tt),this.__visible},get_width:function(){return this.__width},set_width:function(tt){return this.resize(tt,this.__height),this.__width},get_x:function(){return this.__x},set_x:function(tt){return this.move(tt,this.__y),this.__x},get_y:function(){return this.__y},set_y:function(tt){return this.move(this.__x,tt),this.__y}},nt.prototype.__class__=nt.prototype.constructor=d["lime.ui.Window"]=nt;{var rt=nt.prototype;Object.defineProperties(rt,{borderless:{get:rt.get_borderless,set:rt.set_borderless},cursor:{get:rt.get_cursor,set:rt.set_cursor},display:{get:rt.get_display},displayMode:{get:rt.get_displayMode,set:rt.set_displayMode},frameRate:{get:rt.get_frameRate,set:rt.set_frameRate},fullscreen:{get:rt.get_fullscreen,set:rt.set_fullscreen},height:{get:rt.get_height,set:rt.set_height},maxHeight:{get:rt.get_maxHeight,set:rt.set_maxHeight},maximized:{get:rt.get_maximized,set:rt.set_maximized},maxWidth:{get:rt.get_maxWidth,set:rt.set_maxWidth},minHeight:{get:rt.get_minHeight,set:rt.set_minHeight},minimized:{get:rt.get_minimized,set:rt.set_minimized},minWidth:{get:rt.get_minWidth,set:rt.set_minWidth},mouseLock:{get:rt.get_mouseLock,set:rt.set_mouseLock},resizable:{get:rt.get_resizable,set:rt.set_resizable},scale:{get:rt.get_scale},textInputEnabled:{get:rt.get_textInputEnabled,set:rt.set_textInputEnabled},title:{get:rt.get_title,set:rt.set_title},visible:{get:rt.get_visible,set:rt.set_visible},width:{get:rt.get_width,set:rt.set_width},x:{get:rt.get_x,set:rt.set_y},y:{get:rt.get_x,set:rt.set_y}})}e.default=nt}(Window$2)),Window$2}var _Event_lime_ui_Window_Void={},hasRequired_Event_lime_ui_Window_Void;function require_Event_lime_ui_Window_Void(){return hasRequired_Event_lime_ui_Window_Void||(hasRequired_Event_lime_ui_Window_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_ui_Window_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_ui_Window_Void"]=c,e.default=c}(_Event_lime_ui_Window_Void)),_Event_lime_ui_Window_Void}var HTML5Application={},GameDeviceData={},hasRequiredGameDeviceData;function requireGameDeviceData(){return hasRequiredGameDeviceData||(hasRequiredGameDeviceData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.connected=!0,this.buttons=[],this.axes=[]};o.__name__="lime._internal.backend.html5.GameDeviceData",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime._internal.backend.html5.GameDeviceData"]=o,e.default=o}(GameDeviceData)),GameDeviceData}var AudioManager={},AudioContext$1={},HTML5AudioContext={},AudioBuffer={},howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var hasRequiredHowler;function requireHowler(){return hasRequiredHowler||(hasRequiredHowler=1,function(e){(function(){var _=function(){this.init()};_.prototype={init:function(){var $=this||d;return $._counter=1e3,$._html5AudioPool=[],$.html5PoolSize=10,$._codecs={},$._howls=[],$._muted=!1,$._volume=1,$._canPlayEvent="canplaythrough",$._navigator=typeof window<"u"&&window.navigator?window.navigator:null,$.masterGain=null,$.noAudio=!1,$.usingWebAudio=!0,$.autoSuspend=!0,$.ctx=null,$.autoUnlock=!0,$._setup(),$},volume:function($){var j=this||d;if($=parseFloat($),j.ctx||k(),typeof $<"u"&&$>=0&&$<=1){if(j._volume=$,j._muted)return j;j.usingWebAudio&&j.masterGain.gain.setValueAtTime($,d.ctx.currentTime);for(var _e=0;_e<j._howls.length;_e++)if(!j._howls[_e]._webAudio)for(var et=j._howls[_e]._getSoundIds(),nt=0;nt<et.length;nt++){var rt=j._howls[_e]._soundById(et[nt]);rt&&rt._node&&(rt._node.volume=rt._volume*$)}return j}return j._volume},mute:function($){var j=this||d;j.ctx||k(),j._muted=$,j.usingWebAudio&&j.masterGain.gain.setValueAtTime($?0:j._volume,d.ctx.currentTime);for(var _e=0;_e<j._howls.length;_e++)if(!j._howls[_e]._webAudio)for(var et=j._howls[_e]._getSoundIds(),nt=0;nt<et.length;nt++){var rt=j._howls[_e]._soundById(et[nt]);rt&&rt._node&&(rt._node.muted=$?!0:rt._muted)}return j},stop:function(){for(var $=this||d,j=0;j<$._howls.length;j++)$._howls[j].stop();return $},unload:function(){for(var $=this||d,j=$._howls.length-1;j>=0;j--)$._howls[j].unload();return $.usingWebAudio&&$.ctx&&typeof $.ctx.close<"u"&&($.ctx.close(),$.ctx=null,k()),$},codecs:function($){return(this||d)._codecs[$.replace(/^x-/,"")]},_setup:function(){var $=this||d;if($.state=$.ctx&&$.ctx.state||"suspended",$._autoSuspend(),!$.usingWebAudio)if(typeof Audio<"u")try{var j=new Audio;typeof j.oncanplaythrough>"u"&&($._canPlayEvent="canplay")}catch{$.noAudio=!0}else $.noAudio=!0;try{var j=new Audio;j.muted&&($.noAudio=!0)}catch{}return $.noAudio||$._setupCodecs(),$},_setupCodecs:function(){var $=this||d,j=null;try{j=typeof Audio<"u"?new Audio:null}catch{return $}if(!j||typeof j.canPlayType!="function")return $;var _e=j.canPlayType("audio/mpeg;").replace(/^no$/,""),et=$._navigator?$._navigator.userAgent:"",nt=et.match(/OPR\/(\d+)/g),rt=nt&&parseInt(nt[0].split("/")[1],10)<33,tt=et.indexOf("Safari")!==-1&&et.indexOf("Chrome")===-1,it=et.match(/Version\/(.*?) /),st=tt&&it&&parseInt(it[1],10)<15;return $._codecs={mp3:!!(!rt&&(_e||j.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!_e,opus:!!j.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!j.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!j.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(j.canPlayType('audio/wav; codecs="1"')||j.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!j.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!j.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(j.canPlayType("audio/x-m4a;")||j.canPlayType("audio/m4a;")||j.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(j.canPlayType("audio/x-m4b;")||j.canPlayType("audio/m4b;")||j.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(j.canPlayType("audio/x-mp4;")||j.canPlayType("audio/mp4;")||j.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!st&&j.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!st&&j.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!j.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(j.canPlayType("audio/x-flac;")||j.canPlayType("audio/flac;")).replace(/^no$/,"")},$},_unlockAudio:function(){var $=this||d;if(!($._audioUnlocked||!$.ctx)){$._audioUnlocked=!1,$.autoUnlock=!1,!$._mobileUnloaded&&$.ctx.sampleRate!==44100&&($._mobileUnloaded=!0,$.unload()),$._scratchBuffer=$.ctx.createBuffer(1,1,22050);var j=function(_e){for(;$._html5AudioPool.length<$.html5PoolSize;)try{var et=new Audio;et._unlocked=!0,$._releaseHtml5Audio(et)}catch{$.noAudio=!0;break}for(var nt=0;nt<$._howls.length;nt++)if(!$._howls[nt]._webAudio)for(var rt=$._howls[nt]._getSoundIds(),tt=0;tt<rt.length;tt++){var it=$._howls[nt]._soundById(rt[tt]);it&&it._node&&!it._node._unlocked&&(it._node._unlocked=!0,it._node.load())}$._autoResume();var st=$.ctx.createBufferSource();st.buffer=$._scratchBuffer,st.connect($.ctx.destination),typeof st.start>"u"?st.noteOn(0):st.start(0),typeof $.ctx.resume=="function"&&$.ctx.resume(),st.onended=function(){st.disconnect(0),$._audioUnlocked=!0,document.removeEventListener("touchstart",j,!0),document.removeEventListener("touchend",j,!0),document.removeEventListener("click",j,!0),document.removeEventListener("keydown",j,!0);for(var at=0;at<$._howls.length;at++)$._howls[at]._emit("unlock")}};return document.addEventListener("touchstart",j,!0),document.addEventListener("touchend",j,!0),document.addEventListener("click",j,!0),document.addEventListener("keydown",j,!0),$}},_obtainHtml5Audio:function(){var $=this||d;if($._html5AudioPool.length)return $._html5AudioPool.pop();var j=new Audio().play();return j&&typeof Promise<"u"&&(j instanceof Promise||typeof j.then=="function")&&j.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function($){var j=this||d;return $._unlocked&&j._html5AudioPool.push($),j},_autoSuspend:function(){var $=this;if(!(!$.autoSuspend||!$.ctx||typeof $.ctx.suspend>"u"||!d.usingWebAudio)){for(var j=0;j<$._howls.length;j++)if($._howls[j]._webAudio){for(var _e=0;_e<$._howls[j]._sounds.length;_e++)if(!$._howls[j]._sounds[_e]._paused)return $}return $._suspendTimer&&clearTimeout($._suspendTimer),$._suspendTimer=setTimeout(function(){if($.autoSuspend){$._suspendTimer=null,$.state="suspending";var et=function(){$.state="suspended",$._resumeAfterSuspend&&(delete $._resumeAfterSuspend,$._autoResume())};$.ctx.suspend().then(et,et)}},3e4),$}},_autoResume:function(){var $=this;if(!(!$.ctx||typeof $.ctx.resume>"u"||!d.usingWebAudio))return $.state==="running"&&$.ctx.state!=="interrupted"&&$._suspendTimer?(clearTimeout($._suspendTimer),$._suspendTimer=null):$.state==="suspended"||$.state==="running"&&$.ctx.state==="interrupted"?($.ctx.resume().then(function(){$.state="running";for(var j=0;j<$._howls.length;j++)$._howls[j]._emit("resume")}),$._suspendTimer&&(clearTimeout($._suspendTimer),$._suspendTimer=null)):$.state==="suspending"&&($._resumeAfterSuspend=!0),$}};var d=new _,o=function($){var j=this;if(!$.src||$.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}j.init($)};o.prototype={init:function($){var j=this;return d.ctx||k(),j._autoplay=$.autoplay||!1,j._format=typeof $.format!="string"?$.format:[$.format],j._html5=$.html5||!1,j._muted=$.mute||!1,j._loop=$.loop||!1,j._pool=$.pool||5,j._preload=typeof $.preload=="boolean"||$.preload==="metadata"?$.preload:!0,j._rate=$.rate||1,j._sprite=$.sprite||{},j._src=typeof $.src!="string"?$.src:[$.src],j._volume=$.volume!==void 0?$.volume:1,j._xhr={method:$.xhr&&$.xhr.method?$.xhr.method:"GET",headers:$.xhr&&$.xhr.headers?$.xhr.headers:null,withCredentials:$.xhr&&$.xhr.withCredentials?$.xhr.withCredentials:!1},j._duration=0,j._state="unloaded",j._sounds=[],j._endTimers={},j._queue=[],j._playLock=!1,j._onend=$.onend?[{fn:$.onend}]:[],j._onfade=$.onfade?[{fn:$.onfade}]:[],j._onload=$.onload?[{fn:$.onload}]:[],j._onloaderror=$.onloaderror?[{fn:$.onloaderror}]:[],j._onplayerror=$.onplayerror?[{fn:$.onplayerror}]:[],j._onpause=$.onpause?[{fn:$.onpause}]:[],j._onplay=$.onplay?[{fn:$.onplay}]:[],j._onstop=$.onstop?[{fn:$.onstop}]:[],j._onmute=$.onmute?[{fn:$.onmute}]:[],j._onvolume=$.onvolume?[{fn:$.onvolume}]:[],j._onrate=$.onrate?[{fn:$.onrate}]:[],j._onseek=$.onseek?[{fn:$.onseek}]:[],j._onunlock=$.onunlock?[{fn:$.onunlock}]:[],j._onresume=[],j._webAudio=d.usingWebAudio&&!j._html5,typeof d.ctx<"u"&&d.ctx&&d.autoUnlock&&d._unlockAudio(),d._howls.push(j),j._autoplay&&j._queue.push({event:"play",action:function(){j.play()}}),j._preload&&j._preload!=="none"&&j.load(),j},load:function(){var $=this,j=null;if(d.noAudio){$._emit("loaderror",null,"No audio support.");return}typeof $._src=="string"&&($._src=[$._src]);for(var _e=0;_e<$._src.length;_e++){var et,nt;if($._format&&$._format[_e])et=$._format[_e];else{if(nt=$._src[_e],typeof nt!="string"){$._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}et=/^data:audio\/([^;,]+);/i.exec(nt),et||(et=/\.([^.]+)$/.exec(nt.split("?",1)[0])),et&&(et=et[1].toLowerCase())}if(et||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),et&&d.codecs(et)){j=$._src[_e];break}}if(!j){$._emit("loaderror",null,"No codec support for selected audio sources.");return}return $._src=j,$._state="loading",window.location.protocol==="https:"&&j.slice(0,5)==="http:"&&($._html5=!0,$._webAudio=!1),new c($),$._webAudio&&h($),$},play:function($,j){var _e=this,et=null;if(typeof $=="number")et=$,$=null;else{if(typeof $=="string"&&_e._state==="loaded"&&!_e._sprite[$])return null;if(typeof $>"u"&&($="__default",!_e._playLock)){for(var nt=0,rt=0;rt<_e._sounds.length;rt++)_e._sounds[rt]._paused&&!_e._sounds[rt]._ended&&(nt++,et=_e._sounds[rt]._id);nt===1?$=null:et=null}}var tt=et?_e._soundById(et):_e._inactiveSound();if(!tt)return null;if(et&&!$&&($=tt._sprite||"__default"),_e._state!=="loaded"){tt._sprite=$,tt._ended=!1;var it=tt._id;return _e._queue.push({event:"play",action:function(){_e.play(it)}}),it}if(et&&!tt._paused)return j||_e._loadQueue("play"),tt._id;_e._webAudio&&d._autoResume();var st=Math.max(0,tt._seek>0?tt._seek:_e._sprite[$][0]/1e3),at=Math.max(0,(_e._sprite[$][0]+_e._sprite[$][1])/1e3-st),_t=at*1e3/Math.abs(tt._rate),ut=_e._sprite[$][0]/1e3,ot=(_e._sprite[$][0]+_e._sprite[$][1])/1e3;tt._sprite=$,tt._ended=!1;var lt=function(){tt._paused=!1,tt._seek=st,tt._start=ut,tt._stop=ot,tt._loop=!!(tt._loop||_e._sprite[$][2])};if(st>=ot){_e._ended(tt);return}var ft=tt._node;if(_e._webAudio){var ht=function(){_e._playLock=!1,lt(),_e._refreshBuffer(tt);var vt=tt._muted||_e._muted?0:tt._volume;ft.gain.setValueAtTime(vt,d.ctx.currentTime),tt._playStart=d.ctx.currentTime,typeof ft.bufferSource.start>"u"?tt._loop?ft.bufferSource.noteGrainOn(0,st,86400):ft.bufferSource.noteGrainOn(0,st,at):tt._loop?ft.bufferSource.start(0,st,86400):ft.bufferSource.start(0,st,at),_t!==1/0&&(_e._endTimers[tt._id]=setTimeout(_e._ended.bind(_e,tt),_t)),j||setTimeout(function(){_e._emit("play",tt._id),_e._loadQueue()},0)};d.state==="running"&&d.ctx.state!=="interrupted"?ht():(_e._playLock=!0,_e.once("resume",ht),_e._clearTimer(tt._id))}else{var dt=function(){ft.currentTime=st,ft.muted=tt._muted||_e._muted||d._muted||ft.muted,ft.volume=tt._volume*d.volume(),ft.playbackRate=tt._rate;try{var vt=ft.play();if(vt&&typeof Promise<"u"&&(vt instanceof Promise||typeof vt.then=="function")?(_e._playLock=!0,lt(),vt.then(function(){_e._playLock=!1,ft._unlocked=!0,j?_e._loadQueue():_e._emit("play",tt._id)}).catch(function(){_e._playLock=!1,_e._emit("playerror",tt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),tt._ended=!0,tt._paused=!0})):j||(_e._playLock=!1,lt(),_e._emit("play",tt._id)),ft.playbackRate=tt._rate,ft.paused){_e._emit("playerror",tt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}$!=="__default"||tt._loop?_e._endTimers[tt._id]=setTimeout(_e._ended.bind(_e,tt),_t):(_e._endTimers[tt._id]=function(){_e._ended(tt),ft.removeEventListener("ended",_e._endTimers[tt._id],!1)},ft.addEventListener("ended",_e._endTimers[tt._id],!1))}catch(bt){_e._emit("playerror",tt._id,bt)}};ft.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(ft.src=_e._src,ft.load());var pt=window&&window.ejecta||!ft.readyState&&d._navigator.isCocoonJS;if(ft.readyState>=3||pt)dt();else{_e._playLock=!0,_e._state="loading";var xt=function(){_e._state="loaded",dt(),ft.removeEventListener(d._canPlayEvent,xt,!1)};ft.addEventListener(d._canPlayEvent,xt,!1),_e._clearTimer(tt._id)}}return tt._id},pause:function($){var j=this;if(j._state!=="loaded"||j._playLock)return j._queue.push({event:"pause",action:function(){j.pause($)}}),j;for(var _e=j._getSoundIds($),et=0;et<_e.length;et++){j._clearTimer(_e[et]);var nt=j._soundById(_e[et]);if(nt&&!nt._paused&&(nt._seek=j.seek(_e[et]),nt._rateSeek=0,nt._paused=!0,j._stopFade(_e[et]),nt._node))if(j._webAudio){if(!nt._node.bufferSource)continue;typeof nt._node.bufferSource.stop>"u"?nt._node.bufferSource.noteOff(0):nt._node.bufferSource.stop(0),j._cleanBuffer(nt._node)}else(!isNaN(nt._node.duration)||nt._node.duration===1/0)&&nt._node.pause();arguments[1]||j._emit("pause",nt?nt._id:null)}return j},stop:function($,j){var _e=this;if(_e._state!=="loaded"||_e._playLock)return _e._queue.push({event:"stop",action:function(){_e.stop($)}}),_e;for(var et=_e._getSoundIds($),nt=0;nt<et.length;nt++){_e._clearTimer(et[nt]);var rt=_e._soundById(et[nt]);rt&&(rt._seek=rt._start||0,rt._rateSeek=0,rt._paused=!0,rt._ended=!0,_e._stopFade(et[nt]),rt._node&&(_e._webAudio?rt._node.bufferSource&&(typeof rt._node.bufferSource.stop>"u"?rt._node.bufferSource.noteOff(0):rt._node.bufferSource.stop(0),_e._cleanBuffer(rt._node)):(!isNaN(rt._node.duration)||rt._node.duration===1/0)&&(rt._node.currentTime=rt._start||0,rt._node.pause(),rt._node.duration===1/0&&_e._clearSound(rt._node))),j||_e._emit("stop",rt._id))}return _e},mute:function($,j){var _e=this;if(_e._state!=="loaded"||_e._playLock)return _e._queue.push({event:"mute",action:function(){_e.mute($,j)}}),_e;if(typeof j>"u")if(typeof $=="boolean")_e._muted=$;else return _e._muted;for(var et=_e._getSoundIds(j),nt=0;nt<et.length;nt++){var rt=_e._soundById(et[nt]);rt&&(rt._muted=$,rt._interval&&_e._stopFade(rt._id),_e._webAudio&&rt._node?rt._node.gain.setValueAtTime($?0:rt._volume,d.ctx.currentTime):rt._node&&(rt._node.muted=d._muted?!0:$),_e._emit("mute",rt._id))}return _e},volume:function(){var $=this,j=arguments,_e,et;if(j.length===0)return $._volume;if(j.length===1||j.length===2&&typeof j[1]>"u"){var nt=$._getSoundIds(),rt=nt.indexOf(j[0]);rt>=0?et=parseInt(j[0],10):_e=parseFloat(j[0])}else j.length>=2&&(_e=parseFloat(j[0]),et=parseInt(j[1],10));var tt;if(typeof _e<"u"&&_e>=0&&_e<=1){if($._state!=="loaded"||$._playLock)return $._queue.push({event:"volume",action:function(){$.volume.apply($,j)}}),$;typeof et>"u"&&($._volume=_e),et=$._getSoundIds(et);for(var it=0;it<et.length;it++)tt=$._soundById(et[it]),tt&&(tt._volume=_e,j[2]||$._stopFade(et[it]),$._webAudio&&tt._node&&!tt._muted?tt._node.gain.setValueAtTime(_e,d.ctx.currentTime):tt._node&&!tt._muted&&(tt._node.volume=_e*d.volume()),$._emit("volume",tt._id))}else return tt=et?$._soundById(et):$._sounds[0],tt?tt._volume:0;return $},fade:function($,j,_e,et){var nt=this;if(nt._state!=="loaded"||nt._playLock)return nt._queue.push({event:"fade",action:function(){nt.fade($,j,_e,et)}}),nt;$=Math.min(Math.max(0,parseFloat($)),1),j=Math.min(Math.max(0,parseFloat(j)),1),_e=parseFloat(_e),nt.volume($,et);for(var rt=nt._getSoundIds(et),tt=0;tt<rt.length;tt++){var it=nt._soundById(rt[tt]);if(it){if(et||nt._stopFade(rt[tt]),nt._webAudio&&!it._muted){var st=d.ctx.currentTime,at=st+_e/1e3;it._volume=$,it._node.gain.setValueAtTime($,st),it._node.gain.linearRampToValueAtTime(j,at)}nt._startFadeInterval(it,$,j,_e,rt[tt],typeof et>"u")}}return nt},_startFadeInterval:function($,j,_e,et,nt,rt){var tt=this,it=j,st=_e-j,at=Math.abs(st/.01),_t=Math.max(4,at>0?et/at:et),ut=Date.now();$._fadeTo=_e,$._interval=setInterval(function(){var ot=(Date.now()-ut)/et;ut=Date.now(),it+=st*ot,it=Math.round(it*100)/100,st<0?it=Math.max(_e,it):it=Math.min(_e,it),tt._webAudio?$._volume=it:tt.volume(it,$._id,!0),rt&&(tt._volume=it),(_e<j&&it<=_e||_e>j&&it>=_e)&&(clearInterval($._interval),$._interval=null,$._fadeTo=null,tt.volume(_e,$._id),tt._emit("fade",$._id))},_t)},_stopFade:function($){var j=this,_e=j._soundById($);return _e&&_e._interval&&(j._webAudio&&_e._node.gain.cancelScheduledValues(d.ctx.currentTime),clearInterval(_e._interval),_e._interval=null,j.volume(_e._fadeTo,$),_e._fadeTo=null,j._emit("fade",$)),j},loop:function(){var $=this,j=arguments,_e,et,nt;if(j.length===0)return $._loop;if(j.length===1)if(typeof j[0]=="boolean")_e=j[0],$._loop=_e;else return nt=$._soundById(parseInt(j[0],10)),nt?nt._loop:!1;else j.length===2&&(_e=j[0],et=parseInt(j[1],10));for(var rt=$._getSoundIds(et),tt=0;tt<rt.length;tt++)nt=$._soundById(rt[tt]),nt&&(nt._loop=_e,$._webAudio&&nt._node&&nt._node.bufferSource&&(nt._node.bufferSource.loop=_e,_e&&(nt._node.bufferSource.loopStart=nt._start||0,nt._node.bufferSource.loopEnd=nt._stop,$.playing(rt[tt])&&($.pause(rt[tt],!0),$.play(rt[tt],!0)))));return $},rate:function(){var $=this,j=arguments,_e,et;if(j.length===0)et=$._sounds[0]._id;else if(j.length===1){var nt=$._getSoundIds(),rt=nt.indexOf(j[0]);rt>=0?et=parseInt(j[0],10):_e=parseFloat(j[0])}else j.length===2&&(_e=parseFloat(j[0]),et=parseInt(j[1],10));var tt;if(typeof _e=="number"){if($._state!=="loaded"||$._playLock)return $._queue.push({event:"rate",action:function(){$.rate.apply($,j)}}),$;typeof et>"u"&&($._rate=_e),et=$._getSoundIds(et);for(var it=0;it<et.length;it++)if(tt=$._soundById(et[it]),tt){$.playing(et[it])&&(tt._rateSeek=$.seek(et[it]),tt._playStart=$._webAudio?d.ctx.currentTime:tt._playStart),tt._rate=_e,$._webAudio&&tt._node&&tt._node.bufferSource?tt._node.bufferSource.playbackRate.setValueAtTime(_e,d.ctx.currentTime):tt._node&&(tt._node.playbackRate=_e);var st=$.seek(et[it]),at=($._sprite[tt._sprite][0]+$._sprite[tt._sprite][1])/1e3-st,_t=at*1e3/Math.abs(tt._rate);($._endTimers[et[it]]||!tt._paused)&&($._clearTimer(et[it]),$._endTimers[et[it]]=setTimeout($._ended.bind($,tt),_t)),$._emit("rate",tt._id)}}else return tt=$._soundById(et),tt?tt._rate:$._rate;return $},seek:function(){var $=this,j=arguments,_e,et;if(j.length===0)$._sounds.length&&(et=$._sounds[0]._id);else if(j.length===1){var nt=$._getSoundIds(),rt=nt.indexOf(j[0]);rt>=0?et=parseInt(j[0],10):$._sounds.length&&(et=$._sounds[0]._id,_e=parseFloat(j[0]))}else j.length===2&&(_e=parseFloat(j[0]),et=parseInt(j[1],10));if(typeof et>"u")return 0;if(typeof _e=="number"&&($._state!=="loaded"||$._playLock))return $._queue.push({event:"seek",action:function(){$.seek.apply($,j)}}),$;var tt=$._soundById(et);if(tt)if(typeof _e=="number"&&_e>=0){var it=$.playing(et);it&&$.pause(et,!0),tt._seek=_e,tt._ended=!1,$._clearTimer(et),!$._webAudio&&tt._node&&!isNaN(tt._node.duration)&&(tt._node.currentTime=_e);var st=function(){it&&$.play(et,!0),$._emit("seek",et)};if(it&&!$._webAudio){var at=function(){$._playLock?setTimeout(at,0):st()};setTimeout(at,0)}else st()}else if($._webAudio){var _t=$.playing(et)?d.ctx.currentTime-tt._playStart:0,ut=tt._rateSeek?tt._rateSeek-tt._seek:0;return tt._seek+(ut+_t*Math.abs(tt._rate))}else return tt._node.currentTime;return $},playing:function($){var j=this;if(typeof $=="number"){var _e=j._soundById($);return _e?!_e._paused:!1}for(var et=0;et<j._sounds.length;et++)if(!j._sounds[et]._paused)return!0;return!1},duration:function($){var j=this,_e=j._duration,et=j._soundById($);return et&&(_e=j._sprite[et._sprite][1]/1e3),_e},state:function(){return this._state},unload:function(){for(var $=this,j=$._sounds,_e=0;_e<j.length;_e++)j[_e]._paused||$.stop(j[_e]._id),$._webAudio||($._clearSound(j[_e]._node),j[_e]._node.removeEventListener("error",j[_e]._errorFn,!1),j[_e]._node.removeEventListener(d._canPlayEvent,j[_e]._loadFn,!1),j[_e]._node.removeEventListener("ended",j[_e]._endFn,!1),d._releaseHtml5Audio(j[_e]._node)),delete j[_e]._node,$._clearTimer(j[_e]._id);var et=d._howls.indexOf($);et>=0&&d._howls.splice(et,1);var nt=!0;for(_e=0;_e<d._howls.length;_e++)if(d._howls[_e]._src===$._src||$._src.indexOf(d._howls[_e]._src)>=0){nt=!1;break}return s&&nt&&delete s[$._src],d.noAudio=!1,$._state="unloaded",$._sounds=[],$=null,null},on:function($,j,_e,et){var nt=this,rt=nt["_on"+$];return typeof j=="function"&&rt.push(et?{id:_e,fn:j,once:et}:{id:_e,fn:j}),nt},off:function($,j,_e){var et=this,nt=et["_on"+$],rt=0;if(typeof j=="number"&&(_e=j,j=null),j||_e)for(rt=0;rt<nt.length;rt++){var tt=_e===nt[rt].id;if(j===nt[rt].fn&&tt||!j&&tt){nt.splice(rt,1);break}}else if($)et["_on"+$]=[];else{var it=Object.keys(et);for(rt=0;rt<it.length;rt++)it[rt].indexOf("_on")===0&&Array.isArray(et[it[rt]])&&(et[it[rt]]=[])}return et},once:function($,j,_e){var et=this;return et.on($,j,_e,1),et},_emit:function($,j,_e){for(var et=this,nt=et["_on"+$],rt=nt.length-1;rt>=0;rt--)(!nt[rt].id||nt[rt].id===j||$==="load")&&(setTimeout((function(tt){tt.call(this,j,_e)}).bind(et,nt[rt].fn),0),nt[rt].once&&et.off($,nt[rt].fn,nt[rt].id));return et._loadQueue($),et},_loadQueue:function($){var j=this;if(j._queue.length>0){var _e=j._queue[0];_e.event===$&&(j._queue.shift(),j._loadQueue()),$||_e.action()}return j},_ended:function($){var j=this,_e=$._sprite;if(!j._webAudio&&$._node&&!$._node.paused&&!$._node.ended&&$._node.currentTime<$._stop)return setTimeout(j._ended.bind(j,$),100),j;var et=!!($._loop||j._sprite[_e][2]);if(j._emit("end",$._id),!j._webAudio&&et&&j.stop($._id,!0).play($._id),j._webAudio&&et){j._emit("play",$._id),$._seek=$._start||0,$._rateSeek=0,$._playStart=d.ctx.currentTime;var nt=($._stop-$._start)*1e3/Math.abs($._rate);j._endTimers[$._id]=setTimeout(j._ended.bind(j,$),nt)}return j._webAudio&&!et&&($._paused=!0,$._ended=!0,$._seek=$._start||0,$._rateSeek=0,j._clearTimer($._id),j._cleanBuffer($._node),d._autoSuspend()),!j._webAudio&&!et&&j.stop($._id,!0),j},_clearTimer:function($){var j=this;if(j._endTimers[$]){if(typeof j._endTimers[$]!="function")clearTimeout(j._endTimers[$]);else{var _e=j._soundById($);_e&&_e._node&&_e._node.removeEventListener("ended",j._endTimers[$],!1)}delete j._endTimers[$]}return j},_soundById:function($){for(var j=this,_e=0;_e<j._sounds.length;_e++)if($===j._sounds[_e]._id)return j._sounds[_e];return null},_inactiveSound:function(){var $=this;$._drain();for(var j=0;j<$._sounds.length;j++)if($._sounds[j]._ended)return $._sounds[j].reset();return new c($)},_drain:function(){var $=this,j=$._pool,_e=0,et=0;if(!($._sounds.length<j)){for(et=0;et<$._sounds.length;et++)$._sounds[et]._ended&&_e++;for(et=$._sounds.length-1;et>=0;et--){if(_e<=j)return;$._sounds[et]._ended&&($._webAudio&&$._sounds[et]._node&&$._sounds[et]._node.disconnect(0),$._sounds.splice(et,1),_e--)}}},_getSoundIds:function($){var j=this;if(typeof $>"u"){for(var _e=[],et=0;et<j._sounds.length;et++)_e.push(j._sounds[et]._id);return _e}else return[$]},_refreshBuffer:function($){var j=this;return $._node.bufferSource=d.ctx.createBufferSource(),$._node.bufferSource.buffer=s[j._src],$._panner?$._node.bufferSource.connect($._panner):$._node.bufferSource.connect($._node),$._node.bufferSource.loop=$._loop,$._loop&&($._node.bufferSource.loopStart=$._start||0,$._node.bufferSource.loopEnd=$._stop||0),$._node.bufferSource.playbackRate.setValueAtTime($._rate,d.ctx.currentTime),j},_cleanBuffer:function($){var j=this,_e=d._navigator&&d._navigator.vendor.indexOf("Apple")>=0;if(!$.bufferSource)return j;if(d._scratchBuffer&&$.bufferSource&&($.bufferSource.onended=null,$.bufferSource.disconnect(0),_e))try{$.bufferSource.buffer=d._scratchBuffer}catch{}return $.bufferSource=null,j},_clearSound:function($){var j=/MSIE |Trident\//.test(d._navigator&&d._navigator.userAgent);j||($.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var c=function($){this._parent=$,this.init()};c.prototype={init:function(){var $=this,j=$._parent;return $._muted=j._muted,$._loop=j._loop,$._volume=j._volume,$._rate=j._rate,$._seek=0,$._paused=!0,$._ended=!0,$._sprite="__default",$._id=++d._counter,j._sounds.push($),$.create(),$},create:function(){var $=this,j=$._parent,_e=d._muted||$._muted||$._parent._muted?0:$._volume;return j._webAudio?($._node=typeof d.ctx.createGain>"u"?d.ctx.createGainNode():d.ctx.createGain(),$._node.gain.setValueAtTime(_e,d.ctx.currentTime),$._node.paused=!0,$._node.connect(d.masterGain)):d.noAudio||($._node=d._obtainHtml5Audio(),$._errorFn=$._errorListener.bind($),$._node.addEventListener("error",$._errorFn,!1),$._loadFn=$._loadListener.bind($),$._node.addEventListener(d._canPlayEvent,$._loadFn,!1),$._endFn=$._endListener.bind($),$._node.addEventListener("ended",$._endFn,!1),$._node.src=j._src,$._node.preload=j._preload===!0?"auto":j._preload,$._node.volume=_e*d.volume(),$._node.load()),$},reset:function(){var $=this,j=$._parent;return $._muted=j._muted,$._loop=j._loop,$._volume=j._volume,$._rate=j._rate,$._seek=0,$._rateSeek=0,$._paused=!0,$._ended=!0,$._sprite="__default",$._id=++d._counter,$},_errorListener:function(){var $=this;$._parent._emit("loaderror",$._id,$._node.error?$._node.error.code:0),$._node.removeEventListener("error",$._errorFn,!1)},_loadListener:function(){var $=this,j=$._parent;j._duration=Math.ceil($._node.duration*10)/10,Object.keys(j._sprite).length===0&&(j._sprite={__default:[0,j._duration*1e3]}),j._state!=="loaded"&&(j._state="loaded",j._emit("load"),j._loadQueue()),$._node.removeEventListener(d._canPlayEvent,$._loadFn,!1)},_endListener:function(){var $=this,j=$._parent;j._duration===1/0&&(j._duration=Math.ceil($._node.duration*10)/10,j._sprite.__default[1]===1/0&&(j._sprite.__default[1]=j._duration*1e3),j._ended($)),$._node.removeEventListener("ended",$._endFn,!1)}};var s={},h=function($){var j=$._src;if(s[j]){$._duration=s[j].duration,b($);return}if(/^data:[^;]+;base64,/.test(j)){for(var _e=atob(j.split(",")[1]),et=new Uint8Array(_e.length),nt=0;nt<_e.length;++nt)et[nt]=_e.charCodeAt(nt);g(et.buffer,$)}else{var rt=new XMLHttpRequest;rt.open($._xhr.method,j,!0),rt.withCredentials=$._xhr.withCredentials,rt.responseType="arraybuffer",$._xhr.headers&&Object.keys($._xhr.headers).forEach(function(tt){rt.setRequestHeader(tt,$._xhr.headers[tt])}),rt.onload=function(){var tt=(rt.status+"")[0];if(tt!=="0"&&tt!=="2"&&tt!=="3"){$._emit("loaderror",null,"Failed loading audio file with status: "+rt.status+".");return}g(rt.response,$)},rt.onerror=function(){$._webAudio&&($._html5=!0,$._webAudio=!1,$._sounds=[],delete s[j],$.load())},f(rt)}},f=function($){try{$.send()}catch{$.onerror()}},g=function($,j){var _e=function(){j._emit("loaderror",null,"Decoding audio data failed.")},et=function(nt){nt&&j._sounds.length>0?(s[j._src]=nt,b(j,nt)):_e()};typeof Promise<"u"&&d.ctx.decodeAudioData.length===1?d.ctx.decodeAudioData($).then(et).catch(_e):d.ctx.decodeAudioData($,et,_e)},b=function($,j){j&&!$._duration&&($._duration=j.duration),Object.keys($._sprite).length===0&&($._sprite={__default:[0,$._duration*1e3]}),$._state!=="loaded"&&($._state="loaded",$._emit("load"),$._loadQueue())},k=function(){if(d.usingWebAudio){try{typeof AudioContext<"u"?d.ctx=new AudioContext:typeof webkitAudioContext<"u"?d.ctx=new webkitAudioContext:d.usingWebAudio=!1}catch{d.usingWebAudio=!1}d.ctx||(d.usingWebAudio=!1);var $=/iP(hone|od|ad)/.test(d._navigator&&d._navigator.platform),j=d._navigator&&d._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),_e=j?parseInt(j[1],10):null;if($&&_e&&_e<9){var et=/safari/.test(d._navigator&&d._navigator.userAgent.toLowerCase());d._navigator&&!et&&(d.usingWebAudio=!1)}d.usingWebAudio&&(d.masterGain=typeof d.ctx.createGain>"u"?d.ctx.createGainNode():d.ctx.createGain(),d.masterGain.gain.setValueAtTime(d._muted?0:d._volume,d.ctx.currentTime),d.masterGain.connect(d.ctx.destination)),d._setup()}};e.Howler=d,e.Howl=o,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=_,commonjsGlobal.Howler=d,commonjsGlobal.Howl=o,commonjsGlobal.Sound=c):typeof window<"u"&&(window.HowlerGlobal=_,window.Howler=d,window.Howl=o,window.Sound=c)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(d){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var c=o._howls.length-1;c>=0;c--)o._howls[c].stereo(d);return o},HowlerGlobal.prototype.pos=function(d,o,c){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(o=typeof o!="number"?s._pos[1]:o,c=typeof c!="number"?s._pos[2]:c,typeof d=="number")s._pos=[d,o,c],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(d,o,c,s,h,f){var g=this;if(!g.ctx||!g.ctx.listener)return g;var b=g._orientation;if(o=typeof o!="number"?b[1]:o,c=typeof c!="number"?b[2]:c,s=typeof s!="number"?b[3]:s,h=typeof h!="number"?b[4]:h,f=typeof f!="number"?b[5]:f,typeof d=="number")g._orientation=[d,o,c,s,h,f],typeof g.ctx.listener.forwardX<"u"?(g.ctx.listener.forwardX.setTargetAtTime(d,Howler.ctx.currentTime,.1),g.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),g.ctx.listener.forwardZ.setTargetAtTime(c,Howler.ctx.currentTime,.1),g.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),g.ctx.listener.upY.setTargetAtTime(h,Howler.ctx.currentTime,.1),g.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):g.ctx.listener.setOrientation(d,o,c,s,h,f);else return b;return g},Howl.prototype.init=function(d){return function(o){var c=this;return c._orientation=o.orientation||[1,0,0],c._stereo=o.stereo||null,c._pos=o.pos||null,c._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},c._onstereo=o.onstereo?[{fn:o.onstereo}]:[],c._onpos=o.onpos?[{fn:o.onpos}]:[],c._onorientation=o.onorientation?[{fn:o.onorientation}]:[],d.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(d,o){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"stereo",action:function(){c.stereo(d,o)}}),c;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof d=="number")c._stereo=d,c._pos=[d,0,0];else return c._stereo;for(var h=c._getSoundIds(o),f=0;f<h.length;f++){var g=c._soundById(h[f]);if(g)if(typeof d=="number")g._stereo=d,g._pos=[d,0,0],g._node&&(g._pannerAttr.panningModel="equalpower",(!g._panner||!g._panner.pan)&&_(g,s),s==="spatial"?typeof g._panner.positionX<"u"?(g._panner.positionX.setValueAtTime(d,Howler.ctx.currentTime),g._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),g._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):g._panner.setPosition(d,0,0):g._panner.pan.setValueAtTime(d,Howler.ctx.currentTime)),c._emit("stereo",g._id);else return g._stereo}return c},Howl.prototype.pos=function(d,o,c,s){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"pos",action:function(){h.pos(d,o,c,s)}}),h;if(o=typeof o!="number"?0:o,c=typeof c!="number"?-.5:c,typeof s>"u")if(typeof d=="number")h._pos=[d,o,c];else return h._pos;for(var f=h._getSoundIds(s),g=0;g<f.length;g++){var b=h._soundById(f[g]);if(b)if(typeof d=="number")b._pos=[d,o,c],b._node&&((!b._panner||b._panner.pan)&&_(b,"spatial"),typeof b._panner.positionX<"u"?(b._panner.positionX.setValueAtTime(d,Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(c,Howler.ctx.currentTime)):b._panner.setPosition(d,o,c)),h._emit("pos",b._id);else return b._pos}return h},Howl.prototype.orientation=function(d,o,c,s){var h=this;if(!h._webAudio)return h;if(h._state!=="loaded")return h._queue.push({event:"orientation",action:function(){h.orientation(d,o,c,s)}}),h;if(o=typeof o!="number"?h._orientation[1]:o,c=typeof c!="number"?h._orientation[2]:c,typeof s>"u")if(typeof d=="number")h._orientation=[d,o,c];else return h._orientation;for(var f=h._getSoundIds(s),g=0;g<f.length;g++){var b=h._soundById(f[g]);if(b)if(typeof d=="number")b._orientation=[d,o,c],b._node&&(b._panner||(b._pos||(b._pos=h._pos||[0,0,-.5]),_(b,"spatial")),typeof b._panner.orientationX<"u"?(b._panner.orientationX.setValueAtTime(d,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(c,Howler.ctx.currentTime)):b._panner.setOrientation(d,o,c)),h._emit("orientation",b._id);else return b._orientation}return h},Howl.prototype.pannerAttr=function(){var d=this,o=arguments,c,s,h;if(!d._webAudio)return d;if(o.length===0)return d._pannerAttr;if(o.length===1)if(typeof o[0]=="object")c=o[0],typeof s>"u"&&(c.pannerAttr||(c.pannerAttr={coneInnerAngle:c.coneInnerAngle,coneOuterAngle:c.coneOuterAngle,coneOuterGain:c.coneOuterGain,distanceModel:c.distanceModel,maxDistance:c.maxDistance,refDistance:c.refDistance,rolloffFactor:c.rolloffFactor,panningModel:c.panningModel}),d._pannerAttr={coneInnerAngle:typeof c.pannerAttr.coneInnerAngle<"u"?c.pannerAttr.coneInnerAngle:d._coneInnerAngle,coneOuterAngle:typeof c.pannerAttr.coneOuterAngle<"u"?c.pannerAttr.coneOuterAngle:d._coneOuterAngle,coneOuterGain:typeof c.pannerAttr.coneOuterGain<"u"?c.pannerAttr.coneOuterGain:d._coneOuterGain,distanceModel:typeof c.pannerAttr.distanceModel<"u"?c.pannerAttr.distanceModel:d._distanceModel,maxDistance:typeof c.pannerAttr.maxDistance<"u"?c.pannerAttr.maxDistance:d._maxDistance,refDistance:typeof c.pannerAttr.refDistance<"u"?c.pannerAttr.refDistance:d._refDistance,rolloffFactor:typeof c.pannerAttr.rolloffFactor<"u"?c.pannerAttr.rolloffFactor:d._rolloffFactor,panningModel:typeof c.pannerAttr.panningModel<"u"?c.pannerAttr.panningModel:d._panningModel});else return h=d._soundById(parseInt(o[0],10)),h?h._pannerAttr:d._pannerAttr;else o.length===2&&(c=o[0],s=parseInt(o[1],10));for(var f=d._getSoundIds(s),g=0;g<f.length;g++)if(h=d._soundById(f[g]),h){var b=h._pannerAttr;b={coneInnerAngle:typeof c.coneInnerAngle<"u"?c.coneInnerAngle:b.coneInnerAngle,coneOuterAngle:typeof c.coneOuterAngle<"u"?c.coneOuterAngle:b.coneOuterAngle,coneOuterGain:typeof c.coneOuterGain<"u"?c.coneOuterGain:b.coneOuterGain,distanceModel:typeof c.distanceModel<"u"?c.distanceModel:b.distanceModel,maxDistance:typeof c.maxDistance<"u"?c.maxDistance:b.maxDistance,refDistance:typeof c.refDistance<"u"?c.refDistance:b.refDistance,rolloffFactor:typeof c.rolloffFactor<"u"?c.rolloffFactor:b.rolloffFactor,panningModel:typeof c.panningModel<"u"?c.panningModel:b.panningModel};var k=h._panner;k||(h._pos||(h._pos=d._pos||[0,0,-.5]),_(h,"spatial"),k=h._panner),k.coneInnerAngle=b.coneInnerAngle,k.coneOuterAngle=b.coneOuterAngle,k.coneOuterGain=b.coneOuterGain,k.distanceModel=b.distanceModel,k.maxDistance=b.maxDistance,k.refDistance=b.refDistance,k.rolloffFactor=b.rolloffFactor,k.panningModel=b.panningModel}return d},Sound.prototype.init=function(d){return function(){var o=this,c=o._parent;o._orientation=c._orientation,o._stereo=c._stereo,o._pos=c._pos,o._pannerAttr=c._pannerAttr,d.call(this),o._stereo?c.stereo(o._stereo):o._pos&&c.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(d){return function(){var o=this,c=o._parent;return o._orientation=c._orientation,o._stereo=c._stereo,o._pos=c._pos,o._pannerAttr=c._pannerAttr,o._stereo?c.stereo(o._stereo):o._pos?c.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,c._refreshBuffer(o)),d.call(this)}}(Sound.prototype.reset);var _=function(d,o){o=o||"spatial",o==="spatial"?(d._panner=Howler.ctx.createPanner(),d._panner.coneInnerAngle=d._pannerAttr.coneInnerAngle,d._panner.coneOuterAngle=d._pannerAttr.coneOuterAngle,d._panner.coneOuterGain=d._pannerAttr.coneOuterGain,d._panner.distanceModel=d._pannerAttr.distanceModel,d._panner.maxDistance=d._pannerAttr.maxDistance,d._panner.refDistance=d._pannerAttr.refDistance,d._panner.rolloffFactor=d._pannerAttr.rolloffFactor,d._panner.panningModel=d._pannerAttr.panningModel,typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(d._pos[0],Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(d._pos[1],Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(d._pos[2],Howler.ctx.currentTime)):d._panner.setPosition(d._pos[0],d._pos[1],d._pos[2]),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(d._orientation[0],Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(d._orientation[1],Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(d._orientation[2],Howler.ctx.currentTime)):d._panner.setOrientation(d._orientation[0],d._orientation[1],d._orientation[2])):(d._panner=Howler.ctx.createStereoPanner(),d._panner.pan.setValueAtTime(d._stereo,Howler.ctx.currentTime)),d._panner.connect(d._node),d._paused||d._parent.pause(d._id,!0).play(d._id,!0)}})()}(howler)),howler}var hasRequiredAudioBuffer;function requireAudioBuffer(){return hasRequiredAudioBuffer||(hasRequiredAudioBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBase64()}function c(){return requireHowler()}function s(){return require_Promise()}function h(){return requireLog()}var f=function(){};f.__name__="lime.media.AudioBuffer",f.__isInterface__=!1,f.prototype={dispose:function(){this.__srcHowl.unload()},get_src:function(){return this.__srcHowl},set_src:function(b){return this.__srcHowl=b}},f.prototype.__class__=f.prototype.constructor=d["lime.media.AudioBuffer"]=f;{var g=f.prototype;Object.defineProperties(g,{src:{get:g.get_src,set:g.set_src}})}f.fromBase64=function(b){if(b==null)return null;b.indexOf(",")==-1&&(b="data:"+f.__getCodec(o().default.decode(b))+";base64,"+b);var k=new f;return k.set_src(new(c()).Howl({src:[b],html5:!0,preload:!1})),k},f.fromBytes=function(b){if(b==null)return null;var k=new f;return k.set_src(new(c()).Howl({src:["data:"+f.__getCodec(b)+";base64,"+o().default.encode(b)],html5:!0,preload:!1})),k},f.fromFile=function(b){if(b==null)return null;var k=new f;return k.__srcHowl=new(c()).Howl({src:[b],preload:!1}),k},f.fromFiles=function(b){var k=new f;return k.__srcHowl=new(c()).Howl({src:b,preload:!1}),k},f.fromVorbisFile=function(b){return null},f.loadFromFile=function(b){var k=new(s()).default,$=f.fromFile(b);return $!=null?$!=null&&($.__srcHowl.on("load",function(){k.complete($)}),$.__srcHowl.on("loaderror",function(j,_e){k.error(_e)}),$.__srcHowl.load()):k.error(null),k.future},f.loadFromFiles=function(b){var k=new(s()).default,$=f.fromFiles(b);return $!=null?($.__srcHowl.on("load",function(){k.complete($)}),$.__srcHowl.on("loaderror",function(){k.error(null)}),$.__srcHowl.load()):k.error(null),k.future},f.__getCodec=function(b){var k=b.getString(0,4);switch(k){case"OggS":return"audio/ogg";case"RIFF":if(b.getString(8,4)=="WAVE")return"audio/wav";var $=b.get(2),j=b.get(1);switch(b.get(0)){case 73:if(j==68&&$==51)return"audio/mp3";break;case 255:switch(j){case 243:case 250:case 251:return"audio/mp3"}break}break;case"fLaC":return"audio/flac";default:var _e=b.get(2),et=b.get(1);switch(b.get(0)){case 73:if(et==68&&_e==51)return"audio/mp3";break;case 255:switch(et){case 243:case 250:case 251:return"audio/mp3"}break}}return h().default.error("Unsupported sound format",{fileName:"../node_modules/lime/src/lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",methodName:"__getCodec"}),null},e.default=f}(AudioBuffer)),AudioBuffer}var hasRequiredHTML5AudioContext;function requireHTML5AudioContext(){return hasRequiredHTML5AudioContext||(hasRequiredHTML5AudioContext=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireAudioBuffer()}var c=function(){this.NETWORK_NO_SOURCE=3,this.NETWORK_LOADING=2,this.NETWORK_IDLE=1,this.NETWORK_EMPTY=0,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.HAVE_CURRENT_DATA=2};c.__name__="lime.media.HTML5AudioContext",c.__isInterface__=!1,c.prototype={canPlayType:function(s,h){return s.__srcAudio!=null?s.__srcAudio.canPlayType(h):null},createBuffer:function(s){var h=new(o()).default;return h.__srcAudio=new Audio,h.__srcAudio.src=s,h},getAutoplay:function(s){return s.__srcAudio!=null?s.__srcAudio.autoplay:!1},getBuffered:function(s){return s.__srcAudio!=null?s.__srcAudio.buffered:null},getCurrentSrc:function(s){return s.__srcAudio!=null?s.__srcAudio.currentSrc:null},getCurrentTime:function(s){return s.__srcAudio!=null?s.__srcAudio.currentTime:0},getDefaultPlaybackRate:function(s){return s.__srcAudio!=null?s.__srcAudio.defaultPlaybackRate:1},getDuration:function(s){return s.__srcAudio!=null?s.__srcAudio.duration:0},getEnded:function(s){return s.__srcAudio!=null?s.__srcAudio.ended:!1},getError:function(s){return s.__srcAudio!=null?s.__srcAudio.error:null},getLoop:function(s){return s.__srcAudio!=null?s.__srcAudio.loop:!1},getMuted:function(s){return s.__srcAudio!=null?s.__srcAudio.muted:!1},getNetworkState:function(s){return s.__srcAudio!=null?s.__srcAudio.networkState:0},getPaused:function(s){return s.__srcAudio!=null?s.__srcAudio.paused:!1},getPlaybackRate:function(s){return s.__srcAudio!=null?s.__srcAudio.playbackRate:1},getPlayed:function(s){return s.__srcAudio!=null?s.__srcAudio.played:null},getPreload:function(s){return s.__srcAudio!=null?s.__srcAudio.preload:null},getReadyState:function(s){return s.__srcAudio!=null?s.__srcAudio.readyState:0},getSeekable:function(s){return s.__srcAudio!=null?s.__srcAudio.seekable:null},getSeeking:function(s){return s.__srcAudio!=null?s.__srcAudio.seeking:!1},getSrc:function(s){return s.__srcAudio!=null?s.__srcAudio.src:null},getStartTime:function(s){return s.__srcAudio!=null?s.__srcAudio.playbackRate:0},getVolume:function(s){return s.__srcAudio!=null?s.__srcAudio.volume:1},load:function(s){s.__srcAudio!=null&&s.__srcAudio.load()},pause:function(s){s.__srcAudio!=null&&s.__srcAudio.pause()},play:function(s){s.__srcAudio!=null&&s.__srcAudio.play()},setAutoplay:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.autoplay=h)},setCurrentTime:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.currentTime=h)},setDefaultPlaybackRate:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.defaultPlaybackRate=h)},setLoop:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.loop=h)},setMuted:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.muted=h)},setPlaybackRate:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.playbackRate=h)},setPreload:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.preload=h)},setSrc:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.src=h)},setVolume:function(s,h){s.__srcAudio!=null&&(s.__srcAudio.volume=h)}},c.prototype.__class__=c.prototype.constructor=d["lime.media.HTML5AudioContext"]=c,e.default=c}(HTML5AudioContext)),HTML5AudioContext}var hasRequiredAudioContext;function requireAudioContext(){return hasRequiredAudioContext||(hasRequiredAudioContext=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCallStack()}function c(){return requireHaxeError()}function s(){return requireHTML5AudioContext()}var h=function(f){if(f!="custom"){if(f==null||f=="web")try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(g){o().default.lastException=g,g instanceof c().default&&g.val}this.web==null&&f!="web"&&(this.html5=new(s()).default,this.type="html5")}else this.type="custom"};h.__name__="lime.media.AudioContext",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime.media.AudioContext"]=h,e.default=h}(AudioContext$1)),AudioContext$1}var hasRequiredAudioManager;function requireAudioManager(){return hasRequiredAudioManager||(hasRequiredAudioManager=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireAudioContext()}var c=function(){};c.__name__="lime.media.AudioManager",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.media.AudioManager"]=c,c.init=function(s){if(c.context==null){if(s==null&&(c.context=new(o()).default,s=c.context,s.type=="openal")){var h=s.openal,f=h.openDevice(),g=h.createContext(f);h.makeContextCurrent(g),h.processContext(g)}c.context=s}},c.resume=function(){if(c.context!=null&&c.context.type=="openal"){var s=c.context.openal,h=s.getCurrentContext();if(h!=null){var f=s.getContextsDevice(h);s.resumeDevice(f),s.processContext(h)}}},c.shutdown=function(){if(c.context!=null&&c.context.type=="openal"){var s=c.context.openal,h=s.getCurrentContext();if(h!=null){var f=s.getContextsDevice(h);s.makeContextCurrent(null),s.destroyContext(h),f!=null&&s.closeDevice(f)}}c.context=null},c.suspend=function(){if(c.context!=null&&c.context.type=="openal"){var s=c.context.openal,h=s.getCurrentContext();if(h!=null){s.suspendContext(h);var f=s.getContextsDevice(h);f!=null&&s.pauseDevice(f)}}},e.default=c}(AudioManager)),AudioManager}var Sensor={},_Event_Float_Float_Float_Void={},hasRequired_Event_Float_Float_Float_Void;function require_Event_Float_Float_Float_Void(){return hasRequired_Event_Float_Float_Float_Void||(hasRequired_Event_Float_Float_Float_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Float_Float_Float_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s,h,f){this.canceled=!1;for(var g=this.__listeners,b=this.__repeat,k=0;k<g.length&&(g[k](s,h,f),b[k]?++k:this.remove(g[k]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Float_Float_Float_Void"]=c,e.default=c}(_Event_Float_Float_Float_Void)),_Event_Float_Float_Float_Void}var hasRequiredSensor;function requireSensor(){return hasRequiredSensor||(hasRequiredSensor=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}function c(){return require_Event_Float_Float_Float_Void()}var s=function(h,f){this.onUpdate=new(c()).default,this.type=h,this.id=f};s.__name__="lime.system.Sensor",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.system.Sensor"]=s,s.getSensors=function(h){if(h==null)return s.sensors.slice();for(var f=[],g=0,b=s.sensors;g<b.length;){var k=b[g];++g,k.type==h&&f.push(k)}return f},s.registerSensor=function(h,f){var g=new s(h,f);return s.sensors.push(g),s.sensorByID.set(f,g),g},s.sensorByID=new(o()).default,s.sensors=[],e.default=s}(Sensor)),Sensor}var SensorType={},hasRequiredSensorType;function requireSensorType(){return hasRequiredSensorType||(hasRequiredSensorType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:["ACCELEROMETER"],ACCELEROMETER:{_hx_index:0,__enum__:"lime.system.SensorType",toString:d}};e.default=c}(SensorType)),SensorType}var hasRequiredHTML5Application;function requireHTML5Application(){return hasRequiredHTML5Application||(hasRequiredHTML5Application=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return require_Reflect()}function s(){return requireStd()}function h(){return requireJoystick()}function f(){return requireGameDeviceData()}function g(){return requireGamepad()}function b(){return requireIntMap()}function k(){return requireAudioManager()}function $(){return requireSensor()}function j(){return requireSensorType()}var _e=function(et){this.gameDeviceCache=new(b()).default,this.parent=et,this.currentUpdate=0,this.lastUpdate=0,this.nextUpdate=0,this.framePeriod=-1,k().default.init(),this.accelerometer=$().default.registerSensor(j().default.ACCELEROMETER,0)};_e.__name__="lime._internal.backend.html5.HTML5Application",_e.__isInterface__=!1,_e.prototype={convertKeyCode:function(et){if(et>=65&&et<=90)return et+32;switch(et){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 92:return 1073742055;case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:return 1073741923;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:return 96;case 172:return 1073741898;case 173:return 45;case 174:return 1073741953;case 175:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 193:return 63;case 194:return 1073741923;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 223:return 96;case 224:return 1073742051;case 226:return 92}return et},exec:function(){if(window.addEventListener("keydown",o(this,this.handleKeyEvent),!1),window.addEventListener("keyup",o(this,this.handleKeyEvent),!1),window.addEventListener("focus",o(this,this.handleWindowEvent),!1),window.addEventListener("blur",o(this,this.handleWindowEvent),!1),window.addEventListener("resize",o(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",o(this,this.handleWindowEvent),!1),c().default.hasField(window,"Accelerometer")&&window.addEventListener("devicemotion",o(this,this.handleSensorEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(it,st,at){return!1}),CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(it,st,at){return!1}),"performance"in window||(window.performance={}),!("now"in window.performance)){var et=Date.now();performance.timing&&performance.timing.navigationStart&&(et=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-et}}for(var nt=0,rt=["ms","moz","webkit","o"],tt=0;tt<rt.length&&!window.requestAnimationFrame;++tt)window.requestAnimationFrame=window[rt[tt]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[rt[tt]+"CancelAnimationFrame"]||window[rt[tt]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(it,st){var at=window.performance.now(),_t=Math.max(0,16-(at-nt)),ut=window.setTimeout(function(){it(at+_t)},_t);return nt=at+_t,ut}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(it){clearTimeout(it)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=window.performance.now(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(et){for(var nt=0,rt=this.parent.__windows;nt<rt.length;){var tt=rt[nt];++nt,tt.__backend.updateSize()}if(this.updateGameDevices(),this.currentUpdate=window.performance.now(),this.currentUpdate>=this.nextUpdate){this.deltaTime=this.currentUpdate-this.lastUpdate;for(var it=0,st=this.parent.__windows;it<st.length;){var at=st[it];++it,this.parent.onUpdate.dispatch(s().default.int(this.deltaTime)),at.context!=null&&at.onRender.dispatch(at.context)}this.framePeriod<0?this.nextUpdate=this.currentUpdate:this.nextUpdate=this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod,this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(o(this,this.handleApplicationEvent))},handleKeyEvent:function(et){if(this.parent.get_window()!=null){var nt=this.convertKeyCode(et.keyCode!=null?et.keyCode:et.which),rt=(et.shiftKey?3:0)|(et.ctrlKey?192:0)|(et.altKey?768:0)|(et.metaKey?3072:0);et.type=="keydown"?(this.parent.get_window().onKeyDown.dispatch(nt,rt),this.parent.get_window().onKeyDown.canceled&&et.cancelable&&et.preventDefault()):(this.parent.get_window().onKeyUp.dispatch(nt,rt),this.parent.get_window().onKeyUp.canceled&&et.cancelable&&et.preventDefault())}},handleSensorEvent:function(et){this.accelerometer.onUpdate.dispatch(et.accelerationIncludingGravity.x,et.accelerationIncludingGravity.y,et.accelerationIncludingGravity.z)},handleWindowEvent:function(et){if(this.parent.get_window()!=null)switch(et.type){case"beforeunload":break;case"blur":this.hidden||(this.parent.get_window().onFocusOut.dispatch(),this.parent.get_window().onDeactivate.dispatch(),this.hidden=!0);break;case"focus":this.hidden&&(this.parent.get_window().onFocusIn.dispatch(),this.parent.get_window().onActivate.dispatch(),this.hidden=!1);break;case"resize":this.parent.get_window().__backend.handleResizeEvent(et);break;case"visibilitychange":window.document.hidden?this.hidden||(this.parent.get_window().onFocusOut.dispatch(),this.parent.get_window().onDeactivate.dispatch(),this.hidden=!0):this.hidden&&(this.parent.get_window().onFocusIn.dispatch(),this.parent.get_window().onActivate.dispatch(),this.hidden=!1);break}},updateGameDevices:function(){var et=h().default.__getDeviceData();if(et!=null)for(var nt,rt,tt,it,st,at=0,_t=et.length;at<_t;){var ut=at++;if(nt=ut,it=et[nt],it!=null){if(!this.gameDeviceCache.exists(nt)){st=new(f()).default,st.id=nt,st.connected=it.connected;for(var ot=0,lt=it.buttons.length;ot<lt;){var ft=ot++;st.buttons.push(it.buttons[ft].value)}for(var ht=0,dt=it.axes.length;ht<dt;){var pt=ht++;st.axes.push(it.axes[pt])}it.mapping=="standard"&&(st.isGamepad=!0),this.gameDeviceCache.set(nt,st),it.connected&&(h().default.__connect(nt),st.isGamepad&&g().default.__connect(nt))}if(st=this.gameDeviceCache.get(nt),tt=h().default.devices.get(nt),rt=g().default.devices.get(nt),it.connected){for(var xt,vt,bt=0,wt=it.buttons.length;bt<wt;){var At=bt++;if(vt=it.buttons[At].value,vt!=st.buttons[At]){if(At==6)tt.onAxisMove.dispatch(it.axes.length,vt),rt!=null&&rt.onAxisMove.dispatch(4,vt);else if(At==7)tt.onAxisMove.dispatch(it.axes.length+1,vt),rt!=null&&rt.onAxisMove.dispatch(5,vt);else if(vt>0?tt.onButtonDown.dispatch(At):tt.onButtonUp.dispatch(At),rt!=null){switch(At){case 0:xt=0;break;case 1:xt=1;break;case 2:xt=2;break;case 3:xt=3;break;case 4:xt=9;break;case 5:xt=10;break;case 8:xt=4;break;case 9:xt=6;break;case 10:xt=7;break;case 11:xt=8;break;case 12:xt=11;break;case 13:xt=12;break;case 14:xt=13;break;case 15:xt=14;break;case 16:xt=5;break;default:continue}vt>0?rt.onButtonDown.dispatch(xt):rt.onButtonUp.dispatch(xt)}st.buttons[At]=vt}}for(var ct=0,mt=it.axes.length;ct<mt;){var gt=ct++;it.axes[gt]!=st.axes[gt]&&(tt.onAxisMove.dispatch(gt,it.axes[gt]),rt!=null&&rt.onAxisMove.dispatch(gt,it.axes[gt]),st.axes[gt]=it.axes[gt])}}else st.connected&&(st.connected=!1,h().default.__disconnect(nt),g().default.__disconnect(nt))}}}},_e.prototype.__class__=_e.prototype.constructor=d["lime._internal.backend.html5.HTML5Application"]=_e,e.default=_e}(HTML5Application)),HTML5Application}var Preloader$2={},Assets$3={},AssetCache$2={},hasRequiredAssetCache;function requireAssetCache(){return hasRequiredAssetCache||(hasRequiredAssetCache=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImage()}function c(){return requireHaxeError()}function s(){return requireStd()}function h(){return requireAudioBuffer()}function f(){return requireStringMap()}function g(){return requireStringTools()}var b=function(){this.enabled=!0,this.audio=new(f()).default,this.font=new(f()).default,this.image=new(f()).default,this.version=0};b.__name__="lime.utils.AssetCache",b.__isInterface__=!1,b.prototype={exists:function(k,$){return!!(($=="IMAGE"||$==null)&&this.image.exists(k)||($=="FONT"||$==null)&&this.font.exists(k)||($=="SOUND"||$=="MUSIC"||$==null)&&this.audio.exists(k))},set:function(k,$,j){switch($){case"FONT":this.font.set(k,j);break;case"IMAGE":if(!(j instanceof o().default))throw new(c()).default("Cannot cache non-Image asset: "+s().default.string(j)+" as Image");this.image.set(k,j);break;case"MUSIC":case"SOUND":if(!(j instanceof h().default))throw new(c()).default("Cannot cache non-AudioBuffer asset: "+s().default.string(j)+" as AudioBuffer");this.audio.set(k,j);break;default:throw new(c()).default($+" assets are not cachable")}},clear:function(k){if(k==null)this.audio=new(f()).default,this.font=new(f()).default,this.image=new(f()).default;else{for(var $=this.audio.keys(),j=$;j.hasNext();){var _e=j.next();g().default.startsWith(_e,k)&&this.audio.remove(_e)}for(var et=this.font.keys(),nt=et;nt.hasNext();){var rt=nt.next();g().default.startsWith(rt,k)&&this.font.remove(rt)}for(var tt=this.image.keys(),it=tt;it.hasNext();){var st=it.next();g().default.startsWith(st,k)&&this.image.remove(st)}}}},b.prototype.__class__=b.prototype.constructor=d["lime.utils.AssetCache"]=b,e.default=b}(AssetCache$2)),AssetCache$2}var LibrarySymbol={},hasRequiredLibrarySymbol;function requireLibrarySymbol(){return hasRequiredLibrarySymbol||(hasRequiredLibrarySymbol=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireAssets()}var c=function(s){var h=s.indexOf(":");this.libraryName=s.substring(0,h),this.symbolName=s.substring(h+1),this.library=o().default.getLibrary(this.libraryName)};c.__name__="lime.utils._Assets.LibrarySymbol",c.__isInterface__=!1,c.prototype={isLocal:function(s){return this.library.isLocal(this.symbolName,s)},exists:function(s){return this.library.exists(this.symbolName,s)}},c.prototype.__class__=c.prototype.constructor=d["lime.utils._Assets.LibrarySymbol"]=c,e.default=c}(LibrarySymbol)),LibrarySymbol}var AssetBundle={},BytesInput={},Input$2={},Eof={},hasRequiredEof;function requireEof(){return hasRequiredEof||(hasRequiredEof=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe.io.Eof",o.__isInterface__=!1,o.prototype={toString:function(){return"Eof"}},o.prototype.__class__=o.prototype.constructor=d["haxe.io.Eof"]=o,e.default=o}(Eof)),Eof}var FPHelper={},hasRequiredFPHelper;function requireFPHelper(){return hasRequiredFPHelper||(hasRequiredFPHelper=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require___Int64()}var c=function(){};c.__name__="haxe.io.FPHelper",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["haxe.io.FPHelper"]=c,c.i32ToFloat=function(s){return c.helper.setInt32(0,s,!0),c.helper.getFloat32(0,!0)},c.floatToI32=function(s){return c.helper.setFloat32(0,s,!0),c.helper.getInt32(0,!0)},c.i64ToDouble=function(s,h){return c.helper.setInt32(0,s,!0),c.helper.setInt32(4,h,!0),c.helper.getFloat64(0,!0)},c.doubleToI64=function(s){var h=c.i64tmp;return c.helper.setFloat64(0,s,!0),h.low=c.helper.getInt32(0,!0),h.high=c.helper.getInt32(4,!0),h},c.i64tmp=function(s){var h,f=new(o()).default(0,0);return h=f,h}(),c.helper=new DataView(new ArrayBuffer(8)),e.default=c}(FPHelper)),FPHelper}var hasRequiredInput;function requireInput(){return hasRequiredInput||(hasRequiredInput=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return require_Error()}function s(){return requireCallStack()}function h(){return requireEof()}function f(){return requireBytes()}function g(){return requireFPHelper()}var b=function(){};b.__name__="haxe.io.Input",b.__isInterface__=!1,b.prototype={readByte:function(){throw new(o()).default("Not implemented")},readBytes:function(k,$,j){var _e=j,et=k.b;if($<0||j<0||$+j>k.get_length())throw new(o()).default(c().default.OutsideBounds);try{for(;_e>0;)et[$]=this.readByte(),++$,--_e}catch(rt){s().default.lastException=rt;var nt=rt instanceof o().default?rt.val:rt;if(!(nt instanceof h().default))throw rt}return j-_e},set_bigEndian:function(k){return this.bigEndian=k,k},readFullBytes:function(k,$,j){for(;j>0;){var _e=this.readBytes(k,$,j);if(_e==0)throw new(o()).default(c().default.Blocked);$+=_e,j-=_e}},read:function(k){for(var $=f().default.alloc(k),j=0;k>0;){var _e=this.readBytes($,j,k);if(_e==0)throw new(o()).default(c().default.Blocked);j+=_e,k-=_e}return $},readDouble:function(){var k=this.readInt32(),$=this.readInt32();return this.bigEndian?g().default.i64ToDouble($,k):g().default.i64ToDouble(k,$)},readInt16:function(){var k=this.readByte(),$=this.readByte(),j=this.bigEndian?$|k<<8:k|$<<8;return j&32768?j-65536:j},readUInt16:function(){var k=this.readByte(),$=this.readByte();return this.bigEndian?$|k<<8:k|$<<8},readInt32:function(){var k=this.readByte(),$=this.readByte(),j=this.readByte(),_e=this.readByte();return this.bigEndian?_e|j<<8|$<<16|k<<24:k|$<<8|j<<16|_e<<24},readString:function(k,$){var j=f().default.alloc(k);return this.readFullBytes(j,0,k),j.getString(0,k,$)}},b.prototype.__class__=b.prototype.constructor=d["haxe.io.Input"]=b,e.default=b}(Input$2)),Input$2}var hasRequiredBytesInput;function requireBytesInput(){return hasRequiredBytesInput||(hasRequiredBytesInput=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireInput()}function s(){return requireHaxeError()}function h(){return requireEof()}function f(){return require_Error()}var g=function(b,k,$){if(k==null&&(k=0),$==null&&($=b.get_length()-k),k<0||$<0||k+$>b.get_length())throw new(s()).default(f().default.OutsideBounds);this.b=b.b,this.pos=k,this.len=$,this.totlen=$};g.__name__="haxe.io.BytesInput",g.__isInterface__=!1,g.__super__=c().default,g.prototype=o(c().default.prototype,{get_position:function(){return this.pos},readByte:function(){if(this.len==0)throw new(s()).default(new(h()).default);return this.len--,this.b[this.pos++]},readBytes:function(b,k,$){if(k<0||$<0||k+$>b.get_length())throw new(s()).default(f().default.OutsideBounds);if(this.len==0&&$>0)throw new(s()).default(new(h()).default);this.len<$&&($=this.len);for(var j=this.b,_e=b.b,et=0,nt=$;et<nt;){var rt=et++;_e[k+rt]=j[this.pos+rt]}return this.pos+=$,this.len-=$,$}}),g.prototype.__class__=g.prototype.constructor=d["haxe.io.BytesInput"]=g,e.default=g}(BytesInput)),BytesInput}var Bytes_Impl_={},Deflate={},common$z={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(e){var _=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function d(s,h){return Object.prototype.hasOwnProperty.call(s,h)}e.assign=function(s){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)d(f,g)&&(s[g]=f[g])}}return s},e.shrinkBuf=function(s,h){return s.length===h?s:s.subarray?s.subarray(0,h):(s.length=h,s)};var o={arraySet:function(s,h,f,g,b){if(h.subarray&&s.subarray){s.set(h.subarray(f,f+g),b);return}for(var k=0;k<g;k++)s[b+k]=h[f+k]},flattenChunks:function(s){var h,f,g,b,k,$;for(g=0,h=0,f=s.length;h<f;h++)g+=s[h].length;for($=new Uint8Array(g),b=0,h=0,f=s.length;h<f;h++)k=s[h],$.set(k,b),b+=k.length;return $}},c={arraySet:function(s,h,f,g,b){for(var k=0;k<g;k++)s[b+k]=h[f+k]},flattenChunks:function(s){return[].concat.apply([],s)}};e.setTyped=function(s){s?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,c))},e.setTyped(_)}(common$z)),common$z}var deflate$1={},deflate={},trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var e=requireCommon(),_=4,d=0,o=1,c=2;function s(Bt){for(var Xt=Bt.length;--Xt>=0;)Bt[Xt]=0}var h=0,f=1,g=2,b=3,k=258,$=29,j=256,_e=j+1+$,et=30,nt=19,rt=2*_e+1,tt=15,it=16,st=7,at=256,_t=16,ut=17,ot=18,lt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ft=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pt=512,xt=new Array((_e+2)*2);s(xt);var vt=new Array(et*2);s(vt);var bt=new Array(pt);s(bt);var wt=new Array(k-b+1);s(wt);var At=new Array($);s(At);var ct=new Array(et);s(ct);function mt(Bt,Xt,rr,nr,Gt){this.static_tree=Bt,this.extra_bits=Xt,this.extra_base=rr,this.elems=nr,this.max_length=Gt,this.has_stree=Bt&&Bt.length}var gt,Tt,yt;function Et(Bt,Xt){this.dyn_tree=Bt,this.max_code=0,this.stat_desc=Xt}function Ct(Bt){return Bt<256?bt[Bt]:bt[256+(Bt>>>7)]}function It(Bt,Xt){Bt.pending_buf[Bt.pending++]=Xt&255,Bt.pending_buf[Bt.pending++]=Xt>>>8&255}function Rt(Bt,Xt,rr){Bt.bi_valid>it-rr?(Bt.bi_buf|=Xt<<Bt.bi_valid&65535,It(Bt,Bt.bi_buf),Bt.bi_buf=Xt>>it-Bt.bi_valid,Bt.bi_valid+=rr-it):(Bt.bi_buf|=Xt<<Bt.bi_valid&65535,Bt.bi_valid+=rr)}function Ft(Bt,Xt,rr){Rt(Bt,rr[Xt*2],rr[Xt*2+1])}function Lt(Bt,Xt){var rr=0;do rr|=Bt&1,Bt>>>=1,rr<<=1;while(--Xt>0);return rr>>>1}function Ot(Bt){Bt.bi_valid===16?(It(Bt,Bt.bi_buf),Bt.bi_buf=0,Bt.bi_valid=0):Bt.bi_valid>=8&&(Bt.pending_buf[Bt.pending++]=Bt.bi_buf&255,Bt.bi_buf>>=8,Bt.bi_valid-=8)}function Kt(Bt,Xt){var rr=Xt.dyn_tree,nr=Xt.max_code,Gt=Xt.stat_desc.static_tree,zt=Xt.stat_desc.has_stree,$t=Xt.stat_desc.extra_bits,er=Xt.stat_desc.extra_base,ur=Xt.stat_desc.max_length,St,Ut,Yt,Dt,Pt,Jt,_r=0;for(Dt=0;Dt<=tt;Dt++)Bt.bl_count[Dt]=0;for(rr[Bt.heap[Bt.heap_max]*2+1]=0,St=Bt.heap_max+1;St<rt;St++)Ut=Bt.heap[St],Dt=rr[rr[Ut*2+1]*2+1]+1,Dt>ur&&(Dt=ur,_r++),rr[Ut*2+1]=Dt,!(Ut>nr)&&(Bt.bl_count[Dt]++,Pt=0,Ut>=er&&(Pt=$t[Ut-er]),Jt=rr[Ut*2],Bt.opt_len+=Jt*(Dt+Pt),zt&&(Bt.static_len+=Jt*(Gt[Ut*2+1]+Pt)));if(_r!==0){do{for(Dt=ur-1;Bt.bl_count[Dt]===0;)Dt--;Bt.bl_count[Dt]--,Bt.bl_count[Dt+1]+=2,Bt.bl_count[ur]--,_r-=2}while(_r>0);for(Dt=ur;Dt!==0;Dt--)for(Ut=Bt.bl_count[Dt];Ut!==0;)Yt=Bt.heap[--St],!(Yt>nr)&&(rr[Yt*2+1]!==Dt&&(Bt.opt_len+=(Dt-rr[Yt*2+1])*rr[Yt*2],rr[Yt*2+1]=Dt),Ut--)}}function qt(Bt,Xt,rr){var nr=new Array(tt+1),Gt=0,zt,$t;for(zt=1;zt<=tt;zt++)nr[zt]=Gt=Gt+rr[zt-1]<<1;for($t=0;$t<=Xt;$t++){var er=Bt[$t*2+1];er!==0&&(Bt[$t*2]=Lt(nr[er]++,er))}}function Ht(){var Bt,Xt,rr,nr,Gt,zt=new Array(tt+1);for(rr=0,nr=0;nr<$-1;nr++)for(At[nr]=rr,Bt=0;Bt<1<<lt[nr];Bt++)wt[rr++]=nr;for(wt[rr-1]=nr,Gt=0,nr=0;nr<16;nr++)for(ct[nr]=Gt,Bt=0;Bt<1<<ft[nr];Bt++)bt[Gt++]=nr;for(Gt>>=7;nr<et;nr++)for(ct[nr]=Gt<<7,Bt=0;Bt<1<<ft[nr]-7;Bt++)bt[256+Gt++]=nr;for(Xt=0;Xt<=tt;Xt++)zt[Xt]=0;for(Bt=0;Bt<=143;)xt[Bt*2+1]=8,Bt++,zt[8]++;for(;Bt<=255;)xt[Bt*2+1]=9,Bt++,zt[9]++;for(;Bt<=279;)xt[Bt*2+1]=7,Bt++,zt[7]++;for(;Bt<=287;)xt[Bt*2+1]=8,Bt++,zt[8]++;for(qt(xt,_e+1,zt),Bt=0;Bt<et;Bt++)vt[Bt*2+1]=5,vt[Bt*2]=Lt(Bt,5);gt=new mt(xt,lt,j+1,_e,tt),Tt=new mt(vt,ft,0,et,tt),yt=new mt(new Array(0),ht,0,nt,st)}function Zt(Bt){var Xt;for(Xt=0;Xt<_e;Xt++)Bt.dyn_ltree[Xt*2]=0;for(Xt=0;Xt<et;Xt++)Bt.dyn_dtree[Xt*2]=0;for(Xt=0;Xt<nt;Xt++)Bt.bl_tree[Xt*2]=0;Bt.dyn_ltree[at*2]=1,Bt.opt_len=Bt.static_len=0,Bt.last_lit=Bt.matches=0}function or(Bt){Bt.bi_valid>8?It(Bt,Bt.bi_buf):Bt.bi_valid>0&&(Bt.pending_buf[Bt.pending++]=Bt.bi_buf),Bt.bi_buf=0,Bt.bi_valid=0}function ir(Bt,Xt,rr,nr){or(Bt),nr&&(It(Bt,rr),It(Bt,~rr)),e.arraySet(Bt.pending_buf,Bt.window,Xt,rr,Bt.pending),Bt.pending+=rr}function lr(Bt,Xt,rr,nr){var Gt=Xt*2,zt=rr*2;return Bt[Gt]<Bt[zt]||Bt[Gt]===Bt[zt]&&nr[Xt]<=nr[rr]}function ar(Bt,Xt,rr){for(var nr=Bt.heap[rr],Gt=rr<<1;Gt<=Bt.heap_len&&(Gt<Bt.heap_len&&lr(Xt,Bt.heap[Gt+1],Bt.heap[Gt],Bt.depth)&&Gt++,!lr(Xt,nr,Bt.heap[Gt],Bt.depth));)Bt.heap[rr]=Bt.heap[Gt],rr=Gt,Gt<<=1;Bt.heap[rr]=nr}function Mt(Bt,Xt,rr){var nr,Gt,zt=0,$t,er;if(Bt.last_lit!==0)do nr=Bt.pending_buf[Bt.d_buf+zt*2]<<8|Bt.pending_buf[Bt.d_buf+zt*2+1],Gt=Bt.pending_buf[Bt.l_buf+zt],zt++,nr===0?Ft(Bt,Gt,Xt):($t=wt[Gt],Ft(Bt,$t+j+1,Xt),er=lt[$t],er!==0&&(Gt-=At[$t],Rt(Bt,Gt,er)),nr--,$t=Ct(nr),Ft(Bt,$t,rr),er=ft[$t],er!==0&&(nr-=ct[$t],Rt(Bt,nr,er)));while(zt<Bt.last_lit);Ft(Bt,at,Xt)}function kt(Bt,Xt){var rr=Xt.dyn_tree,nr=Xt.stat_desc.static_tree,Gt=Xt.stat_desc.has_stree,zt=Xt.stat_desc.elems,$t,er,ur=-1,St;for(Bt.heap_len=0,Bt.heap_max=rt,$t=0;$t<zt;$t++)rr[$t*2]!==0?(Bt.heap[++Bt.heap_len]=ur=$t,Bt.depth[$t]=0):rr[$t*2+1]=0;for(;Bt.heap_len<2;)St=Bt.heap[++Bt.heap_len]=ur<2?++ur:0,rr[St*2]=1,Bt.depth[St]=0,Bt.opt_len--,Gt&&(Bt.static_len-=nr[St*2+1]);for(Xt.max_code=ur,$t=Bt.heap_len>>1;$t>=1;$t--)ar(Bt,rr,$t);St=zt;do $t=Bt.heap[1],Bt.heap[1]=Bt.heap[Bt.heap_len--],ar(Bt,rr,1),er=Bt.heap[1],Bt.heap[--Bt.heap_max]=$t,Bt.heap[--Bt.heap_max]=er,rr[St*2]=rr[$t*2]+rr[er*2],Bt.depth[St]=(Bt.depth[$t]>=Bt.depth[er]?Bt.depth[$t]:Bt.depth[er])+1,rr[$t*2+1]=rr[er*2+1]=St,Bt.heap[1]=St++,ar(Bt,rr,1);while(Bt.heap_len>=2);Bt.heap[--Bt.heap_max]=Bt.heap[1],Kt(Bt,Xt),qt(rr,ur,Bt.bl_count)}function Vt(Bt,Xt,rr){var nr,Gt=-1,zt,$t=Xt[0*2+1],er=0,ur=7,St=4;for($t===0&&(ur=138,St=3),Xt[(rr+1)*2+1]=65535,nr=0;nr<=rr;nr++)zt=$t,$t=Xt[(nr+1)*2+1],!(++er<ur&&zt===$t)&&(er<St?Bt.bl_tree[zt*2]+=er:zt!==0?(zt!==Gt&&Bt.bl_tree[zt*2]++,Bt.bl_tree[_t*2]++):er<=10?Bt.bl_tree[ut*2]++:Bt.bl_tree[ot*2]++,er=0,Gt=zt,$t===0?(ur=138,St=3):zt===$t?(ur=6,St=3):(ur=7,St=4))}function Nt(Bt,Xt,rr){var nr,Gt=-1,zt,$t=Xt[0*2+1],er=0,ur=7,St=4;for($t===0&&(ur=138,St=3),nr=0;nr<=rr;nr++)if(zt=$t,$t=Xt[(nr+1)*2+1],!(++er<ur&&zt===$t)){if(er<St)do Ft(Bt,zt,Bt.bl_tree);while(--er!==0);else zt!==0?(zt!==Gt&&(Ft(Bt,zt,Bt.bl_tree),er--),Ft(Bt,_t,Bt.bl_tree),Rt(Bt,er-3,2)):er<=10?(Ft(Bt,ut,Bt.bl_tree),Rt(Bt,er-3,3)):(Ft(Bt,ot,Bt.bl_tree),Rt(Bt,er-11,7));er=0,Gt=zt,$t===0?(ur=138,St=3):zt===$t?(ur=6,St=3):(ur=7,St=4)}}function Wt(Bt){var Xt;for(Vt(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),Vt(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),kt(Bt,Bt.bl_desc),Xt=nt-1;Xt>=3&&Bt.bl_tree[dt[Xt]*2+1]===0;Xt--);return Bt.opt_len+=3*(Xt+1)+5+5+4,Xt}function Qt(Bt,Xt,rr,nr){var Gt;for(Rt(Bt,Xt-257,5),Rt(Bt,rr-1,5),Rt(Bt,nr-4,4),Gt=0;Gt<nr;Gt++)Rt(Bt,Bt.bl_tree[dt[Gt]*2+1],3);Nt(Bt,Bt.dyn_ltree,Xt-1),Nt(Bt,Bt.dyn_dtree,rr-1)}function tr(Bt){var Xt=4093624447,rr;for(rr=0;rr<=31;rr++,Xt>>>=1)if(Xt&1&&Bt.dyn_ltree[rr*2]!==0)return d;if(Bt.dyn_ltree[9*2]!==0||Bt.dyn_ltree[10*2]!==0||Bt.dyn_ltree[13*2]!==0)return o;for(rr=32;rr<j;rr++)if(Bt.dyn_ltree[rr*2]!==0)return o;return d}var sr=!1;function dr(Bt){sr||(Ht(),sr=!0),Bt.l_desc=new Et(Bt.dyn_ltree,gt),Bt.d_desc=new Et(Bt.dyn_dtree,Tt),Bt.bl_desc=new Et(Bt.bl_tree,yt),Bt.bi_buf=0,Bt.bi_valid=0,Zt(Bt)}function pr(Bt,Xt,rr,nr){Rt(Bt,(h<<1)+(nr?1:0),3),ir(Bt,Xt,rr,!0)}function cr(Bt){Rt(Bt,f<<1,3),Ft(Bt,at,xt),Ot(Bt)}function mr(Bt,Xt,rr,nr){var Gt,zt,$t=0;Bt.level>0?(Bt.strm.data_type===c&&(Bt.strm.data_type=tr(Bt)),kt(Bt,Bt.l_desc),kt(Bt,Bt.d_desc),$t=Wt(Bt),Gt=Bt.opt_len+3+7>>>3,zt=Bt.static_len+3+7>>>3,zt<=Gt&&(Gt=zt)):Gt=zt=rr+5,rr+4<=Gt&&Xt!==-1?pr(Bt,Xt,rr,nr):Bt.strategy===_||zt===Gt?(Rt(Bt,(f<<1)+(nr?1:0),3),Mt(Bt,xt,vt)):(Rt(Bt,(g<<1)+(nr?1:0),3),Qt(Bt,Bt.l_desc.max_code+1,Bt.d_desc.max_code+1,$t+1),Mt(Bt,Bt.dyn_ltree,Bt.dyn_dtree)),Zt(Bt),nr&&or(Bt)}function fr(Bt,Xt,rr){return Bt.pending_buf[Bt.d_buf+Bt.last_lit*2]=Xt>>>8&255,Bt.pending_buf[Bt.d_buf+Bt.last_lit*2+1]=Xt&255,Bt.pending_buf[Bt.l_buf+Bt.last_lit]=rr&255,Bt.last_lit++,Xt===0?Bt.dyn_ltree[rr*2]++:(Bt.matches++,Xt--,Bt.dyn_ltree[(wt[rr]+j+1)*2]++,Bt.dyn_dtree[Ct(Xt)*2]++),Bt.last_lit===Bt.lit_bufsize-1}return trees._tr_init=dr,trees._tr_stored_block=pr,trees._tr_flush_block=mr,trees._tr_tally=fr,trees._tr_align=cr,trees}var adler32_1,hasRequiredAdler32$1;function requireAdler32$1(){if(hasRequiredAdler32$1)return adler32_1;hasRequiredAdler32$1=1;function e(_,d,o,c){for(var s=_&65535|0,h=_>>>16&65535|0,f=0;o!==0;){f=o>2e3?2e3:o,o-=f;do s=s+d[c++]|0,h=h+s|0;while(--f);s%=65521,h%=65521}return s|h<<16|0}return adler32_1=e,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function e(){for(var o,c=[],s=0;s<256;s++){o=s;for(var h=0;h<8;h++)o=o&1?3988292384^o>>>1:o>>>1;c[s]=o}return c}var _=e();function d(o,c,s,h){var f=_,g=h+s;o^=-1;for(var b=h;b<g;b++)o=o>>>8^f[(o^c[b])&255];return o^-1}return crc32_1=d,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate$2;function requireDeflate$2(){if(hasRequiredDeflate$2)return deflate;hasRequiredDeflate$2=1;var e=requireCommon(),_=requireTrees(),d=requireAdler32$1(),o=requireCrc32(),c=requireMessages(),s=0,h=1,f=3,g=4,b=5,k=0,$=1,j=-2,_e=-3,et=-5,nt=-1,rt=1,tt=2,it=3,st=4,at=0,_t=2,ut=8,ot=9,lt=15,ft=8,ht=29,dt=256,pt=dt+1+ht,xt=30,vt=19,bt=2*pt+1,wt=15,At=3,ct=258,mt=ct+At+1,gt=32,Tt=42,yt=69,Et=73,Ct=91,It=103,Rt=113,Ft=666,Lt=1,Ot=2,Kt=3,qt=4,Ht=3;function Zt(St,Ut){return St.msg=c[Ut],Ut}function or(St){return(St<<1)-(St>4?9:0)}function ir(St){for(var Ut=St.length;--Ut>=0;)St[Ut]=0}function lr(St){var Ut=St.state,Yt=Ut.pending;Yt>St.avail_out&&(Yt=St.avail_out),Yt!==0&&(e.arraySet(St.output,Ut.pending_buf,Ut.pending_out,Yt,St.next_out),St.next_out+=Yt,Ut.pending_out+=Yt,St.total_out+=Yt,St.avail_out-=Yt,Ut.pending-=Yt,Ut.pending===0&&(Ut.pending_out=0))}function ar(St,Ut){_._tr_flush_block(St,St.block_start>=0?St.block_start:-1,St.strstart-St.block_start,Ut),St.block_start=St.strstart,lr(St.strm)}function Mt(St,Ut){St.pending_buf[St.pending++]=Ut}function kt(St,Ut){St.pending_buf[St.pending++]=Ut>>>8&255,St.pending_buf[St.pending++]=Ut&255}function Vt(St,Ut,Yt,Dt){var Pt=St.avail_in;return Pt>Dt&&(Pt=Dt),Pt===0?0:(St.avail_in-=Pt,e.arraySet(Ut,St.input,St.next_in,Pt,Yt),St.state.wrap===1?St.adler=d(St.adler,Ut,Pt,Yt):St.state.wrap===2&&(St.adler=o(St.adler,Ut,Pt,Yt)),St.next_in+=Pt,St.total_in+=Pt,Pt)}function Nt(St,Ut){var Yt=St.max_chain_length,Dt=St.strstart,Pt,Jt,_r=St.prev_length,hr=St.nice_match,vr=St.strstart>St.w_size-mt?St.strstart-(St.w_size-mt):0,gr=St.window,br=St.w_mask,wr=St.prev,yr=St.strstart+ct,xr=gr[Dt+_r-1],Tr=gr[Dt+_r];St.prev_length>=St.good_match&&(Yt>>=2),hr>St.lookahead&&(hr=St.lookahead);do if(Pt=Ut,!(gr[Pt+_r]!==Tr||gr[Pt+_r-1]!==xr||gr[Pt]!==gr[Dt]||gr[++Pt]!==gr[Dt+1])){Dt+=2,Pt++;do;while(gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&gr[++Dt]===gr[++Pt]&&Dt<yr);if(Jt=ct-(yr-Dt),Dt=yr-ct,Jt>_r){if(St.match_start=Ut,_r=Jt,Jt>=hr)break;xr=gr[Dt+_r-1],Tr=gr[Dt+_r]}}while((Ut=wr[Ut&br])>vr&&--Yt!==0);return _r<=St.lookahead?_r:St.lookahead}function Wt(St){var Ut=St.w_size,Yt,Dt,Pt,Jt,_r;do{if(Jt=St.window_size-St.lookahead-St.strstart,St.strstart>=Ut+(Ut-mt)){e.arraySet(St.window,St.window,Ut,Ut,0),St.match_start-=Ut,St.strstart-=Ut,St.block_start-=Ut,Dt=St.hash_size,Yt=Dt;do Pt=St.head[--Yt],St.head[Yt]=Pt>=Ut?Pt-Ut:0;while(--Dt);Dt=Ut,Yt=Dt;do Pt=St.prev[--Yt],St.prev[Yt]=Pt>=Ut?Pt-Ut:0;while(--Dt);Jt+=Ut}if(St.strm.avail_in===0)break;if(Dt=Vt(St.strm,St.window,St.strstart+St.lookahead,Jt),St.lookahead+=Dt,St.lookahead+St.insert>=At)for(_r=St.strstart-St.insert,St.ins_h=St.window[_r],St.ins_h=(St.ins_h<<St.hash_shift^St.window[_r+1])&St.hash_mask;St.insert&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[_r+At-1])&St.hash_mask,St.prev[_r&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=_r,_r++,St.insert--,!(St.lookahead+St.insert<At)););}while(St.lookahead<mt&&St.strm.avail_in!==0)}function Qt(St,Ut){var Yt=65535;for(Yt>St.pending_buf_size-5&&(Yt=St.pending_buf_size-5);;){if(St.lookahead<=1){if(Wt(St),St.lookahead===0&&Ut===s)return Lt;if(St.lookahead===0)break}St.strstart+=St.lookahead,St.lookahead=0;var Dt=St.block_start+Yt;if((St.strstart===0||St.strstart>=Dt)&&(St.lookahead=St.strstart-Dt,St.strstart=Dt,ar(St,!1),St.strm.avail_out===0)||St.strstart-St.block_start>=St.w_size-mt&&(ar(St,!1),St.strm.avail_out===0))return Lt}return St.insert=0,Ut===g?(ar(St,!0),St.strm.avail_out===0?Kt:qt):(St.strstart>St.block_start&&(ar(St,!1),St.strm.avail_out===0),Lt)}function tr(St,Ut){for(var Yt,Dt;;){if(St.lookahead<mt){if(Wt(St),St.lookahead<mt&&Ut===s)return Lt;if(St.lookahead===0)break}if(Yt=0,St.lookahead>=At&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+At-1])&St.hash_mask,Yt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart),Yt!==0&&St.strstart-Yt<=St.w_size-mt&&(St.match_length=Nt(St,Yt)),St.match_length>=At)if(Dt=_._tr_tally(St,St.strstart-St.match_start,St.match_length-At),St.lookahead-=St.match_length,St.match_length<=St.max_lazy_match&&St.lookahead>=At){St.match_length--;do St.strstart++,St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+At-1])&St.hash_mask,Yt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart;while(--St.match_length!==0);St.strstart++}else St.strstart+=St.match_length,St.match_length=0,St.ins_h=St.window[St.strstart],St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+1])&St.hash_mask;else Dt=_._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++;if(Dt&&(ar(St,!1),St.strm.avail_out===0))return Lt}return St.insert=St.strstart<At-1?St.strstart:At-1,Ut===g?(ar(St,!0),St.strm.avail_out===0?Kt:qt):St.last_lit&&(ar(St,!1),St.strm.avail_out===0)?Lt:Ot}function sr(St,Ut){for(var Yt,Dt,Pt;;){if(St.lookahead<mt){if(Wt(St),St.lookahead<mt&&Ut===s)return Lt;if(St.lookahead===0)break}if(Yt=0,St.lookahead>=At&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+At-1])&St.hash_mask,Yt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart),St.prev_length=St.match_length,St.prev_match=St.match_start,St.match_length=At-1,Yt!==0&&St.prev_length<St.max_lazy_match&&St.strstart-Yt<=St.w_size-mt&&(St.match_length=Nt(St,Yt),St.match_length<=5&&(St.strategy===rt||St.match_length===At&&St.strstart-St.match_start>4096)&&(St.match_length=At-1)),St.prev_length>=At&&St.match_length<=St.prev_length){Pt=St.strstart+St.lookahead-At,Dt=_._tr_tally(St,St.strstart-1-St.prev_match,St.prev_length-At),St.lookahead-=St.prev_length-1,St.prev_length-=2;do++St.strstart<=Pt&&(St.ins_h=(St.ins_h<<St.hash_shift^St.window[St.strstart+At-1])&St.hash_mask,Yt=St.prev[St.strstart&St.w_mask]=St.head[St.ins_h],St.head[St.ins_h]=St.strstart);while(--St.prev_length!==0);if(St.match_available=0,St.match_length=At-1,St.strstart++,Dt&&(ar(St,!1),St.strm.avail_out===0))return Lt}else if(St.match_available){if(Dt=_._tr_tally(St,0,St.window[St.strstart-1]),Dt&&ar(St,!1),St.strstart++,St.lookahead--,St.strm.avail_out===0)return Lt}else St.match_available=1,St.strstart++,St.lookahead--}return St.match_available&&(Dt=_._tr_tally(St,0,St.window[St.strstart-1]),St.match_available=0),St.insert=St.strstart<At-1?St.strstart:At-1,Ut===g?(ar(St,!0),St.strm.avail_out===0?Kt:qt):St.last_lit&&(ar(St,!1),St.strm.avail_out===0)?Lt:Ot}function dr(St,Ut){for(var Yt,Dt,Pt,Jt,_r=St.window;;){if(St.lookahead<=ct){if(Wt(St),St.lookahead<=ct&&Ut===s)return Lt;if(St.lookahead===0)break}if(St.match_length=0,St.lookahead>=At&&St.strstart>0&&(Pt=St.strstart-1,Dt=_r[Pt],Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt])){Jt=St.strstart+ct;do;while(Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Dt===_r[++Pt]&&Pt<Jt);St.match_length=ct-(Jt-Pt),St.match_length>St.lookahead&&(St.match_length=St.lookahead)}if(St.match_length>=At?(Yt=_._tr_tally(St,1,St.match_length-At),St.lookahead-=St.match_length,St.strstart+=St.match_length,St.match_length=0):(Yt=_._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++),Yt&&(ar(St,!1),St.strm.avail_out===0))return Lt}return St.insert=0,Ut===g?(ar(St,!0),St.strm.avail_out===0?Kt:qt):St.last_lit&&(ar(St,!1),St.strm.avail_out===0)?Lt:Ot}function pr(St,Ut){for(var Yt;;){if(St.lookahead===0&&(Wt(St),St.lookahead===0)){if(Ut===s)return Lt;break}if(St.match_length=0,Yt=_._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++,Yt&&(ar(St,!1),St.strm.avail_out===0))return Lt}return St.insert=0,Ut===g?(ar(St,!0),St.strm.avail_out===0?Kt:qt):St.last_lit&&(ar(St,!1),St.strm.avail_out===0)?Lt:Ot}function cr(St,Ut,Yt,Dt,Pt){this.good_length=St,this.max_lazy=Ut,this.nice_length=Yt,this.max_chain=Dt,this.func=Pt}var mr;mr=[new cr(0,0,0,0,Qt),new cr(4,4,8,4,tr),new cr(4,5,16,8,tr),new cr(4,6,32,32,tr),new cr(4,4,16,16,sr),new cr(8,16,32,32,sr),new cr(8,16,128,128,sr),new cr(8,32,128,256,sr),new cr(32,128,258,1024,sr),new cr(32,258,258,4096,sr)];function fr(St){St.window_size=2*St.w_size,ir(St.head),St.max_lazy_match=mr[St.level].max_lazy,St.good_match=mr[St.level].good_length,St.nice_match=mr[St.level].nice_length,St.max_chain_length=mr[St.level].max_chain,St.strstart=0,St.block_start=0,St.lookahead=0,St.insert=0,St.match_length=St.prev_length=At-1,St.match_available=0,St.ins_h=0}function Bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(bt*2),this.dyn_dtree=new e.Buf16((2*xt+1)*2),this.bl_tree=new e.Buf16((2*vt+1)*2),ir(this.dyn_ltree),ir(this.dyn_dtree),ir(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(wt+1),this.heap=new e.Buf16(2*pt+1),ir(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*pt+1),ir(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xt(St){var Ut;return!St||!St.state?Zt(St,j):(St.total_in=St.total_out=0,St.data_type=_t,Ut=St.state,Ut.pending=0,Ut.pending_out=0,Ut.wrap<0&&(Ut.wrap=-Ut.wrap),Ut.status=Ut.wrap?Tt:Rt,St.adler=Ut.wrap===2?0:1,Ut.last_flush=s,_._tr_init(Ut),k)}function rr(St){var Ut=Xt(St);return Ut===k&&fr(St.state),Ut}function nr(St,Ut){return!St||!St.state||St.state.wrap!==2?j:(St.state.gzhead=Ut,k)}function Gt(St,Ut,Yt,Dt,Pt,Jt){if(!St)return j;var _r=1;if(Ut===nt&&(Ut=6),Dt<0?(_r=0,Dt=-Dt):Dt>15&&(_r=2,Dt-=16),Pt<1||Pt>ot||Yt!==ut||Dt<8||Dt>15||Ut<0||Ut>9||Jt<0||Jt>st)return Zt(St,j);Dt===8&&(Dt=9);var hr=new Bt;return St.state=hr,hr.strm=St,hr.wrap=_r,hr.gzhead=null,hr.w_bits=Dt,hr.w_size=1<<hr.w_bits,hr.w_mask=hr.w_size-1,hr.hash_bits=Pt+7,hr.hash_size=1<<hr.hash_bits,hr.hash_mask=hr.hash_size-1,hr.hash_shift=~~((hr.hash_bits+At-1)/At),hr.window=new e.Buf8(hr.w_size*2),hr.head=new e.Buf16(hr.hash_size),hr.prev=new e.Buf16(hr.w_size),hr.lit_bufsize=1<<Pt+6,hr.pending_buf_size=hr.lit_bufsize*4,hr.pending_buf=new e.Buf8(hr.pending_buf_size),hr.d_buf=1*hr.lit_bufsize,hr.l_buf=3*hr.lit_bufsize,hr.level=Ut,hr.strategy=Jt,hr.method=Yt,rr(St)}function zt(St,Ut){return Gt(St,Ut,ut,lt,ft,at)}function $t(St,Ut){var Yt,Dt,Pt,Jt;if(!St||!St.state||Ut>b||Ut<0)return St?Zt(St,j):j;if(Dt=St.state,!St.output||!St.input&&St.avail_in!==0||Dt.status===Ft&&Ut!==g)return Zt(St,St.avail_out===0?et:j);if(Dt.strm=St,Yt=Dt.last_flush,Dt.last_flush=Ut,Dt.status===Tt)if(Dt.wrap===2)St.adler=0,Mt(Dt,31),Mt(Dt,139),Mt(Dt,8),Dt.gzhead?(Mt(Dt,(Dt.gzhead.text?1:0)+(Dt.gzhead.hcrc?2:0)+(Dt.gzhead.extra?4:0)+(Dt.gzhead.name?8:0)+(Dt.gzhead.comment?16:0)),Mt(Dt,Dt.gzhead.time&255),Mt(Dt,Dt.gzhead.time>>8&255),Mt(Dt,Dt.gzhead.time>>16&255),Mt(Dt,Dt.gzhead.time>>24&255),Mt(Dt,Dt.level===9?2:Dt.strategy>=tt||Dt.level<2?4:0),Mt(Dt,Dt.gzhead.os&255),Dt.gzhead.extra&&Dt.gzhead.extra.length&&(Mt(Dt,Dt.gzhead.extra.length&255),Mt(Dt,Dt.gzhead.extra.length>>8&255)),Dt.gzhead.hcrc&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending,0)),Dt.gzindex=0,Dt.status=yt):(Mt(Dt,0),Mt(Dt,0),Mt(Dt,0),Mt(Dt,0),Mt(Dt,0),Mt(Dt,Dt.level===9?2:Dt.strategy>=tt||Dt.level<2?4:0),Mt(Dt,Ht),Dt.status=Rt);else{var _r=ut+(Dt.w_bits-8<<4)<<8,hr=-1;Dt.strategy>=tt||Dt.level<2?hr=0:Dt.level<6?hr=1:Dt.level===6?hr=2:hr=3,_r|=hr<<6,Dt.strstart!==0&&(_r|=gt),_r+=31-_r%31,Dt.status=Rt,kt(Dt,_r),Dt.strstart!==0&&(kt(Dt,St.adler>>>16),kt(Dt,St.adler&65535)),St.adler=1}if(Dt.status===yt)if(Dt.gzhead.extra){for(Pt=Dt.pending;Dt.gzindex<(Dt.gzhead.extra.length&65535)&&!(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),lr(St),Pt=Dt.pending,Dt.pending===Dt.pending_buf_size));)Mt(Dt,Dt.gzhead.extra[Dt.gzindex]&255),Dt.gzindex++;Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),Dt.gzindex===Dt.gzhead.extra.length&&(Dt.gzindex=0,Dt.status=Et)}else Dt.status=Et;if(Dt.status===Et)if(Dt.gzhead.name){Pt=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),lr(St),Pt=Dt.pending,Dt.pending===Dt.pending_buf_size)){Jt=1;break}Dt.gzindex<Dt.gzhead.name.length?Jt=Dt.gzhead.name.charCodeAt(Dt.gzindex++)&255:Jt=0,Mt(Dt,Jt)}while(Jt!==0);Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),Jt===0&&(Dt.gzindex=0,Dt.status=Ct)}else Dt.status=Ct;if(Dt.status===Ct)if(Dt.gzhead.comment){Pt=Dt.pending;do{if(Dt.pending===Dt.pending_buf_size&&(Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),lr(St),Pt=Dt.pending,Dt.pending===Dt.pending_buf_size)){Jt=1;break}Dt.gzindex<Dt.gzhead.comment.length?Jt=Dt.gzhead.comment.charCodeAt(Dt.gzindex++)&255:Jt=0,Mt(Dt,Jt)}while(Jt!==0);Dt.gzhead.hcrc&&Dt.pending>Pt&&(St.adler=o(St.adler,Dt.pending_buf,Dt.pending-Pt,Pt)),Jt===0&&(Dt.status=It)}else Dt.status=It;if(Dt.status===It&&(Dt.gzhead.hcrc?(Dt.pending+2>Dt.pending_buf_size&&lr(St),Dt.pending+2<=Dt.pending_buf_size&&(Mt(Dt,St.adler&255),Mt(Dt,St.adler>>8&255),St.adler=0,Dt.status=Rt)):Dt.status=Rt),Dt.pending!==0){if(lr(St),St.avail_out===0)return Dt.last_flush=-1,k}else if(St.avail_in===0&&or(Ut)<=or(Yt)&&Ut!==g)return Zt(St,et);if(Dt.status===Ft&&St.avail_in!==0)return Zt(St,et);if(St.avail_in!==0||Dt.lookahead!==0||Ut!==s&&Dt.status!==Ft){var vr=Dt.strategy===tt?pr(Dt,Ut):Dt.strategy===it?dr(Dt,Ut):mr[Dt.level].func(Dt,Ut);if((vr===Kt||vr===qt)&&(Dt.status=Ft),vr===Lt||vr===Kt)return St.avail_out===0&&(Dt.last_flush=-1),k;if(vr===Ot&&(Ut===h?_._tr_align(Dt):Ut!==b&&(_._tr_stored_block(Dt,0,0,!1),Ut===f&&(ir(Dt.head),Dt.lookahead===0&&(Dt.strstart=0,Dt.block_start=0,Dt.insert=0))),lr(St),St.avail_out===0))return Dt.last_flush=-1,k}return Ut!==g?k:Dt.wrap<=0?$:(Dt.wrap===2?(Mt(Dt,St.adler&255),Mt(Dt,St.adler>>8&255),Mt(Dt,St.adler>>16&255),Mt(Dt,St.adler>>24&255),Mt(Dt,St.total_in&255),Mt(Dt,St.total_in>>8&255),Mt(Dt,St.total_in>>16&255),Mt(Dt,St.total_in>>24&255)):(kt(Dt,St.adler>>>16),kt(Dt,St.adler&65535)),lr(St),Dt.wrap>0&&(Dt.wrap=-Dt.wrap),Dt.pending!==0?k:$)}function er(St){var Ut;return!St||!St.state?j:(Ut=St.state.status,Ut!==Tt&&Ut!==yt&&Ut!==Et&&Ut!==Ct&&Ut!==It&&Ut!==Rt&&Ut!==Ft?Zt(St,j):(St.state=null,Ut===Rt?Zt(St,_e):k))}function ur(St,Ut){var Yt=Ut.length,Dt,Pt,Jt,_r,hr,vr,gr,br;if(!St||!St.state||(Dt=St.state,_r=Dt.wrap,_r===2||_r===1&&Dt.status!==Tt||Dt.lookahead))return j;for(_r===1&&(St.adler=d(St.adler,Ut,Yt,0)),Dt.wrap=0,Yt>=Dt.w_size&&(_r===0&&(ir(Dt.head),Dt.strstart=0,Dt.block_start=0,Dt.insert=0),br=new e.Buf8(Dt.w_size),e.arraySet(br,Ut,Yt-Dt.w_size,Dt.w_size,0),Ut=br,Yt=Dt.w_size),hr=St.avail_in,vr=St.next_in,gr=St.input,St.avail_in=Yt,St.next_in=0,St.input=Ut,Wt(Dt);Dt.lookahead>=At;){Pt=Dt.strstart,Jt=Dt.lookahead-(At-1);do Dt.ins_h=(Dt.ins_h<<Dt.hash_shift^Dt.window[Pt+At-1])&Dt.hash_mask,Dt.prev[Pt&Dt.w_mask]=Dt.head[Dt.ins_h],Dt.head[Dt.ins_h]=Pt,Pt++;while(--Jt);Dt.strstart=Pt,Dt.lookahead=At-1,Wt(Dt)}return Dt.strstart+=Dt.lookahead,Dt.block_start=Dt.strstart,Dt.insert=Dt.lookahead,Dt.lookahead=0,Dt.match_length=Dt.prev_length=At-1,Dt.match_available=0,St.next_in=vr,St.input=gr,St.avail_in=hr,Dt.wrap=_r,k}return deflate.deflateInit=zt,deflate.deflateInit2=Gt,deflate.deflateReset=rr,deflate.deflateResetKeep=Xt,deflate.deflateSetHeader=nr,deflate.deflate=$t,deflate.deflateEnd=er,deflate.deflateSetDictionary=ur,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var e=requireCommon(),_=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var o=new e.Buf8(256),c=0;c<256;c++)o[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;o[254]=o[254]=1,strings.string2buf=function(h){var f,g,b,k,$,j=h.length,_e=0;for(k=0;k<j;k++)g=h.charCodeAt(k),(g&64512)===55296&&k+1<j&&(b=h.charCodeAt(k+1),(b&64512)===56320&&(g=65536+(g-55296<<10)+(b-56320),k++)),_e+=g<128?1:g<2048?2:g<65536?3:4;for(f=new e.Buf8(_e),$=0,k=0;$<_e;k++)g=h.charCodeAt(k),(g&64512)===55296&&k+1<j&&(b=h.charCodeAt(k+1),(b&64512)===56320&&(g=65536+(g-55296<<10)+(b-56320),k++)),g<128?f[$++]=g:g<2048?(f[$++]=192|g>>>6,f[$++]=128|g&63):g<65536?(f[$++]=224|g>>>12,f[$++]=128|g>>>6&63,f[$++]=128|g&63):(f[$++]=240|g>>>18,f[$++]=128|g>>>12&63,f[$++]=128|g>>>6&63,f[$++]=128|g&63);return f};function s(h,f){if(f<65534&&(h.subarray&&d||!h.subarray&&_))return String.fromCharCode.apply(null,e.shrinkBuf(h,f));for(var g="",b=0;b<f;b++)g+=String.fromCharCode(h[b]);return g}return strings.buf2binstring=function(h){return s(h,h.length)},strings.binstring2buf=function(h){for(var f=new e.Buf8(h.length),g=0,b=f.length;g<b;g++)f[g]=h.charCodeAt(g);return f},strings.buf2string=function(h,f){var g,b,k,$,j=f||h.length,_e=new Array(j*2);for(b=0,g=0;g<j;){if(k=h[g++],k<128){_e[b++]=k;continue}if($=o[k],$>4){_e[b++]=65533,g+=$-1;continue}for(k&=$===2?31:$===3?15:7;$>1&&g<j;)k=k<<6|h[g++]&63,$--;if($>1){_e[b++]=65533;continue}k<65536?_e[b++]=k:(k-=65536,_e[b++]=55296|k>>10&1023,_e[b++]=56320|k&1023)}return s(_e,b)},strings.utf8border=function(h,f){var g;for(f=f||h.length,f>h.length&&(f=h.length),g=f-1;g>=0&&(h[g]&192)===128;)g--;return g<0||g===0?f:g+o[h[g]]>f?g:f},strings}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=e,zstream}var hasRequiredDeflate$1;function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate$1;hasRequiredDeflate$1=1;var e=requireDeflate$2(),_=requireCommon(),d=requireStrings(),o=requireMessages(),c=requireZstream(),s=Object.prototype.toString,h=0,f=4,g=0,b=1,k=2,$=-1,j=0,_e=8;function et(it){if(!(this instanceof et))return new et(it);this.options=_.assign({level:$,method:_e,chunkSize:16384,windowBits:15,memLevel:8,strategy:j,to:""},it||{});var st=this.options;st.raw&&st.windowBits>0?st.windowBits=-st.windowBits:st.gzip&&st.windowBits>0&&st.windowBits<16&&(st.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var at=e.deflateInit2(this.strm,st.level,st.method,st.windowBits,st.memLevel,st.strategy);if(at!==g)throw new Error(o[at]);if(st.header&&e.deflateSetHeader(this.strm,st.header),st.dictionary){var _t;if(typeof st.dictionary=="string"?_t=d.string2buf(st.dictionary):s.call(st.dictionary)==="[object ArrayBuffer]"?_t=new Uint8Array(st.dictionary):_t=st.dictionary,at=e.deflateSetDictionary(this.strm,_t),at!==g)throw new Error(o[at]);this._dict_set=!0}}et.prototype.push=function(it,st){var at=this.strm,_t=this.options.chunkSize,ut,ot;if(this.ended)return!1;ot=st===~~st?st:st===!0?f:h,typeof it=="string"?at.input=d.string2buf(it):s.call(it)==="[object ArrayBuffer]"?at.input=new Uint8Array(it):at.input=it,at.next_in=0,at.avail_in=at.input.length;do{if(at.avail_out===0&&(at.output=new _.Buf8(_t),at.next_out=0,at.avail_out=_t),ut=e.deflate(at,ot),ut!==b&&ut!==g)return this.onEnd(ut),this.ended=!0,!1;(at.avail_out===0||at.avail_in===0&&(ot===f||ot===k))&&(this.options.to==="string"?this.onData(d.buf2binstring(_.shrinkBuf(at.output,at.next_out))):this.onData(_.shrinkBuf(at.output,at.next_out)))}while((at.avail_in>0||at.avail_out===0)&&ut!==b);return ot===f?(ut=e.deflateEnd(this.strm),this.onEnd(ut),this.ended=!0,ut===g):(ot===k&&(this.onEnd(g),at.avail_out=0),!0)},et.prototype.onData=function(it){this.chunks.push(it)},et.prototype.onEnd=function(it){it===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=it,this.msg=this.strm.msg};function nt(it,st){var at=new et(st);if(at.push(it,!0),at.err)throw at.msg||o[at.err];return at.result}function rt(it,st){return st=st||{},st.raw=!0,nt(it,st)}function tt(it,st){return st=st||{},st.gzip=!0,nt(it,st)}return deflate$1.Deflate=et,deflate$1.deflate=nt,deflate$1.deflateRaw=rt,deflate$1.gzip=tt,deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var e=30,_=12;return inffast=function(o,c){var s,h,f,g,b,k,$,j,_e,et,nt,rt,tt,it,st,at,_t,ut,ot,lt,ft,ht,dt,pt,xt;s=o.state,h=o.next_in,pt=o.input,f=h+(o.avail_in-5),g=o.next_out,xt=o.output,b=g-(c-o.avail_out),k=g+(o.avail_out-257),$=s.dmax,j=s.wsize,_e=s.whave,et=s.wnext,nt=s.window,rt=s.hold,tt=s.bits,it=s.lencode,st=s.distcode,at=(1<<s.lenbits)-1,_t=(1<<s.distbits)-1;e:do{tt<15&&(rt+=pt[h++]<<tt,tt+=8,rt+=pt[h++]<<tt,tt+=8),ut=it[rt&at];t:for(;;){if(ot=ut>>>24,rt>>>=ot,tt-=ot,ot=ut>>>16&255,ot===0)xt[g++]=ut&65535;else if(ot&16){lt=ut&65535,ot&=15,ot&&(tt<ot&&(rt+=pt[h++]<<tt,tt+=8),lt+=rt&(1<<ot)-1,rt>>>=ot,tt-=ot),tt<15&&(rt+=pt[h++]<<tt,tt+=8,rt+=pt[h++]<<tt,tt+=8),ut=st[rt&_t];r:for(;;){if(ot=ut>>>24,rt>>>=ot,tt-=ot,ot=ut>>>16&255,ot&16){if(ft=ut&65535,ot&=15,tt<ot&&(rt+=pt[h++]<<tt,tt+=8,tt<ot&&(rt+=pt[h++]<<tt,tt+=8)),ft+=rt&(1<<ot)-1,ft>$){o.msg="invalid distance too far back",s.mode=e;break e}if(rt>>>=ot,tt-=ot,ot=g-b,ft>ot){if(ot=ft-ot,ot>_e&&s.sane){o.msg="invalid distance too far back",s.mode=e;break e}if(ht=0,dt=nt,et===0){if(ht+=j-ot,ot<lt){lt-=ot;do xt[g++]=nt[ht++];while(--ot);ht=g-ft,dt=xt}}else if(et<ot){if(ht+=j+et-ot,ot-=et,ot<lt){lt-=ot;do xt[g++]=nt[ht++];while(--ot);if(ht=0,et<lt){ot=et,lt-=ot;do xt[g++]=nt[ht++];while(--ot);ht=g-ft,dt=xt}}}else if(ht+=et-ot,ot<lt){lt-=ot;do xt[g++]=nt[ht++];while(--ot);ht=g-ft,dt=xt}for(;lt>2;)xt[g++]=dt[ht++],xt[g++]=dt[ht++],xt[g++]=dt[ht++],lt-=3;lt&&(xt[g++]=dt[ht++],lt>1&&(xt[g++]=dt[ht++]))}else{ht=g-ft;do xt[g++]=xt[ht++],xt[g++]=xt[ht++],xt[g++]=xt[ht++],lt-=3;while(lt>2);lt&&(xt[g++]=xt[ht++],lt>1&&(xt[g++]=xt[ht++]))}}else if(ot&64){o.msg="invalid distance code",s.mode=e;break e}else{ut=st[(ut&65535)+(rt&(1<<ot)-1)];continue r}break}}else if(ot&64)if(ot&32){s.mode=_;break e}else{o.msg="invalid literal/length code",s.mode=e;break e}else{ut=it[(ut&65535)+(rt&(1<<ot)-1)];continue t}break}}while(h<f&&g<k);lt=tt>>3,h-=lt,tt-=lt<<3,rt&=(1<<tt)-1,o.next_in=h,o.next_out=g,o.avail_in=h<f?5+(f-h):5-(h-f),o.avail_out=g<k?257+(k-g):257-(g-k),s.hold=rt,s.bits=tt},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var e=requireCommon(),_=15,d=852,o=592,c=0,s=1,h=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(j,_e,et,nt,rt,tt,it,st){var at=st.bits,_t=0,ut=0,ot=0,lt=0,ft=0,ht=0,dt=0,pt=0,xt=0,vt=0,bt,wt,At,ct,mt,gt=null,Tt=0,yt,Et=new e.Buf16(_+1),Ct=new e.Buf16(_+1),It=null,Rt=0,Ft,Lt,Ot;for(_t=0;_t<=_;_t++)Et[_t]=0;for(ut=0;ut<nt;ut++)Et[_e[et+ut]]++;for(ft=at,lt=_;lt>=1&&Et[lt]===0;lt--);if(ft>lt&&(ft=lt),lt===0)return rt[tt++]=1<<24|64<<16|0,rt[tt++]=1<<24|64<<16|0,st.bits=1,0;for(ot=1;ot<lt&&Et[ot]===0;ot++);for(ft<ot&&(ft=ot),pt=1,_t=1;_t<=_;_t++)if(pt<<=1,pt-=Et[_t],pt<0)return-1;if(pt>0&&(j===c||lt!==1))return-1;for(Ct[1]=0,_t=1;_t<_;_t++)Ct[_t+1]=Ct[_t]+Et[_t];for(ut=0;ut<nt;ut++)_e[et+ut]!==0&&(it[Ct[_e[et+ut]]++]=ut);if(j===c?(gt=It=it,yt=19):j===s?(gt=f,Tt-=257,It=g,Rt-=257,yt=256):(gt=b,It=k,yt=-1),vt=0,ut=0,_t=ot,mt=tt,ht=ft,dt=0,At=-1,xt=1<<ft,ct=xt-1,j===s&&xt>d||j===h&&xt>o)return 1;for(;;){Ft=_t-dt,it[ut]<yt?(Lt=0,Ot=it[ut]):it[ut]>yt?(Lt=It[Rt+it[ut]],Ot=gt[Tt+it[ut]]):(Lt=96,Ot=0),bt=1<<_t-dt,wt=1<<ht,ot=wt;do wt-=bt,rt[mt+(vt>>dt)+wt]=Ft<<24|Lt<<16|Ot|0;while(wt!==0);for(bt=1<<_t-1;vt&bt;)bt>>=1;if(bt!==0?(vt&=bt-1,vt+=bt):vt=0,ut++,--Et[_t]===0){if(_t===lt)break;_t=_e[et+it[ut]]}if(_t>ft&&(vt&ct)!==At){for(dt===0&&(dt=ft),mt+=ot,ht=_t-dt,pt=1<<ht;ht+dt<lt&&(pt-=Et[ht+dt],!(pt<=0));)ht++,pt<<=1;if(xt+=1<<ht,j===s&&xt>d||j===h&&xt>o)return 1;At=vt&ct,rt[At]=ft<<24|ht<<16|mt-tt|0}}return vt!==0&&(rt[mt+vt]=_t-dt<<24|64<<16|0),st.bits=ft,0},inftrees}var hasRequiredInflate$1;function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var e=requireCommon(),_=requireAdler32$1(),d=requireCrc32(),o=requireInffast(),c=requireInftrees(),s=0,h=1,f=2,g=4,b=5,k=6,$=0,j=1,_e=2,et=-2,nt=-3,rt=-4,tt=-5,it=8,st=1,at=2,_t=3,ut=4,ot=5,lt=6,ft=7,ht=8,dt=9,pt=10,xt=11,vt=12,bt=13,wt=14,At=15,ct=16,mt=17,gt=18,Tt=19,yt=20,Et=21,Ct=22,It=23,Rt=24,Ft=25,Lt=26,Ot=27,Kt=28,qt=29,Ht=30,Zt=31,or=32,ir=852,lr=592,ar=15,Mt=ar;function kt(Gt){return(Gt>>>24&255)+(Gt>>>8&65280)+((Gt&65280)<<8)+((Gt&255)<<24)}function Vt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Nt(Gt){var zt;return!Gt||!Gt.state?et:(zt=Gt.state,Gt.total_in=Gt.total_out=zt.total=0,Gt.msg="",zt.wrap&&(Gt.adler=zt.wrap&1),zt.mode=st,zt.last=0,zt.havedict=0,zt.dmax=32768,zt.head=null,zt.hold=0,zt.bits=0,zt.lencode=zt.lendyn=new e.Buf32(ir),zt.distcode=zt.distdyn=new e.Buf32(lr),zt.sane=1,zt.back=-1,$)}function Wt(Gt){var zt;return!Gt||!Gt.state?et:(zt=Gt.state,zt.wsize=0,zt.whave=0,zt.wnext=0,Nt(Gt))}function Qt(Gt,zt){var $t,er;return!Gt||!Gt.state||(er=Gt.state,zt<0?($t=0,zt=-zt):($t=(zt>>4)+1,zt<48&&(zt&=15)),zt&&(zt<8||zt>15))?et:(er.window!==null&&er.wbits!==zt&&(er.window=null),er.wrap=$t,er.wbits=zt,Wt(Gt))}function tr(Gt,zt){var $t,er;return Gt?(er=new Vt,Gt.state=er,er.window=null,$t=Qt(Gt,zt),$t!==$&&(Gt.state=null),$t):et}function sr(Gt){return tr(Gt,Mt)}var dr=!0,pr,cr;function mr(Gt){if(dr){var zt;for(pr=new e.Buf32(512),cr=new e.Buf32(32),zt=0;zt<144;)Gt.lens[zt++]=8;for(;zt<256;)Gt.lens[zt++]=9;for(;zt<280;)Gt.lens[zt++]=7;for(;zt<288;)Gt.lens[zt++]=8;for(c(h,Gt.lens,0,288,pr,0,Gt.work,{bits:9}),zt=0;zt<32;)Gt.lens[zt++]=5;c(f,Gt.lens,0,32,cr,0,Gt.work,{bits:5}),dr=!1}Gt.lencode=pr,Gt.lenbits=9,Gt.distcode=cr,Gt.distbits=5}function fr(Gt,zt,$t,er){var ur,St=Gt.state;return St.window===null&&(St.wsize=1<<St.wbits,St.wnext=0,St.whave=0,St.window=new e.Buf8(St.wsize)),er>=St.wsize?(e.arraySet(St.window,zt,$t-St.wsize,St.wsize,0),St.wnext=0,St.whave=St.wsize):(ur=St.wsize-St.wnext,ur>er&&(ur=er),e.arraySet(St.window,zt,$t-er,ur,St.wnext),er-=ur,er?(e.arraySet(St.window,zt,$t-er,er,0),St.wnext=er,St.whave=St.wsize):(St.wnext+=ur,St.wnext===St.wsize&&(St.wnext=0),St.whave<St.wsize&&(St.whave+=ur))),0}function Bt(Gt,zt){var $t,er,ur,St,Ut,Yt,Dt,Pt,Jt,_r,hr,vr,gr,br,wr=0,yr,xr,Tr,Cr,Br,Dr,Sr,Ar,Mr=new e.Buf8(4),Ir,Rr,Fr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Gt||!Gt.state||!Gt.output||!Gt.input&&Gt.avail_in!==0)return et;$t=Gt.state,$t.mode===vt&&($t.mode=bt),Ut=Gt.next_out,ur=Gt.output,Dt=Gt.avail_out,St=Gt.next_in,er=Gt.input,Yt=Gt.avail_in,Pt=$t.hold,Jt=$t.bits,_r=Yt,hr=Dt,Ar=$;e:for(;;)switch($t.mode){case st:if($t.wrap===0){$t.mode=bt;break}for(;Jt<16;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if($t.wrap&2&&Pt===35615){$t.check=0,Mr[0]=Pt&255,Mr[1]=Pt>>>8&255,$t.check=d($t.check,Mr,2,0),Pt=0,Jt=0,$t.mode=at;break}if($t.flags=0,$t.head&&($t.head.done=!1),!($t.wrap&1)||(((Pt&255)<<8)+(Pt>>8))%31){Gt.msg="incorrect header check",$t.mode=Ht;break}if((Pt&15)!==it){Gt.msg="unknown compression method",$t.mode=Ht;break}if(Pt>>>=4,Jt-=4,Sr=(Pt&15)+8,$t.wbits===0)$t.wbits=Sr;else if(Sr>$t.wbits){Gt.msg="invalid window size",$t.mode=Ht;break}$t.dmax=1<<Sr,Gt.adler=$t.check=1,$t.mode=Pt&512?pt:vt,Pt=0,Jt=0;break;case at:for(;Jt<16;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if($t.flags=Pt,($t.flags&255)!==it){Gt.msg="unknown compression method",$t.mode=Ht;break}if($t.flags&57344){Gt.msg="unknown header flags set",$t.mode=Ht;break}$t.head&&($t.head.text=Pt>>8&1),$t.flags&512&&(Mr[0]=Pt&255,Mr[1]=Pt>>>8&255,$t.check=d($t.check,Mr,2,0)),Pt=0,Jt=0,$t.mode=_t;case _t:for(;Jt<32;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.head&&($t.head.time=Pt),$t.flags&512&&(Mr[0]=Pt&255,Mr[1]=Pt>>>8&255,Mr[2]=Pt>>>16&255,Mr[3]=Pt>>>24&255,$t.check=d($t.check,Mr,4,0)),Pt=0,Jt=0,$t.mode=ut;case ut:for(;Jt<16;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.head&&($t.head.xflags=Pt&255,$t.head.os=Pt>>8),$t.flags&512&&(Mr[0]=Pt&255,Mr[1]=Pt>>>8&255,$t.check=d($t.check,Mr,2,0)),Pt=0,Jt=0,$t.mode=ot;case ot:if($t.flags&1024){for(;Jt<16;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.length=Pt,$t.head&&($t.head.extra_len=Pt),$t.flags&512&&(Mr[0]=Pt&255,Mr[1]=Pt>>>8&255,$t.check=d($t.check,Mr,2,0)),Pt=0,Jt=0}else $t.head&&($t.head.extra=null);$t.mode=lt;case lt:if($t.flags&1024&&(vr=$t.length,vr>Yt&&(vr=Yt),vr&&($t.head&&(Sr=$t.head.extra_len-$t.length,$t.head.extra||($t.head.extra=new Array($t.head.extra_len)),e.arraySet($t.head.extra,er,St,vr,Sr)),$t.flags&512&&($t.check=d($t.check,er,vr,St)),Yt-=vr,St+=vr,$t.length-=vr),$t.length))break e;$t.length=0,$t.mode=ft;case ft:if($t.flags&2048){if(Yt===0)break e;vr=0;do Sr=er[St+vr++],$t.head&&Sr&&$t.length<65536&&($t.head.name+=String.fromCharCode(Sr));while(Sr&&vr<Yt);if($t.flags&512&&($t.check=d($t.check,er,vr,St)),Yt-=vr,St+=vr,Sr)break e}else $t.head&&($t.head.name=null);$t.length=0,$t.mode=ht;case ht:if($t.flags&4096){if(Yt===0)break e;vr=0;do Sr=er[St+vr++],$t.head&&Sr&&$t.length<65536&&($t.head.comment+=String.fromCharCode(Sr));while(Sr&&vr<Yt);if($t.flags&512&&($t.check=d($t.check,er,vr,St)),Yt-=vr,St+=vr,Sr)break e}else $t.head&&($t.head.comment=null);$t.mode=dt;case dt:if($t.flags&512){for(;Jt<16;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(Pt!==($t.check&65535)){Gt.msg="header crc mismatch",$t.mode=Ht;break}Pt=0,Jt=0}$t.head&&($t.head.hcrc=$t.flags>>9&1,$t.head.done=!0),Gt.adler=$t.check=0,$t.mode=vt;break;case pt:for(;Jt<32;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}Gt.adler=$t.check=kt(Pt),Pt=0,Jt=0,$t.mode=xt;case xt:if($t.havedict===0)return Gt.next_out=Ut,Gt.avail_out=Dt,Gt.next_in=St,Gt.avail_in=Yt,$t.hold=Pt,$t.bits=Jt,_e;Gt.adler=$t.check=1,$t.mode=vt;case vt:if(zt===b||zt===k)break e;case bt:if($t.last){Pt>>>=Jt&7,Jt-=Jt&7,$t.mode=Ot;break}for(;Jt<3;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}switch($t.last=Pt&1,Pt>>>=1,Jt-=1,Pt&3){case 0:$t.mode=wt;break;case 1:if(mr($t),$t.mode=yt,zt===k){Pt>>>=2,Jt-=2;break e}break;case 2:$t.mode=mt;break;case 3:Gt.msg="invalid block type",$t.mode=Ht}Pt>>>=2,Jt-=2;break;case wt:for(Pt>>>=Jt&7,Jt-=Jt&7;Jt<32;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if((Pt&65535)!==(Pt>>>16^65535)){Gt.msg="invalid stored block lengths",$t.mode=Ht;break}if($t.length=Pt&65535,Pt=0,Jt=0,$t.mode=At,zt===k)break e;case At:$t.mode=ct;case ct:if(vr=$t.length,vr){if(vr>Yt&&(vr=Yt),vr>Dt&&(vr=Dt),vr===0)break e;e.arraySet(ur,er,St,vr,Ut),Yt-=vr,St+=vr,Dt-=vr,Ut+=vr,$t.length-=vr;break}$t.mode=vt;break;case mt:for(;Jt<14;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if($t.nlen=(Pt&31)+257,Pt>>>=5,Jt-=5,$t.ndist=(Pt&31)+1,Pt>>>=5,Jt-=5,$t.ncode=(Pt&15)+4,Pt>>>=4,Jt-=4,$t.nlen>286||$t.ndist>30){Gt.msg="too many length or distance symbols",$t.mode=Ht;break}$t.have=0,$t.mode=gt;case gt:for(;$t.have<$t.ncode;){for(;Jt<3;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.lens[Fr[$t.have++]]=Pt&7,Pt>>>=3,Jt-=3}for(;$t.have<19;)$t.lens[Fr[$t.have++]]=0;if($t.lencode=$t.lendyn,$t.lenbits=7,Ir={bits:$t.lenbits},Ar=c(s,$t.lens,0,19,$t.lencode,0,$t.work,Ir),$t.lenbits=Ir.bits,Ar){Gt.msg="invalid code lengths set",$t.mode=Ht;break}$t.have=0,$t.mode=Tt;case Tt:for(;$t.have<$t.nlen+$t.ndist;){for(;wr=$t.lencode[Pt&(1<<$t.lenbits)-1],yr=wr>>>24,xr=wr>>>16&255,Tr=wr&65535,!(yr<=Jt);){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(Tr<16)Pt>>>=yr,Jt-=yr,$t.lens[$t.have++]=Tr;else{if(Tr===16){for(Rr=yr+2;Jt<Rr;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(Pt>>>=yr,Jt-=yr,$t.have===0){Gt.msg="invalid bit length repeat",$t.mode=Ht;break}Sr=$t.lens[$t.have-1],vr=3+(Pt&3),Pt>>>=2,Jt-=2}else if(Tr===17){for(Rr=yr+3;Jt<Rr;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}Pt>>>=yr,Jt-=yr,Sr=0,vr=3+(Pt&7),Pt>>>=3,Jt-=3}else{for(Rr=yr+7;Jt<Rr;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}Pt>>>=yr,Jt-=yr,Sr=0,vr=11+(Pt&127),Pt>>>=7,Jt-=7}if($t.have+vr>$t.nlen+$t.ndist){Gt.msg="invalid bit length repeat",$t.mode=Ht;break}for(;vr--;)$t.lens[$t.have++]=Sr}}if($t.mode===Ht)break;if($t.lens[256]===0){Gt.msg="invalid code -- missing end-of-block",$t.mode=Ht;break}if($t.lenbits=9,Ir={bits:$t.lenbits},Ar=c(h,$t.lens,0,$t.nlen,$t.lencode,0,$t.work,Ir),$t.lenbits=Ir.bits,Ar){Gt.msg="invalid literal/lengths set",$t.mode=Ht;break}if($t.distbits=6,$t.distcode=$t.distdyn,Ir={bits:$t.distbits},Ar=c(f,$t.lens,$t.nlen,$t.ndist,$t.distcode,0,$t.work,Ir),$t.distbits=Ir.bits,Ar){Gt.msg="invalid distances set",$t.mode=Ht;break}if($t.mode=yt,zt===k)break e;case yt:$t.mode=Et;case Et:if(Yt>=6&&Dt>=258){Gt.next_out=Ut,Gt.avail_out=Dt,Gt.next_in=St,Gt.avail_in=Yt,$t.hold=Pt,$t.bits=Jt,o(Gt,hr),Ut=Gt.next_out,ur=Gt.output,Dt=Gt.avail_out,St=Gt.next_in,er=Gt.input,Yt=Gt.avail_in,Pt=$t.hold,Jt=$t.bits,$t.mode===vt&&($t.back=-1);break}for($t.back=0;wr=$t.lencode[Pt&(1<<$t.lenbits)-1],yr=wr>>>24,xr=wr>>>16&255,Tr=wr&65535,!(yr<=Jt);){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(xr&&!(xr&240)){for(Cr=yr,Br=xr,Dr=Tr;wr=$t.lencode[Dr+((Pt&(1<<Cr+Br)-1)>>Cr)],yr=wr>>>24,xr=wr>>>16&255,Tr=wr&65535,!(Cr+yr<=Jt);){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}Pt>>>=Cr,Jt-=Cr,$t.back+=Cr}if(Pt>>>=yr,Jt-=yr,$t.back+=yr,$t.length=Tr,xr===0){$t.mode=Lt;break}if(xr&32){$t.back=-1,$t.mode=vt;break}if(xr&64){Gt.msg="invalid literal/length code",$t.mode=Ht;break}$t.extra=xr&15,$t.mode=Ct;case Ct:if($t.extra){for(Rr=$t.extra;Jt<Rr;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.length+=Pt&(1<<$t.extra)-1,Pt>>>=$t.extra,Jt-=$t.extra,$t.back+=$t.extra}$t.was=$t.length,$t.mode=It;case It:for(;wr=$t.distcode[Pt&(1<<$t.distbits)-1],yr=wr>>>24,xr=wr>>>16&255,Tr=wr&65535,!(yr<=Jt);){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(!(xr&240)){for(Cr=yr,Br=xr,Dr=Tr;wr=$t.distcode[Dr+((Pt&(1<<Cr+Br)-1)>>Cr)],yr=wr>>>24,xr=wr>>>16&255,Tr=wr&65535,!(Cr+yr<=Jt);){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}Pt>>>=Cr,Jt-=Cr,$t.back+=Cr}if(Pt>>>=yr,Jt-=yr,$t.back+=yr,xr&64){Gt.msg="invalid distance code",$t.mode=Ht;break}$t.offset=Tr,$t.extra=xr&15,$t.mode=Rt;case Rt:if($t.extra){for(Rr=$t.extra;Jt<Rr;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}$t.offset+=Pt&(1<<$t.extra)-1,Pt>>>=$t.extra,Jt-=$t.extra,$t.back+=$t.extra}if($t.offset>$t.dmax){Gt.msg="invalid distance too far back",$t.mode=Ht;break}$t.mode=Ft;case Ft:if(Dt===0)break e;if(vr=hr-Dt,$t.offset>vr){if(vr=$t.offset-vr,vr>$t.whave&&$t.sane){Gt.msg="invalid distance too far back",$t.mode=Ht;break}vr>$t.wnext?(vr-=$t.wnext,gr=$t.wsize-vr):gr=$t.wnext-vr,vr>$t.length&&(vr=$t.length),br=$t.window}else br=ur,gr=Ut-$t.offset,vr=$t.length;vr>Dt&&(vr=Dt),Dt-=vr,$t.length-=vr;do ur[Ut++]=br[gr++];while(--vr);$t.length===0&&($t.mode=Et);break;case Lt:if(Dt===0)break e;ur[Ut++]=$t.length,Dt--,$t.mode=Et;break;case Ot:if($t.wrap){for(;Jt<32;){if(Yt===0)break e;Yt--,Pt|=er[St++]<<Jt,Jt+=8}if(hr-=Dt,Gt.total_out+=hr,$t.total+=hr,hr&&(Gt.adler=$t.check=$t.flags?d($t.check,ur,hr,Ut-hr):_($t.check,ur,hr,Ut-hr)),hr=Dt,($t.flags?Pt:kt(Pt))!==$t.check){Gt.msg="incorrect data check",$t.mode=Ht;break}Pt=0,Jt=0}$t.mode=Kt;case Kt:if($t.wrap&&$t.flags){for(;Jt<32;){if(Yt===0)break e;Yt--,Pt+=er[St++]<<Jt,Jt+=8}if(Pt!==($t.total&4294967295)){Gt.msg="incorrect length check",$t.mode=Ht;break}Pt=0,Jt=0}$t.mode=qt;case qt:Ar=j;break e;case Ht:Ar=nt;break e;case Zt:return rt;case or:default:return et}return Gt.next_out=Ut,Gt.avail_out=Dt,Gt.next_in=St,Gt.avail_in=Yt,$t.hold=Pt,$t.bits=Jt,($t.wsize||hr!==Gt.avail_out&&$t.mode<Ht&&($t.mode<Ot||zt!==g))&&fr(Gt,Gt.output,Gt.next_out,hr-Gt.avail_out),_r-=Gt.avail_in,hr-=Gt.avail_out,Gt.total_in+=_r,Gt.total_out+=hr,$t.total+=hr,$t.wrap&&hr&&(Gt.adler=$t.check=$t.flags?d($t.check,ur,hr,Gt.next_out-hr):_($t.check,ur,hr,Gt.next_out-hr)),Gt.data_type=$t.bits+($t.last?64:0)+($t.mode===vt?128:0)+($t.mode===yt||$t.mode===At?256:0),(_r===0&&hr===0||zt===g)&&Ar===$&&(Ar=tt),Ar}function Xt(Gt){if(!Gt||!Gt.state)return et;var zt=Gt.state;return zt.window&&(zt.window=null),Gt.state=null,$}function rr(Gt,zt){var $t;return!Gt||!Gt.state||($t=Gt.state,!($t.wrap&2))?et:($t.head=zt,zt.done=!1,$)}function nr(Gt,zt){var $t=zt.length,er,ur,St;return!Gt||!Gt.state||(er=Gt.state,er.wrap!==0&&er.mode!==xt)?et:er.mode===xt&&(ur=1,ur=_(ur,zt,$t,0),ur!==er.check)?nt:(St=fr(Gt,zt,$t,$t),St?(er.mode=Zt,rt):(er.havedict=1,$))}return inflate.inflateReset=Wt,inflate.inflateReset2=Qt,inflate.inflateResetKeep=Nt,inflate.inflateInit=sr,inflate.inflateInit2=tr,inflate.inflate=Bt,inflate.inflateEnd=Xt,inflate.inflateGetHeader=rr,inflate.inflateSetDictionary=nr,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var gzheader,hasRequiredGzheader;function requireGzheader(){if(hasRequiredGzheader)return gzheader;hasRequiredGzheader=1;function e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return gzheader=e,gzheader}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var e=requireInflate$1(),_=requireCommon(),d=requireStrings(),o=requireConstants(),c=requireMessages(),s=requireZstream(),h=requireGzheader(),f=Object.prototype.toString;function g($){if(!(this instanceof g))return new g($);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},$||{});var j=this.options;j.raw&&j.windowBits>=0&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),j.windowBits>=0&&j.windowBits<16&&!($&&$.windowBits)&&(j.windowBits+=32),j.windowBits>15&&j.windowBits<48&&(j.windowBits&15||(j.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var _e=e.inflateInit2(this.strm,j.windowBits);if(_e!==o.Z_OK)throw new Error(c[_e]);if(this.header=new h,e.inflateGetHeader(this.strm,this.header),j.dictionary&&(typeof j.dictionary=="string"?j.dictionary=d.string2buf(j.dictionary):f.call(j.dictionary)==="[object ArrayBuffer]"&&(j.dictionary=new Uint8Array(j.dictionary)),j.raw&&(_e=e.inflateSetDictionary(this.strm,j.dictionary),_e!==o.Z_OK)))throw new Error(c[_e])}g.prototype.push=function($,j){var _e=this.strm,et=this.options.chunkSize,nt=this.options.dictionary,rt,tt,it,st,at,_t=!1;if(this.ended)return!1;tt=j===~~j?j:j===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof $=="string"?_e.input=d.binstring2buf($):f.call($)==="[object ArrayBuffer]"?_e.input=new Uint8Array($):_e.input=$,_e.next_in=0,_e.avail_in=_e.input.length;do{if(_e.avail_out===0&&(_e.output=new _.Buf8(et),_e.next_out=0,_e.avail_out=et),rt=e.inflate(_e,o.Z_NO_FLUSH),rt===o.Z_NEED_DICT&&nt&&(rt=e.inflateSetDictionary(this.strm,nt)),rt===o.Z_BUF_ERROR&&_t===!0&&(rt=o.Z_OK,_t=!1),rt!==o.Z_STREAM_END&&rt!==o.Z_OK)return this.onEnd(rt),this.ended=!0,!1;_e.next_out&&(_e.avail_out===0||rt===o.Z_STREAM_END||_e.avail_in===0&&(tt===o.Z_FINISH||tt===o.Z_SYNC_FLUSH))&&(this.options.to==="string"?(it=d.utf8border(_e.output,_e.next_out),st=_e.next_out-it,at=d.buf2string(_e.output,it),_e.next_out=st,_e.avail_out=et-st,st&&_.arraySet(_e.output,_e.output,it,st,0),this.onData(at)):this.onData(_.shrinkBuf(_e.output,_e.next_out))),_e.avail_in===0&&_e.avail_out===0&&(_t=!0)}while((_e.avail_in>0||_e.avail_out===0)&&rt!==o.Z_STREAM_END);return rt===o.Z_STREAM_END&&(tt=o.Z_FINISH),tt===o.Z_FINISH?(rt=e.inflateEnd(this.strm),this.onEnd(rt),this.ended=!0,rt===o.Z_OK):(tt===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),_e.avail_out=0),!0)},g.prototype.onData=function($){this.chunks.push($)},g.prototype.onEnd=function($){$===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg};function b($,j){var _e=new g(j);if(_e.push($,!0),_e.err)throw _e.msg||c[_e.err];return _e.result}function k($,j){return j=j||{},j.raw=!0,b($,j)}return inflate$1.Inflate=g,inflate$1.inflate=b,inflate$1.inflateRaw=k,inflate$1.ungzip=b,inflate$1}var pako_1,hasRequiredPako;function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var e=requireCommon().assign,_=requireDeflate$1(),d=requireInflate(),o=requireConstants(),c={};return e(c,_,d,o),pako_1=c,pako_1}var hasRequiredDeflate;function requireDeflate(){return hasRequiredDeflate||(hasRequiredDeflate=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}var c=function(){};c.__name__="lime._internal.format.Deflate",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime._internal.format.Deflate"]=c,c.compress=function(s){var h=requirePako().deflateRaw(s.getData());return o().default.ofData(h)},c.decompress=function(s){var h=requirePako().inflateRaw(s.getData());return o().default.ofData(h)},e.default=c}(Deflate)),Deflate}var GZip={},hasRequiredGZip;function requireGZip(){return hasRequiredGZip||(hasRequiredGZip=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}var c=function(){};c.__name__="lime._internal.format.GZip",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime._internal.format.GZip"]=c,c.compress=function(s){var h=requirePako().gzip(s.getData());return o().default.ofData(h)},c.decompress=function(s){var h=requirePako().ungzip(s.getData());return o().default.ofData(h)},e.default=c}(GZip)),GZip}var LZMA={},hasRequiredLZMA;function requireLZMA(){return hasRequiredLZMA||(hasRequiredLZMA=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime._internal.format.LZMA",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime._internal.format.LZMA"]=o,o.compress=function(c){return null},o.decompress=function(c){return null},e.default=o}(LZMA)),LZMA}var Zlib={},hasRequiredZlib;function requireZlib(){return hasRequiredZlib||(hasRequiredZlib=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}var c=function(){};c.__name__="lime._internal.format.Zlib",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime._internal.format.Zlib"]=c,c.compress=function(s){var h=requirePako().deflate(s.getData());return o().default.ofData(h)},c.decompress=function(s){var h=requirePako().inflate(s.getData());return o().default.ofData(h)},e.default=c}(Zlib)),Zlib}var _HTTPRequest_lime_utils_Bytes={},_HTTPRequest_Bytes={},AbstractHTTPRequest={},_IHTTPRequest={},hasRequired_IHTTPRequest;function require_IHTTPRequest(){return hasRequired_IHTTPRequest||(hasRequired_IHTTPRequest=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.net._IHTTPRequest",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.net._IHTTPRequest"]=o,e.default=o}(_IHTTPRequest)),_IHTTPRequest}var hasRequiredAbstractHTTPRequest;function requireAbstractHTTPRequest(){return hasRequiredAbstractHTTPRequest||(hasRequiredAbstractHTTPRequest=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_IHTTPRequest()}function c(){return requireStringMap()}function s(){return requireHTML5HTTPRequest()}var h=function(f){this.uri=f,this.contentType="application/x-www-form-urlencoded",this.followRedirects=!0,this.enableResponseHeaders=!1,this.formData=new(c()).default,this.headers=[],this.method="GET",this.timeout=3e4,this.withCredentials=!1,this.manageCookies=!0,this.__backend=new(s()).default,this.__backend.init(this)};h.__name__="lime.net._HTTPRequest.AbstractHTTPRequest",h.__isInterface__=!1,h.__interfaces__=[o().default],h.prototype={cancel:function(){this.__backend.cancel()},load:function(f){return null}},h.prototype.__class__=h.prototype.constructor=d["lime.net._HTTPRequest.AbstractHTTPRequest"]=h,e.default=h}(AbstractHTTPRequest)),AbstractHTTPRequest}var hasRequired_HTTPRequest_Bytes;function require_HTTPRequest_Bytes(){return hasRequired_HTTPRequest_Bytes||(hasRequired_HTTPRequest_Bytes=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireAbstractHTTPRequest()}function h(){return require_Promise()}var f=function(g){s().default.call(this,g)};f.__name__="lime.net._HTTPRequest_Bytes",f.__isInterface__=!1,f.__super__=s().default,f.prototype=c(s().default.prototype,{fromBytes:function(g){return g},load:function(g){var b=this;g!=null&&(this.uri=g);var k=new(h()).default,$=this.__backend.loadData(this.uri);return $.onProgress(o(k,k.progress)),$.onError(function(j){b.responseData=j.responseData,k.error(j.error)}),$.onComplete(function(j){b.responseData=b.fromBytes(j),k.complete(b.responseData)}),k.future}}),f.prototype.__class__=f.prototype.constructor=d["lime.net._HTTPRequest_Bytes"]=f,e.default=f}(_HTTPRequest_Bytes)),_HTTPRequest_Bytes}var hasRequired_HTTPRequest_lime_utils_Bytes;function require_HTTPRequest_lime_utils_Bytes(){return hasRequired_HTTPRequest_lime_utils_Bytes||(hasRequired_HTTPRequest_lime_utils_Bytes=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return require_HTTPRequest_Bytes()}function s(){return requireBytes_Impl_()}var h=function(f){c().default.call(this,f)};h.__name__="lime.net._HTTPRequest_lime_utils_Bytes",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{fromBytes:function(f){return s().default.fromBytes(f)}}),h.prototype.__class__=h.prototype.constructor=d["lime.net._HTTPRequest_lime_utils_Bytes"]=h,e.default=h}(_HTTPRequest_lime_utils_Bytes)),_HTTPRequest_lime_utils_Bytes}var hasRequiredBytes_Impl_;function requireBytes_Impl_(){return hasRequiredBytes_Impl_||(hasRequiredBytes_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}function c(){return requireDeflate()}function s(){return requireGZip()}function h(){return requireLZMA()}function f(){return requireZlib()}function g(){return requireFuture()}function b(){return require_HTTPRequest_lime_utils_Bytes()}var k=function(){};k.__name__="lime.utils._Bytes.Bytes_Impl_",k.__isInterface__=!1,k.prototype={},k.prototype.__class__=k.prototype.constructor=d["lime.utils._Bytes.Bytes_Impl_"]=k,k._new=function($,j){var _e=new(o()).default(j);return _e},k.alloc=function($){return o().default.alloc($)},k.compress=function($,j){switch(j._hx_index){case 0:return c().default.compress($);case 1:return s().default.compress($);case 2:return h().default.compress($);case 3:return f().default.compress($)}},k.decompress=function($,j){switch(j._hx_index){case 0:return c().default.decompress($);case 1:return s().default.decompress($);case 2:return h().default.decompress($);case 3:return f().default.decompress($)}},k.fastGet=function($,j){return o().default.fastGet($,j)},k.fromBytes=function($){return $==null?null:k._new($.get_length(),$.getData())},k.fromFile=function($){return null},k.loadFromBytes=function($){return g().default.withValue(k.fromBytes($))},k.loadFromFile=function($){var j=new(b()).default;return j.load($)},k.ofData=function($){var j=o().default.ofData($);return k._new(j.get_length(),j.getData())},k.ofString=function($){var j=o().default.ofString($);return k._new(j.get_length(),j.getData())},e.default=k}(Bytes_Impl_)),Bytes_Impl_}var Reader$2={},BytesBuffer={},hasRequiredBytesBuffer;function requireBytesBuffer(){return hasRequiredBytesBuffer||(hasRequiredBytesBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return require_Error()}function s(){return requireBytes()}var h=function(){this.pos=0,this.size=0};h.__name__="haxe.io.BytesBuffer",h.__isInterface__=!1,h.prototype={addByte:function(f){this.pos==this.size&&this.grow(1),this.view.setUint8(this.pos++,f)},add:function(f){if(this.pos+f.get_length()>this.size&&this.grow(f.get_length()),this.size!=0){var g=new Uint8Array(f.b.buffer,f.b.byteOffset,f.get_length());this.u8.set(g,this.pos),this.pos+=f.get_length()}},addBytes:function(f,g,b){if(g<0||b<0||g+b>f.get_length())throw new(o()).default(c().default.OutsideBounds);if(this.pos+b>this.size&&this.grow(b),this.size!=0){var k=new Uint8Array(f.b.buffer,f.b.byteOffset+g,b);this.u8.set(k,this.pos),this.pos+=b}},grow:function(f){for(var g=this.pos+f,b=this.size==0?16:this.size;b<g;)b=b*3>>1;var k=new ArrayBuffer(b),$=new Uint8Array(k);this.size>0&&$.set(this.u8),this.size=b,this.buffer=k,this.u8=$,this.view=new DataView(this.buffer)},getBytes:function(){if(this.size==0)return s().default.alloc(0);var f=new(s()).default(this.buffer);return f.set_length(this.pos),f}},h.prototype.__class__=h.prototype.constructor=d["haxe.io.BytesBuffer"]=h,e.default=h}(BytesBuffer)),BytesBuffer}var ExtraField={},hasRequiredExtraField;function requireExtraField(){return hasRequiredExtraField||(hasRequiredExtraField=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",__constructs__:["FUnknown","FInfoZipUnicodePath","FUtf8"],FUtf8:{_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:d},FUnknown:($_=function(s,h){return{_hx_index:0,tag:s,bytes:h,__enum__:"haxe.zip.ExtraField",toString:d}},$_.__params__=["tag","bytes"],$_),FInfoZipUnicodePath:($_=function(s,h){return{_hx_index:1,name:s,crc:h,__enum__:"haxe.zip.ExtraField",toString:d}},$_.__params__=["name","crc"],$_)};e.default=c}(ExtraField)),ExtraField}var InflateImpl={},State$2={},hasRequiredState;function requireState(){return hasRequiredState||(hasRequiredState=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:["Head","Block","CData","Flat","Crc","Dist","DistOne","Done"],Head:{_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:d},Flat:{_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:d},Done:{_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:d},DistOne:{_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:d},Dist:{_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:d},Crc:{_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:d},CData:{_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:d},Block:{_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:d}};e.default=c}(State$2)),State$2}var Adler32={},hasRequiredAdler32;function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.a1=1,this.a2=0};o.__name__="haxe.crypto.Adler32",o.__isInterface__=!1,o.prototype={update:function(c,s,h){for(var f=this.a1,g=this.a2,b=s,k=s+h;b<k;){var $=b++,j=c.get($);f=(f+j)%65521,g=(g+f)%65521}this.a1=f,this.a2=g},equals:function(c){return c.a1==this.a1?c.a2==this.a2:!1}},o.prototype.__class__=o.prototype.constructor=d["haxe.crypto.Adler32"]=o,o.read=function(c){var s=new o,h=c.readByte(),f=c.readByte(),g=c.readByte(),b=c.readByte();return s.a1=g<<8|b,s.a2=h<<8|f,s},e.default=o}(Adler32)),Adler32}var HuffTools={},Huffman={},hasRequiredHuffman;function requireHuffman(){return hasRequiredHuffman||(hasRequiredHuffman=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:["Found","NeedBit","NeedBits"],NeedBits:($_=function(s,h){return{_hx_index:2,n:s,table:h,__enum__:"haxe.zip.Huffman",toString:d}},$_.__params__=["n","table"],$_),NeedBit:($_=function(s,h){return{_hx_index:1,left:s,right:h,__enum__:"haxe.zip.Huffman",toString:d}},$_.__params__=["left","right"],$_),Found:($_=function(s){return{_hx_index:0,i:s,__enum__:"haxe.zip.Huffman",toString:d}},$_.__params__=["i"],$_)};e.default=c}(Huffman)),Huffman}var hasRequiredHuffTools;function requireHuffTools(){return hasRequiredHuffTools||(hasRequiredHuffTools=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireHuffman()}function s(){return requireIntMap()}var h=function(){};h.__name__="haxe.zip.HuffTools",h.__isInterface__=!1,h.prototype={treeDepth:function(f){switch(f._hx_index){case 0:return f.i,0;case 1:var g=f.right,b=f.left,k=this.treeDepth(b),$=this.treeDepth(g);return 1+(k<$?k:$);case 2:throw f.table,f.n,new(o()).default("assert")}},treeCompress:function(f){var g=this.treeDepth(f);if(g==0)return f;if(g==1)if(f._hx_index==1){var b=f.right,k=f.left;return c().default.NeedBit(this.treeCompress(k),this.treeCompress(b))}else throw new(o()).default("assert");for(var $=1<<g,j=[],_e=0,et=$;_e<et;)_e++,j.push(c().default.Found(-1));return this.treeWalk(j,0,0,g,f),c().default.NeedBits(g,j)},treeWalk:function(f,g,b,k,$){if($._hx_index==1){var j=$.right,_e=$.left;k>0?(this.treeWalk(f,g,b+1,k-1,_e),this.treeWalk(f,g|1<<b,b+1,k-1,j)):f[g]=this.treeCompress($)}else f[g]=this.treeCompress($)},treeMake:function(f,g,b,k){if(k>g)throw new(o()).default("Invalid huffman");var $=b<<5|k;return f.exists($)?c().default.Found(f.get($)):(b<<=1,++k,c().default.NeedBit(this.treeMake(f,g,b,k),this.treeMake(f,g,b|1,k)))},make:function(f,g,b,k){if(b==1)return c().default.NeedBit(c().default.Found(0),c().default.Found(0));var $=[],j=[];if(k>32)throw new(o()).default("Invalid huffman");for(var _e=0,et=k;_e<et;)_e++,$.push(0),j.push(0);for(var nt=0,rt=b;nt<rt;){var tt=nt++,it=f[tt+g];if(it>=k)throw new(o()).default("Invalid huffman");$[it]++}for(var st=0,at=1,_t=k-1;at<_t;){var ut=at++;st=st+$[ut]<<1,j[ut]=st}for(var ot=new(s()).default,lt=0,ft=b;lt<ft;){var ht=lt++,dt=f[ht+g];if(dt!=0){var pt=j[dt-1];j[dt-1]=pt+1,ot.set(pt<<5|dt,ht)}}return this.treeCompress(c().default.NeedBit(this.treeMake(ot,k,0,1),this.treeMake(ot,k,1,1)))}},h.prototype.__class__=h.prototype.constructor=d["haxe.zip.HuffTools"]=h,e.default=h}(HuffTools)),HuffTools}var Window$1={},hasRequiredWindow$1;function requireWindow$1(){return hasRequiredWindow$1||(hasRequiredWindow$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytes()}function c(){return requireAdler32()}var s=function(h){this.buffer=o().default.alloc(65536),this.pos=0,h&&(this.crc=new(c()).default)};s.__name__="haxe.zip._InflateImpl.Window",s.__isInterface__=!1,s.prototype={slide:function(){this.crc!=null&&this.crc.update(this.buffer,0,32768);var h=o().default.alloc(65536);this.pos-=32768,h.blit(0,this.buffer,32768,this.pos),this.buffer=h},addBytes:function(h,f,g){this.pos+g>65536&&this.slide(),this.buffer.blit(this.pos,h,f,g),this.pos+=g},addByte:function(h){this.pos==65536&&this.slide(),this.buffer.set(this.pos,h),this.pos++},getLastChar:function(){return this.buffer.get(this.pos-1)},available:function(){return this.pos},checksum:function(){return this.crc!=null&&this.crc.update(this.buffer,0,this.pos),this.crc}},s.prototype.__class__=s.prototype.constructor=d["haxe.zip._InflateImpl.Window"]=s,e.default=s}(Window$1)),Window$1}var hasRequiredInflateImpl;function requireInflateImpl(){return hasRequiredInflateImpl||(hasRequiredInflateImpl=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireState()}function s(){return requireAdler32()}function h(){return requireBytes()}function f(){return requireBytesBuffer()}function g(){return requireHuffTools()}function b(){return requireWindow$1()}var k=function($,j,_e){_e==null&&(_e=!0),j==null&&(j=!0),this.isFinal=!1,this.htools=new(g()).default,this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.len=0,this.dist=0,this.state=j?c().default.Head:c().default.Block,this.input=$,this.bits=0,this.nbits=0,this.needed=0,this.output=null,this.outpos=0,this.lengths=[],this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.lengths.push(-1),this.window=new(b()).default(_e)};k.__name__="haxe.zip.InflateImpl",k.__isInterface__=!1,k.prototype={buildFixedHuffman:function(){if(k.FIXED_HUFFMAN!=null)return k.FIXED_HUFFMAN;for(var $=[],j=0;j<288;){var _e=j++;$.push(_e<=143?8:_e<=255?9:_e<=279?7:8)}return k.FIXED_HUFFMAN=this.htools.make($,0,288,10),k.FIXED_HUFFMAN},readBytes:function($,j,_e){if(this.needed=_e,this.outpos=j,this.output=$,_e>0)for(;this.inflateLoop(););return _e-this.needed},getBits:function($){for(;this.nbits<$;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var j=this.bits&(1<<$)-1;return this.nbits-=$,this.bits>>=$,j},getBit:function(){this.nbits==0&&(this.nbits=8,this.bits=this.input.readByte());var $=(this.bits&1)==1;return this.nbits--,this.bits>>=1,$},getRevBits:function($){return $==0?0:this.getBit()?1<<$-1|this.getRevBits($-1):this.getRevBits($-1)},resetBits:function(){this.bits=0,this.nbits=0},addBytes:function($,j,_e){this.window.addBytes($,j,_e),this.output.blit(this.outpos,$,j,_e),this.needed-=_e,this.outpos+=_e},addByte:function($){this.window.addByte($),this.output.set(this.outpos,$),this.needed--,this.outpos++},addDistOne:function($){for(var j=this.window.getLastChar(),_e=0,et=$;_e<et;)_e++,this.addByte(j)},addDist:function($,j){this.addBytes(this.window.buffer,this.window.pos-$,j)},applyHuffman:function($){switch($._hx_index){case 0:var j=$.i;return j;case 1:var _e=$.right,et=$.left;return this.applyHuffman(this.getBit()?_e:et);case 2:var nt=$.table,rt=$.n;return this.applyHuffman(nt[this.getBits(rt)])}},inflateLengths:function($,j){for(var _e=0,et=0;_e<j;){var nt=this.applyHuffman(this.huffman);switch(nt){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:et=nt,$[_e]=nt,++_e;break;case 16:var rt=_e+3+this.getBits(2);if(rt>j)throw new(o()).default("Invalid data");for(;_e<rt;)$[_e]=et,++_e;break;case 17:if(_e+=3+this.getBits(3),_e>j)throw new(o()).default("Invalid data");break;case 18:if(_e+=11+this.getBits(7),_e>j)throw new(o()).default("Invalid data");break;default:throw new(o()).default("Invalid data")}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var $=this.input.readByte(),j=$&15;if(j!=8)throw new(o()).default("Invalid data");var _e=this.input.readByte(),et=(_e&32)!=0;if((($<<8)+_e)%31!=0)throw new(o()).default("Invalid data");if(et)throw new(o()).default("Unsupported dictionary");return this.state=c().default.Block,!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();var nt=this.input.readUInt16();if(nt!=65535-this.len)throw new(o()).default("Invalid data");this.state=c().default.Flat;var rt=this.inflateLoop();return this.resetBits(),rt;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=c().default.CData,!0;case 2:for(var tt=this.getBits(5)+257,it=this.getBits(5)+1,st=this.getBits(4)+4,at=0,_t=st;at<_t;){var ut=at++;this.lengths[k.CODE_LENGTHS_POS[ut]]=this.getBits(3)}for(var ot=st,lt=19;ot<lt;){var ft=ot++;this.lengths[k.CODE_LENGTHS_POS[ft]]=0}this.huffman=this.htools.make(this.lengths,0,19,8);for(var ht=[],dt=0,pt=tt+it;dt<pt;)dt++,ht.push(0);return this.inflateLengths(ht,tt+it),this.huffdist=this.htools.make(ht,tt,it,16),this.huffman=this.htools.make(ht,0,tt,16),this.state=c().default.CData,!0;default:throw new(o()).default("Invalid data")}case 2:var xt=this.applyHuffman(this.huffman);if(xt<256)return this.addByte(xt),this.needed>0;if(xt==256)return this.state=this.isFinal?c().default.Crc:c().default.Block,!0;xt-=257;var vt=k.LEN_EXTRA_BITS_TBL[xt];if(vt==-1)throw new(o()).default("Invalid data");this.len=k.LEN_BASE_VAL_TBL[xt]+this.getBits(vt);var bt=this.huffdist==null?this.getRevBits(5):this.applyHuffman(this.huffdist);if(vt=k.DIST_EXTRA_BITS_TBL[bt],vt==-1)throw new(o()).default("Invalid data");if(this.dist=k.DIST_BASE_VAL_TBL[bt]+this.getBits(vt),this.dist>this.window.available())throw new(o()).default("Invalid data");return this.state=this.dist==1?c().default.DistOne:c().default.Dist,!0;case 3:var wt=this.len<this.needed?this.len:this.needed,At=this.input.read(wt);return this.len-=wt,this.addBytes(At,0,wt),this.len==0&&(this.state=this.isFinal?c().default.Crc:c().default.Block),this.needed>0;case 4:var ct=this.window.checksum();if(ct==null)return this.state=c().default.Done,!0;var mt=s().default.read(this.input);if(!ct.equals(mt))throw new(o()).default("Invalid CRC");return this.state=c().default.Done,!0;case 5:for(;this.len>0&&this.needed>0;){var gt=this.len<this.dist?this.len:this.dist,Tt=this.needed<gt?this.needed:gt;this.addDist(this.dist,Tt),this.len-=Tt}return this.len==0&&(this.state=c().default.CData),this.needed>0;case 6:var yt=this.len<this.needed?this.len:this.needed;return this.addDistOne(yt),this.len-=yt,this.len==0&&(this.state=c().default.CData),this.needed>0;case 7:return!1}}},k.prototype.__class__=k.prototype.constructor=d["haxe.zip.InflateImpl"]=k,k.run=function($,j){j==null&&(j=65536);for(var _e=h().default.alloc(j),et=new(f()).default,nt=new k($);;){var rt=nt.readBytes(_e,0,j);if(et.addBytes(_e,0,rt),rt<j)break}return et.getBytes()},k.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1],k.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],k.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1],k.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],k.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k.FIXED_HUFFMAN=null,e.default=k}(InflateImpl)),InflateImpl}var hasRequiredReader$2;function requireReader$2(){return hasRequiredReader$2||(hasRequiredReader$2=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireList()}function c(){return requireHaxeError()}function s(){return requireBytesBuffer()}function h(){return requireExtraField()}function f(){return requireBytes()}function g(){return requireInflateImpl()}var b=function(k){this.i=k};b.__name__="haxe.zip.Reader",b.__isInterface__=!1,b.prototype={readZipDate:function(){var k=this.i.readUInt16(),$=k>>11&31,j=k>>5&63,_e=k&31,et=this.i.readUInt16(),nt=et>>9,rt=et>>5&15,tt=et&31;return new Date(nt+1980,rt-1,tt,$,j,_e<<1)},readExtraFields:function(k){for(var $=new(o()).default;k>0;){if(k<4)throw new(c()).default("Invalid extra fields data");var j=this.i.readUInt16(),_e=this.i.readUInt16();if(k<_e)throw new(c()).default("Invalid extra fields data");if(j==28789){var et=this.i.readByte();if(et!=1){var nt=new(s()).default;nt.addByte(et),nt.add(this.i.read(_e-1)),$.add(h().default.FUnknown(j,nt.getBytes()))}else{var rt=this.i.readInt32(),tt=this.i.read(_e-5).toString();$.add(h().default.FInfoZipUnicodePath(tt,rt))}}else $.add(h().default.FUnknown(j,this.i.read(_e)));k-=4+_e}return $},readEntryHeader:function(){var k=this.i,$=k.readInt32();if($==33639248||$==101010256)return null;if($!=67324752)throw new(c()).default("Invalid Zip Data");k.readUInt16();var j=k.readUInt16(),_e=(j&2048)!=0;if(j&63473)throw new(c()).default("Unsupported flags "+j);var et=k.readUInt16(),nt=et!=0;if(nt&&et!=8)throw new(c()).default("Unsupported compression "+et);var rt=this.readZipDate(),tt=k.readInt32(),it=k.readInt32(),st=k.readInt32(),at=k.readInt16(),_t=k.readInt16(),ut=k.readString(at),ot=this.readExtraFields(_t);_e&&ot.push(h().default.FUtf8);var lt=null;return j&8&&(tt=null),{fileName:ut,fileSize:st,fileTime:rt,compressed:nt,dataSize:it,data:lt,crc32:tt,extraFields:ot}},read:function(){for(var k=new(o()).default,$=null;;){var j=this.readEntryHeader();if(j==null)break;if(j.crc32==null){if(j.compressed){var _e=65536;$==null&&($=f().default.alloc(_e));for(var et=new(s()).default,nt=new(g()).default(this.i,!1,!1);;){var rt=nt.readBytes($,0,_e);if(et.addBytes($,0,rt),rt<_e)break}j.data=et.getBytes()}else j.data=this.i.read(j.dataSize);j.crc32=this.i.readInt32(),j.crc32==134695760&&(j.crc32=this.i.readInt32()),j.dataSize=this.i.readInt32(),j.fileSize=this.i.readInt32(),j.dataSize=j.fileSize,j.compressed=!1}else j.data=this.i.read(j.dataSize);k.add(j)}return k}},b.prototype.__class__=b.prototype.constructor=d["haxe.zip.Reader"]=b,b.readZip=function(k){var $=new b(k);return $.read()},e.default=b}(Reader$2)),Reader$2}var CompressionAlgorithm$1={},hasRequiredCompressionAlgorithm;function requireCompressionAlgorithm(){return hasRequiredCompressionAlgorithm||(hasRequiredCompressionAlgorithm=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.utils.CompressionAlgorithm"]={__ename__:"lime.utils.CompressionAlgorithm",__constructs__:["DEFLATE","GZIP","LZMA","ZLIB"],ZLIB:{_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:d},LZMA:{_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:d},GZIP:{_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:d},DEFLATE:{_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:d}};e.default=c}(CompressionAlgorithm$1)),CompressionAlgorithm$1}var hasRequiredAssetBundle;function requireAssetBundle(){return hasRequiredAssetBundle||(hasRequiredAssetBundle=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytesInput()}function c(){return requireFuture()}function s(){return requireBytes_Impl_()}function h(){return requireReader$2()}function f(){return requireCompressionAlgorithm()}function g(){return requireStringMap()}var b=function(){this.data=new(g()).default,this.paths=[]};b.__name__="lime.utils.AssetBundle",b.__isInterface__=!1,b.prototype={},b.prototype.__class__=b.prototype.constructor=d["lime.utils.AssetBundle"]=b,b.fromBytes=function(k){var $=new(o()).default(k);return b.__extractBundle($)},b.fromFile=function(k){return null},b.loadFromBytes=function(k){return c().default.withValue(b.fromBytes(k))},b.loadFromFile=function(k){return s().default.loadFromFile(k).then(b.loadFromBytes)},b.__extractBundle=function(k){for(var $=h().default.readZip(k),j=new b,_e=$.iterator();_e.hasNext();){var et=_e.next();if(et.compressed){var nt=et.data;j.data.set(et.fileName,s().default.decompress(nt,f().default.DEFLATE))}else j.data.set(et.fileName,et.data);j.paths.push(et.fileName)}return j},e.default=b}(AssetBundle)),AssetBundle}var AssetLibrary$2={},Type={},ValueType={},hasRequiredValueType;function requireValueType(){return hasRequiredValueType||(hasRequiredValueType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o.ValueType={__ename__:"ValueType",__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"],TUnknown:{_hx_index:8,__enum__:"ValueType",toString:d},TObject:{_hx_index:4,__enum__:"ValueType",toString:d},TNull:{_hx_index:0,__enum__:"ValueType",toString:d},TInt:{_hx_index:1,__enum__:"ValueType",toString:d},TFunction:{_hx_index:5,__enum__:"ValueType",toString:d},TFloat:{_hx_index:2,__enum__:"ValueType",toString:d},TEnum:($_=function(s){return{_hx_index:7,e:s,__enum__:"ValueType",toString:d}},$_.__params__=["e"],$_),TClass:($_=function(s){return{_hx_index:6,c:s,__enum__:"ValueType",toString:d}},$_.__params__=["c"],$_),TBool:{_hx_index:3,__enum__:"ValueType",toString:d}};e.default=c}(ValueType)),ValueType}var hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default,o=hxEnums_stub.default;function c(){return requireBoot()}function s(){return require_Reflect()}function h(){return requireHaxeError()}function f(){return requireHxOverrides()}function g(){return requireValueType()}var b=function(){};b.__name__="Type",b.__isInterface__=!1,b.prototype={},b.prototype.__class__=b.prototype.constructor=d.Type=b,b.getClass=function(k){return c().default.getClass(k)},b.getSuperClass=function(k){return k.__super__},b.getClassName=function(k){return k.__name__},b.getEnumName=function(k){return k.__ename__},b.resolveClass=function(k){return d[k]},b.resolveEnum=function(k){return o[k]},b.createInstance=function(k,$){return new(Function.prototype.bind.apply(k,[null].concat($)))},b.createEmptyInstance=function(k){return Object.create(k.prototype)},b.createEnum=function(k,$,j){var _e=s().default.field(k,$);if(_e==null)throw new(h()).default("No such constructor "+$);if(s().default.isFunction(_e)){if(j==null)throw new(h()).default("Constructor "+$+" need parameters");return s().default.callMethod(k,_e,j)}if(j!=null&&j.length!=0)throw new(h()).default("Constructor "+$+" does not need parameters");return _e},b.getInstanceFields=function(k){var $=[];for(var j in k.prototype)$.push(j);return f().default.remove($,"__class__"),f().default.remove($,"__properties__"),$},b.getEnumConstructs=function(k){return k.__constructs__.slice()},b.typeof=function(k){switch(typeof k){case"boolean":return g().default.TBool;case"function":return c().default.isClass(k)||c().default.isEnum(k)?g().default.TObject:g().default.TFunction;case"number":return Math.ceil(k)==k%2147483648?g().default.TInt:g().default.TFloat;case"object":if(k==null)return g().default.TNull;var $=k.__enum__;if($!=null)return g().default.TEnum(o[$]);var j=c().default.getClass(k);return j!=null?g().default.TClass(j):g().default.TObject;case"string":return g().default.TClass(String);case"undefined":return g().default.TNull;default:return g().default.TUnknown}},b.enumConstructor=function(k){return o[k.__enum__].__constructs__[k._hx_index]},b.enumParameters=function(k){var $=o[k.__enum__],j=$.__constructs__[k._hx_index],_e=$[j].__params__;if(_e!=null){for(var et=[],nt=0;nt<_e.length;){var rt=_e[nt];++nt,et.push(k[rt])}return et}else return[]},b.enumIndex=function(k){return k._hx_index},e.default=b}(Type)),Type}var Font$3={},_HTTPRequest_lime_text_Font={},hasRequired_HTTPRequest_lime_text_Font;function require_HTTPRequest_lime_text_Font(){return hasRequired_HTTPRequest_lime_text_Font||(hasRequired_HTTPRequest_lime_text_Font=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return require_HTTPRequest_Bytes()}function s(){return requireFont()}var h=function(f){c().default.call(this,f)};h.__name__="lime.net._HTTPRequest_lime_text_Font",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{fromBytes:function(f){return s().default.fromBytes(f)}}),h.prototype.__class__=h.prototype.constructor=d["lime.net._HTTPRequest_lime_text_Font"]=h,e.default=h}(_HTTPRequest_lime_text_Font)),_HTTPRequest_lime_text_Font}var hasRequiredFont;function requireFont(){return hasRequiredFont||(hasRequiredFont=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return require_Promise()}function s(){return requireEReg()}function h(){return requireLog()}function f(){return requireFuture()}function g(){return require_HTTPRequest_lime_text_Font()}function b(){return requireAssets()}var k=function($){$!=null&&(this.name=$),this.__init||(this.ascender==null&&(this.ascender=0),this.descender==null&&(this.descender=0),this.height==null&&(this.height=0),this.numGlyphs==null&&(this.numGlyphs=0),this.underlinePosition==null&&(this.underlinePosition=0),this.underlineThickness==null&&(this.underlineThickness=0),this.unitsPerEM==null&&(this.unitsPerEM=0),this.__fontID!=null?b().default.isLocal(this.__fontID)&&this.__fromBytes(b().default.getBytes(this.__fontID)):this.__fontPath!=null&&this.__fromFile(this.__fontPath))};k.__name__="lime.text.Font",k.__isInterface__=!1,k.prototype={decompose:function(){return null},getGlyph:function($){return-1},getGlyphs:function($){return null},getGlyphMetrics:function($){return null},renderGlyph:function($,j){return null},renderGlyphs:function($,j){return null},__copyFrom:function($){$!=null&&(this.ascender=$.ascender,this.descender=$.descender,this.height=$.height,this.name=$.name,this.numGlyphs=$.numGlyphs,this.src=$.src,this.underlinePosition=$.underlinePosition,this.underlineThickness=$.underlineThickness,this.unitsPerEM=$.unitsPerEM,this.__fontID=$.__fontID,this.__fontPath=$.__fontPath,this.__init=!0)},__fromBytes:function($){this.__fontPath=null},__fromFile:function($){this.__fontPath=$},__initializeSource:function(){this.__init=!0},__loadFromName:function($){var j=this,_e=new(c()).default;this.name=$;var et=window.navigator.userAgent.toLowerCase(),nt=et.indexOf(" safari/")>=0&&et.indexOf(" chrome/")<0,rt=new(s()).default("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i").match(et);if(!nt&&!rt&&window.document.fonts&&($_=window.document.fonts,o($_,$_.load)))window.document.fonts.load("1em '"+$+"'").then(function(pt){_e.complete(j)},function(pt){h().default.warn('Could not load web font "'+$+'"',{fileName:"../node_modules/lime/src/lime/text/Font.hx",lineNumber:513,className:"lime.text.Font",methodName:"__loadFromName"}),_e.complete(j)});else{var tt=k.__measureFontNode("'"+$+"', sans-serif"),it=k.__measureFontNode("'"+$+"', serif"),st=tt.offsetWidth,at=it.offsetWidth,_t=-1,ut=3e3,ot=50,lt=0,ft,ht,dt=function(){lt+=1,ft=tt.offsetWidth!=st||it.offsetWidth!=at,ht=lt*ot>=ut,(ft||ht)&&(window.clearInterval(_t),tt.parentNode.removeChild(tt),it.parentNode.removeChild(it),tt=null,it=null,ht&&h().default.warn('Could not load web font "'+$+'"',{fileName:"../node_modules/lime/src/lime/text/Font.hx",lineNumber:548,className:"lime.text.Font",methodName:"__loadFromName"}),_e.complete(j))};_t=window.setInterval(dt,ot)}return _e.future},__setSize:function($){}},k.prototype.__class__=k.prototype.constructor=d["lime.text.Font"]=k,k.fromBytes=function($){if($==null)return null;var j=new k;return j.__fromBytes($),j},k.fromFile=function($){if($==null)return null;var j=new k;return j.__fromFile($),j},k.loadFromBytes=function($){return f().default.withValue(k.fromBytes($))},k.loadFromFile=function($){var j=new(g()).default;return j.load($).then(function(_e){return _e!=null?f().default.withValue(_e):f().default.withError("")})},k.loadFromName=function($){var j=new k;return j.__loadFromName($)},k.__measureFontNode=function($){var j=window.document.createElement("span");j.setAttribute("aria-hidden","true");var _e=window.document.createTextNode("BESbswy");j.appendChild(_e);var et=j.style;return et.display="block",et.position="absolute",et.top="-9999px",et.left="-9999px",et.fontSize="300px",et.width="auto",et.height="auto",et.lineHeight="normal",et.margin="0",et.padding="0",et.fontVariant="normal",et.whiteSpace="nowrap",et.fontFamily=$,window.document.body.appendChild(j),j},e.default=k}(Font$3)),Font$3}var _HTTPRequest_String={},hasRequired_HTTPRequest_String;function require_HTTPRequest_String(){return hasRequired_HTTPRequest_String||(hasRequired_HTTPRequest_String=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireAbstractHTTPRequest()}function h(){return require_Promise()}var f=function(g){s().default.call(this,g)};f.__name__="lime.net._HTTPRequest_String",f.__isInterface__=!1,f.__super__=s().default,f.prototype=c(s().default.prototype,{load:function(g){var b=this;g!=null&&(this.uri=g);var k=new(h()).default,$=this.__backend.loadText(this.uri);return $.onProgress(o(k,k.progress)),$.onError(function(j){b.responseData=j.responseData,k.error(j.error)}),$.onComplete(function(j){b.responseData=j,k.complete(b.responseData)}),k.future}}),f.prototype.__class__=f.prototype.constructor=d["lime.net._HTTPRequest_String"]=f,e.default=f}(_HTTPRequest_String)),_HTTPRequest_String}var AssetManifest$2={},Serializer$1={},ObjectMap={},hasRequiredObjectMap;function requireObjectMap(){return hasRequiredObjectMap||(hasRequiredObjectMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIMap()}function c(){return requireHxOverrides()}function s(){return requireLib$2()}var h=function(){this.h={__keys__:{}}};h.__name__="haxe.ds.ObjectMap",h.__isInterface__=!1,h.__interfaces__=[o().default],h.prototype={set:function(f,g){var b=h.getId(f);b==null&&(b=h.assignId(f)),this.h[b]=g,this.h.__keys__[b]=f},get:function(f){return this.h[h.getId(f)]},exists:function(f){return this.h.__keys__[h.getId(f)]!=null},remove:function(f){var g=h.getId(f);return this.h.__keys__[g]==null?!1:(delete this.h[g],delete this.h.__keys__[g],!0)},keys:function(){var f=[];for(var g in this.h.__keys__)this.h.hasOwnProperty(g)&&f.push(this.h.__keys__[g]);return c().default.iter(f)}},h.prototype.__class__=h.prototype.constructor=d["haxe.ds.ObjectMap"]=h,h.count=0,h.assignId=function(f){return f.__id__=s().default.getNextHaxeUID()},h.getId=function(f){return f.__id__},e.default=h}(ObjectMap)),ObjectMap}var hasRequiredSerializer;function requireSerializer(){return hasRequiredSerializer||(hasRequiredSerializer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringTools()}function c(){return require_Reflect()}function s(){return requireType()}function h(){return requireStd()}function f(){return requireHaxeError()}function g(){return requireIntMap()}function b(){return requireList()}function k(){return requireObjectMap()}function $(){return requireStringMap()}function j(){return requireBytes()}function _e(){return requireHxOverrides()}function et(){return requireStringBuf()}var nt=function(){this.buf=new(et()).default,this.cache=[],this.useCache=nt.USE_CACHE,this.useEnumIndex=nt.USE_ENUM_INDEX,this.shash=new($()).default,this.scount=0};nt.__name__="haxe.Serializer",nt.__isInterface__=!1,nt.prototype={toString:function(){return this.buf.toString()},serializeString:function(rt){var tt=this.shash.get(rt);if(tt!=null){this.buf.add("R"),this.buf.add(tt);return}this.shash.set(rt,this.scount++),this.buf.add("y"),rt=o().default.urlEncode(rt),this.buf.add(rt.length),this.buf.add(":"),this.buf.add(rt)},serializeRef:function(rt){for(var tt=typeof rt,it=0,st=this.cache.length;it<st;){var at=it++,_t=this.cache[at];if(typeof _t==tt&&_t==rt)return this.buf.add("r"),this.buf.add(at),!0}return this.cache.push(rt),!1},serializeFields:function(rt){for(var tt=0,it=c().default.fields(rt);tt<it.length;){var st=it[tt];++tt,this.serializeString(st),this.serialize(c().default.field(rt,st))}this.buf.add("g")},serialize:function(rt){var tt=s().default.typeof(rt);switch(tt._hx_index){case 0:this.buf.add("n");break;case 1:var it=rt;if(it==0){this.buf.add("z");return}this.buf.add("i"),this.buf.add(it);break;case 2:var st=rt;isNaN(st)?this.buf.add("k"):isFinite(st)?(this.buf.add("d"),this.buf.add(st)):this.buf.add(st<0?"m":"p");break;case 3:this.buf.add(rt?"t":"f");break;case 4:if(h().default.is(rt,d.Class)){var at=s().default.getClassName(rt);this.buf.add("A"),this.serializeString(at)}else if(h().default.is(rt,d.Enum))this.buf.add("B"),this.serializeString(s().default.getEnumName(rt));else{if(this.useCache&&this.serializeRef(rt))return;this.buf.add("o"),this.serializeFields(rt)}break;case 5:throw new(f()).default("Cannot serialize function");case 6:var _t=tt.c;if(_t==String){this.serializeString(rt);return}if(this.useCache&&this.serializeRef(rt))return;switch(_t){case Array:var ut=0;this.buf.add("a");for(var ot=rt.length,lt=0,ft=ot;lt<ft;){var ht=lt++;rt[ht]==null?++ut:(ut>0&&(ut==1?this.buf.add("n"):(this.buf.add("u"),this.buf.add(ut)),ut=0),this.serialize(rt[ht]))}ut>0&&(ut==1?this.buf.add("n"):(this.buf.add("u"),this.buf.add(ut))),this.buf.add("h");break;case Date:var dt=rt;this.buf.add("v"),this.buf.add(dt.getTime());break;case g().default:this.buf.add("q");for(var pt=rt,xt=pt.keys();xt.hasNext();){var vt=xt.next();this.buf.add(":"),this.buf.add(vt),this.serialize(pt.get(vt))}this.buf.add("h");break;case b().default:this.buf.add("l");for(var bt=rt,wt=bt.iterator();wt.hasNext();){var At=wt.next();this.serialize(At)}this.buf.add("h");break;case k().default:this.buf.add("M");for(var ct=rt,mt=ct.keys();mt.hasNext();){var gt=mt.next(),Tt=c().default.field(gt,"__id__");c().default.deleteField(gt,"__id__"),this.serialize(gt),c().default.setField(gt,"__id__",Tt),this.serialize(ct.get(gt))}this.buf.add("h");break;case $().default:this.buf.add("b");for(var yt=rt,Et=yt.keys();Et.hasNext();){var Ct=Et.next();this.serializeString(Ct),this.serialize(yt.get(Ct))}this.buf.add("h");break;case j().default:var It=rt;this.buf.add("s"),this.buf.add(Math.ceil(It.get_length()*8/6)),this.buf.add(":");var Rt=0,Ft=It.get_length()-2,Lt=nt.BASE64_CODES;if(Lt==null){var Ot=new Array(nt.BASE64.length);Lt=Ot;for(var Kt=0,qt=nt.BASE64.length;Kt<qt;){var Ht=Kt++;Lt[Ht]=_e().default.cca(nt.BASE64,Ht)}nt.BASE64_CODES=Lt}for(;Rt<Ft;){var Zt=It.get(Rt++),or=It.get(Rt++),ir=It.get(Rt++);this.buf.addChar(Lt[Zt>>2]),this.buf.addChar(Lt[(Zt<<4|or>>4)&63]),this.buf.addChar(Lt[(or<<2|ir>>6)&63]),this.buf.addChar(Lt[ir&63])}if(Rt==Ft){var lr=It.get(Rt++),ar=It.get(Rt++);this.buf.addChar(Lt[lr>>2]),this.buf.addChar(Lt[(lr<<4|ar>>4)&63]),this.buf.addChar(Lt[ar<<2&63])}else if(Rt==Ft+1){var Mt=It.get(Rt++);this.buf.addChar(Lt[Mt>>2]),this.buf.addChar(Lt[Mt<<4&63])}break;default:this.useCache&&this.cache.pop(),rt.hxSerialize!=null?(this.buf.add("C"),this.serializeString(s().default.getClassName(_t)),this.useCache&&this.cache.push(rt),rt.hxSerialize(this),this.buf.add("g")):(this.buf.add("c"),this.serializeString(s().default.getClassName(_t)),this.useCache&&this.cache.push(rt),this.serializeFields(rt))}break;case 7:var kt=tt.e;if(this.useCache){if(this.serializeRef(rt))return;this.cache.pop()}this.buf.add(this.useEnumIndex?"j":"w"),this.serializeString(s().default.getEnumName(kt)),this.useEnumIndex?(this.buf.add(":"),this.buf.add(rt._hx_index)):this.serializeString(s().default.enumConstructor(rt)),this.buf.add(":");var Vt=s().default.enumParameters(rt);this.buf.add(Vt.length);for(var Nt=0;Nt<Vt.length;){var Wt=Vt[Nt];++Nt,this.serialize(Wt)}this.useCache&&this.cache.push(rt);break;default:throw new(f()).default("Cannot serialize "+h().default.string(rt))}}},nt.prototype.__class__=nt.prototype.constructor=d["haxe.Serializer"]=nt,nt.run=function(rt){var tt=new nt;return tt.serialize(rt),tt.toString()},nt.USE_CACHE=!1,nt.USE_ENUM_INDEX=!1,nt.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",nt.BASE64_CODES=null,e.default=nt}(Serializer$1)),Serializer$1}var Unserializer={},NullResolver={},hasRequiredNullResolver;function requireNullResolver(){return hasRequiredNullResolver||(hasRequiredNullResolver=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe._Unserializer.NullResolver",o.__isInterface__=!1,o.prototype={resolveClass:function(c){return null},resolveEnum:function(c){return null}},o.prototype.__class__=o.prototype.constructor=d["haxe._Unserializer.NullResolver"]=o,o.get_instance=function(){return o.instance==null&&(o.instance=new o),o.instance},e.default=o}(NullResolver)),NullResolver}var DefaultResolver={},hasRequiredDefaultResolver;function requireDefaultResolver(){return hasRequiredDefaultResolver||(hasRequiredDefaultResolver=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireType()}var c=function(){};c.__name__="haxe._Unserializer.DefaultResolver",c.__isInterface__=!1,c.prototype={resolveClass:function(s){return o().default.resolveClass(s)},resolveEnum:function(s){return o().default.resolveEnum(s)}},c.prototype.__class__=c.prototype.constructor=d["haxe._Unserializer.DefaultResolver"]=c,e.default=c}(DefaultResolver)),DefaultResolver}var hasRequiredUnserializer;function requireUnserializer(){return hasRequiredUnserializer||(hasRequiredUnserializer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireNullResolver()}function c(){return requireStringTools()}function s(){return requireStd()}function h(){return requireHxOverrides()}function f(){return requireHaxeError()}function g(){return require_Reflect()}function b(){return requireType()}function k(){return requireObjectMap()}function $(){return requireStringMap()}function j(){return requireList()}function _e(){return requireIntMap()}function et(){return requireBytes()}function nt(){return requireDefaultResolver()}var rt=function(tt){this.buf=tt,this.length=tt.length,this.pos=0,this.scache=[],this.cache=[];var it=rt.DEFAULT_RESOLVER;it==null&&(it=new(nt()).default,rt.DEFAULT_RESOLVER=it),this.resolver=it};rt.__name__="haxe.Unserializer",rt.__isInterface__=!1,rt.prototype={setResolver:function(tt){tt==null?this.resolver=o().default.get_instance():this.resolver=tt},get:function(tt){return c().default.fastCodeAt(this.buf,tt)},readDigits:function(){for(var tt=0,it=!1,st=this.pos;;){var at=this.get(this.pos);if(c().default.isEof(at))break;if(at==45){if(this.pos!=st)break;it=!0,this.pos++;continue}if(at<48||at>57)break;tt=tt*10+(at-48),this.pos++}return it&&(tt*=-1),tt},readFloat:function(){for(var tt=this.pos;;){var it=this.get(this.pos);if(c().default.isEof(it))break;if(it>=43&&it<58||it==101||it==69)this.pos++;else break}return s().default.parseFloat(h().default.substr(this.buf,tt,this.pos-tt))},unserializeObject:function(tt){for(;;){if(this.pos>=this.length)throw new(f()).default("Invalid object");if(this.get(this.pos)==103)break;var it=this.unserialize();if(typeof it!="string")throw new(f()).default("Invalid object key");var st=this.unserialize();g().default.setField(tt,it,st)}this.pos++},unserializeEnum:function(tt,it){if(this.get(this.pos++)!=58)throw new(f()).default("Invalid enum format");var st=this.readDigits();if(st==0)return b().default.createEnum(tt,it);for(var at=[];st-- >0;)at.push(this.unserialize());return b().default.createEnum(tt,it,at)},unserialize:function(){switch(this.get(this.pos++)){case 65:var tt=this.unserialize(),it=this.resolver.resolveClass(tt);if(it==null)throw new(f()).default("Class not found "+tt);return it;case 66:var st=this.unserialize(),at=this.resolver.resolveEnum(st);if(at==null)throw new(f()).default("Enum not found "+st);return at;case 67:var _t=this.unserialize(),ut=this.resolver.resolveClass(_t);if(ut==null)throw new(f()).default("Class not found "+_t);var ot=b().default.createEmptyInstance(ut);if(this.cache.push(ot),ot.hxUnserialize(this),this.get(this.pos++)!=103)throw new(f()).default("Invalid custom data");return ot;case 77:var lt=new(k()).default;for(this.cache.push(lt),this.buf;this.get(this.pos)!=104;){var ft=this.unserialize();lt.set(ft,this.unserialize())}return this.pos++,lt;case 82:var ht=this.readDigits();if(ht<0||ht>=this.scache.length)throw new(f()).default("Invalid string reference");return this.scache[ht];case 97:this.buf;var dt=[];for(this.cache.push(dt);;){var pt=this.get(this.pos);if(pt==104){this.pos++;break}if(pt==117){this.pos++;var xt=this.readDigits();dt[dt.length+xt-1]=null}else dt.push(this.unserialize())}return dt;case 98:var vt=new($()).default;for(this.cache.push(vt),this.buf;this.get(this.pos)!=104;){var bt=this.unserialize();vt.set(bt,this.unserialize())}return this.pos++,vt;case 99:var wt=this.unserialize(),At=this.resolver.resolveClass(wt);if(At==null)throw new(f()).default("Class not found "+wt);var ct=b().default.createEmptyInstance(At);return this.cache.push(ct),this.unserializeObject(ct),ct;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:var mt=this.unserialize(),gt=this.resolver.resolveEnum(mt);if(gt==null)throw new(f()).default("Enum not found "+mt);this.pos++;var Tt=this.readDigits(),yt=b().default.getEnumConstructs(gt)[Tt];if(yt==null)throw new(f()).default("Unknown enum index "+mt+"@"+Tt);var Et=this.unserializeEnum(gt,yt);return this.cache.push(Et),Et;case 107:return NaN;case 108:var Ct=new(j()).default;for(this.cache.push(Ct),this.buf;this.get(this.pos)!=104;)Ct.add(this.unserialize());return this.pos++,Ct;case 109:return-1/0;case 110:return null;case 111:var It={};return this.cache.push(It),this.unserializeObject(It),It;case 112:return 1/0;case 113:var Rt=new(_e()).default;this.cache.push(Rt),this.buf;for(var Ft=this.get(this.pos++);Ft==58;){var Lt=this.readDigits();Rt.set(Lt,this.unserialize()),Ft=this.get(this.pos++)}if(Ft!=104)throw new(f()).default("Invalid IntMap format");return Rt;case 114:var Ot=this.readDigits();if(Ot<0||Ot>=this.cache.length)throw new(f()).default("Invalid reference");return this.cache[Ot];case 115:var Kt=this.readDigits(),qt=this.buf;if(this.get(this.pos++)!=58||this.length-this.pos<Kt)throw new(f()).default("Invalid bytes length");var Ht=rt.CODES;Ht==null&&(Ht=rt.initCodes(),rt.CODES=Ht);for(var Zt=this.pos,or=Kt&3,ir=(Kt>>2)*3+(or>=2?or-1:0),lr=Zt+(Kt-or),ar=et().default.alloc(ir),Mt=0;Zt<lr;){var kt=Ht[c().default.fastCodeAt(qt,Zt++)],Vt=Ht[c().default.fastCodeAt(qt,Zt++)];ar.set(Mt++,kt<<2|Vt>>4);var Nt=Ht[c().default.fastCodeAt(qt,Zt++)];ar.set(Mt++,Vt<<4|Nt>>2);var Wt=Ht[c().default.fastCodeAt(qt,Zt++)];ar.set(Mt++,Nt<<6|Wt)}if(or>=2){var Qt=Ht[c().default.fastCodeAt(qt,Zt++)],tr=Ht[c().default.fastCodeAt(qt,Zt++)];if(ar.set(Mt++,Qt<<2|tr>>4),or==3){var sr=Ht[c().default.fastCodeAt(qt,Zt++)];ar.set(Mt++,tr<<4|sr>>2)}}return this.pos+=Kt,this.cache.push(ar),ar;case 116:return!0;case 118:var dr;return this.get(this.pos)>=48&&this.get(this.pos)<=57&&this.get(this.pos+1)>=48&&this.get(this.pos+1)<=57&&this.get(this.pos+2)>=48&&this.get(this.pos+2)<=57&&this.get(this.pos+3)>=48&&this.get(this.pos+3)<=57&&this.get(this.pos+4)==45?(dr=h().default.strDate(h().default.substr(this.buf,this.pos,19)),this.pos+=19):dr=new Date(this.readFloat()),this.cache.push(dr),dr;case 119:var pr=this.unserialize(),cr=this.resolver.resolveEnum(pr);if(cr==null)throw new(f()).default("Enum not found "+pr);var mr=this.unserializeEnum(cr,this.unserialize());return this.cache.push(mr),mr;case 120:throw f().default.wrap(this.unserialize());case 121:var fr=this.readDigits();if(this.get(this.pos++)!=58||this.length-this.pos<fr)throw new(f()).default("Invalid string length");var Bt=h().default.substr(this.buf,this.pos,fr);return this.pos+=fr,Bt=c().default.urlDecode(Bt),this.scache.push(Bt),Bt;case 122:return 0}throw this.pos--,new(f()).default("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)}},rt.prototype.__class__=rt.prototype.constructor=d["haxe.Unserializer"]=rt,rt.initCodes=function(){for(var tt=[],it=0,st=rt.BASE64.length;it<st;){var at=it++;tt[c().default.fastCodeAt(rt.BASE64,at)]=at}return tt},rt.run=function(tt){return new rt(tt).unserialize()},rt.DEFAULT_RESOLVER=new(nt()).default,rt.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",rt.CODES=null,e.default=rt}(Unserializer)),Unserializer}var Path$1={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHxOverrides()}var c=function(s){switch(s){case".":case"..":this.dir=s,this.file="";return}var h=s.lastIndexOf("/"),f=s.lastIndexOf("\\");h<f?(this.dir=o().default.substr(s,0,f),s=o().default.substr(s,f+1,null),this.backslash=!0):f<h?(this.dir=o().default.substr(s,0,h),s=o().default.substr(s,h+1,null)):this.dir=null;var g=s.lastIndexOf(".");g!=-1?(this.ext=o().default.substr(s,g+1,null),this.file=o().default.substr(s,0,g)):(this.ext=null,this.file=s)};c.__name__="haxe.io.Path",c.__isInterface__=!1,c.prototype={toString:function(){return(this.dir==null?"":this.dir+(this.backslash?"\\":"/"))+this.file+(this.ext==null?"":"."+this.ext)}},c.prototype.__class__=c.prototype.constructor=d["haxe.io.Path"]=c,c.withoutDirectory=function(s){var h=new c(s);return h.dir=null,h.toString()},c.directory=function(s){var h=new c(s);return h.dir==null?"":h.dir},c.extension=function(s){var h=new c(s);return h.ext==null?"":h.ext},e.default=c}(Path$1)),Path$1}var hasRequiredAssetManifest;function requireAssetManifest(){return hasRequiredAssetManifest||(hasRequiredAssetManifest=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireSerializer()}function c(){return requireBytes_Impl_()}function s(){return requireFuture()}function h(){return require_Reflect()}function f(){return requireUnserializer()}function g(){return requireHxOverrides()}function b(){return requireStringTools()}function k(){return requirePath()}var $=function(){this.assets=[],this.libraryArgs=[],this.version=2};$.__name__="lime.utils.AssetManifest",$.__isInterface__=!1,$.prototype={serialize:function(){var j={};return j.version=this.version,j.libraryType=this.libraryType,j.libraryArgs=this.libraryArgs,j.name=this.name,j.assets=o().default.run(this.assets),j.rootPath=this.rootPath,JSON.stringify(j)}},$.prototype.__class__=$.prototype.constructor=d["lime.utils.AssetManifest"]=$,$.fromBytes=function(j,_e){return j!=null?$.parse(j.getString(0,j.get_length()),_e):null},$.fromFile=function(j,_e){return j=$.__resolvePath(j),_e=$.__resolveRootPath(_e,j),j==null?null:$.fromBytes(c().default.fromFile(j),_e)},$.loadFromBytes=function(j,_e){return s().default.withValue($.fromBytes(j,_e))},$.loadFromFile=function(j,_e){return j=$.__resolvePath(j),_e=$.__resolveRootPath(_e,j),j==null?null:c().default.loadFromFile(j).then(function(et){return s().default.withValue($.fromBytes(et,_e))})},$.parse=function(j,_e){if(j==null||j=="")return null;var et=JSON.parse(j),nt=new $;if(h().default.hasField(et,"name")&&(nt.name=et.name),h().default.hasField(et,"libraryType")&&(nt.libraryType=et.libraryType),h().default.hasField(et,"libraryArgs")&&(nt.libraryArgs=et.libraryArgs),h().default.hasField(et,"assets")){var rt=et.assets;h().default.hasField(et,"version")&&et.version<=2?nt.assets=f().default.run(rt):nt.assets=rt}return h().default.hasField(et,"rootPath")&&(nt.rootPath=et.rootPath),_e!=null&&_e!=""&&(nt.rootPath==null||nt.rootPath==""?nt.rootPath=_e:nt.rootPath=_e+"/"+nt.rootPath),nt},$.__resolvePath=function(j){if(j==null)return null;var _e=j.indexOf("?"),et;for(_e>-1?et=g().default.substr(j,0,_e):et=j,et=b().default.replace(et,"\\","/");b().default.endsWith(et,"/");)et=g().default.substr(et,0,et.length-1);return b().default.endsWith(et,".bundle")?_e>-1?et+"/library.json"+g().default.substr(j,_e,null):et+"/library.json":j},$.__resolveRootPath=function(j,_e){if(j!=null)return j;var et=_e.indexOf("?");for(et>-1?j=g().default.substr(_e,0,et):j=_e,j=b().default.replace(j,"\\","/");b().default.endsWith(j,"/");){if(j=="/")return j;j=g().default.substr(j,0,j.length-1)}return b().default.endsWith(j,".bundle")?j:k().default.directory(j)},e.default=$}(AssetManifest$2)),AssetManifest$2}var hasRequiredAssetLibrary;function requireAssetLibrary(){return hasRequiredAssetLibrary||(hasRequiredAssetLibrary=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireBoot()}function s(){return requireHaxeError()}function h(){return requireAudioBuffer()}function f(){return requireType()}function g(){return requireBytes()}function b(){return requireBytes_Impl_()}function k(){return requireFont()}function $(){return requireImage()}function j(){return requireFuture()}function _e(){return require_Promise()}function et(){return requireStringMap()}function nt(){return requireLog()}function rt(){return require_HTTPRequest_String()}function tt(){return requireAssets()}function it(){return require_Reflect()}function st(){return requireStd()}function at(){return requireStringTools()}function _t(){return requireHxOverrides()}function ut(){return requireAssetManifest()}function ot(){return require_Event_Void_Void()}var lt=function(){this.types=new(et()).default,this.sizes=new(et()).default,this.preload=new(et()).default,this.paths=new(et()).default,this.pathGroups=new(et()).default,this.classTypes=new(et()).default,this.cachedText=new(et()).default,this.cachedImages=new(et()).default,this.cachedFonts=new(et()).default,this.cachedBytes=new(et()).default,this.cachedAudioBuffers=new(et()).default,this.onChange=new(ot()).default,this.bytesLoaded=0,this.bytesTotal=0};lt.__name__="lime.utils.AssetLibrary",lt.__isInterface__=!1,lt.prototype={exists:function(ft,ht){var dt=ht!=null?c().default.__cast(ht,String):null,pt=this.types.get(ft);return pt!=null&&(pt==dt||(dt=="SOUND"||dt=="MUSIC")&&(pt=="MUSIC"||pt=="SOUND")||dt=="BINARY"||dt==null||pt=="BINARY"&&dt=="TEXT")},getAsset:function(ft,ht){switch(ht){case"BINARY":return this.getBytes(ft);case"FONT":return this.getFont(ft);case"IMAGE":return this.getImage(ft);case"MUSIC":case"SOUND":return this.getAudioBuffer(ft);case"TEMPLATE":throw new(s()).default("Not sure how to get template: "+ft);case"TEXT":return this.getText(ft);default:throw new(s()).default("Unknown asset type: "+ht)}},getAudioBuffer:function(ft){return this.cachedAudioBuffers.exists(ft)?this.cachedAudioBuffers.get(ft):this.classTypes.exists(ft)?h().default.fromBytes(c().default.__cast(f().default.createInstance(this.classTypes.get(ft),[]),g().default)):h().default.fromFile(this.paths.get(ft))},getBytes:function(ft){if(this.cachedBytes.exists(ft))return this.cachedBytes.get(ft);if(this.cachedText.exists(ft)){var ht=b().default.ofString(this.cachedText.get(ft));return this.cachedBytes.set(ft,ht),ht}else return this.classTypes.exists(ft)?c().default.__cast(f().default.createInstance(this.classTypes.get(ft),[]),g().default):b().default.fromFile(this.paths.get(ft))},getFont:function(ft){return this.cachedFonts.exists(ft)?this.cachedFonts.get(ft):this.classTypes.exists(ft)?c().default.__cast(f().default.createInstance(this.classTypes.get(ft),[]),k().default):k().default.fromFile(this.paths.get(ft))},getImage:function(ft){return this.cachedImages.exists(ft)?this.cachedImages.get(ft):this.classTypes.exists(ft)?c().default.__cast(f().default.createInstance(this.classTypes.get(ft),[]),$().default):$().default.fromFile(this.paths.get(ft))},getPath:function(ft){return this.paths.exists(ft)?this.paths.get(ft):this.pathGroups.exists(ft)?this.pathGroups.get(ft)[0]:null},getText:function(ft){if(this.cachedText.exists(ft))return this.cachedText.get(ft);var ht=this.getBytes(ft);return ht==null?null:ht.getString(0,ht.get_length())},isLocal:function(ft,ht){if(this.classTypes.exists(ft))return!0;var dt=c().default.__cast(ht,String);if(dt==null)return this.cachedBytes.exists(ft)||this.cachedText.exists(ft)||this.cachedImages.exists(ft)||this.cachedAudioBuffers.exists(ft)?!0:this.cachedFonts.exists(ft);switch(dt){case"FONT":return this.cachedFonts.exists(ft);case"IMAGE":return this.cachedImages.exists(ft);case"MUSIC":case"SOUND":return this.cachedAudioBuffers.exists(ft);default:return this.cachedBytes.exists(ft)?!0:this.cachedText.exists(ft)}},list:function(ft){for(var ht=ft!=null?c().default.__cast(ft,String):null,dt=[],pt=this.types.keys();pt.hasNext();){var xt=pt.next();(ht==null||this.exists(xt,ft))&&dt.push(xt)}return dt},loadAsset:function(ft,ht){switch(ht){case"BINARY":return this.loadBytes(ft);case"FONT":return this.loadFont(ft);case"IMAGE":return this.loadImage(ft);case"MUSIC":case"SOUND":return this.loadAudioBuffer(ft);case"TEMPLATE":throw new(s()).default("Not sure how to load template: "+ft);case"TEXT":return this.loadText(ft);default:throw new(s()).default("Unknown asset type: "+ht)}},load:function(){if(this.loaded)return j().default.withValue(this);if(this.promise==null){this.promise=new(_e()).default,this.bytesLoadedCache=new(et()).default,this.assetsLoaded=0,this.assetsTotal=1;for(var ft=this.preload.keys();ft.hasNext();){var ht=ft.next();if(this.preload.get(ht)){nt().default.verbose("Preloading asset: "+ht+" ["+this.types.get(ht)+"]",{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:408,className:"lime.utils.AssetLibrary",methodName:"load"});var dt=this.types.get(ht);if(dt!=null)switch(dt){case"BINARY":this.assetsTotal++;var pt=this.loadBytes(ht);pt.onProgress(function(At,ct){return function(mt,gt){ct[0](At[0],mt,gt)}}([ht],[o(this,this.load_onProgress)])),pt.onError(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.load_onError)])),pt.onComplete(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadBytes_onComplete)]));break;case"FONT":this.assetsTotal++;var xt=this.loadFont(ht);xt.onProgress(function(At,ct){return function(mt,gt){ct[0](At[0],mt,gt)}}([ht],[o(this,this.load_onProgress)])),xt.onError(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.load_onError)])),xt.onComplete(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadFont_onComplete)]));break;case"IMAGE":this.assetsTotal++;var vt=this.loadImage(ht);vt.onProgress(function(At,ct){return function(mt,gt){ct[0](At[0],mt,gt)}}([ht],[o(this,this.load_onProgress)])),vt.onError(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.load_onError)])),vt.onComplete(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadImage_onComplete)]));break;case"MUSIC":case"SOUND":this.assetsTotal++;var bt=this.loadAudioBuffer(ht);bt.onProgress(function(At,ct){return function(mt,gt){ct[0](At[0],mt,gt)}}([ht],[o(this,this.load_onProgress)])),bt.onError(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadAudioBuffer_onError)])),bt.onComplete(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadAudioBuffer_onComplete)]));break;case"TEXT":this.assetsTotal++;var wt=this.loadText(ht);wt.onProgress(function(At,ct){return function(mt,gt){ct[0](At[0],mt,gt)}}([ht],[o(this,this.load_onProgress)])),wt.onError(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.load_onError)])),wt.onComplete(function(At,ct){return function(mt){ct[0](At[0],mt)}}([ht],[o(this,this.loadText_onComplete)]));break}}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(ft){return this.cachedAudioBuffers.exists(ft)?j().default.withValue(this.cachedAudioBuffers.get(ft)):this.classTypes.exists(ft)?j().default.withValue(h().default.fromBytes(c().default.__cast(f().default.createInstance(this.classTypes.get(ft),[]),g().default))):this.pathGroups.exists(ft)?h().default.loadFromFiles(this.pathGroups.get(ft)):h().default.loadFromFile(this.paths.get(ft))},loadBytes:function(ft){return this.cachedBytes.exists(ft)?j().default.withValue(this.cachedBytes.get(ft)):this.classTypes.exists(ft)?j().default.withValue(f().default.createInstance(this.classTypes.get(ft),[])):b().default.loadFromFile(this.paths.get(ft))},loadFont:function(ft){if(this.cachedFonts.exists(ft))return j().default.withValue(this.cachedFonts.get(ft));if(this.classTypes.exists(ft)){var ht=f().default.createInstance(this.classTypes.get(ft),[]);return ht.__loadFromName(ht.name)}else return k().default.loadFromName(this.paths.get(ft))},loadImage:function(ft){var ht=this;return this.cachedImages.exists(ft)?j().default.withValue(this.cachedImages.get(ft)):this.classTypes.exists(ft)?j().default.withValue(f().default.createInstance(this.classTypes.get(ft),[])):this.cachedBytes.exists(ft)?$().default.loadFromBytes(this.cachedBytes.get(ft)).then(function(dt){return ht.cachedBytes.remove(ft),ht.cachedImages.set(ft,dt),j().default.withValue(dt)}):$().default.loadFromFile(this.paths.get(ft))},loadText:function(ft){if(this.cachedText.exists(ft))return j().default.withValue(this.cachedText.get(ft));if(this.cachedBytes.exists(ft)||this.classTypes.exists(ft)){var ht=this.getBytes(ft);if(ht==null)return j().default.withValue(null);var dt=ht.getString(0,ht.get_length());return this.cachedText.set(ft,dt),j().default.withValue(dt)}else{var pt=new(rt()).default;return pt.load(this.paths.get(ft))}},unload:function(){this.cachedBytes.clear(),this.cachedFonts.clear(),this.cachedImages.clear(),this.cachedAudioBuffers.clear(),this.cachedText.clear()},__assetLoaded:function(ft){if(this.assetsLoaded++,ft!=null&&nt().default.verbose("Loaded asset: "+ft+" ["+this.types.get(ft)+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:637,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"}),ft!=null){var ht=this.sizes.exists(ft)?this.sizes.get(ft):0;if(!this.bytesLoadedCache.exists(ft))this.bytesLoaded+=ht;else{var dt=this.bytesLoadedCache.get(ft);dt<ht&&(this.bytesLoaded+=ht-dt)}this.bytesLoadedCache.set(ft,ht)}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(ft){return tt().default.__cacheBreak(ft)},__fromBundle:function(ft,ht){if(ht!=null)for(var dt,pt,xt,vt=0,bt=ht.assets;vt<bt.length;){var wt=bt[vt];if(++vt,dt=it().default.hasField(wt,"id")?wt.id:wt.path,pt=ft.data.get(wt.path),it().default.hasField(wt,"type")){switch(xt=wt.type,xt){case"FONT":this.cachedFonts.set(dt,k().default.fromBytes(pt));break;case"IMAGE":this.cachedImages.set(dt,$().default.fromBytes(pt));break;case"MUSIC":case"SOUND":this.cachedAudioBuffers.set(dt,h().default.fromBytes(pt));break;case"TEXT":this.cachedText.set(dt,pt!=null?st().default.string(pt):null);break;default:this.cachedBytes.set(dt,pt)}this.types.set(dt,wt.type)}else this.cachedBytes.set(dt,pt),this.types.set(dt,"BINARY")}else for(var At=0,ct=ft.paths;At<ct.length;){var mt=ct[At];++At,this.cachedBytes.set(mt,ft.data.get(mt)),this.types.set(mt,"BINARY")}},__fromManifest:function(ft){var ht=ft.version>=2,dt,pt,xt,vt,bt=ft.rootPath;bt==null&&(bt=""),bt!=""&&(bt+="/");for(var wt=0,At=ft.assets;wt<At.length;){var ct=At[wt];if(++wt,dt=ht&&it().default.hasField(ct,"size")?ct.size:100,pt=it().default.hasField(ct,"id")?ct.id:ct.path,it().default.hasField(ct,"path")&&this.paths.set(pt,this.__cacheBreak(this.__resolvePath(bt+st().default.string(it().default.field(ct,"path"))))),it().default.hasField(ct,"pathGroup")){xt=it().default.field(ct,"pathGroup");for(var mt=0,gt=xt.length;mt<gt;){var Tt=mt++;xt[Tt]=this.__cacheBreak(this.__resolvePath(bt+xt[Tt]))}this.pathGroups.set(pt,xt)}this.sizes.set(pt,dt),this.types.set(pt,ct.type),it().default.hasField(ct,"preload")&&this.preload.set(pt,it().default.field(ct,"preload")),it().default.hasField(ct,"className")&&(vt=f().default.resolveClass(it().default.field(ct,"className")),this.classTypes.set(pt,vt))}this.bytesTotal=0;for(var yt=0,Et=ft.assets;yt<Et.length;){var Ct=Et[yt];++yt,pt=it().default.hasField(Ct,"id")?Ct.id:Ct.path,this.preload.exists(pt)&&this.preload.get(pt)&&this.sizes.exists(pt)&&(this.bytesTotal+=this.sizes.get(pt))}},__resolvePath:function(ft){ft=at().default.replace(ft,"\\","/");var ht=ft.indexOf(":");if(at().default.startsWith(ft,"http")&&ht>0){var dt=ht+3,pt=_t().default.substr(ft,0,dt);ft=pt+at().default.replace(_t().default.substr(ft,dt,null),"//","/")}else ft=at().default.replace(ft,"//","/");if(ft.indexOf("./")>-1){for(var xt=ft.split("/"),vt=[],bt=0,wt=xt.length;bt<wt;){var At=bt++;xt[At]==".."?At==0||vt[At-1]==".."?vt.push(".."):vt.pop():xt[At]=="."?At==0&&vt.push("."):vt.push(xt[At])}ft=vt.join("/")}return ft},loadAudioBuffer_onComplete:function(ft,ht){if(this.cachedAudioBuffers.set(ft,ht),this.pathGroups.exists(ft))for(var dt=this.pathGroups.get(ft),pt=this.pathGroups.keys();pt.hasNext();){var xt=pt.next();if(xt!=ft)for(var vt=0;vt<dt.length;){var bt=dt[vt];if(++vt,this.pathGroups.get(xt).indexOf(bt)>-1){this.cachedAudioBuffers.set(xt,ht);break}}}this.__assetLoaded(ft)},loadAudioBuffer_onError:function(ft,ht){ht!=null&&ht!=""?nt().default.warn('Could not load "'+ft+'": '+st().default.string(ht),{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:883,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):nt().default.warn('Could not load "'+ft+'"',{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:887,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}),this.loadAudioBuffer_onComplete(ft,new(h()).default)},loadBytes_onComplete:function(ft,ht){this.cachedBytes.set(ft,ht),this.__assetLoaded(ft)},loadFont_onComplete:function(ft,ht){this.cachedFonts.set(ft,ht),this.__assetLoaded(ft)},loadImage_onComplete:function(ft,ht){this.cachedImages.set(ft,ht),this.__assetLoaded(ft)},loadText_onComplete:function(ft,ht){this.cachedText.set(ft,ht),this.__assetLoaded(ft)},load_onError:function(ft,ht){ht!=null&&ht!=""?this.promise.error('Error loading asset "'+ft+'": '+st().default.string(ht)):this.promise.error('Error loading asset "'+ft+'"')},load_onProgress:function(ft,ht,dt){if(ht>0){var pt=this.sizes.get(ft),xt;if(dt>0?(xt=ht/dt,xt>1&&(xt=1),ht=Math.floor(xt*pt)):ht>pt&&(ht=pt),this.bytesLoadedCache.exists(ft)){var vt=this.bytesLoadedCache.get(ft);ht!=vt&&(this.bytesLoaded+=ht-vt)}else this.bytesLoaded+=ht;this.bytesLoadedCache.set(ft,ht),this.promise.progress(this.bytesLoaded,this.bytesTotal)}}},lt.prototype.__class__=lt.prototype.constructor=d["lime.utils.AssetLibrary"]=lt,lt.fromBytes=function(ft,ht){return lt.fromManifest(ut().default.fromBytes(ft,ht))},lt.fromFile=function(ft,ht){return lt.fromManifest(ut().default.fromFile(ft,ht))},lt.fromBundle=function(ft){if(ft.data.exists("library.json")){var ht=ut().default.fromBytes(ft.data.get("library.json"));if(ht!=null){var dt=null;if(ht.libraryType==null)dt=new lt;else{var pt=f().default.resolveClass(ht.libraryType);if(pt!=null)dt=f().default.createInstance(pt,ht.libraryArgs);else return nt().default.warn("Could not find library type: "+ht.libraryType,{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null}return dt.__fromBundle(ft,ht),dt}}else{var xt=new lt;return xt.__fromBundle(ft),xt}return null},lt.fromManifest=function(ft){if(ft==null)return null;var ht=null;if(ft.libraryType==null)ht=new lt;else{var dt=f().default.resolveClass(ft.libraryType);if(dt!=null)ht=f().default.createInstance(dt,ft.libraryArgs);else return nt().default.warn("Could not find library type: "+ft.libraryType,{fileName:"../node_modules/lime/src/lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null}return ht.__fromManifest(ft),ht},lt.loadFromBytes=function(ft,ht){return ut().default.loadFromBytes(ft,ht).then(function(dt){return lt.loadFromManifest(dt)})},lt.loadFromFile=function(ft,ht){return ut().default.loadFromFile(ft,ht).then(function(dt){return lt.loadFromManifest(dt)})},lt.loadFromManifest=function(ft){var ht=lt.fromManifest(ft);return ht!=null?ht.load():j().default.withError("Could not load asset manifest")},e.default=lt}(AssetLibrary$2)),AssetLibrary$2}var hasRequiredAssets;function requireAssets(){return hasRequiredAssets||(hasRequiredAssets=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireAssetCache()}function s(){return require_Event_Void_Void()}function h(){return requireStringMap()}function f(){return requireLibrarySymbol()}function g(){return requireHaxeError()}function b(){return requireLog()}function k(){return requireFuture()}function $(){return require_Promise()}function j(){return requireAssetBundle()}function _e(){return requireAssetLibrary()}function et(){return requirePath()}function nt(){return requireStringTools()}function rt(){return requireAssetManifest()}function tt(){return requireApplication$1()}var it=function(){};it.__name__="lime.utils.Assets",it.__isInterface__=!1,it.prototype={},it.prototype.__class__=it.prototype.constructor=d["lime.utils.Assets"]=it,it.exists=function(st,at){at==null&&(at="BINARY");var _t=new(f()).default(st);return _t.library!=null?_t.exists(at):!1},it.getAsset=function(st,at,_t){if(_t&&it.cache.enabled)switch(at){case"BINARY":case"TEXT":_t=!1;break;case"FONT":var ut=it.cache.font.get(st);if(ut!=null)return ut;break;case"IMAGE":var ot=it.cache.image.get(st);if(it.isValidImage(ot))return ot;break;case"MUSIC":case"SOUND":var lt=it.cache.audio.get(st);if(it.isValidAudio(lt))return lt;break;case"TEMPLATE":throw new(g()).default("Not sure how to get template: "+st);default:return null}var ft=new(f()).default(st);if(ft.library!=null)if(ft.exists(at))if(ft.isLocal(at)){var ht=ft.library.getAsset(ft.symbolName,at);return _t&&it.cache.enabled&&it.cache.set(st,at,ht),ht}else b().default.error(at+' asset "'+st+'" exists, but only asynchronously',{fileName:"../node_modules/lime/src/lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"});else b().default.error("There is no "+at+' asset with an ID of "'+st+'"',{fileName:"../node_modules/lime/src/lime/utils/Assets.hx",lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else b().default.error(it.__libraryNotFound(ft.libraryName),{fileName:"../node_modules/lime/src/lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null},it.getAudioBuffer=function(st,at){return at==null&&(at=!0),it.getAsset(st,"SOUND",at)},it.getBytes=function(st){return it.getAsset(st,"BINARY",!1)},it.getFont=function(st,at){return at==null&&(at=!0),it.getAsset(st,"FONT",at)},it.getImage=function(st,at){return at==null&&(at=!0),it.getAsset(st,"IMAGE",at)},it.getLibrary=function(st){return(st==null||st=="")&&(st="default"),it.libraries.get(st)},it.getPath=function(st){var at=new(f()).default(st);if(at.library!=null){if(at.exists())return at.library.getPath(at.symbolName);b().default.error('There is no asset with an ID of "'+st+'"',{fileName:"../node_modules/lime/src/lime/utils/Assets.hx",lineNumber:224,className:"lime.utils.Assets",methodName:"getPath"})}else b().default.error(it.__libraryNotFound(at.libraryName),{fileName:"../node_modules/lime/src/lime/utils/Assets.hx",lineNumber:229,className:"lime.utils.Assets",methodName:"getPath"});return null},it.getText=function(st){return it.getAsset(st,"TEXT",!1)},it.hasLibrary=function(st){return(st==null||st=="")&&(st="default"),it.libraries.exists(st)},it.isLocal=function(st,at,_t){if(_t==null&&(_t=!0),_t&&it.cache.enabled&&it.cache.exists(st,at))return!0;var ut=new(f()).default(st);return ut.library!=null?ut.isLocal(at):!1},it.isValidAudio=function(st){return st!=null},it.isValidImage=function(st){return st!=null?st.buffer!=null:!1},it.list=function(st){for(var at=[],_t=it.libraries.iterator();_t.hasNext();){var ut=_t.next(),ot=ut.list(st);ot!=null&&(at=at.concat(ot))}return at},it.loadAsset=function(st,at,_t){if(_t&&it.cache.enabled)switch(at){case"BINARY":case"TEXT":_t=!1;break;case"FONT":var ut=it.cache.font.get(st);if(ut!=null)return k().default.withValue(ut);break;case"IMAGE":var ot=it.cache.image.get(st);if(it.isValidImage(ot))return k().default.withValue(ot);break;case"MUSIC":case"SOUND":var lt=it.cache.audio.get(st);if(it.isValidAudio(lt))return k().default.withValue(lt);break;case"TEMPLATE":throw new(g()).default("Not sure how to get template: "+st);default:return null}var ft=new(f()).default(st);if(ft.library!=null)if(ft.exists(at)){var ht=ft.library.loadAsset(ft.symbolName,at);return _t&&it.cache.enabled&&ht.onComplete(function(dt){it.cache.set(st,at,dt)}),ht}else return k().default.withError("There is no "+at+' asset with an ID of "'+st+'"');else return k().default.withError(it.__libraryNotFound(ft.libraryName))},it.loadAudioBuffer=function(st,at){return at==null&&(at=!0),it.loadAsset(st,"SOUND",at)},it.loadBytes=function(st){return it.loadAsset(st,"BINARY",!1)},it.loadFont=function(st,at){return at==null&&(at=!0),it.loadAsset(st,"FONT",at)},it.loadImage=function(st,at){return at==null&&(at=!0),it.loadAsset(st,"IMAGE",at)},it.loadLibrary=function(st){var at=new($()).default,_t=it.getLibrary(st);if(_t!=null)return _t.load();var ut=st,ot=null;return it.bundlePaths.exists(st)?j().default.loadFromFile(it.bundlePaths.get(st)).onComplete(function(lt){if(lt==null){at.error('Cannot load bundle for library "'+st+'"');return}var ft=_e().default.fromBundle(lt);if(ft==null)at.error('Cannot open library "'+st+'"');else{it.libraries.set(st,ft),ft.onChange.add(($_=it.onChange,o($_,$_.dispatch)));var ht=ft.load();at.completeWith(ht)}}).onError(function(lt){at.error('There is no asset library with an ID of "'+st+'"')}):(it.libraryPaths.exists(st)?(ut=it.libraryPaths.get(st),ot=et().default.directory(ut)):(nt().default.endsWith(ut,".bundle")?(ot=ut,ut+="/library.json"):ot=et().default.directory(ut),ut=it.__cacheBreak(ut)),rt().default.loadFromFile(ut,ot).onComplete(function(lt){if(lt==null){at.error('Cannot parse asset manifest for library "'+st+'"');return}var ft=_e().default.fromManifest(lt);if(ft==null)at.error('Cannot open library "'+st+'"');else{it.libraries.set(st,ft),ft.onChange.add(($_=it.onChange,o($_,$_.dispatch)));var ht=ft.load();at.completeWith(ht)}}).onError(function(lt){at.error('There is no asset library with an ID of "'+st+'"')})),at.future},it.loadText=function(st){return it.loadAsset(st,"TEXT",!1)},it.registerLibrary=function(st,at){if((st==null||st=="")&&(st="default"),it.libraries.exists(st)){if(it.libraries.get(st)==at)return;it.unloadLibrary(st)}at!=null&&at.onChange.add(it.library_onChange),it.libraries.set(st,at)},it.unloadLibrary=function(st){(st==null||st=="")&&(st="default");var at=it.libraries.get(st);at!=null&&(it.cache.clear(st+":"),at.onChange.remove(it.library_onChange),at.unload()),it.libraries.remove(st)},it.__cacheBreak=function(st){return st},it.__libraryNotFound=function(st){return(st==null||st=="")&&(st="default"),tt().default.current!=null&&tt().default.current.get_preloader()!=null&&!tt().default.current.get_preloader().complete?'There is no asset library named "'+st+'", or it is not yet preloaded':'There is no asset library named "'+st+'"'},it.library_onChange=function(){it.cache.clear(),it.onChange.dispatch()},it.cache=new(c()).default,it.onChange=new(s()).default,it.bundlePaths=new(h()).default,it.libraries=new(h()).default,it.libraryPaths=new(h()).default,e.default=it}(Assets$3)),Assets$3}var hasRequiredPreloader;function requirePreloader(){return hasRequiredPreloader||(hasRequiredPreloader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireLog()}function s(){return requireStd()}function h(){return requireAssets()}function f(){return requireStringMap()}function g(){return requireObjectMap()}function b(){return require_Event_Int_Int_Void()}function k(){return require_Event_Void_Void()}var $=function(){this.bytesTotalCache=new(f()).default,this.bytesLoadedCache2=new(f()).default,this.bytesLoadedCache=new(g()).default,this.onProgress=new(b()).default,this.onComplete=new(k()).default,this.bytesLoaded=0,this.bytesTotal=0,this.libraries=[],this.libraryNames=[],this.onProgress.add(o(this,this.update))};$.__name__="lime.utils.Preloader",$.__isInterface__=!1,$.prototype={addLibrary:function(j){this.libraries.push(j)},addLibraryName:function(j){this.libraryNames.indexOf(j)==-1&&this.libraryNames.push(j)},load:function(){for(var j=this,_e=0,et=this.libraries;_e<et.length;){var nt=et[_e];++_e,this.bytesTotal+=nt.bytesTotal}this.loadedLibraries=-1,this.preloadStarted=!1;for(var rt=0,tt=this.libraries;rt<tt.length;){var it=[tt[rt]];++rt,c().default.verbose("Preloading asset library",{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:134,className:"lime.utils.Preloader",methodName:"load"}),it[0].load().onProgress(function(_t){return function(ut,ot){j.bytesLoadedCache.exists(_t[0])?j.bytesLoaded+=ut-j.bytesLoadedCache.get(_t[0]):j.bytesLoaded+=ut,j.bytesLoadedCache.set(_t[0],ut),j.simulateProgress||j.onProgress.dispatch(j.bytesLoaded,j.bytesTotal)}}(it)).onComplete(function(_t){return function(ut){j.bytesLoadedCache.exists(_t[0])?j.bytesLoaded+=s().default.int(_t[0].bytesTotal)-j.bytesLoadedCache.get(_t[0]):j.bytesLoaded+=_t[0].bytesTotal,j.loadedAssetLibrary()}}(it)).onError(function(){return function(_t){c().default.error(_t,{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:170,className:"lime.utils.Preloader",methodName:"load"})}}())}for(var st=0,at=this.libraryNames;st<at.length;)at[st],++st,this.bytesTotal+=200;this.loadedLibraries++,this.preloadStarted=!0,this.updateProgress()},loadedAssetLibrary:function(j){this.loadedLibraries++;var _e=this.loadedLibraries;this.preloadStarted||++_e;var et=this.libraries.length+this.libraryNames.length;j!=null?c().default.verbose("Loaded asset library: "+j+" ["+_e+"/"+et+"]",{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:197,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):c().default.verbose("Loaded asset library ["+_e+"/"+et+"]",{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:201,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}),this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(j,_e){},updateProgress:function(){var j=this;if(this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal),this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var _e=0,et=this.libraryNames;_e<et.length;){var nt=[et[_e]];++_e,c().default.verbose("Preloading asset library: "+nt[0],{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:239,className:"lime.utils.Preloader",methodName:"updateProgress"}),h().default.loadLibrary(nt[0]).onProgress(function(rt){return function(tt,it){it>0&&(j.bytesTotalCache.exists(rt[0])||(j.bytesTotalCache.set(rt[0],it),j.bytesTotal+=it-200),tt>it&&(tt=it),j.bytesLoadedCache2.exists(rt[0])?j.bytesLoaded+=tt-j.bytesLoadedCache2.get(rt[0]):j.bytesLoaded+=tt,j.bytesLoadedCache2.set(rt[0],tt),j.simulateProgress||j.onProgress.dispatch(j.bytesLoaded,j.bytesTotal))}}(nt)).onComplete(function(rt){return function(tt){var it=200;j.bytesTotalCache.exists(rt[0])&&(it=j.bytesTotalCache.get(rt[0])),j.bytesLoadedCache2.exists(rt[0])?j.bytesLoaded+=it-j.bytesLoadedCache2.get(rt[0]):j.bytesLoaded+=it,j.loadedAssetLibrary(rt[0])}}(nt)).onError(function(){return function(rt){c().default.error(rt,{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:293,className:"lime.utils.Preloader",methodName:"updateProgress"})}}())}}!this.simulateProgress&&this.loadedLibraries==this.libraries.length+this.libraryNames.length&&(this.preloadComplete||(this.preloadComplete=!0,c().default.verbose("Preload complete",{fileName:"../node_modules/lime/src/lime/utils/Preloader.hx",lineNumber:306,className:"lime.utils.Preloader",methodName:"updateProgress"})),this.start())}},$.prototype.__class__=$.prototype.constructor=d["lime.utils.Preloader"]=$,e.default=$}(Preloader$2)),Preloader$2}var hasRequiredApplication$1;function requireApplication$1(){return hasRequiredApplication$1||(hasRequiredApplication$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireModule()}function h(){return requireHxOverrides()}function f(){return requireWindow$2()}function g(){return requireGamepad()}function b(){return requireJoystick()}function k(){return requireTouch()}function $(){return requireSystem()}function j(){return require_Event_lime_ui_Window_Void()}function _e(){return require_Event_Int_Void()}function et(){return requireStringMap()}function nt(){return requireIntMap()}function rt(){return requireHTML5Application()}function tt(){return requirePreloader()}var it=function(){this.onCreateWindow=new(j()).default,this.onUpdate=new(_e()).default,s().default.call(this),it.current==null&&(it.current=this),this.meta=new(et()).default,this.modules=[],this.__windowByID=new(nt()).default,this.__windows=[],this.__backend=new(rt()).default(this),this.__registerLimeModule(this),this.__preloader=new(tt()).default,this.__preloader.onProgress.add(o(this,this.onPreloadProgress)),this.__preloader.onComplete.add(o(this,this.onPreloadComplete))};it.__name__="lime.app.Application",it.__isInterface__=!1,it.__super__=s().default,it.prototype=c(s().default.prototype,{addModule:function(at){at.__registerLimeModule(this),this.modules.push(at)},createWindow:function(at){var _t=this.__createWindow(at);return this.__addWindow(_t),_t},exec:function(){return it.current=this,this.__backend.exec()},onGamepadAxisMove:function(at,_t,ut){},onGamepadButtonDown:function(at,_t){},onGamepadButtonUp:function(at,_t){},onGamepadConnect:function(at){},onGamepadDisconnect:function(at){},onJoystickAxisMove:function(at,_t,ut){},onJoystickButtonDown:function(at,_t){},onJoystickButtonUp:function(at,_t){},onJoystickConnect:function(at){},onJoystickDisconnect:function(at){},onJoystickHatMove:function(at,_t,ut){},onJoystickTrackballMove:function(at,_t,ut,ot){},onKeyDown:function(at,_t){},onKeyUp:function(at,_t){},onModuleExit:function(at){},onMouseDown:function(at,_t,ut){},onMouseMove:function(at,_t){},onMouseMoveRelative:function(at,_t){},onMouseUp:function(at,_t,ut){},onMouseWheel:function(at,_t,ut){},onPreloadComplete:function(){},onPreloadProgress:function(at,_t){},onRenderContextLost:function(){},onRenderContextRestored:function(at){},onTextEdit:function(at,_t,ut){},onTextInput:function(at){},onTouchCancel:function(at){},onTouchEnd:function(at){},onTouchMove:function(at){},onTouchStart:function(at){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(at){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(at,_t){},onWindowMinimize:function(){},onWindowResize:function(at,_t){},onWindowRestore:function(){},removeModule:function(at){at!=null&&(at.__unregisterLimeModule(this),h().default.remove(this.modules,at))},render:function(at){},update:function(at){},__addWindow:function(at){if(at!=null){this.__windows.push(at),this.__windowByID.set(at.id,at);var _t=o(this,this.__onWindowClose),ut=at,ot=function(){_t(ut)};at.onClose.add(ot,!1,-1e4),this.__window==null&&(this.__window=at,at.onActivate.add(o(this,this.onWindowActivate)),at.onRenderContextLost.add(o(this,this.onRenderContextLost)),at.onRenderContextRestored.add(o(this,this.onRenderContextRestored)),at.onDeactivate.add(o(this,this.onWindowDeactivate)),at.onDropFile.add(o(this,this.onWindowDropFile)),at.onEnter.add(o(this,this.onWindowEnter)),at.onExpose.add(o(this,this.onWindowExpose)),at.onFocusIn.add(o(this,this.onWindowFocusIn)),at.onFocusOut.add(o(this,this.onWindowFocusOut)),at.onFullscreen.add(o(this,this.onWindowFullscreen)),at.onKeyDown.add(o(this,this.onKeyDown)),at.onKeyUp.add(o(this,this.onKeyUp)),at.onLeave.add(o(this,this.onWindowLeave)),at.onMinimize.add(o(this,this.onWindowMinimize)),at.onMouseDown.add(o(this,this.onMouseDown)),at.onMouseMove.add(o(this,this.onMouseMove)),at.onMouseMoveRelative.add(o(this,this.onMouseMoveRelative)),at.onMouseUp.add(o(this,this.onMouseUp)),at.onMouseWheel.add(o(this,this.onMouseWheel)),at.onMove.add(o(this,this.onWindowMove)),at.onRender.add(o(this,this.render)),at.onResize.add(o(this,this.onWindowResize)),at.onRestore.add(o(this,this.onWindowRestore)),at.onTextEdit.add(o(this,this.onTextEdit)),at.onTextInput.add(o(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(at)}},__createWindow:function(at){var _t=new(f()).default(this,at);return _t.id==-1?null:_t},__registerLimeModule:function(at){at.onUpdate.add(o(this,this.update)),at.onExit.add(o(this,this.onModuleExit),!1,0),at.onExit.add(o(this,this.__onModuleExit),!1,-1e3);for(var _t=g().default.devices.iterator();_t.hasNext();){var ut=_t.next();this.__onGamepadConnect(ut)}g().default.onConnect.add(o(this,this.__onGamepadConnect));for(var ot=b().default.devices.iterator();ot.hasNext();){var lt=ot.next();this.__onJoystickConnect(lt)}b().default.onConnect.add(o(this,this.__onJoystickConnect)),k().default.onCancel.add(o(this,this.onTouchCancel)),k().default.onStart.add(o(this,this.onTouchStart)),k().default.onMove.add(o(this,this.onTouchMove)),k().default.onEnd.add(o(this,this.onTouchEnd))},__removeWindow:function(at){at!=null&&this.__windowByID.exists(at.id)&&(this.__window==at&&(this.__window=null),h().default.remove(this.__windows,at),this.__windowByID.remove(at.id),at.close(),this.__checkForAllWindowsClosed())},__checkForAllWindowsClosed:function(){this.__windows.length==0&&$().default.exit(0)},__onGamepadConnect:function(at){this.onGamepadConnect(at);var _t=o(this,this.onGamepadAxisMove),ut=at,ot=function(At,ct){_t(ut,At,ct)};at.onAxisMove.add(ot);var lt=o(this,this.onGamepadButtonDown),ft=at,ht=function(At){lt(ft,At)};at.onButtonDown.add(ht);var dt=o(this,this.onGamepadButtonUp),pt=at,xt=function(At){dt(pt,At)};at.onButtonUp.add(xt);var vt=o(this,this.onGamepadDisconnect),bt=at,wt=function(){vt(bt)};at.onDisconnect.add(wt)},__onJoystickConnect:function(at){this.onJoystickConnect(at);var _t=o(this,this.onJoystickAxisMove),ut=at,ot=function(Et,Ct){_t(ut,Et,Ct)};at.onAxisMove.add(ot);var lt=o(this,this.onJoystickButtonDown),ft=at,ht=function(Et){lt(ft,Et)};at.onButtonDown.add(ht);var dt=o(this,this.onJoystickButtonUp),pt=at,xt=function(Et){dt(pt,Et)};at.onButtonUp.add(xt);var vt=o(this,this.onJoystickDisconnect),bt=at,wt=function(){vt(bt)};at.onDisconnect.add(wt);var At=o(this,this.onJoystickHatMove),ct=at,mt=function(Et,Ct){At(ct,Et,Ct)};at.onHatMove.add(mt);var gt=o(this,this.onJoystickTrackballMove),Tt=at,yt=function(Et,Ct,It){gt(Tt,Et,Ct,It)};at.onTrackballMove.add(yt)},__onModuleExit:function(at){this.onExit.canceled||(this.__unregisterLimeModule(this),this.__backend.exit(),it.current==this&&(it.current=null))},__onWindowClose:function(at){this.get_window()==at&&this.onWindowClose(),this.__removeWindow(at)},__unregisterLimeModule:function(at){at.onUpdate.remove(o(this,this.update)),at.onExit.remove(o(this,this.__onModuleExit)),at.onExit.remove(o(this,this.onModuleExit)),g().default.onConnect.remove(o(this,this.__onGamepadConnect)),b().default.onConnect.remove(o(this,this.__onJoystickConnect)),k().default.onCancel.remove(o(this,this.onTouchCancel)),k().default.onStart.remove(o(this,this.onTouchStart)),k().default.onMove.remove(o(this,this.onTouchMove)),k().default.onEnd.remove(o(this,this.onTouchEnd))},get_preloader:function(){return this.__preloader},get_window:function(){return this.__window},get_windows:function(){return this.__windows}}),it.prototype.__class__=it.prototype.constructor=d["lime.app.Application"]=it;{rt().default;var st=it.prototype;Object.defineProperties(st,{preloader:{get:st.get_preloader},window:{get:st.get_window},windows:{get:st.get_windows}})}e.default=it}(Application$1)),Application$1}var hasRequiredClipboard;function requireClipboard(){return hasRequiredClipboard||(hasRequiredClipboard=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Event_Void_Void()}function c(){return requireApplication$1()}var s=function(){};s.__name__="lime.system.Clipboard",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["lime.system.Clipboard"]=s,s.__update=function(){var h=s._text;s._text=null,s.__updated=!0,s._text!=h&&s.onUpdate.dispatch()},s.get_text=function(){return s.__update(),s._text},s.set_text=function(h){var f=s._text;s._text=h;var g=c().default.current.get_window();return g!=null&&g.__backend.setClipboard(h),s._text!=f&&s.onUpdate.dispatch(),h},s.onUpdate=new(o()).default,s.__updated=!1,e.default=s}(Clipboard$1)),Clipboard$1}var Lib$8={},hasRequiredLib$1;function requireLib$1(){return hasRequiredLib$1||(hasRequiredLib$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringMap()}function c(){return requireLog()}var s=function(){};s.__name__="openfl.utils._internal.Lib",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.utils._internal.Lib"]=s,s.notImplemented=function(h){var f=h.className+"."+h.methodName;s.__sentWarnings.exists(f)||(s.__sentWarnings.set(f,!0),c().default.warn(h.methodName+" is not implemented",h))},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{notImplemented:{SuppressWarnings:["checkstyle:NullableParameter"]}}},s.__sentWarnings=new(o()).default,e.default=s}(Lib$8)),Lib$8}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireClipboard()}function c(){return requireStd()}function s(){return requireLib$1()}var h=function(){};h.__name__="openfl.desktop.Clipboard",h.__isInterface__=!1,h.prototype={clear:function(){if(this.__systemClipboard){o().default.set_text(null);return}this.__htmlText=null,this.__richText=null,this.__text=null},clearData:function(b){if(this.__systemClipboard){switch(b){case"air:html":case"air:rtf":case"air:text":o().default.set_text(null);break}return}switch(b){case"air:html":this.__htmlText=null;break;case"air:rtf":this.__richText=null;break;case"air:text":this.__text=null;break}},getData:function(b,k){if(this.__systemClipboard)switch(b){case"air:html":case"air:rtf":case"air:text":return o().default.get_text();default:return null}switch(b){case"air:html":return this.__htmlText;case"air:rtf":return this.__richText;case"air:text":return this.__text;default:return null}},hasFormat:function(b){if(this.__systemClipboard)switch(b){case"air:html":case"air:rtf":case"air:text":return o().default.get_text()!=null;default:return!1}switch(b){case"air:html":return this.__htmlText!=null;case"air:rtf":return this.__richText!=null;case"air:text":return this.__text!=null;default:return!1}},setData:function(b,k,$){if(this.__systemClipboard)switch(b){case"air:html":case"air:rtf":case"air:text":var j=k;return o().default.set_text(j==null?null:c().default.string(j)),!0;default:return!1}switch(b){case"air:html":var _e=k;return this.__htmlText=_e==null?null:c().default.string(_e),!0;case"air:rtf":var et=k;return this.__richText=et==null?null:c().default.string(et),!0;case"air:text":var nt=k;return this.__text=nt==null?null:c().default.string(nt),!0;default:return!1}},setDataHandler:function(b,k,$){return s().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/desktop/Clipboard.hx",lineNumber:509,className:"openfl.desktop.Clipboard",methodName:"setDataHandler"}),!1},get_formats:function(){var b=[];return this.hasFormat("air:html")&&b.push("air:html"),this.hasFormat("air:rtf")&&b.push("air:rtf"),this.hasFormat("air:text")&&b.push("air:text"),b}},h.prototype.__class__=h.prototype.constructor=d["openfl.desktop.Clipboard"]=h;{commonjsGlobal.Object.defineProperty(h,"generalClipboard",{get:function(){return h.get_generalClipboard()}});var f=h.prototype,g=function(){return this.get_formats()};commonjsGlobal.Object.defineProperty(f,"formats",{get:g})}h.get_generalClipboard=function(){return h.__generalClipboard==null&&(h.__generalClipboard=new h,h.__generalClipboard.__systemClipboard=!0),h.__generalClipboard},h.__meta__={fields:{setDataHandler:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=h})(Clipboard$2);var Clipboard=Clipboard$2,ClipboardFormats={};Object.defineProperty(ClipboardFormats,"__esModule",{value:!0});ClipboardFormats.ClipboardFormats=ClipboardFormats.default={HTML_FORMAT:"air:html",RICH_TEXT_FORMAT:"air:rtf",TEXT_FORMAT:"air:text"};var ClipboardTransferMode={};Object.defineProperty(ClipboardTransferMode,"__esModule",{value:!0});ClipboardTransferMode.ClipboardTransferMode=ClipboardTransferMode.default={CLONE_ONLY:"cloneOnly",CLONE_PREFERRED:"clonePreferred",ORIGINAL_ONLY:"originalOnly",ORIGINAL_PREFERRED:"originalPreferred"};var desktop={Clipboard:Clipboard.default,ClipboardFormats:ClipboardFormats.default,ClipboardTransferMode:ClipboardTransferMode.default},Bitmap$2={},DisplayObject$1={},IBitmapDrawable$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.IBitmapDrawable",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.IBitmapDrawable"]=o,e.default=o})(IBitmapDrawable$1);var EventDispatcher$1={},IEventDispatcher$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.events.IEventDispatcher",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.events.IEventDispatcher"]=o,e.default=o})(IEventDispatcher$1);var Listener={},hasRequiredListener;function requireListener(){return hasRequiredListener||(hasRequiredListener=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(s,h,f,g){g&&c.supportsWeakReference?this.weakRefCallback=new WeakRef(s):this.callback=s,this.useCapture=h,this.priority=f,this.useWeakReference=g};c.__name__="openfl.events._EventDispatcher.Listener",c.__isInterface__=!1,c.prototype={match:function(s,h){var f=this.callback;return this.weakRefCallback!=null&&(f=this.weakRefCallback.deref(),f==null)?!1:o().default.compareMethods(f,s)?this.useCapture==h:!1}},c.prototype.__class__=c.prototype.constructor=d["openfl.events._EventDispatcher.Listener"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},c.supportsWeakReference=o().default.hasField(_,"WeakRef"),e.default=c}(Listener)),Listener}var DispatchIterator={},hasRequiredDispatchIterator;function requireDispatchIterator(){return hasRequiredDispatchIterator||(hasRequiredDispatchIterator=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){this.active=!1,this.reset(c)};o.__name__="openfl.events._EventDispatcher.DispatchIterator",o.__isInterface__=!1,o.prototype={copy:function(){this.isCopy||(this.list=this.list.slice(),this.isCopy=!0)},hasNext:function(){return this.index<this.list.length},next:function(){return this.list[this.index++]},remove:function(c,s){if(this.active)if(!this.isCopy)s<this.index&&this.index--;else for(var h=this.index,f=this.list.length;h<f;){var g=h++;if(this.list[g]==c){this.list.splice(g,1);break}}},reset:function(c){this.list=c,this.isCopy=!1,this.index=0},start:function(){this.active=!0},stop:function(){this.active=!1}},o.prototype.__class__=o.prototype.constructor=d["openfl.events._EventDispatcher.DispatchIterator"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(DispatchIterator)),DispatchIterator}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IEventDispatcher$1}function c(){return requireStringMap()}function s(){return requireListener()}function h(){return requireDispatchIterator()}function f(){return requireType()}function g(){return requireHxOverrides()}var b=function(k){k!=null&&(this.__targetDispatcher=k)};b.__name__="openfl.events.EventDispatcher",b.__isInterface__=!1,b.__interfaces__=[o().default],b.prototype={addEventListener:function(k,$,j,_e,et){if(et==null&&(et=!1),_e==null&&(_e=0),j==null&&(j=!1),$!=null)if(this.__eventMap==null&&(this.__eventMap=new(c()).default,this.__iterators=new(c()).default),this.__eventMap.exists(k)){for(var tt=this.__eventMap.get(k),it=0,st=tt.length;it<st;){var at=it++;if(tt[at].match($,j))return}for(var _t=this.__iterators.get(k),ut=0;ut<_t.length;){var ot=_t[ut];++ut,ot.active&&ot.copy()}this.__addListenerByPriority(tt,new(s()).default($,j,_e,et))}else{var nt=[];nt.push(new(s()).default($,j,_e,et));var rt=new(h()).default(nt);this.__eventMap.set(k,nt),this.__iterators.set(k,[rt])}},dispatchEvent:function(k){return this.__targetDispatcher!=null?k.target=this.__targetDispatcher:k.target=this,this.__dispatchEvent(k)},hasEventListener:function(k){return this.__eventMap==null?!1:this.__eventMap.exists(k)},removeEventListener:function(k,$,j){if(j==null&&(j=!1),!(this.__eventMap==null||$==null)){var _e=this.__eventMap.get(k);if(_e!=null){for(var et=this.__iterators.get(k),nt=0,rt=_e.length;nt<rt;){var tt=nt++;if(_e[tt].match($,j)){for(var it=0;it<et.length;){var st=et[it];++it,st.remove(_e[tt],tt)}_e.splice(tt,1);break}}_e.length==0&&(this.__eventMap.remove(k),this.__iterators.remove(k)),this.__eventMap.iterator().hasNext()||(this.__eventMap=null,this.__iterators=null)}}},toString:function(){var k=f().default.getClassName(f().default.getClass(this)),$=k.split(".").pop();return"[object "+$+"]"},willTrigger:function(k){return this.hasEventListener(k)},__dispatchEvent:function(k){if(this.__eventMap==null||k==null)return!0;var $=k.type,j=this.__eventMap.get($);if(j==null)return!0;k.target==null&&(this.__targetDispatcher!=null?k.target=this.__targetDispatcher:k.target=this),k.currentTarget=this;var _e=k.eventPhase==1,et=this.__iterators.get($),nt=et[0];nt.active&&(nt=new(h()).default(j),et.push(nt)),nt.start();for(var rt=nt;rt.hasNext();){var tt=rt.next();if(tt!=null&&tt.useCapture==_e){if(tt.useWeakReference&&tt.weakRefCallback!=null){var it=tt.weakRefCallback.deref();if(it==null){var st=nt.index-1;j.splice(st,1),nt.remove(tt,st)}else it(k)}else tt.callback(k);if(k.__isCanceledNow)break}}return nt.stop(),nt!=et[0]?g().default.remove(et,nt):nt.reset(j),!k.isDefaultPrevented()},__removeAllListeners:function(){this.__eventMap=null,this.__iterators=null},__addListenerByPriority:function(k,$){for(var j=k.length,_e=j,et=0,nt=j;et<nt;){var rt=et++;if(k[rt].priority<$.priority){_e=rt;break}}k.splice(_e,0,$)}},b.prototype.__class__=b.prototype.constructor=d["openfl.events.EventDispatcher"]=b,e.default=b})(EventDispatcher$1);var RenderEvent$1={},Event$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return require_Reflect()}function s(){return requireStd()}var h=function(f,g,b){b==null&&(b=!1),g==null&&(g=!1),this.type=f,this.bubbles=g,this.cancelable=b,this.eventPhase=2};h.__name__="openfl.events.Event",h.__isInterface__=!1,h.prototype={clone:function(){var f=new h(this.type,this.bubbles,this.cancelable);return f.eventPhase=this.eventPhase,f.target=this.target,f.currentTarget=this.currentTarget,f},formatToString:function(f,g,b,k,$,j){var _e=[];return g!=null&&_e.push(g),b!=null&&_e.push(b),k!=null&&_e.push(k),$!=null&&_e.push($),j!=null&&_e.push(j),c().default.callMethod(this,o(this,this.__formatToString),[f,_e])},isDefaultPrevented:function(){return this.__preventDefault},preventDefault:function(){this.cancelable&&(this.__preventDefault=!0)},stopImmediatePropagation:function(){this.__isCanceled=!0,this.__isCanceledNow=!0},stopPropagation:function(){this.__isCanceled=!0},toString:function(){return this.__formatToString("Event",["type","bubbles","cancelable"])},__formatToString:function(f,g){for(var b="["+f,k=null,$=0;$<g.length;){var j=g[$];++$,k=c().default.field(this,j),typeof k=="string"?b+=" "+j+'="'+s().default.string(k)+'"':b+=" "+j+"="+s().default.string(k)}return b+="]",b},__init:function(){this.target=null,this.currentTarget=null,this.bubbles=!1,this.cancelable=!1,this.eventPhase=2,this.__isCanceled=!1,this.__isCanceledNow=!1,this.__preventDefault=!1}},h.prototype.__class__=h.prototype.constructor=d["openfl.events.Event"]=h,h.ACTIVATE="activate",h.ADDED="added",h.ADDED_TO_STAGE="addedToStage",h.CANCEL="cancel",h.CHANGE="change",h.CLEAR="clear",h.CLOSING="closing",h.CLOSE="close",h.COMPLETE="complete",h.CONNECT="connect",h.CONTEXT3D_CREATE="context3DCreate",h.COPY="copy",h.CUT="cut",h.DEACTIVATE="deactivate",h.ENTER_FRAME="enterFrame",h.EXIT_FRAME="exitFrame",h.EXITING="exiting",h.FRAME_CONSTRUCTED="frameConstructed",h.FRAME_LABEL="frameLabel",h.FULLSCREEN="fullScreen",h.ID3="id3",h.INIT="init",h.MOUSE_LEAVE="mouseLeave",h.OPEN="open",h.PASTE="paste",h.REMOVED="removed",h.REMOVED_FROM_STAGE="removedFromStage",h.RENDER="render",h.RESIZE="resize",h.SCROLL="scroll",h.SELECT="select",h.SELECT_ALL="selectAll",h.SOUND_COMPLETE="soundComplete",h.TAB_CHILDREN_CHANGE="tabChildrenChange",h.TAB_ENABLED_CHANGE="tabEnabledChange",h.TAB_INDEX_CHANGE="tabIndexChange",h.TEXTURE_READY="textureReady",h.UNLOAD="unload",e.default=h})(Event$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$){$==null&&($=!0),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.objectMatrix=b,this.objectColorTransform=k,this.allowSmoothing=$};s.__name__="openfl.events.RenderEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.objectMatrix.clone(),this.objectColorTransform.__clone(),this.allowSmoothing);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("RenderEvent",["type","bubbles","cancelable"])},__init:function(){c().default.prototype.__init.call(this),this.objectMatrix=null,this.objectColorTransform=null,this.allowSmoothing=!1,this.renderer=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.RenderEvent"]=s,s.CLEAR_DOM="clearDOM",s.RENDER_CAIRO="renderCairo",s.RENDER_CANVAS="renderCanvas",s.RENDER_DOM="renderDOM",s.RENDER_OPENGL="renderOpenGL",e.default=s})(RenderEvent$1);var ColorTransform$1={},ObjectPool={},hasRequiredObjectPool;function requireObjectPool(){return hasRequiredObjectPool||(hasRequiredObjectPool=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireObjectMap()}function c(){return requireList()}var s=function(h,f,g){this.__pool=new(o()).default,this.activeObjects=0,this.inactiveObjects=0,this.__inactiveObject0=null,this.__inactiveObject1=null,this.__inactiveObjectList=new(c()).default,h!=null&&(this.create=h),f!=null&&(this.clean=f),g!=null&&this.set_size(g)};s.__name__="lime.utils.ObjectPool",s.__isInterface__=!1,s.prototype={add:function(h){this.__pool.exists(h)||(this.__pool.set(h,!1),this.clean(h),this.__addInactive(h))},clean:function(h){},clear:function(){this.__pool=new(o()).default,this.activeObjects=0,this.inactiveObjects=0,this.__inactiveObject0=null,this.__inactiveObject1=null,this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var h=null;return this.inactiveObjects>0?h=this.__getInactive():(this.__size==null||this.activeObjects<this.__size)&&(h=this.create(),h!=null&&(this.__pool.set(h,!0),this.activeObjects++)),h},release:function(h){this.activeObjects--,this.__size==null||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(h),this.__addInactive(h)):this.__pool.remove(h)},remove:function(h){this.__pool.exists(h)&&(this.__pool.remove(h),this.__inactiveObject0==h?(this.__inactiveObject0=null,this.inactiveObjects--):this.__inactiveObject1==h?(this.__inactiveObject1=null,this.inactiveObjects--):this.__inactiveObjectList.remove(h)?this.inactiveObjects--:this.activeObjects--)},__addInactive:function(h){this.__inactiveObject0==null?this.__inactiveObject0=h:this.__inactiveObject1==null?this.__inactiveObject1=h:this.__inactiveObjectList.add(h),this.inactiveObjects++},__getInactive:function(){var h=null;return this.__inactiveObject0!=null?(h=this.__inactiveObject0,this.__inactiveObject0=null):this.__inactiveObject1!=null?(h=this.__inactiveObject1,this.__inactiveObject1=null):(h=this.__inactiveObjectList.pop(),this.__inactiveObjectList.length>0&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),this.__inactiveObjectList.length>0&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++,h},__removeInactive:function(h){if(!(h<=0||this.inactiveObjects==0)&&(this.__inactiveObject0!=null&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--h),!(h==0||this.inactiveObjects==0)&&(this.__inactiveObject1!=null&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--h),!(h==0||this.inactiveObjects==0))))for(var f=this.__inactiveObjectList.iterator();f.hasNext();){var g=f.next();if(this.__pool.remove(g),this.__inactiveObjectList.remove(g),this.inactiveObjects--,--h,h==0||this.inactiveObjects==0)return}},get_size:function(){return this.__size},set_size:function(h){if(h==null)this.__size=null;else{var f=this.inactiveObjects+this.activeObjects;if(this.__size=h,f>h)this.__removeInactive(f-h);else if(h>f)for(var g,b=0,k=h-f;b<k&&(b++,g=this.create(),g!=null);)this.__pool.set(g,!1),this.__inactiveObjectList.add(g),this.inactiveObjects++}return h}},s.prototype.__class__=s.prototype.constructor=d["lime.utils.ObjectPool"]=s,e.default=s}(ObjectPool)),ObjectPool}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireObjectPool()}var s=function(h,f,g,b,k,$,j,_e){_e==null&&(_e=0),j==null&&(j=0),$==null&&($=0),k==null&&(k=0),b==null&&(b=1),g==null&&(g=1),f==null&&(f=1),h==null&&(h=1),this.redMultiplier=h,this.greenMultiplier=f,this.blueMultiplier=g,this.alphaMultiplier=b,this.redOffset=k,this.greenOffset=$,this.blueOffset=j,this.alphaOffset=_e};s.__name__="openfl.geom.ColorTransform",s.__isInterface__=!1,s.prototype={concat:function(h){this.redOffset=h.redOffset*this.redMultiplier+this.redOffset,this.greenOffset=h.greenOffset*this.greenMultiplier+this.greenOffset,this.blueOffset=h.blueOffset*this.blueMultiplier+this.blueOffset,this.alphaOffset=h.alphaOffset*this.alphaMultiplier+this.alphaOffset,this.redMultiplier*=h.redMultiplier,this.greenMultiplier*=h.greenMultiplier,this.blueMultiplier*=h.blueMultiplier,this.alphaMultiplier*=h.alphaMultiplier},toString:function(){return"(redMultiplier="+this.redMultiplier+", greenMultiplier="+this.greenMultiplier+", blueMultiplier="+this.blueMultiplier+", alphaMultiplier="+this.alphaMultiplier+", redOffset="+this.redOffset+", greenOffset="+this.greenOffset+", blueOffset="+this.blueOffset+", alphaOffset="+this.alphaOffset+")"},__clone:function(){return new s(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},__copyFrom:function(h){this.redMultiplier=h.redMultiplier,this.greenMultiplier=h.greenMultiplier,this.blueMultiplier=h.blueMultiplier,this.alphaMultiplier=h.alphaMultiplier,this.redOffset=h.redOffset,this.greenOffset=h.greenOffset,this.blueOffset=h.blueOffset,this.alphaOffset=h.alphaOffset},__combine:function(h){this.redMultiplier*=h.redMultiplier,this.greenMultiplier*=h.greenMultiplier,this.blueMultiplier*=h.blueMultiplier,this.alphaMultiplier*=h.alphaMultiplier,this.redOffset+=h.redOffset,this.greenOffset+=h.greenOffset,this.blueOffset+=h.blueOffset,this.alphaOffset+=h.alphaOffset},__identity:function(){this.redMultiplier=1,this.greenMultiplier=1,this.blueMultiplier=1,this.alphaMultiplier=1,this.redOffset=0,this.greenOffset=0,this.blueOffset=0,this.alphaOffset=0},__invert:function(){this.redMultiplier=this.redMultiplier!=0?1/this.redMultiplier:1,this.greenMultiplier=this.greenMultiplier!=0?1/this.greenMultiplier:1,this.blueMultiplier=this.blueMultiplier!=0?1/this.blueMultiplier:1,this.alphaMultiplier=this.alphaMultiplier!=0?1/this.alphaMultiplier:1,this.redOffset=-this.redOffset,this.greenOffset=-this.greenOffset,this.blueOffset=-this.blueOffset,this.alphaOffset=-this.alphaOffset},__equals:function(h,f){return h!=null&&this.redMultiplier==h.redMultiplier&&this.greenMultiplier==h.greenMultiplier&&this.blueMultiplier==h.blueMultiplier&&(f||this.alphaMultiplier==h.alphaMultiplier)&&this.redOffset==h.redOffset&&this.greenOffset==h.greenOffset&&this.blueOffset==h.blueOffset?this.alphaOffset==h.alphaOffset:!1},__isDefault:function(h){return h?this.redMultiplier==1&&this.greenMultiplier==1&&this.blueMultiplier==1&&this.redOffset==0&&this.greenOffset==0&&this.blueOffset==0?this.alphaOffset==0:!1:this.redMultiplier==1&&this.greenMultiplier==1&&this.blueMultiplier==1&&this.alphaMultiplier==1&&this.redOffset==0&&this.greenOffset==0&&this.blueOffset==0?this.alphaOffset==0:!1},__setArrays:function(h,f){h[0]=this.redMultiplier,h[1]=this.greenMultiplier,h[2]=this.blueMultiplier,h[3]=this.alphaMultiplier,f[0]=this.redOffset,f[1]=this.greenOffset,f[2]=this.blueOffset,f[3]=this.alphaOffset},get_color:function(){return o().default.int(this.redOffset)<<16|o().default.int(this.greenOffset)<<8|o().default.int(this.blueOffset)},set_color:function(h){return this.redOffset=h>>16&255,this.greenOffset=h>>8&255,this.blueOffset=h&255,this.redMultiplier=0,this.greenMultiplier=0,this.blueMultiplier=0,this.get_color()},__toLimeColorMatrix:function(){if(s.__limeColorMatrix==null){var h=new Float32Array(20);s.__limeColorMatrix=h}return s.__limeColorMatrix[0]=this.redMultiplier,s.__limeColorMatrix[4]=this.redOffset/255,s.__limeColorMatrix[6]=this.greenMultiplier,s.__limeColorMatrix[9]=this.greenOffset/255,s.__limeColorMatrix[12]=this.blueMultiplier,s.__limeColorMatrix[14]=this.blueOffset/255,s.__limeColorMatrix[18]=this.alphaMultiplier,s.__limeColorMatrix[19]=this.alphaOffset/255,s.__limeColorMatrix}},s.prototype.__class__=s.prototype.constructor=d["openfl.geom.ColorTransform"]=s,Object.defineProperty(s.prototype,"color",{get:function(){return this.get_color()},set:function(h){return this.set_color(h)}}),s.__pool=new(c()).default(function(){return new s},function(h){h.__identity()}),e.default=s})(ColorTransform$1);var Matrix$2={},Point$2={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVector2()}function c(){return requireObjectPool()}var s=function(h,f){f==null&&(f=0),h==null&&(h=0),this.x=h,this.y=f};s.__name__="openfl.geom.Point",s.__isInterface__=!1,s.prototype={add:function(h){return new s(h.x+this.x,h.y+this.y)},clone:function(){return new s(this.x,this.y)},copyFrom:function(h){this.x=h.x,this.y=h.y},equals:function(h){return h!=null&&h.x==this.x?h.y==this.y:!1},normalize:function(h){if(!(this.x==0&&this.y==0)){var f=h/Math.sqrt(this.x*this.x+this.y*this.y);this.x*=f,this.y*=f}},offset:function(h,f){this.x+=h,this.y+=f},setTo:function(h,f){this.x=h,this.y=f},subtract:function(h){return new s(this.x-h.x,this.y-h.y)},toString:function(){return"(x="+this.x+", y="+this.y+")"},__toLimeVector2:function(){return s.__limeVector2==null&&(s.__limeVector2=new(o()).default),s.__limeVector2.setTo(this.x,this.y),s.__limeVector2},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},s.prototype.__class__=s.prototype.constructor=d["openfl.geom.Point"]=s,Object.defineProperty(s.prototype,"length",{get:function(){return this.get_length()}}),s.distance=function(h,f){var g=h.x-f.x,b=h.y-f.y;return Math.sqrt(g*g+b*b)},s.interpolate=function(h,f,g){return new s(f.x+g*(h.x-f.x),f.y+g*(h.y-f.y))},s.polar=function(h,f){return new s(h*Math.cos(f),h*Math.sin(f))},s.__pool=new(c()).default(function(){return new s},function(h){h.setTo(0,0)}),e.default=s})(Point$2);var Matrix3={},hasRequiredMatrix3;function requireMatrix3(){return hasRequiredMatrix3||(hasRequiredMatrix3=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireVector2()}function s(){return requireStd()}function h(){return requireRectangle()}var f=function(g,b,k,$,j,_e){_e==null&&(_e=0),j==null&&(j=0),$==null&&($=1),k==null&&(k=0),b==null&&(b=0),g==null&&(g=1),this.a=g,this.b=b,this.c=k,this.d=$,this.tx=j,this.ty=_e};f.__name__="lime.math.Matrix3",f.__isInterface__=!1,f.prototype={clone:function(){return new f(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(g){var b=this.a*g.a+this.b*g.c;this.b=this.a*g.b+this.b*g.d,this.a=b;var k=this.c*g.a+this.d*g.c;this.d=this.c*g.b+this.d*g.d,this.c=k;var $=this.tx*g.a+this.ty*g.c+g.tx;this.ty=this.tx*g.b+this.ty*g.d+g.ty,this.tx=$},copyColumnFrom:function(g,b){if(g>2)throw new(o()).default("Column "+g+" out of bounds (2)");g==0?(this.a=b.x,this.b=b.y):g==1?(this.c=b.x,this.d=b.y):(this.tx=b.x,this.ty=b.y)},copyColumnTo:function(g,b){if(g>2)throw new(o()).default("Column "+g+" out of bounds (2)");g==0?(b.x=this.a,b.y=this.b,b.z=0):g==1?(b.x=this.c,b.y=this.d,b.z=0):(b.x=this.tx,b.y=this.ty,b.z=1)},copyFrom:function(g){this.a=g.a,this.b=g.b,this.c=g.c,this.d=g.d,this.tx=g.tx,this.ty=g.ty},copyRowFrom:function(g,b){if(g>2)throw new(o()).default("Row "+g+" out of bounds (2)");g==0?(this.a=b.x,this.c=b.y,this.tx=b.z):g==1&&(this.b=b.x,this.d=b.y,this.ty=b.z)},copyRowTo:function(g,b){if(g>2)throw new(o()).default("Row "+g+" out of bounds (2)");g==0?(b.x=this.a,b.y=this.c,b.z=this.tx):g==1?(b.x=this.b,b.y=this.d,b.z=this.ty):b.setTo(0,0,1)},createBox:function(g,b,k,$,j){if(j==null&&(j=0),$==null&&($=0),k==null&&(k=0),k!=0){var _e=Math.cos(k),et=Math.sin(k);this.a=_e*g,this.b=et*b,this.c=-et*g,this.d=_e*b}else this.a=g,this.b=0,this.c=0,this.d=b;this.tx=$,this.ty=j},createGradientBox:function(g,b,k,$,j){if(j==null&&(j=0),$==null&&($=0),k==null&&(k=0),this.a=g/1638.4,this.d=b/1638.4,k!=0){var _e=Math.cos(k),et=Math.sin(k);this.b=et*this.d,this.c=-et*this.a,this.a*=_e,this.d*=_e}else this.b=0,this.c=0;this.tx=$+g/2,this.ty=j+b/2},equals:function(g){return g!=null&&this.tx==g.tx&&this.ty==g.ty&&this.a==g.a&&this.b==g.b&&this.c==g.c?this.d==g.d:!1},deltaTransformVector:function(g,b){return b==null&&(b=new(c()).default),b.x=g.x*this.a+g.y*this.c,b.y=g.x*this.b+g.y*this.d,b},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var g=this.a*this.d-this.b*this.c;if(g==0)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{g=1/g;var b=this.d*g;this.d=this.a*g,this.a=b,this.b*=-g,this.c*=-g;var k=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=k}return this},rotate:function(g){var b=Math.cos(g),k=Math.sin(g),$=this.a*b-this.b*k;this.b=this.a*k+this.b*b,this.a=$;var j=this.c*b-this.d*k;this.d=this.c*k+this.d*b,this.c=j;var _e=this.tx*b-this.ty*k;this.ty=this.tx*k+this.ty*b,this.tx=_e},scale:function(g,b){this.a*=g,this.b*=b,this.c*=g,this.d*=b,this.tx*=g,this.ty*=b},setRotation:function(g,b){b==null&&(b=1),this.a=Math.cos(g)*b,this.c=Math.sin(g)*b,this.b=-this.c,this.d=this.a},setTo:function(g,b,k,$,j,_e){this.a=g,this.b=b,this.c=k,this.d=$,this.tx=j,this.ty=_e},to3DString:function(g){return g==null&&(g=!1),g?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+s().default.int(this.tx)+", "+s().default.int(this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformRect:function(g,b){b==null&&(b=new(h()).default);var k=this.a*g.x+this.c*g.y,$=k,j=this.b*g.x+this.d*g.y,_e=j,et=this.a*(g.x+g.width)+this.c*g.y,nt=this.b*(g.x+g.width)+this.d*g.y;return et<k&&(k=et),nt<j&&(j=nt),et>$&&($=et),nt>_e&&(_e=nt),et=this.a*(g.x+g.width)+this.c*(g.y+g.height),nt=this.b*(g.x+g.width)+this.d*(g.y+g.height),et<k&&(k=et),nt<j&&(j=nt),et>$&&($=et),nt>_e&&(_e=nt),et=this.a*g.x+this.c*(g.y+g.height),nt=this.b*g.x+this.d*(g.y+g.height),et<k&&(k=et),nt<j&&(j=nt),et>$&&($=et),nt>_e&&(_e=nt),b.setTo(k+et,j+nt,$-k,_e-j),b},transformVector:function(g,b){return b==null&&(b=new(c()).default),b.x=g.x*this.a+g.y*this.c+this.tx,b.y=g.x*this.b+g.y*this.d+this.ty,b},translate:function(g,b){this.tx+=g,this.ty+=b}},f.prototype.__class__=f.prototype.constructor=d["lime.math.Matrix3"]=f,f.__identity=new f,e.default=f}(Matrix3)),Matrix3}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return Point$2}function s(){return requireStd()}function h(){return requireObjectPool()}function f(){return requireMatrix3()}var g=function(b,k,$,j,_e,et){et==null&&(et=0),_e==null&&(_e=0),j==null&&(j=1),$==null&&($=0),k==null&&(k=0),b==null&&(b=1),this.a=b,this.b=k,this.c=$,this.d=j,this.tx=_e,this.ty=et};g.__name__="openfl.geom.Matrix",g.__isInterface__=!1,g.prototype={clone:function(){return new g(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(b){var k=this.a*b.a+this.b*b.c;this.b=this.a*b.b+this.b*b.d,this.a=k;var $=this.c*b.a+this.d*b.c;this.d=this.c*b.b+this.d*b.d,this.c=$;var j=this.tx*b.a+this.ty*b.c+b.tx;this.ty=this.tx*b.b+this.ty*b.d+b.ty,this.tx=j},copyColumnFrom:function(b,k){if(b>2)throw new(o()).default("Column "+b+" out of bounds (2)");b==0?(this.a=k.x,this.b=k.y):b==1?(this.c=k.x,this.d=k.y):(this.tx=k.x,this.ty=k.y)},copyColumnTo:function(b,k){if(b>2)throw new(o()).default("Column "+b+" out of bounds (2)");b==0?(k.x=this.a,k.y=this.b,k.z=0):b==1?(k.x=this.c,k.y=this.d,k.z=0):(k.x=this.tx,k.y=this.ty,k.z=1)},copyFrom:function(b){this.a=b.a,this.b=b.b,this.c=b.c,this.d=b.d,this.tx=b.tx,this.ty=b.ty},copyRowFrom:function(b,k){if(b>2)throw new(o()).default("Row "+b+" out of bounds (2)");b==0?(this.a=k.x,this.c=k.y,this.tx=k.z):b==1&&(this.b=k.x,this.d=k.y,this.ty=k.z)},copyRowTo:function(b,k){if(b>2)throw new(o()).default("Row "+b+" out of bounds (2)");b==0?(k.x=this.a,k.y=this.c,k.z=this.tx):b==1?(k.x=this.b,k.y=this.d,k.z=this.ty):k.setTo(0,0,1)},createBox:function(b,k,$,j,_e){if(_e==null&&(_e=0),j==null&&(j=0),$==null&&($=0),$!=0){var et=Math.cos($),nt=Math.sin($);this.a=et*b,this.b=nt*k,this.c=-nt*b,this.d=et*k}else this.a=b,this.b=0,this.c=0,this.d=k;this.tx=j,this.ty=_e},createGradientBox:function(b,k,$,j,_e){if(_e==null&&(_e=0),j==null&&(j=0),$==null&&($=0),this.a=b/1638.4,this.d=k/1638.4,$!=0){var et=Math.cos($),nt=Math.sin($);this.b=nt*this.d,this.c=-nt*this.a,this.a*=et,this.d*=et}else this.b=0,this.c=0;this.tx=j+b/2,this.ty=_e+k/2},deltaTransformPoint:function(b){return new(c()).default(b.x*this.a+b.y*this.c,b.x*this.b+b.y*this.d)},equals:function(b){return b!=null&&this.tx==b.tx&&this.ty==b.ty&&this.a==b.a&&this.b==b.b&&this.c==b.c?this.d==b.d:!1},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},invert:function(){var b=this.a*this.d-this.b*this.c;if(b==0)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{b=1/b;var k=this.d*b;this.d=this.a*b,this.a=k,this.b*=-b,this.c*=-b;var $=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=$}return this},rotate:function(b){var k=Math.cos(b),$=Math.sin(b),j=this.a*k-this.b*$;this.b=this.a*$+this.b*k,this.a=j;var _e=this.c*k-this.d*$;this.d=this.c*$+this.d*k,this.c=_e;var et=this.tx*k-this.ty*$;this.ty=this.tx*$+this.ty*k,this.tx=et},scale:function(b,k){this.a*=b,this.b*=k,this.c*=b,this.d*=k,this.tx*=b,this.ty*=k},setRotation:function(b,k){k==null&&(k=1),this.a=Math.cos(b)*k,this.c=Math.sin(b)*k,this.b=-this.c,this.d=this.a},setTo:function(b,k,$,j,_e,et){this.a=b,this.b=k,this.c=$,this.d=j,this.tx=_e,this.ty=et},to3DString:function(b){return b==null&&(b=!1),b?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+s().default.int(this.tx)+", "+s().default.int(this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(b){return new(c()).default(this.__transformX(b.x,b.y),this.__transformY(b.x,b.y))},translate:function(b,k){this.tx+=b,this.ty+=k},toArray:function(b){if(b==null&&(b=!1),this.__array==null){var k=new Float32Array(9);this.__array=k}return b?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty,this.__array[8]=1):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0,this.__array[8]=1),this.__array},__cleanValues:function(){this.a=Math.round(this.a*1e3)/1e3,this.b=Math.round(this.b*1e3)/1e3,this.c=Math.round(this.c*1e3)/1e3,this.d=Math.round(this.d*1e3)/1e3,this.tx=Math.round(this.tx*10)/10,this.ty=Math.round(this.ty*10)/10},__toMatrix3:function(){return g.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty),g.__matrix3},__transformInversePoint:function(b){var k=this.a*this.d-this.b*this.c;if(k==0)b.x=-this.tx,b.y=-this.ty;else{var $=1/k*(this.c*(this.ty-b.y)+this.d*(b.x-this.tx));b.y=1/k*(this.a*(b.y-this.ty)+this.b*(this.tx-b.x)),b.x=$}},__transformInverseX:function(b,k){var $=this.a*this.d-this.b*this.c;return $==0?-this.tx:1/$*(this.c*(this.ty-k)+this.d*(b-this.tx))},__transformInverseY:function(b,k){var $=this.a*this.d-this.b*this.c;return $==0?-this.ty:1/$*(this.a*(k-this.ty)+this.b*(this.tx-b))},__transformPoint:function(b){var k=b.x,$=b.y;b.x=this.__transformX(k,$),b.y=this.__transformY(k,$)},__transformX:function(b,k){return b*this.a+k*this.c+this.tx},__transformY:function(b,k){return b*this.b+k*this.d+this.ty},__translateTransformed:function(b,k){this.tx=this.__transformX(b,k),this.ty=this.__transformY(b,k)}},g.prototype.__class__=g.prototype.constructor=d["openfl.geom.Matrix"]=g,g.__meta__={fields:{equals:{SuppressWarnings:["checkstyle:FieldDocComment"]},to3DString:{SuppressWarnings:["checkstyle:FieldDocComment"]},toMozString:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},g.__identity=new g,g.__pool=new(h()).default(function(){return new g},function(b){b.identity()}),g.__matrix3=new(f()).default,e.default=g})(Matrix$2);var MouseEvent$3={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$,j,_e,et,nt,rt,tt,it,st){st==null&&(st=0),it==null&&(it=!1),tt==null&&(tt=!1),rt==null&&(rt=0),nt==null&&(nt=!1),et==null&&(et=!1),_e==null&&(_e=!1),j==null&&(j=!1),k==null&&(k=0),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!0),c().default.call(this,h,f,g),this.shiftKey=et,this.altKey=_e,this.ctrlKey=j,this.bubbles=f,this.relatedObject=$,this.delta=rt,this.localX=b,this.localY=k,this.buttonDown=nt,this.commandKey=tt,this.controlKey=it,this.clickCount=st,this.isRelatedObjectInaccessible=!1,this.stageX=NaN,this.stageY=NaN,this.__updateAfterEventFlag=!1};s.__name__="openfl.events.MouseEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta,this.commandKey,this.controlKey,this.clickCount);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("MouseEvent",["type","bubbles","cancelable","localX","localY","relatedObject","ctrlKey","altKey","shiftKey","buttonDown","delta"])},updateAfterEvent:function(){this.__updateAfterEventFlag=!0},__init:function(){c().default.prototype.__init.call(this),this.shiftKey=!1,this.altKey=!1,this.ctrlKey=!1,this.bubbles=!1,this.relatedObject=null,this.delta=0,this.localX=0,this.localY=0,this.buttonDown=!1,this.commandKey=!1,this.controlKey=!1,this.clickCount=0,this.isRelatedObjectInaccessible=!1,this.stageX=NaN,this.stageY=NaN,this.__updateAfterEventFlag=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.MouseEvent"]=s,s.__create=function(h,f,g,b,k,$,j){j==null&&(j=0);var _e=new s(h,!0,!1,k.x,k.y,null,s.__ctrlKey,s.__altKey,s.__shiftKey,s.__buttonDown,j,s.__commandKey,s.__controlKey);return _e.stageX=g,_e.stageY=b,_e.target=$,_e},s.CLICK="click",s.DOUBLE_CLICK="doubleClick",s.MIDDLE_CLICK="middleClick",s.MIDDLE_MOUSE_DOWN="middleMouseDown",s.MIDDLE_MOUSE_UP="middleMouseUp",s.MOUSE_DOWN="mouseDown",s.MOUSE_MOVE="mouseMove",s.MOUSE_OUT="mouseOut",s.MOUSE_OVER="mouseOver",s.MOUSE_UP="mouseUp",s.MOUSE_WHEEL="mouseWheel",s.RELEASE_OUTSIDE="releaseOutside",s.RIGHT_CLICK="rightClick",s.RIGHT_MOUSE_DOWN="rightMouseDown",s.RIGHT_MOUSE_UP="rightMouseUp",s.ROLL_OUT="rollOut",s.ROLL_OVER="rollOver",e.default=s})(MouseEvent$3);var TouchEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$,j,_e,et,nt,rt,tt,it,st,at,_t,ut,ot,lt,ft){_t==null&&(_t=!1),at==null&&(at=!1),st==null&&(st=!1),it==null&&(it=!1),tt==null&&(tt=!1),nt==null&&(nt=0),et==null&&(et=0),_e==null&&(_e=0),j==null&&(j=0),$==null&&($=0),k==null&&(k=!1),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!0),c().default.call(this,h,f,g),this.touchPointID=b,this.isPrimaryTouchPoint=k,this.localX=$,this.localY=j,this.sizeX=_e,this.sizeY=et,this.pressure=nt,this.relatedObject=rt,this.ctrlKey=tt,this.altKey=it,this.shiftKey=st,this.commandKey=at,this.controlKey=_t,this.stageX=NaN,this.stageY=NaN,this.__updateAfterEventFlag=!1};s.__name__="openfl.events.TouchEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.touchPointID,this.isPrimaryTouchPoint,this.localX,this.localY,this.sizeX,this.sizeY,this.pressure,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.commandKey,this.controlKey);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("TouchEvent",["type","bubbles","cancelable","touchPointID","isPrimaryTouchPoint","localX","localY","sizeX","sizeY","pressure","relatedObject","ctrlKey","altKey","shiftKey","commandKey","controlKey"])},updateAfterEvent:function(){this.__updateAfterEventFlag=!0},__init:function(){c().default.prototype.__init.call(this),this.touchPointID=0,this.isPrimaryTouchPoint=!1,this.localX=0,this.localY=0,this.sizeX=0,this.sizeY=0,this.pressure=0,this.relatedObject=null,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.commandKey=!1,this.controlKey=!1,this.stageX=NaN,this.stageY=NaN,this.__updateAfterEventFlag=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.TouchEvent"]=s,s.__create=function(h,f,g,b,k,$){var j=new s(h,!0,!1,0,!0,k.x,k.y,1,1,1);return j.stageX=g,j.stageY=b,j.target=$,j},s.__meta__={fields:{delta:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},s.TOUCH_BEGIN="touchBegin",s.TOUCH_END="touchEnd",s.TOUCH_MOVE="touchMove",s.TOUCH_OUT="touchOut",s.TOUCH_OVER="touchOver",s.TOUCH_ROLL_OUT="touchRollOut",s.TOUCH_ROLL_OVER="touchRollOver",s.TOUCH_TAP="touchTap",e.default=s})(TouchEvent$1);var Rectangle$2={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireRectangle()}function c(){return Point$2}function s(){return requireObjectPool()}var h=function(f,g,b,k){k==null&&(k=0),b==null&&(b=0),g==null&&(g=0),f==null&&(f=0),this.x=f,this.y=g,this.width=b,this.height=k};h.__name__="openfl.geom.Rectangle",h.__isInterface__=!1,h.prototype={clone:function(){return new h(this.x,this.y,this.width,this.height)},contains:function(f,g){return f>=this.x&&g>=this.y&&f<this.get_right()?g<this.get_bottom():!1},containsPoint:function(f){return this.contains(f.x,f.y)},containsRect:function(f){return f.width<=0||f.height<=0?f.x>this.x&&f.y>this.y&&f.get_right()<this.get_right()?f.get_bottom()<this.get_bottom():!1:f.x>=this.x&&f.y>=this.y&&f.get_right()<=this.get_right()?f.get_bottom()<=this.get_bottom():!1},copyFrom:function(f){this.x=f.x,this.y=f.y,this.width=f.width,this.height=f.height},equals:function(f){return f==this?!0:f!=null&&this.x==f.x&&this.y==f.y&&this.width==f.width?this.height==f.height:!1},inflate:function(f,g){this.x-=f,this.width+=f*2,this.y-=g,this.height+=g*2},inflatePoint:function(f){this.inflate(f.x,f.y)},intersection:function(f){var g=this.x<f.x?f.x:this.x,b=this.get_right()>f.get_right()?f.get_right():this.get_right();if(b<=g)return new h;var k=this.y<f.y?f.y:this.y,$=this.get_bottom()>f.get_bottom()?f.get_bottom():this.get_bottom();return $<=k?new h:new h(g,k,b-g,$-k)},intersects:function(f){var g=this.x<f.x?f.x:this.x,b=this.get_right()>f.get_right()?f.get_right():this.get_right();if(b<=g)return!1;var k=this.y<f.y?f.y:this.y,$=this.get_bottom()>f.get_bottom()?f.get_bottom():this.get_bottom();return $>k},isEmpty:function(){return this.width<=0?!0:this.height<=0},offset:function(f,g){this.x+=f,this.y+=g},offsetPoint:function(f){this.x+=f.x,this.y+=f.y},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(f,g,b,k){this.x=f,this.y=g,this.width=b,this.height=k},toString:function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},union:function(f){if(this.width==0||this.height==0)return f.clone();if(f.width==0||f.height==0)return this.clone();var g=this.x>f.x?f.x:this.x,b=this.get_right()<f.get_right()?f.get_right():this.get_right(),k=this.y>f.y?f.y:this.y,$=this.get_bottom()<f.get_bottom()?f.get_bottom():this.get_bottom();return new h(g,k,b-g,$-k)},__contract:function(f,g,b,k){if(!(this.width==0&&this.height==0)){var $=0,j=0,_e=0,et=0;this.x<f&&($=f-this.x),this.y<g&&(j=g-this.y),this.get_right()>f+b&&(_e=f+b-this.get_right()),this.get_bottom()>g+k&&(et=g+k-this.get_bottom()),this.x+=$,this.y+=j,this.width+=_e-$,this.height+=et-j}},__expand:function(f,g,b,k){if(this.width==0&&this.height==0){this.x=f,this.y=g,this.width=b,this.height=k;return}var $=this.get_right(),j=this.get_bottom();this.x>f&&(this.x=f,this.width=$-f),this.y>g&&(this.y=g,this.height=j-g),$<f+b&&(this.width=f+b-this.x),j<g+k&&(this.height=g+k-this.y)},__toLimeRectangle:function(){return h.__limeRectangle==null&&(h.__limeRectangle=new(o()).default),h.__limeRectangle.setTo(this.x,this.y,this.width,this.height),h.__limeRectangle},__transform:function(f,g){var b=g.a*this.x+g.c*this.y,k=b,$=g.b*this.x+g.d*this.y,j=$,_e=g.a*(this.x+this.width)+g.c*this.y,et=g.b*(this.x+this.width)+g.d*this.y;_e<b&&(b=_e),et<$&&($=et),_e>k&&(k=_e),et>j&&(j=et),_e=g.a*(this.x+this.width)+g.c*(this.y+this.height),et=g.b*(this.x+this.width)+g.d*(this.y+this.height),_e<b&&(b=_e),et<$&&($=et),_e>k&&(k=_e),et>j&&(j=et),_e=g.a*this.x+g.c*(this.y+this.height),et=g.b*this.x+g.d*(this.y+this.height),_e<b&&(b=_e),et<$&&($=et),_e>k&&(k=_e),et>j&&(j=et),f.setTo(b+g.tx,$+g.ty,k-b,j-$)},get_bottom:function(){return this.y+this.height},set_bottom:function(f){return this.height=f-this.y,f},get_bottomRight:function(){return new(c()).default(this.x+this.width,this.y+this.height)},set_bottomRight:function(f){return this.width=f.x-this.x,this.height=f.y-this.y,f.clone()},get_left:function(){return this.x},set_left:function(f){return this.width-=f-this.x,this.x=f,f},get_right:function(){return this.x+this.width},set_right:function(f){return this.width=f-this.x,f},get_size:function(){return new(c()).default(this.width,this.height)},set_size:function(f){return this.width=f.x,this.height=f.y,f.clone()},get_top:function(){return this.y},set_top:function(f){return this.height-=f-this.y,this.y=f,f},get_topLeft:function(){return new(c()).default(this.x,this.y)},set_topLeft:function(f){return this.x=f.x,this.y=f.y,f.clone()}},h.prototype.__class__=h.prototype.constructor=d["openfl.geom.Rectangle"]=h,Object.defineProperties(h.prototype,{bottom:{get:function(){return this.get_bottom()},set:function(f){return this.set_bottom(f)}},bottomRight:{get:function(){return this.get_bottomRight()},set:function(f){return this.set_bottomRight(f)}},left:{get:function(){return this.get_left()},set:function(f){return this.set_left(f)}},right:{get:function(){return this.get_right()},set:function(f){return this.set_right(f)}},size:{get:function(){return this.get_size()},set:function(f){return this.set_size(f)}},top:{get:function(){return this.get_top()},set:function(f){return this.set_top(f)}},topLeft:{get:function(){return this.get_topLeft()},set:function(f){return this.set_topLeft(f)}}}),h.__pool=new(s()).default(function(){return new h},function(f){f.setTo(0,0,0,0)}),e.default=h})(Rectangle$2);var Vector_Impl_={},VectorData={},VectorIterator={},hasRequiredVectorIterator;function requireVectorIterator(){return hasRequiredVectorIterator||(hasRequiredVectorIterator=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){this.vector=c,this.index=-1};o.__name__="openfl._Vector.VectorIterator",o.__isInterface__=!1,o.prototype={hasNext:function(){return this.index<this.vector.get_length()-1},next:function(){return this.index++,this.vector[this.index]}},o.prototype.__class__=o.prototype.constructor=d["openfl._Vector.VectorIterator"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(VectorIterator)),VectorIterator}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVectorIterator()}var c=function($,j,_e){this.construct(this,$,j)};c.__name__="openfl.VectorData",c.__isInterface__=!1,c.prototype={construct:function($,j,_e){return j!=null&&($.length=j),$.fixed=_e==!0,$},concat:function($){return c.ofArray(Array.prototype.concat.call(this,$))},copy:function(){return c.ofArray(this)},filter:function($){return c.ofArray(Array.prototype.filter.call(this,$))},get:function($){return this[$]},indexOf:function($,j){return-1},insertAt:function($,j){(!this.fixed||$<this.length)&&Array.prototype.splice.call(this,$,0,j)},iterator:function(){return new(o()).default(this)},join:function($){return null},lastIndexOf:function($,j){return j==null?Array.prototype.lastIndexOf.call(this,$):Array.prototype.lastIndexOf.call(this,$,j)},pop:function(){return this.fixed?null:Array.prototype.pop.call(this)},push:function($){return this.fixed?this.length:Array.prototype.push.call(this,$)},removeAt:function($){return!this.fixed||$<this.length?Array.prototype.splice.call(this,$,1)[0]:null},reverse:function(){return this},set:function($,j){return!this.fixed||$<this.length?this[$]=j:j},shift:function(){return this.fixed?null:Array.prototype.shift.call(this)},slice:function($,j){return $==null&&($=0),j==null&&(j=16777215),c.ofArray(Array.prototype.slice.call(this,$,j))},sort:function($){},splice:function($,j){return c.ofArray(Array.prototype.splice.call(this,$,j))},toString:function(){return null},unshift:function($){this.fixed||Array.prototype.unshift.call(this,$)},get_length:function(){return this.length},set_length:function($){return this.fixed||(this.length=$),$}},c.prototype.__class__=c.prototype.constructor=d["openfl.VectorData"]=c;var s=typeof openfl_VectorData<"u",h=s?openfl_VectorData:c,f=h.prototype,g=f.construct,b={constructor:{value:null},concat:{value:f.concat},copy:{value:f.copy},filter:{value:f.filter},get:{value:f.get},insertAt:{value:f.insertAt},iterator:{value:f.iterator},lastIndexOf:{value:f.lastIndexOf},pop:{value:f.pop},push:{value:f.push},removeAt:{value:f.removeAt},set:{value:f.set},shift:{value:f.shift},slice:{value:f.slice},splice:{value:f.splice},unshift:{value:f.unshift},get_length:{value:f.get_length},set_length:{value:f.set_length}},k=function($,j,_e){return _e==null&&(_e=[]),Object.defineProperties(g(_e,$,j),b)};b.constructor.value=k,k.__name__=h.__name__,k.ofArray=h.ofArray,d["openfl.VectorData"]=k,k.prototype=Array.prototype,s?openfl_VectorData=k:c=k,c.ofArray=function($){if($==null)return null;for(var j=new c,_e=0,et=$.length;_e<et;){var nt=_e++;j[nt]=$[nt]}return j},c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c})(VectorData);var hasRequiredVector_Impl_;function requireVector_Impl_(){return hasRequiredVector_Impl_||(hasRequiredVector_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return VectorData}function c(){return requireVectorIterator()}function s(){return requireStd()}var h=function(){};h.__name__="openfl._Vector.Vector_Impl_",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl._Vector.Vector_Impl_"]=h,h._new=function(f,g,b){var k;return b!=null?k=o().default.ofArray(b):k=new(o()).default(f,g),k},h.concat=function(f,g){return o().default.ofArray(Array.prototype.concat.call(f,g))},h.copy=function(f){return o().default.ofArray(f)},h.filter=function(f,g){return o().default.ofArray(Array.prototype.filter.call(f,g))},h.get=function(f,g){return f[g]},h.indexOf=function(f,g,b){return b==null&&(b=0),Array.prototype.indexOf.call(f,g,b)},h.insertAt=function(f,g,b){(!f.fixed||g<f.get_length())&&Array.prototype.splice.call(f,g,0,b)},h.iterator=function(f){return new(c()).default(f)},h.join=function(f,g){return g==null&&(g=","),Array.prototype.join.call(f,g)},h.lastIndexOf=function(f,g,b){return b==null?Array.prototype.lastIndexOf.call(f,g):Array.prototype.lastIndexOf.call(f,g,b)},h.pop=function(f){return f.fixed?null:Array.prototype.pop.call(f)},h.push=function(f,g){return f.fixed?this.length:Array.prototype.push.call(f,g)},h.removeAt=function(f,g){return!f.fixed||g<f.get_length()?Array.prototype.splice.call(f,g,1)[0]:null},h.reverse=function(f){return Array.prototype.reverse.call(f)},h.set=function(f,g,b){return!f.fixed||g<f.get_length()?f[g]=b:b},h.shift=function(f){return f.fixed?null:Array.prototype.shift.call(f)},h.slice=function(f,g,b){return b==null&&(b=16777215),g==null&&(g=0),o().default.ofArray(Array.prototype.slice.call(f,g,b))},h.sort=function(f,g){Array.prototype.sort.call(f,g)},h.splice=function(f,g,b){return o().default.ofArray(Array.prototype.splice.call(f,g,b))},h.toString=function(f){return f!=null?s().default.string(f):null},h.unshift=function(f,g){f.fixed||Array.prototype.unshift.call(f,g)},h.ofArray=function(f){return o().default.ofArray(f)},h.convert=function(f){return f},h.get_fixed=function(f){return f.fixed},h.set_fixed=function(f,g){return f.fixed=g},h.get_length=function(f){return f.get_length()},h.set_length=function(f,g){return f.set_length(g)},e.default=h}(Vector_Impl_)),Vector_Impl_}var Transform$h={},Matrix3D$1={},Vector3D$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f){f==null&&(f=0),h==null&&(h=0),s==null&&(s=0),c==null&&(c=0),this.w=f,this.x=c,this.y=s,this.z=h};o.__name__="openfl.geom.Vector3D",o.__isInterface__=!1,o.prototype={add:function(c){return new o(this.x+c.x,this.y+c.y,this.z+c.z)},clone:function(){return new o(this.x,this.y,this.z,this.w)},copyFrom:function(c){this.x=c.x,this.y=c.y,this.z=c.z},crossProduct:function(c){return new o(this.y*c.z-this.z*c.y,this.z*c.x-this.x*c.z,this.x*c.y-this.y*c.x,1)},decrementBy:function(c){this.x-=c.x,this.y-=c.y,this.z-=c.z},dotProduct:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},equals:function(c,s){return s==null&&(s=!1),this.x==c.x&&this.y==c.y&&this.z==c.z?s?this.w==c.w:!0:!1},incrementBy:function(c){this.x+=c.x,this.y+=c.y,this.z+=c.z},nearEquals:function(c,s,h){return h==null&&(h=!1),Math.abs(this.x-c.x)<s&&Math.abs(this.y-c.y)<s&&Math.abs(this.z-c.z)<s?h?Math.abs(this.w-c.w)<s:!0:!1},negate:function(){this.x*=-1,this.y*=-1,this.z*=-1},normalize:function(){var c=this.get_length();return c!=0&&(this.x/=c,this.y/=c,this.z/=c),c},project:function(){this.x/=this.w,this.y/=this.w,this.z/=this.w},scaleBy:function(c){this.x*=c,this.y*=c,this.z*=c},setTo:function(c,s,h){this.x=c,this.y=s,this.z=h},subtract:function(c){return new o(this.x-c.x,this.y-c.y,this.z-c.z)},toString:function(){return"Vector3D("+this.x+", "+this.y+", "+this.z+")"},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},get_lengthSquared:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},o.prototype.__class__=o.prototype.constructor=d["openfl.geom.Vector3D"]=o,Object.defineProperties(o,{X_AXIS:{get:function(){return o.get_X_AXIS()}},Y_AXIS:{get:function(){return o.get_Y_AXIS()}},Z_AXIS:{get:function(){return o.get_Z_AXIS()}}}),Object.defineProperties(o.prototype,{length:{get:function(){return this.get_length()}},lengthSquared:{get:function(){return this.get_lengthSquared()}}}),o.angleBetween=function(c,s){var h=c.get_length(),f=s.get_length(),g=c.dotProduct(s);return h!=0&&(g/=h),f!=0&&(g/=f),Math.acos(g)},o.distance=function(c,s){var h=s.x-c.x,f=s.y-c.y,g=s.z-c.z;return Math.sqrt(h*h+f*f+g*g)},o.get_X_AXIS=function(){return new o(1,0,0)},o.get_Y_AXIS=function(){return new o(0,1,0)},o.get_Z_AXIS=function(){return new o(0,0,1)},e.default=o})(Vector3D$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVector_Impl_()}function c(){return VectorData}function s(){return Vector3D$1}var h=function(f){f!=null&&f.get_length()==16?this.rawData=c().default.ofArray(Array.prototype.concat.call(f,null)):this.rawData=o().default._new(null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};h.__name__="openfl.geom.Matrix3D",h.__isInterface__=!1,h.prototype={append:function(f){var g=this.rawData[0],b=this.rawData[4],k=this.rawData[8],$=this.rawData[12],j=this.rawData[1],_e=this.rawData[5],et=this.rawData[9],nt=this.rawData[13],rt=this.rawData[2],tt=this.rawData[6],it=this.rawData[10],st=this.rawData[14],at=this.rawData[3],_t=this.rawData[7],ut=this.rawData[11],ot=this.rawData[15],lt=f.rawData[0],ft=f.rawData[4],ht=f.rawData[8],dt=f.rawData[12],pt=f.rawData[1],xt=f.rawData[5],vt=f.rawData[9],bt=f.rawData[13],wt=f.rawData[2],At=f.rawData[6],ct=f.rawData[10],mt=f.rawData[14],gt=f.rawData[3],Tt=f.rawData[7],yt=f.rawData[11],Et=f.rawData[15];o().default.set(this.rawData,0,g*lt+j*ft+rt*ht+at*dt),o().default.set(this.rawData,1,g*pt+j*xt+rt*vt+at*bt),o().default.set(this.rawData,2,g*wt+j*At+rt*ct+at*mt),o().default.set(this.rawData,3,g*gt+j*Tt+rt*yt+at*Et),o().default.set(this.rawData,4,b*lt+_e*ft+tt*ht+_t*dt),o().default.set(this.rawData,5,b*pt+_e*xt+tt*vt+_t*bt),o().default.set(this.rawData,6,b*wt+_e*At+tt*ct+_t*mt),o().default.set(this.rawData,7,b*gt+_e*Tt+tt*yt+_t*Et),o().default.set(this.rawData,8,k*lt+et*ft+it*ht+ut*dt),o().default.set(this.rawData,9,k*pt+et*xt+it*vt+ut*bt),o().default.set(this.rawData,10,k*wt+et*At+it*ct+ut*mt),o().default.set(this.rawData,11,k*gt+et*Tt+it*yt+ut*Et),o().default.set(this.rawData,12,$*lt+nt*ft+st*ht+ot*dt),o().default.set(this.rawData,13,$*pt+nt*xt+st*vt+ot*bt),o().default.set(this.rawData,14,$*wt+nt*At+st*ct+ot*mt),o().default.set(this.rawData,15,$*gt+nt*Tt+st*yt+ot*Et)},appendRotation:function(f,g,b){var k=0,$=k,j=$;b!=null&&(j=b.x,$=b.y,k=b.z);var _e=f*Math.PI/180,et=Math.cos(_e),nt=Math.sin(_e),rt=g.x,tt=g.y,it=g.z,st=rt*rt,at=tt*tt,_t=it*it,ut=st+at+_t;if(ut!=0){var ot=Math.sqrt(ut);rt/=ot,tt/=ot,it/=ot,st/=ut,at/=ut,_t/=ut}var lt=1-et,ft=new h,ht=ft.rawData;o().default.set(ht,0,st+(at+_t)*et),o().default.set(ht,1,rt*tt*lt+it*nt),o().default.set(ht,2,rt*it*lt-tt*nt),o().default.set(ht,4,rt*tt*lt-it*nt),o().default.set(ht,5,at+(st+_t)*et),o().default.set(ht,6,tt*it*lt+rt*nt),o().default.set(ht,8,rt*it*lt+tt*nt),o().default.set(ht,9,tt*it*lt-rt*nt),o().default.set(ht,10,_t+(st+at)*et),o().default.set(ht,12,(j*(at+_t)-rt*($*tt+k*it))*lt+($*it-k*tt)*nt),o().default.set(ht,13,($*(st+_t)-tt*(j*rt+k*it))*lt+(k*rt-j*it)*nt),o().default.set(ht,14,(k*(st+at)-it*(j*rt+$*tt))*lt+(j*tt-$*rt)*nt),this.append(ft)},appendScale:function(f,g,b){this.append(new h(o().default._new(null,null,[f,0,0,0,0,g,0,0,0,0,b,0,0,0,0,1])))},appendTranslation:function(f,g,b){var k=this.rawData;o().default.set(k,12,k[12]+f);var $=this.rawData;o().default.set($,13,$[13]+g);var j=this.rawData;o().default.set(j,14,j[14]+b)},clone:function(){return new h(c().default.ofArray(this.rawData))},copyColumnFrom:function(f,g){switch(f){case 0:o().default.set(this.rawData,0,g.x),o().default.set(this.rawData,1,g.y),o().default.set(this.rawData,2,g.z),o().default.set(this.rawData,3,g.w);break;case 1:o().default.set(this.rawData,4,g.x),o().default.set(this.rawData,5,g.y),o().default.set(this.rawData,6,g.z),o().default.set(this.rawData,7,g.w);break;case 2:o().default.set(this.rawData,8,g.x),o().default.set(this.rawData,9,g.y),o().default.set(this.rawData,10,g.z),o().default.set(this.rawData,11,g.w);break;case 3:o().default.set(this.rawData,12,g.x),o().default.set(this.rawData,13,g.y),o().default.set(this.rawData,14,g.z),o().default.set(this.rawData,15,g.w);break}},copyColumnTo:function(f,g){switch(f){case 0:g.x=this.rawData[0],g.y=this.rawData[1],g.z=this.rawData[2],g.w=this.rawData[3];break;case 1:g.x=this.rawData[4],g.y=this.rawData[5],g.z=this.rawData[6],g.w=this.rawData[7];break;case 2:g.x=this.rawData[8],g.y=this.rawData[9],g.z=this.rawData[10],g.w=this.rawData[11];break;case 3:g.x=this.rawData[12],g.y=this.rawData[13],g.z=this.rawData[14],g.w=this.rawData[15];break}},copyFrom:function(f){this.rawData=c().default.ofArray(f.rawData)},copyRawDataFrom:function(f,g,b){b==null&&(b=!1),g==null&&(g=0),b&&this.transpose();for(var k=f.get_length()-g,$=0,j=k;$<j;){var _e=$++;o().default.set(this.rawData,_e,f[_e+g])}b&&this.transpose()},copyRawDataTo:function(f,g,b){b==null&&(b=!1),g==null&&(g=0),b&&this.transpose();for(var k=0,$=this.rawData.get_length();k<$;){var j=k++;o().default.set(f,j+g,this.rawData[j])}b&&this.transpose()},copyRowFrom:function(f,g){switch(f){case 0:o().default.set(this.rawData,0,g.x),o().default.set(this.rawData,4,g.y),o().default.set(this.rawData,8,g.z),o().default.set(this.rawData,12,g.w);break;case 1:o().default.set(this.rawData,1,g.x),o().default.set(this.rawData,5,g.y),o().default.set(this.rawData,9,g.z),o().default.set(this.rawData,13,g.w);break;case 2:o().default.set(this.rawData,2,g.x),o().default.set(this.rawData,6,g.y),o().default.set(this.rawData,10,g.z),o().default.set(this.rawData,14,g.w);break;case 3:o().default.set(this.rawData,3,g.x),o().default.set(this.rawData,7,g.y),o().default.set(this.rawData,11,g.z),o().default.set(this.rawData,15,g.w);break}},copyRowTo:function(f,g){switch(f){case 0:g.x=this.rawData[0],g.y=this.rawData[4],g.z=this.rawData[8],g.w=this.rawData[12];break;case 1:g.x=this.rawData[1],g.y=this.rawData[5],g.z=this.rawData[9],g.w=this.rawData[13];break;case 2:g.x=this.rawData[2],g.y=this.rawData[6],g.z=this.rawData[10],g.w=this.rawData[14];break;case 3:g.x=this.rawData[3],g.y=this.rawData[7],g.z=this.rawData[11],g.w=this.rawData[15];break}},copyToMatrix3D:function(f){f.rawData=c().default.ofArray(this.rawData)},decompose:function(f){f==null&&(f="eulerAngles");var g=o().default._new(),b=this.clone(),k=c().default.ofArray(b.rawData),$=new(s()).default(k[12],k[13],k[14]);o().default.set(k,12,0),o().default.set(k,13,0),o().default.set(k,14,0);var j=new(s()).default;j.x=Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2]),j.y=Math.sqrt(k[4]*k[4]+k[5]*k[5]+k[6]*k[6]),j.z=Math.sqrt(k[8]*k[8]+k[9]*k[9]+k[10]*k[10]),k[0]*(k[5]*k[10]-k[6]*k[9])-k[1]*(k[4]*k[10]-k[6]*k[8])+k[2]*(k[4]*k[9]-k[5]*k[8])<0&&(j.z=-j.z);var _e=k;o().default.set(_e,0,_e[0]/j.x);var et=k;o().default.set(et,1,et[1]/j.x);var nt=k;o().default.set(nt,2,nt[2]/j.x);var rt=k;o().default.set(rt,4,rt[4]/j.y);var tt=k;o().default.set(tt,5,tt[5]/j.y);var it=k;o().default.set(it,6,it[6]/j.y);var st=k;o().default.set(st,8,st[8]/j.z);var at=k;o().default.set(at,9,at[9]/j.z);var _t=k;o().default.set(_t,10,_t[10]/j.z);var ut=new(s()).default;switch(f){case"axisAngle":ut.w=Math.acos((k[0]+k[5]+k[10]-1)/2);var ot=Math.sqrt((k[6]-k[9])*(k[6]-k[9])+(k[8]-k[2])*(k[8]-k[2])+(k[1]-k[4])*(k[1]-k[4]));ot!=0?(ut.x=(k[6]-k[9])/ot,ut.y=(k[8]-k[2])/ot,ut.z=(k[1]-k[4])/ot):ut.x=ut.y=ut.z=0;break;case"eulerAngles":ut.y=Math.asin(-k[2]),k[2]!=1&&k[2]!=-1?(ut.x=Math.atan2(k[6],k[10]),ut.z=Math.atan2(k[1],k[0])):(ut.z=0,ut.x=Math.atan2(k[4],k[5]));break;case"quaternion":var lt=k[0]+k[5]+k[10];lt>0?(ut.w=Math.sqrt(1+lt)/2,ut.x=(k[6]-k[9])/(4*ut.w),ut.y=(k[8]-k[2])/(4*ut.w),ut.z=(k[1]-k[4])/(4*ut.w)):k[0]>k[5]&&k[0]>k[10]?(ut.x=Math.sqrt(1+k[0]-k[5]-k[10])/2,ut.w=(k[6]-k[9])/(4*ut.x),ut.y=(k[1]+k[4])/(4*ut.x),ut.z=(k[8]+k[2])/(4*ut.x)):k[5]>k[10]?(ut.y=Math.sqrt(1+k[5]-k[0]-k[10])/2,ut.x=(k[1]+k[4])/(4*ut.y),ut.w=(k[8]-k[2])/(4*ut.y),ut.z=(k[6]+k[9])/(4*ut.y)):(ut.z=Math.sqrt(1+k[10]-k[0]-k[5])/2,ut.x=(k[8]+k[2])/(4*ut.z),ut.y=(k[6]+k[9])/(4*ut.z),ut.w=(k[1]-k[4])/(4*ut.z));break}return o().default.push(g,$),o().default.push(g,ut),o().default.push(g,j),g},deltaTransformVector:function(f){var g=f.x,b=f.y,k=f.z;return new(s()).default(g*this.rawData[0]+b*this.rawData[4]+k*this.rawData[8],g*this.rawData[1]+b*this.rawData[5]+k*this.rawData[9],g*this.rawData[2]+b*this.rawData[6]+k*this.rawData[10],g*this.rawData[3]+b*this.rawData[7]+k*this.rawData[11])},identity:function(){this.rawData=o().default._new(null,null,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},interpolateTo:function(f,g){for(var b=0;b<16;){var k=b++;o().default.set(this.rawData,k,this.rawData[k]+(f.rawData[k]-this.rawData[k])*g)}},invert:function(){var f=this.get_determinant(),g=Math.abs(f)>1e-11;if(g){f=1/f;var b=this.rawData[0],k=this.rawData[4],$=this.rawData[8],j=this.rawData[12],_e=this.rawData[1],et=this.rawData[5],nt=this.rawData[9],rt=this.rawData[13],tt=this.rawData[2],it=this.rawData[6],st=this.rawData[10],at=this.rawData[14],_t=this.rawData[3],ut=this.rawData[7],ot=this.rawData[11],lt=this.rawData[15];o().default.set(this.rawData,0,f*(et*(st*lt-at*ot)-nt*(it*lt-at*ut)+rt*(it*ot-st*ut))),o().default.set(this.rawData,1,-f*(_e*(st*lt-at*ot)-nt*(tt*lt-at*_t)+rt*(tt*ot-st*_t))),o().default.set(this.rawData,2,f*(_e*(it*lt-at*ut)-et*(tt*lt-at*_t)+rt*(tt*ut-it*_t))),o().default.set(this.rawData,3,-f*(_e*(it*ot-st*ut)-et*(tt*ot-st*_t)+nt*(tt*ut-it*_t))),o().default.set(this.rawData,4,-f*(k*(st*lt-at*ot)-$*(it*lt-at*ut)+j*(it*ot-st*ut))),o().default.set(this.rawData,5,f*(b*(st*lt-at*ot)-$*(tt*lt-at*_t)+j*(tt*ot-st*_t))),o().default.set(this.rawData,6,-f*(b*(it*lt-at*ut)-k*(tt*lt-at*_t)+j*(tt*ut-it*_t))),o().default.set(this.rawData,7,f*(b*(it*ot-st*ut)-k*(tt*ot-st*_t)+$*(tt*ut-it*_t))),o().default.set(this.rawData,8,f*(k*(nt*lt-rt*ot)-$*(et*lt-rt*ut)+j*(et*ot-nt*ut))),o().default.set(this.rawData,9,-f*(b*(nt*lt-rt*ot)-$*(_e*lt-rt*_t)+j*(_e*ot-nt*_t))),o().default.set(this.rawData,10,f*(b*(et*lt-rt*ut)-k*(_e*lt-rt*_t)+j*(_e*ut-et*_t))),o().default.set(this.rawData,11,-f*(b*(et*ot-nt*ut)-k*(_e*ot-nt*_t)+$*(_e*ut-et*_t))),o().default.set(this.rawData,12,-f*(k*(nt*at-rt*st)-$*(et*at-rt*it)+j*(et*st-nt*it))),o().default.set(this.rawData,13,f*(b*(nt*at-rt*st)-$*(_e*at-rt*tt)+j*(_e*st-nt*tt))),o().default.set(this.rawData,14,-f*(b*(et*at-rt*it)-k*(_e*at-rt*tt)+j*(_e*it-et*tt))),o().default.set(this.rawData,15,f*(b*(et*st-nt*it)-k*(_e*st-nt*tt)+$*(_e*it-et*tt)))}return g},pointAt:function(f,g,b){g==null&&(g=new(s()).default(0,0,-1)),b==null&&(b=new(s()).default(0,-1,0));var k=g.subtract(f),$=b.clone();k.normalize(),$.normalize();var j=k.clone();j.scaleBy($.dotProduct(k)),$=$.subtract(j),$.get_length()>0?$.normalize():k.x!=0?$=new(s()).default(-k.y,k.x,0):$=new(s()).default(1,0,0);var _e=$.crossProduct(k);_e.normalize(),o().default.set(this.rawData,0,_e.x),o().default.set(this.rawData,4,_e.y),o().default.set(this.rawData,8,_e.z),o().default.set(this.rawData,12,0),o().default.set(this.rawData,1,$.x),o().default.set(this.rawData,5,$.y),o().default.set(this.rawData,9,$.z),o().default.set(this.rawData,13,0),o().default.set(this.rawData,2,k.x),o().default.set(this.rawData,6,k.y),o().default.set(this.rawData,10,k.z),o().default.set(this.rawData,14,0),o().default.set(this.rawData,3,f.x),o().default.set(this.rawData,7,f.y),o().default.set(this.rawData,11,f.z),o().default.set(this.rawData,15,1)},prepend:function(f){var g=f.rawData[0],b=f.rawData[4],k=f.rawData[8],$=f.rawData[12],j=f.rawData[1],_e=f.rawData[5],et=f.rawData[9],nt=f.rawData[13],rt=f.rawData[2],tt=f.rawData[6],it=f.rawData[10],st=f.rawData[14],at=f.rawData[3],_t=f.rawData[7],ut=f.rawData[11],ot=f.rawData[15],lt=this.rawData[0],ft=this.rawData[4],ht=this.rawData[8],dt=this.rawData[12],pt=this.rawData[1],xt=this.rawData[5],vt=this.rawData[9],bt=this.rawData[13],wt=this.rawData[2],At=this.rawData[6],ct=this.rawData[10],mt=this.rawData[14],gt=this.rawData[3],Tt=this.rawData[7],yt=this.rawData[11],Et=this.rawData[15];o().default.set(this.rawData,0,g*lt+j*ft+rt*ht+at*dt),o().default.set(this.rawData,1,g*pt+j*xt+rt*vt+at*bt),o().default.set(this.rawData,2,g*wt+j*At+rt*ct+at*mt),o().default.set(this.rawData,3,g*gt+j*Tt+rt*yt+at*Et),o().default.set(this.rawData,4,b*lt+_e*ft+tt*ht+_t*dt),o().default.set(this.rawData,5,b*pt+_e*xt+tt*vt+_t*bt),o().default.set(this.rawData,6,b*wt+_e*At+tt*ct+_t*mt),o().default.set(this.rawData,7,b*gt+_e*Tt+tt*yt+_t*Et),o().default.set(this.rawData,8,k*lt+et*ft+it*ht+ut*dt),o().default.set(this.rawData,9,k*pt+et*xt+it*vt+ut*bt),o().default.set(this.rawData,10,k*wt+et*At+it*ct+ut*mt),o().default.set(this.rawData,11,k*gt+et*Tt+it*yt+ut*Et),o().default.set(this.rawData,12,$*lt+nt*ft+st*ht+ot*dt),o().default.set(this.rawData,13,$*pt+nt*xt+st*vt+ot*bt),o().default.set(this.rawData,14,$*wt+nt*At+st*ct+ot*mt),o().default.set(this.rawData,15,$*gt+nt*Tt+st*yt+ot*Et)},prependRotation:function(f,g,b){var k=0,$=k,j=$;b!=null&&(j=b.x,$=b.y,k=b.z);var _e=f*Math.PI/180,et=Math.cos(_e),nt=Math.sin(_e),rt=g.x,tt=g.y,it=g.z,st=rt*rt,at=tt*tt,_t=it*it,ut=st+at+_t;if(ut!=0){var ot=Math.sqrt(ut);rt/=ot,tt/=ot,it/=ot,st/=ut,at/=ut,_t/=ut}var lt=1-et,ft=new h,ht=ft.rawData;o().default.set(ht,0,st+(at+_t)*et),o().default.set(ht,1,rt*tt*lt+it*nt),o().default.set(ht,2,rt*it*lt-tt*nt),o().default.set(ht,4,rt*tt*lt-it*nt),o().default.set(ht,5,at+(st+_t)*et),o().default.set(ht,6,tt*it*lt+rt*nt),o().default.set(ht,8,rt*it*lt+tt*nt),o().default.set(ht,9,tt*it*lt-rt*nt),o().default.set(ht,10,_t+(st+at)*et),o().default.set(ht,12,(j*(at+_t)-rt*($*tt+k*it))*lt+($*it-k*tt)*nt),o().default.set(ht,13,($*(st+_t)-tt*(j*rt+k*it))*lt+(k*rt-j*it)*nt),o().default.set(ht,14,(k*(st+at)-it*(j*rt+$*tt))*lt+(j*tt-$*rt)*nt),this.prepend(ft)},prependScale:function(f,g,b){this.prepend(new h(o().default._new(null,null,[f,0,0,0,0,g,0,0,0,0,b,0,0,0,0,1])))},prependTranslation:function(f,g,b){var k=new h;k.set_position(new(s()).default(f,g,b)),this.prepend(k)},recompose:function(f,g){if(g==null&&(g="eulerAngles"),f.get_length()<3||f[2].x==0||f[2].y==0||f[2].z==0)return!1;this.identity();var b=[];if(b[0]=b[1]=b[2]=f[2].x,b[4]=b[5]=b[6]=f[2].y,b[8]=b[9]=b[10]=f[2].z,g=="eulerAngles"){var k=Math.cos(f[1].x),$=Math.cos(f[1].y),j=Math.cos(f[1].z),_e=Math.sin(f[1].x),et=Math.sin(f[1].y),nt=Math.sin(f[1].z);o().default.set(this.rawData,0,$*j*b[0]),o().default.set(this.rawData,1,$*nt*b[1]),o().default.set(this.rawData,2,-et*b[2]),o().default.set(this.rawData,3,0),o().default.set(this.rawData,4,(_e*et*j-k*nt)*b[4]),o().default.set(this.rawData,5,(_e*et*nt+k*j)*b[5]),o().default.set(this.rawData,6,_e*$*b[6]),o().default.set(this.rawData,7,0),o().default.set(this.rawData,8,(k*et*j+_e*nt)*b[8]),o().default.set(this.rawData,9,(k*et*nt-_e*j)*b[9]),o().default.set(this.rawData,10,k*$*b[10]),o().default.set(this.rawData,11,0),o().default.set(this.rawData,12,f[0].x),o().default.set(this.rawData,13,f[0].y),o().default.set(this.rawData,14,f[0].z),o().default.set(this.rawData,15,1)}else{var rt=f[1].x,tt=f[1].y,it=f[1].z,st=f[1].w;g=="axisAngle"&&(rt*=Math.sin(st/2),tt*=Math.sin(st/2),it*=Math.sin(st/2),st=Math.cos(st/2)),o().default.set(this.rawData,0,(1-2*tt*tt-2*it*it)*b[0]),o().default.set(this.rawData,1,(2*rt*tt+2*st*it)*b[1]),o().default.set(this.rawData,2,(2*rt*it-2*st*tt)*b[2]),o().default.set(this.rawData,3,0),o().default.set(this.rawData,4,(2*rt*tt-2*st*it)*b[4]),o().default.set(this.rawData,5,(1-2*rt*rt-2*it*it)*b[5]),o().default.set(this.rawData,6,(2*tt*it+2*st*rt)*b[6]),o().default.set(this.rawData,7,0),o().default.set(this.rawData,8,(2*rt*it+2*st*tt)*b[8]),o().default.set(this.rawData,9,(2*tt*it-2*st*rt)*b[9]),o().default.set(this.rawData,10,(1-2*rt*rt-2*tt*tt)*b[10]),o().default.set(this.rawData,11,0),o().default.set(this.rawData,12,f[0].x),o().default.set(this.rawData,13,f[0].y),o().default.set(this.rawData,14,f[0].z),o().default.set(this.rawData,15,1)}return f[2].x==0&&o().default.set(this.rawData,0,1e-15),f[2].y==0&&o().default.set(this.rawData,5,1e-15),f[2].z==0&&o().default.set(this.rawData,10,1e-15),!(f[2].x==0||f[2].y==0||f[2].y==0)},transformVector:function(f){var g=f.x,b=f.y,k=f.z;return new(s()).default(g*this.rawData[0]+b*this.rawData[4]+k*this.rawData[8]+this.rawData[12],g*this.rawData[1]+b*this.rawData[5]+k*this.rawData[9]+this.rawData[13],g*this.rawData[2]+b*this.rawData[6]+k*this.rawData[10]+this.rawData[14],g*this.rawData[3]+b*this.rawData[7]+k*this.rawData[11]+this.rawData[15])},transformVectors:function(f,g){for(var b=0,k,$,j;b+3<=f.get_length();)k=f[b],$=f[b+1],j=f[b+2],o().default.set(g,b,k*this.rawData[0]+$*this.rawData[4]+j*this.rawData[8]+this.rawData[12]),o().default.set(g,b+1,k*this.rawData[1]+$*this.rawData[5]+j*this.rawData[9]+this.rawData[13]),o().default.set(g,b+2,k*this.rawData[2]+$*this.rawData[6]+j*this.rawData[10]+this.rawData[14]),b+=3},transpose:function(){var f=c().default.ofArray(this.rawData);o().default.set(this.rawData,1,f[4]),o().default.set(this.rawData,2,f[8]),o().default.set(this.rawData,3,f[12]),o().default.set(this.rawData,4,f[1]),o().default.set(this.rawData,6,f[9]),o().default.set(this.rawData,7,f[13]),o().default.set(this.rawData,8,f[2]),o().default.set(this.rawData,9,f[6]),o().default.set(this.rawData,11,f[14]),o().default.set(this.rawData,12,f[3]),o().default.set(this.rawData,13,f[7]),o().default.set(this.rawData,14,f[11])},get_determinant:function(){return(this.rawData[0]*this.rawData[5]-this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15]-this.rawData[14]*this.rawData[11])-(this.rawData[0]*this.rawData[9]-this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15]-this.rawData[14]*this.rawData[7])+(this.rawData[0]*this.rawData[13]-this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11]-this.rawData[10]*this.rawData[7])+(this.rawData[4]*this.rawData[9]-this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15]-this.rawData[14]*this.rawData[3])-(this.rawData[4]*this.rawData[13]-this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11]-this.rawData[10]*this.rawData[3])+(this.rawData[8]*this.rawData[13]-this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7]-this.rawData[6]*this.rawData[3])},get_position:function(){return new(s()).default(this.rawData[12],this.rawData[13],this.rawData[14])},set_position:function(f){return o().default.set(this.rawData,12,f.x),o().default.set(this.rawData,13,f.y),o().default.set(this.rawData,14,f.z),f}},h.prototype.__class__=h.prototype.constructor=d["openfl.geom.Matrix3D"]=h,Object.defineProperties(h.prototype,{determinant:{get:function(){return this.get_determinant()},set:function(f){return this.set_determinant(f)}},position:{get:function(){return this.get_position()},set:function(f){return this.set_position(f)}}}),h.create2D=function(f,g,b,k){k==null&&(k=0),b==null&&(b=1);var $=k*Math.PI/180,j=Math.cos($),_e=Math.sin($);return new h(o().default._new(null,null,[j*b,-_e*b,0,0,_e*b,j*b,0,0,0,0,1,0,f,g,0,1]))},h.createABCD=function(f,g,b,k,$,j){return new h(o().default._new(null,null,[f,g,0,0,b,k,0,0,0,0,1,0,$,j,0,1]))},h.createOrtho=function(f,g,b,k,$,j){var _e=1/(g-f),et=1/(k-b),nt=1/(j-$);return new h(o().default._new(null,null,[2*_e,0,0,0,0,2*et,0,0,0,0,-2*nt,0,-(f+g)*_e,-(b+k)*et,-($+j)*nt,1]))},h.interpolate=function(f,g,b){for(var k=new h,$=0;$<16;){var j=$++;o().default.set(k.rawData,j,f.rawData[j]+(g.rawData[j]-f.rawData[j])*b)}return k},h.__getAxisRotation=function(f,g,b,k){var $=new h,j=new(s()).default(f,g,b),_e=-k*(Math.PI/180),et=Math.cos(_e),nt=Math.sin(_e),rt=1-et;o().default.set($.rawData,0,et+j.x*j.x*rt),o().default.set($.rawData,5,et+j.y*j.y*rt),o().default.set($.rawData,10,et+j.z*j.z*rt);var tt=j.x*j.y*rt,it=j.z*nt;return o().default.set($.rawData,4,tt+it),o().default.set($.rawData,1,tt-it),tt=j.x*j.z*rt,it=j.y*nt,o().default.set($.rawData,8,tt-it),o().default.set($.rawData,2,tt+it),tt=j.y*j.z*rt,it=j.x*nt,o().default.set($.rawData,9,tt+it),o().default.set($.rawData,6,tt-it),$},h.__meta__={statics:{create2D:{SuppressWarnings:["checkstyle:FieldDocComment"]},createABCD:{SuppressWarnings:["checkstyle:FieldDocComment"]},createOrtho:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=h})(Matrix3D$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Matrix3D$1}function c(){return requireVector_Impl_()}function s(){return ColorTransform$1}function h(){return Rectangle$2}var f=function(g){this.__colorTransform=new(s()).default,this.concatenatedColorTransform=new(s()).default,this.pixelBounds=new(h()).default,this.__displayObject=g,this.__hasMatrix=!0};f.__name__="openfl.geom.Transform",f.__isInterface__=!1,f.prototype={get_colorTransform:function(){return this.__colorTransform.__clone()},set_colorTransform:function(g){return this.__colorTransform.__equals(g,!1)||(this.__colorTransform.__copyFrom(g),g!=null&&this.__displayObject.set_alpha(g.alphaMultiplier),this.__displayObject.__setRenderDirty()),this.__colorTransform},get_concatenatedMatrix:function(){return this.__hasMatrix?this.__displayObject.__getWorldTransform().clone():null},get_matrix:function(){return this.__hasMatrix?this.__displayObject.__transform.clone():null},set_matrix:function(g){return g==null?(this.__hasMatrix=!1,null):(this.__hasMatrix=!0,this.__hasMatrix3D=!1,this.__displayObject!=null&&this.__setTransform(g.a,g.b,g.c,g.d,g.tx,g.ty),g)},get_matrix3D:function(){if(this.__hasMatrix3D){var g=this.__displayObject.__transform;return new(o()).default(c().default._new(null,null,[g.a,g.b,0,0,g.c,g.d,0,0,0,0,1,0,g.tx,g.ty,0,1]))}return null},set_matrix3D:function(g){return g==null?(this.__hasMatrix3D=!1,null):(this.__hasMatrix=!1,this.__hasMatrix3D=!0,this.__setTransform(g.rawData[0],g.rawData[1],g.rawData[4],g.rawData[5],g.rawData[12],g.rawData[13]),g)},__setTransform:function(g,b,k,$,j,_e){if(this.__displayObject!=null){var et=this.__displayObject.__transform;if(et.a==g&&et.b==b&&et.c==k&&et.d==$&&et.tx==j&&et.ty==_e)return;var nt=0,rt=0;b==0?nt=g:nt=Math.sqrt(g*g+b*b),k==0?rt=$:rt=Math.sqrt(k*k+$*$),this.__displayObject.__scaleX=nt,this.__displayObject.__scaleY=rt;var tt=180/Math.PI*Math.atan2($,k)-90;if(tt!=this.__displayObject.__rotation){this.__displayObject.__rotation=tt;var it=tt*(Math.PI/180);this.__displayObject.__rotationSine=Math.sin(it),this.__displayObject.__rotationCosine=Math.cos(it)}et.a=g,et.b=b,et.c=k,et.d=$,et.tx=j,et.ty=_e,this.__displayObject.__setTransformDirty()}}},f.prototype.__class__=f.prototype.constructor=d["openfl.geom.Transform"]=f,Object.defineProperties(f.prototype,{colorTransform:{get:function(){return this.get_colorTransform()},set:function(g){return this.set_colorTransform(g)}},concatenatedMatrix:{get:function(){return this.get_concatenatedMatrix()},set:function(g){return this.set_concatenatedMatrix(g)}},matrix:{get:function(){return this.get_matrix()},set:function(g){return this.set_matrix(g)}},matrix3D:{get:function(){return this.get_matrix3D()},set:function(g){return this.set_matrix3D(g)}}}),e.default=f})(Transform$h);var _TypeError$1={},_Error$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCallStack()}var c=function(s,h){h==null&&(h=0),s==null&&(s=""),this.message=s,this.errorID=h,this.name="Error"};c.__name__="openfl.errors.Error",c.__isInterface__=!1,c.prototype={getStackTrace:function(){return o().default.toString(o().default.exceptionStack())},toString:function(){return this.message!=null?this.message:"Error"}},c.prototype.__class__=c.prototype.constructor=d["openfl.errors.Error"]=c,c.DEFAULT_TO_STRING="Error",e.default=c})(_Error$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h,0),this.name="TypeError"};s.__name__="openfl.errors.TypeError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.TypeError"]=s,e.default=s})(_TypeError$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return IBitmapDrawable$1}function s(){return EventDispatcher$1}function h(){return RenderEvent$1}function f(){return ColorTransform$1}function g(){return Matrix$2}function b(){return MouseEvent$3}function k(){return TouchEvent$1}function $(){return Rectangle$2}function j(){return Point$2}function _e(){return requireHxOverrides()}function et(){return requireVector_Impl_()}function nt(){return requireLib$1()}function rt(){return Transform$h}function tt(){return requireHaxeError()}function it(){return _TypeError$1}function st(){return requireStringMap()}function at(){return requireObjectPool()}var _t=function(){s().default.call(this),this.__drawableType=1,this.__alpha=1,this.__blendMode="normal",this.__cacheAsBitmap=!1,this.__transform=new(g()).default,this.__visible=!0,this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1,this.__scaleX=1,this.__scaleY=1,this.__worldAlpha=1,this.__worldBlendMode="normal",this.__worldTransform=new(g()).default,this.__worldColorTransform=new(f()).default,this.__renderTransform=new(g()).default,this.__worldVisible=!0,this.set_name("instance"+ ++_t.__instanceCount),_t.__initStage!=null&&(this.stage=_t.__initStage,_t.__initStage=null,this.stage.addChild(this))};_t.__name__="openfl.display.DisplayObject",_t.__isInterface__=!1,_t.__interfaces__=[c().default],_t.__super__=s().default,_t.prototype=o(s().default.prototype,{addEventListener:function(ut,ot,lt,ft,ht){switch(ht==null&&(ht=!1),ft==null&&(ft=0),lt==null&&(lt=!1),ut){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":_t.__broadcastEvents.exists(ut)||_t.__broadcastEvents.set(ut,[]);var dt=_t.__broadcastEvents.get(ut);dt.indexOf(this)==-1&&dt.push(this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":this.__customRenderEvent==null&&(this.__customRenderEvent=new(h()).default(null),this.__customRenderEvent.objectColorTransform=new(f()).default,this.__customRenderEvent.objectMatrix=new(g()).default,this.__customRenderClear=!0);break}s().default.prototype.addEventListener.call(this,ut,ot,lt,ft,ht)},dispatchEvent:function(ut){if(ut instanceof b().default){var ot=ut;ot.stageX=this.__getRenderTransform().__transformX(ot.localX,ot.localY),ot.stageY=this.__getRenderTransform().__transformY(ot.localX,ot.localY)}else if(ut instanceof k().default){var lt=ut;lt.stageX=this.__getRenderTransform().__transformX(lt.localX,lt.localY),lt.stageY=this.__getRenderTransform().__transformY(lt.localX,lt.localY)}return ut.target=this,this.__dispatchWithCapture(ut)},getBounds:function(ut){var ot=g().default.__pool.get();if(ut!=null&&ut!=this){ot.copyFrom(this.__getWorldTransform());var lt=g().default.__pool.get();lt.copyFrom(ut.__getWorldTransform()),lt.invert(),ot.concat(lt),g().default.__pool.release(lt)}else ot.identity();var ft=new($()).default;return this.__getBounds(ft,ot),g().default.__pool.release(ot),ft},getRect:function(ut){return this.getBounds(ut)},globalToLocal:function(ut){return this.__globalToLocal(ut,new(j()).default)},hitTestObject:function(ut){if(ut!=null&&ut.parent!=null&&this.parent!=null){var ot=this.getBounds(this),lt=ut.getBounds(this);return ot.intersects(lt)}return!1},hitTestPoint:function(ut,ot,lt){return lt==null&&(lt=!1),this.stage!=null?this.__hitTest(ut,ot,lt,null,!1,this):!1},invalidate:function(){this.__setRenderDirty()},localToGlobal:function(ut){return this.__getRenderTransform().transformPoint(ut)},removeEventListener:function(ut,ot,lt){switch(lt==null&&(lt=!1),s().default.prototype.removeEventListener.call(this,ut,ot,lt),ut){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":this.hasEventListener(ut)||_t.__broadcastEvents.exists(ut)&&_e().default.remove(_t.__broadcastEvents.get(ut),this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":!this.hasEventListener("clearDOM")&&!this.hasEventListener("renderCairo")&&!this.hasEventListener("renderCanvas")&&!this.hasEventListener("renderDOM")&&!this.hasEventListener("renderOpenGL")&&(this.__customRenderEvent=null);break}},__cleanup:function(){this.__cairo=null,this.__canvas=null,this.__context=null,this.__graphics!=null&&this.__graphics.__cleanup(),this.__cacheBitmap!=null&&(this.__cacheBitmap.__cleanup(),this.__cacheBitmap=null),this.__cacheBitmapData!=null&&(this.__cacheBitmapData.dispose(),this.__cacheBitmapData=null)},__dispatch:function(ut){if(this.__eventMap!=null&&this.hasEventListener(ut.type)){var ot=s().default.prototype.__dispatchEvent.call(this,ut);return ut.__isCanceled?!0:ot}return!0},__dispatchChildren:function(ut){},__dispatchEvent:function(ut){var ot=ut.bubbles?this.parent:null,lt=s().default.prototype.__dispatchEvent.call(this,ut);return ut.__isCanceled?!0:(ot!=null&&ot!=this&&(ut.eventPhase=3,ut.target==null&&(ut.target=this),ot.__dispatchEvent(ut)),lt)},__dispatchWithCapture:function(ut){if(ut.target==null&&(ut.target=this),this.parent!=null)if(ut.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(ut);else{for(var ot=_t.__tempStack.get(),lt=this.parent,ft=0;lt!=null;)et().default.set(ot,ft,lt),lt=lt.parent,++ft;for(var ht=0,dt=ft;ht<dt;){var pt=ht++;ot[ft-pt-1].__dispatch(ut)}_t.__tempStack.release(ot)}return ut.eventPhase=2,this.__dispatchEvent(ut)},__enterFrame:function(ut){},__getBounds:function(ut,ot){this.__graphics!=null&&this.__graphics.__getBounds(ut,ot)},__getCursor:function(){return null},__getFilterBounds:function(ut,ot){if(this.__getRenderBounds(ut,ot),this.__filters!=null){for(var lt=$().default.__pool.get(),ft=0,ht=this.__filters;ft<ht.length;){var dt=ht[ft];++ft,lt.__expand(-dt.__leftExtension,-dt.__topExtension,dt.__leftExtension+dt.__rightExtension,dt.__topExtension+dt.__bottomExtension)}ut.width+=lt.width,ut.height+=lt.height,ut.x+=lt.x,ut.y+=lt.y,$().default.__pool.release(lt)}},__getInteractive:function(ut){return!1},__getLocalBounds:function(ut){this.__getBounds(ut,this.__transform),ut.x-=this.__transform.tx,ut.y-=this.__transform.ty},__getRenderBounds:function(ut,ot){if(this.__scrollRect==null)this.__getBounds(ut,ot);else{var lt=$().default.__pool.get();lt.copyFrom(this.__scrollRect),lt.__transform(lt,ot),ut.__expand(lt.x,lt.y,lt.width,lt.height),$().default.__pool.release(lt)}},__getRenderTransform:function(){return this.__getWorldTransform(),this.__renderTransform},__getWorldTransform:function(){var ut=this.__transformDirty||this.__worldTransformInvalid;if(ut){var ot=[],lt=this;if(this.parent==null)this.__update(!0,!1);else for(;lt!=this.stage&&(ot.push(lt),lt=lt.parent,lt!=null););for(var ft=ot.length;--ft>=0;)lt=ot[ft],lt.__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(ut,ot){return this.__getRenderTransform(),ut==ot?this.__renderTransform.__transformInversePoint(ut):(ot.x=this.__renderTransform.__transformInverseX(ut.x,ut.y),ot.y=this.__renderTransform.__transformInverseY(ut.x,ut.y)),ot},__hitTest:function(ut,ot,lt,ft,ht,dt){if(this.__graphics!=null){if(!dt.__visible||this.__isMask||this.get_mask()!=null&&!this.get_mask().__hitTestMask(ut,ot))return!1;if(this.__graphics.__hitTest(ut,ot,lt,this.__getRenderTransform()))return ft!=null&&!ht&&ft.push(dt),!0}return!1},__hitTestMask:function(ut,ot){return!!(this.__graphics!=null&&this.__graphics.__hitTest(ut,ot,!0,this.__getRenderTransform()))},__readGraphicsData:function(ut,ot){this.__graphics!=null&&this.__graphics.__readGraphicsData(ut)},__setParentRenderDirty:function(){var ut=this.__renderParent!=null?this.__renderParent:this.parent;ut!=null&&!ut.__renderDirty&&(ut.__renderDirty=!0,ut.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(ut){this.stage=ut},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__stopAllMovieClips:function(){},__update:function(ut,ot){var lt=this.__renderParent!=null?this.__renderParent:this.parent;if(this.__isMask&&lt==null&&(lt=this.__maskTarget),this.__renderable=this.__visible&&this.__scaleX!=0&&this.__scaleY!=0&&!this.__isMask&&(lt==null||!lt.__isMask),this.__updateTransforms(),this.__transformDirty=!1,this.__worldTransformInvalid=!1,!ut)if(_t.__supportDOM&&(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),this.__renderTransformCache==null?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform)),lt!=null){if(_t.__supportDOM){var ft=lt.__worldVisible&&this.__visible;this.__worldVisibleChanged=this.__worldVisible!=ft,this.__worldVisible=ft;var ht=this.get_alpha()*lt.__worldAlpha;this.__worldAlphaChanged=this.__worldAlpha!=ht,this.__worldAlpha=ht}else this.__worldAlpha=this.get_alpha()*lt.__worldAlpha;this.__objectTransform!=null?(this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform),this.__worldColorTransform.__combine(lt.__worldColorTransform)):this.__worldColorTransform.__copyFrom(lt.__worldColorTransform),this.__blendMode==null||this.__blendMode=="normal"?this.__worldBlendMode=lt.__worldBlendMode:this.__worldBlendMode=this.__blendMode,this.__shader==null?this.__worldShader=lt.__shader:this.__worldShader=this.__shader,this.__scale9Grid==null?this.__worldScale9Grid=lt.__scale9Grid:this.__worldScale9Grid=this.__scale9Grid}else this.__worldAlpha=this.get_alpha(),_t.__supportDOM&&(this.__worldVisibleChanged=this.__worldVisible!=this.__visible,this.__worldVisible=this.__visible,this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),this.__objectTransform!=null?this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform):this.__worldColorTransform.__identity(),this.__worldBlendMode=this.__blendMode,this.__worldShader=this.__shader,this.__worldScale9Grid=this.__scale9Grid;ot&&this.get_mask()!=null&&this.get_mask().__update(ut,!0)},__updateTransforms:function(ut){var ot=ut!=null,lt=ot?ut:this.__transform;this.__worldTransform==null&&(this.__worldTransform=new(g()).default),this.__renderTransform==null&&(this.__renderTransform=new(g()).default);var ft=this.__renderParent!=null?this.__renderParent:this.parent;!ot&&this.parent!=null?_t.__calculateAbsoluteTransform(lt,this.parent.__worldTransform,this.__worldTransform):this.__worldTransform.copyFrom(lt),!ot&&ft!=null?_t.__calculateAbsoluteTransform(lt,ft.__renderTransform,this.__renderTransform):this.__renderTransform.copyFrom(lt),this.__scrollRect!=null&&this.__renderTransform.__translateTransformed(-this.__scrollRect.x,-this.__scrollRect.y)},get_alpha:function(){return this.__alpha},set_alpha:function(ut){return ut>1&&(ut=1),ut<0&&(ut=0),ut!=this.__alpha&&!this.get_cacheAsBitmap()&&this.__setRenderDirty(),this.__alpha=ut},get_blendMode:function(){return this.__blendMode},set_blendMode:function(ut){return ut==null&&(ut="normal"),ut!=this.__blendMode&&this.__setRenderDirty(),this.__blendMode=ut},get_cacheAsBitmap:function(){return this.__filters==null?this.__cacheAsBitmap:!0},set_cacheAsBitmap:function(ut){return ut!=this.__cacheAsBitmap&&this.__setRenderDirty(),this.__cacheAsBitmap=ut},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(ut){return this.__setRenderDirty(),this.__cacheAsBitmapMatrix=ut!=null?ut.clone():ut},get_filters:function(){return this.__filters==null?[]:this.__filters.slice()},set_filters:function(ut){if(ut!=null&&ut.length>0){for(var ot=[],lt=0;lt<ut.length;){var ft=ut[lt];++lt;var ht=ft.clone();ht.__renderDirty=!0,ot.push(ht)}this.__filters=ot,this.__setRenderDirty()}else this.__filters!=null&&(this.__filters=null,this.__setRenderDirty());return ut},get_height:function(){var ut=$().default.__pool.get();this.__getLocalBounds(ut);var ot=ut.height;return $().default.__pool.release(ut),ot},set_height:function(ut){var ot=$().default.__pool.get(),lt=g().default.__pool.get();return lt.identity(),this.__getBounds(ot,lt),ut!=ot.height?this.set_scaleY(ut/ot.height):this.set_scaleY(1),$().default.__pool.release(ot),g().default.__pool.release(lt),ut},get_loaderInfo:function(){return this.stage!=null?nt().default.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(ut){return ut==this.__mask?ut:(ut!=this.__mask&&(this.__setTransformDirty(),this.__setRenderDirty()),this.__mask!=null&&(this.__mask.__isMask=!1,this.__mask.__maskTarget=null,this.__mask.__setTransformDirty(),this.__mask.__setRenderDirty()),ut!=null&&(ut.__isMask=!0,ut.__maskTarget=this,ut.__setWorldTransformInvalid()),this.__cacheBitmap!=null&&this.__cacheBitmap.get_mask()!=ut&&this.__cacheBitmap.set_mask(ut),this.__mask=ut)},get_mouseX:function(){var ut=this.stage!=null?this.stage.__mouseX:nt().default.current.stage.__mouseX,ot=this.stage!=null?this.stage.__mouseY:nt().default.current.stage.__mouseY;return this.__getRenderTransform().__transformInverseX(ut,ot)},get_mouseY:function(){var ut=this.stage!=null?this.stage.__mouseX:nt().default.current.stage.__mouseX,ot=this.stage!=null?this.stage.__mouseY:nt().default.current.stage.__mouseY;return this.__getRenderTransform().__transformInverseY(ut,ot)},get_name:function(){return this.__name},set_name:function(ut){return this.__name=ut},get_root:function(){return this.stage!=null?nt().default.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(ut){if(ut!=this.__rotation){this.__rotation=ut;var ot=this.__rotation*(Math.PI/180);this.__rotationSine=Math.sin(ot),this.__rotationCosine=Math.cos(ot),this.__transform.a=this.__rotationCosine*this.__scaleX,this.__transform.b=this.__rotationSine*this.__scaleX,this.__transform.c=-this.__rotationSine*this.__scaleY,this.__transform.d=this.__rotationCosine*this.__scaleY,this.__setTransformDirty()}return ut},get_scale9Grid:function(){return this.__scale9Grid==null?null:this.__scale9Grid.clone()},set_scale9Grid:function(ut){return ut==null&&this.__scale9Grid==null||ut!=null&&this.__scale9Grid!=null&&this.__scale9Grid.equals(ut)||(ut!=null?(this.__scale9Grid==null&&(this.__scale9Grid=new($()).default),this.__scale9Grid.copyFrom(ut)):this.__scale9Grid=null,this.__setRenderDirty()),ut},get_scaleX:function(){return this.__scaleX},set_scaleX:function(ut){if(ut!=this.__scaleX)if(this.__scaleX=ut,this.__transform.b==0)ut!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=ut;else{var ot=this.__rotationCosine*ut,lt=this.__rotationSine*ut;(this.__transform.a!=ot||this.__transform.b!=lt)&&this.__setTransformDirty(),this.__transform.a=ot,this.__transform.b=lt}return ut},get_scaleY:function(){return this.__scaleY},set_scaleY:function(ut){if(ut!=this.__scaleY)if(this.__scaleY=ut,this.__transform.c==0)ut!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=ut;else{var ot=-this.__rotationSine*ut,lt=this.__rotationCosine*ut;(this.__transform.d!=lt||this.__transform.c!=ot)&&this.__setTransformDirty(),this.__transform.c=ot,this.__transform.d=lt}return ut},get_scrollRect:function(){return this.__scrollRect==null?null:this.__scrollRect.clone()},set_scrollRect:function(ut){return ut==null&&this.__scrollRect==null||ut!=null&&this.__scrollRect!=null&&this.__scrollRect.equals(ut)||(ut!=null?(this.__scrollRect==null&&(this.__scrollRect=new($()).default),this.__scrollRect.copyFrom(ut)):this.__scrollRect=null,this.__setTransformDirty(),_t.__supportDOM&&this.__setRenderDirty()),ut},get_shader:function(){return this.__shader},set_shader:function(ut){return this.__shader=ut,this.__setRenderDirty(),ut},get_transform:function(){return this.__objectTransform==null&&(this.__objectTransform=new(rt()).default(this)),this.__objectTransform},set_transform:function(ut){if(ut==null)throw new(tt()).default(new(it()).default("Parameter transform must be non-null."));return this.__objectTransform==null&&(this.__objectTransform=new(rt()).default(this)),this.__setTransformDirty(),this.__objectTransform.set_matrix(ut.get_matrix()),(!this.__objectTransform.__colorTransform.__equals(ut.__colorTransform,!0)||!this.get_cacheAsBitmap()&&this.__objectTransform.__colorTransform.alphaMultiplier!=ut.__colorTransform.alphaMultiplier)&&(this.__objectTransform.__colorTransform.__copyFrom(ut.get_colorTransform()),this.__setRenderDirty()),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(ut){return ut!=this.__visible&&this.__setRenderDirty(),this.__visible=ut},get_width:function(){var ut=$().default.__pool.get();this.__getLocalBounds(ut);var ot=ut.width;return $().default.__pool.release(ut),ot},set_width:function(ut){var ot=$().default.__pool.get(),lt=g().default.__pool.get();return lt.identity(),this.__getBounds(ot,lt),ut!=ot.width?this.set_scaleX(ut/ot.width):this.set_scaleX(1),$().default.__pool.release(ot),g().default.__pool.release(lt),ut},get_x:function(){return this.__transform.tx},set_x:function(ut){return ut!=this.__transform.tx&&this.__setTransformDirty(),this.__transform.tx=ut},get_y:function(){return this.__transform.ty},set_y:function(ut){return ut!=this.__transform.ty&&this.__setTransformDirty(),this.__transform.ty=ut}}),_t.prototype.__class__=_t.prototype.constructor=d["openfl.display.DisplayObject"]=_t,Object.defineProperties(_t.prototype,{alpha:{get:function(){return this.get_alpha()},set:function(ut){return this.set_alpha(ut)}},blendMode:{get:function(){return this.get_blendMode()},set:function(ut){return this.set_blendMode(ut)}},cacheAsBitmap:{get:function(){return this.get_cacheAsBitmap()},set:function(ut){return this.set_cacheAsBitmap(ut)}},cacheAsBitmapMatrix:{get:function(){return this.get_cacheAsBitmapMatrix()},set:function(ut){return this.set_cacheAsBitmapMatrix(ut)}},filters:{get:function(){return this.get_filters()},set:function(ut){return this.set_filters(ut)}},height:{get:function(){return this.get_height()},set:function(ut){return this.set_height(ut)}},loaderInfo:{get:function(){return this.get_loaderInfo()}},mask:{get:function(){return this.get_mask()},set:function(ut){return this.set_mask(ut)}},mouseX:{get:function(){return this.get_mouseX()}},mouseY:{get:function(){return this.get_mouseY()}},name:{get:function(){return this.get_name()},set:function(ut){return this.set_name(ut)}},root:{get:function(){return this.get_root()}},rotation:{get:function(){return this.get_rotation()},set:function(ut){return this.set_rotation(ut)}},scaleX:{get:function(){return this.get_scaleX()},set:function(ut){return this.set_scaleX(ut)}},scaleY:{get:function(){return this.get_scaleY()},set:function(ut){return this.set_scaleY(ut)}},scrollRect:{get:function(){return this.get_scrollRect()},set:function(ut){return this.set_scrollRect(ut)}},shader:{get:function(){return this.get_shader()},set:function(ut){return this.set_shader(ut)}},transform:{get:function(){return this.get_transform()},set:function(ut){return this.set_transform(ut)}},visible:{get:function(){return this.get_visible()},set:function(ut){return this.set_visible(ut)}},width:{get:function(){return this.get_width()},set:function(ut){return this.set_width(ut)}},x:{get:function(){return this.get_x()},set:function(ut){return this.set_x(ut)}},y:{get:function(){return this.get_y()},set:function(ut){return this.set_y(ut)}}}),_t.__calculateAbsoluteTransform=function(ut,ot,lt){lt.a=ut.a*ot.a+ut.b*ot.c,lt.b=ut.a*ot.b+ut.b*ot.d,lt.c=ut.c*ot.a+ut.d*ot.c,lt.d=ut.c*ot.b+ut.d*ot.d,lt.tx=ut.tx*ot.a+ut.ty*ot.c+ot.tx,lt.ty=ut.tx*ot.b+ut.ty*ot.d+ot.ty},_t.__meta__={fields:{__cairo:{SuppressWarnings:["checkstyle:Dynamic"]},addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]},removeEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},_t.__broadcastEvents=new(st()).default,_t.__instanceCount=0,_t.__tempStack=new(at()).default(function(){return et().default._new()},function(ut){ut.set_length(0)}),e.default=_t})(DisplayObject$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}function s(){return Rectangle$2}var h=function(f,g,b){b==null&&(b=!1),c().default.call(this),this.__drawableType=2,this.__bitmapData=f,this.pixelSnapping=g,this.smoothing=b,g==null&&(this.pixelSnapping="auto")};h.__name__="openfl.display.Bitmap",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{__enterFrame:function(f){this.__bitmapData!=null&&this.__bitmapData.image!=null&&this.__bitmapData.image.version!=this.__imageVersion&&this.__setRenderDirty()},__getBounds:function(f,g){var b=s().default.__pool.get();this.__bitmapData!=null?b.setTo(0,0,this.__bitmapData.width,this.__bitmapData.height):b.setTo(0,0,0,0),b.__transform(b,g),f.__expand(b.x,b.y,b.width,b.height),s().default.__pool.release(b)},__hitTest:function(f,g,b,k,$,j){if(!j.get_visible()||this.__isMask||this.__bitmapData==null||this.get_mask()!=null&&!this.get_mask().__hitTestMask(f,g))return!1;this.__getRenderTransform();var _e=this.__renderTransform.__transformInverseX(f,g),et=this.__renderTransform.__transformInverseY(f,g);return _e>0&&et>0&&_e<=this.__bitmapData.width&&et<=this.__bitmapData.height?this.__scrollRect!=null&&!this.__scrollRect.contains(_e,et)?!1:(k!=null&&!$&&k.push(j),!0):!1},__hitTestMask:function(f,g){if(this.__bitmapData==null)return!1;this.__getRenderTransform();var b=this.__renderTransform.__transformInverseX(f,g),k=this.__renderTransform.__transformInverseY(f,g);return b>0&&k>0&&b<=this.__bitmapData.width&&k<=this.__bitmapData.height},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(f){return this.__bitmapData=f,this.smoothing=!1,this.__setRenderDirty(),this.__filters!=null,this.__imageVersion=-1,this.__bitmapData},set_height:function(f){return this.__bitmapData!=null?this.set_scaleY(f/this.__bitmapData.height):this.set_scaleY(0),f},set_width:function(f){return this.__bitmapData!=null?this.set_scaleX(f/this.__bitmapData.width):this.set_scaleX(0),f}}),h.prototype.__class__=h.prototype.constructor=d["openfl.display.Bitmap"]=h,Object.defineProperty(h.prototype,"bitmapData",{get:function(){return this.get_bitmapData()},set:function(f){return this.set_bitmapData(f)}}),e.default=h})(Bitmap$2);var Bitmap=Bitmap$2;const Bitmap$1=getDefaultExportFromCjs(Bitmap);var BitmapData$2={},Lib$7={},MovieClip$1={},Sprite$2={},DisplayObjectContainer$1={},InteractiveObject$1={},_RangeError$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h,0),this.name="RangeError"};s.__name__="openfl.errors.RangeError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.RangeError"]=s,e.default=s})(_RangeError$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}function s(){return requireLib$1()}function h(){return Event$1}function f(){return requireHaxeError()}function g(){return _RangeError$1}var b=function(){c().default.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=null,this.__tabIndex=-1};b.__name__="openfl.display.InteractiveObject",b.__isInterface__=!1,b.__super__=c().default,b.prototype=o(c().default.prototype,{requestSoftKeyboard:function(){return s().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/display/InteractiveObject.hx",lineNumber:1251,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"}),!1},__allowMouseFocus:function(){return this.mouseEnabled?this.get_tabEnabled():!1},__getInteractive:function(k){return k!=null&&(k.push(this),this.parent!=null&&this.parent.__getInteractive(k)),!0},__hitTest:function(k,$,j,_e,et,nt){return!nt.get_visible()||this.__isMask||et&&!this.mouseEnabled?!1:c().default.prototype.__hitTest.call(this,k,$,j,_e,et,nt)},__tabTest:function(k){this.get_tabEnabled()&&k.push(this)},get_tabEnabled:function(){return this.__tabEnabled==!0},set_tabEnabled:function(k){return this.__tabEnabled!=k&&(this.__tabEnabled=k,this.dispatchEvent(new(h()).default("tabEnabledChange",!0,!1))),this.__tabEnabled},get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(k){if(this.__tabIndex!=k){if(k<-1)throw new(f()).default(new(g()).default("Parameter tabIndex must be a non-negative number; got "+k));this.__tabIndex=k,this.dispatchEvent(new(h()).default("tabIndexChange",!0,!1))}return this.__tabIndex}}),b.prototype.__class__=b.prototype.constructor=d["openfl.display.InteractiveObject"]=b,Object.defineProperties(b.prototype,{tabEnabled:{get:function(){return this.get_tabEnabled()},set:function(k){return this.set_tabEnabled(k)}},tabIndex:{get:function(){return this.get_tabIndex()},set:function(k){return this.set_tabIndex(k)}}}),e.default=b})(InteractiveObject$1);var ArgumentError$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h),this.name="ArgumentError"};s.__name__="openfl.errors.ArgumentError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.ArgumentError"]=s,e.default=s})(ArgumentError$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return InteractiveObject$1}function s(){return _TypeError$1}function h(){return requireHaxeError()}function f(){return ArgumentError$1}function g(){return requireHxOverrides()}function b(){return Event$1}function k(){return requireVector_Impl_()}function $(){return _RangeError$1}function j(){return requireVectorIterator()}function _e(){return Matrix$2}function et(){return DisplayObject$1}function nt(){return Rectangle$2}function rt(){return Point$2}var tt=function(){c().default.call(this),this.mouseChildren=!0,this.__tabChildren=!0,this.__children=[],this.__removedChildren=k().default._new()};tt.__name__="openfl.display.DisplayObjectContainer",tt.__isInterface__=!1,tt.__super__=c().default,tt.prototype=o(c().default.prototype,{addChild:function(it){return this.addChildAt(it,this.get_numChildren())},addChildAt:function(it,st){if(it==null){var at=new(s()).default("Error #2007: Parameter child must be non-null.");throw at.errorID=2007,new(h()).default(at)}else if(it.stage==it){var _t=new(f()).default("Error #3783: A Stage object cannot be added as the child of another object.");throw _t.errorID=3783,new(h()).default(_t)}if(st>this.__children.length||st<0)throw new(h()).default("Invalid index position "+st);if(it.parent==this)this.__children[st]!=it&&(g().default.remove(this.__children,it),this.__children.splice(st,0,it),this.__setRenderDirty());else{it.parent!=null&&it.parent.removeChild(it),this.__children.splice(st,0,it),it.parent=this;var ut=this.stage!=null&&it.stage==null;ut&&it.__setStageReference(this.stage),it.__setTransformDirty(),it.__setRenderDirty(),this.__setRenderDirty();var ot=new(b()).default("added");ot.bubbles=!0,ot.target=it,it.__dispatchWithCapture(ot),ut&&(ot=new(b()).default("addedToStage",!1,!1),it.__dispatchWithCapture(ot),it.__dispatchChildren(ot))}return it},areInaccessibleObjectsUnderPoint:function(it){return!1},contains:function(it){for(;it!=this&&it!=null;)it=it.parent;return it==this},getChildAt:function(it){return it>=0&&it<this.__children.length?this.__children[it]:null},getChildByName:function(it){for(var st=0,at=this.__children;st<at.length;){var _t=at[st];if(++st,_t.get_name()==it)return _t}return null},getChildIndex:function(it){for(var st=0,at=this.__children.length;st<at;){var _t=st++;if(this.__children[_t]==it)return _t}return-1},getObjectsUnderPoint:function(it){var st=[];return this.__hitTest(it.x,it.y,!1,st,!1,this),st.reverse(),st},removeChild:function(it){if(it!=null&&it.parent==this){it.__setTransformDirty(),it.__setRenderDirty(),this.__setRenderDirty();var st=new(b()).default("removed",!0);if(it.__dispatchWithCapture(st),this.stage!=null){it.stage!=null&&this.stage.get_focus()==it&&this.stage.set_focus(null);var at=new(b()).default("removedFromStage",!1,!1);it.__dispatchWithCapture(at),it.__dispatchChildren(at),it.__setStageReference(null)}it.parent=null,g().default.remove(this.__children,it),k().default.push(this.__removedChildren,it),it.__setTransformDirty()}return it},removeChildAt:function(it){return it>=0&&it<this.__children.length?this.removeChild(this.__children[it]):null},removeChildren:function(it,st){if(st==null&&(st=2147483647),it==null&&(it=0),!(st==2147483647&&(st=this.__children.length-1,st<0))&&!(it>this.__children.length-1)){if(st<it||it<0||st>this.__children.length)throw new(h()).default(new($()).default("The supplied index is out of bounds."));for(var at=st-it;at>=0;)this.removeChildAt(it),--at}},resolve:function(it){if(this.__children==null)return null;for(var st=0,at=this.__children;st<at.length;){var _t=at[st];if(++st,_t.get_name()==it)return _t}return null},setChildIndex:function(it,st){st>=0&&st<=this.__children.length&&it.parent==this&&(g().default.remove(this.__children,it),this.__children.splice(st,0,it))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(it,st){if(it.parent==this&&st.parent==this){var at=this.__children.indexOf(it),_t=this.__children.indexOf(st);this.__children[at]=st,this.__children[_t]=it,this.__setRenderDirty()}},swapChildrenAt:function(it,st){var at=this.__children[it];this.__children[it]=this.__children[st],this.__children[st]=at,at=null,this.__setRenderDirty()},__cleanup:function(){c().default.prototype.__cleanup.call(this);for(var it=0,st=this.__children;it<st.length;){var at=st[it];++it,at.__cleanup()}this.__cleanupRemovedChildren()},__cleanupRemovedChildren:function(){for(var it=new(j()).default(this.__removedChildren);it.hasNext();){var st=it.next();st.stage==null&&st.__cleanup()}this.__removedChildren.set_length(0)},__dispatchChildren:function(it){if(this.__children!=null)for(var st=0,at=this.__children;st<at.length;){var _t=at[st];if(++st,it.target=_t,!_t.__dispatchWithCapture(it))break;_t.__dispatchChildren(it)}},__enterFrame:function(it){for(var st=0,at=this.__children;st<at.length;){var _t=at[st];++st,_t.__enterFrame(it)}},__getBounds:function(it,st){if(c().default.prototype.__getBounds.call(this,it,st),this.__children.length!=0){for(var at=_e().default.__pool.get(),_t=0,ut=this.__children;_t<ut.length;){var ot=ut[_t];++_t,!(ot.__scaleX==0||ot.__scaleY==0)&&(et().default.__calculateAbsoluteTransform(ot.__transform,st,at),ot.__getBounds(it,at))}_e().default.__pool.release(at)}},__getFilterBounds:function(it,st){if(c().default.prototype.__getFilterBounds.call(this,it,st),this.__scrollRect==null&&this.__children.length!=0){for(var at=_e().default.__pool.get(),_t=0,ut=this.__children;_t<ut.length;){var ot=ut[_t];if(++_t,!(ot.__scaleX==0||ot.__scaleY==0||ot.__isMask)){et().default.__calculateAbsoluteTransform(ot.__transform,st,at);var lt=nt().default.__pool.get();ot.__getFilterBounds(lt,at),it.__expand(lt.x,lt.y,lt.width,lt.height),nt().default.__pool.release(lt)}}_e().default.__pool.release(at)}},__getRenderBounds:function(it,st){if(this.__scrollRect!=null){c().default.prototype.__getRenderBounds.call(this,it,st);return}else c().default.prototype.__getBounds.call(this,it,st);if(this.__children.length!=0){for(var at=_e().default.__pool.get(),_t=0,ut=this.__children;_t<ut.length;){var ot=ut[_t];++_t,!(ot.__scaleX==0||ot.__scaleY==0||ot.__isMask)&&(et().default.__calculateAbsoluteTransform(ot.__transform,st,at),ot.__getRenderBounds(it,at))}_e().default.__pool.release(at)}},__hitTest:function(it,st,at,_t,ut,ot){if(!ot.get_visible()||this.__isMask||ut&&!this.mouseEnabled&&!this.mouseChildren||this.get_mask()!=null&&!this.get_mask().__hitTestMask(it,st))return!1;if(this.__scrollRect!=null){var lt=rt().default.__pool.get();if(lt.setTo(it,st),this.__getRenderTransform().__transformInversePoint(lt),!this.__scrollRect.containsPoint(lt))return rt().default.__pool.release(lt),!1;rt().default.__pool.release(lt)}var ft=this.__children.length;if(ut){if(_t==null||!this.mouseChildren){for(;--ft>=0;)if(this.__children[ft].__hitTest(it,st,at,null,!0,this.__children[ft]))return _t!=null&&_t.push(ot),!0}else if(_t!=null){for(var ht=_t.length,dt=!1,pt=!1;--ft>=0&&(dt=this.__children[ft].__getInteractive(null),!((dt||this.mouseEnabled&&!pt)&&this.__children[ft].__hitTest(it,st,at,_t,!0,this.__children[ft])&&(pt=!0,dt&&_t.length>ht))););if(pt)return _t.splice(ht,0,ot),!0}}else{for(var xt=!1;--ft>=0&&!(this.__children[ft].__hitTest(it,st,at,_t,!1,this.__children[ft])&&(xt=!0,_t==null)););return xt}return!1},__hitTestMask:function(it,st){for(var at=this.__children.length;--at>=0;)if(this.__children[at].__hitTestMask(it,st))return!0;return!1},__readGraphicsData:function(it,st){if(c().default.prototype.__readGraphicsData.call(this,it,st),st)for(var at=0,_t=this.__children;at<_t.length;){var ut=_t[at];++at,ut.__readGraphicsData(it,st)}},__setStageReference:function(it){if(c().default.prototype.__setStageReference.call(this,it),this.__children!=null)for(var st=0,at=this.__children;st<at.length;){var _t=at[st];++st,_t.__setStageReference(it)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&(this.__worldTransformInvalid=!0,this.__children!=null))for(var it=0,st=this.__children;it<st.length;){var at=st[it];++it,at.__setWorldTransformInvalid()}},__stopAllMovieClips:function(){for(var it=0,st=this.__children;it<st.length;){var at=st[it];++it,at.__stopAllMovieClips()}},__tabTest:function(it){if(c().default.prototype.__tabTest.call(this,it),!!this.get_tabChildren())for(var st=!1,at=null,_t=0,ut=this.__children;_t<ut.length;){var ot=ut[_t];++_t,st=ot.__getInteractive(null),st&&(at=ot,at.__tabTest(it))}},__update:function(it,st){if(c().default.prototype.__update.call(this,it,st),st)for(var at=0,_t=this.__children;at<_t.length;){var ut=_t[at];++at,ut.__update(it,!0)}},get_numChildren:function(){return this.__children.length},get_tabChildren:function(){return this.__tabChildren},set_tabChildren:function(it){return this.__tabChildren!=it&&(this.__tabChildren=it,this.dispatchEvent(new(b()).default("tabChildrenChange",!0,!1))),this.__tabChildren}}),tt.prototype.__class__=tt.prototype.constructor=d["openfl.display.DisplayObjectContainer"]=tt,Object.defineProperty(tt.prototype,"numChildren",{get:function(){return this.get_numChildren()}}),e.default=tt})(DisplayObjectContainer$1);var Graphics$1={},CanvasGraphics={},DrawCommandBuffer={},DrawCommandReader={},DrawCommandType={},hasRequiredDrawCommandType;function requireDrawCommandType(){return hasRequiredDrawCommandType||(hasRequiredDrawCommandType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["openfl.display._internal.DrawCommandType"]={__ename__:"openfl.display._internal.DrawCommandType",__constructs__:["BEGIN_BITMAP_FILL","BEGIN_FILL","BEGIN_GRADIENT_FILL","BEGIN_SHADER_FILL","CUBIC_CURVE_TO","CURVE_TO","DRAW_CIRCLE","DRAW_ELLIPSE","DRAW_QUADS","DRAW_RECT","DRAW_ROUND_RECT","DRAW_TILES","DRAW_TRIANGLES","END_FILL","LINE_BITMAP_STYLE","LINE_GRADIENT_STYLE","LINE_STYLE","LINE_TO","MOVE_TO","OVERRIDE_BLEND_MODE","OVERRIDE_MATRIX","WINDING_EVEN_ODD","WINDING_NON_ZERO","UNKNOWN"],WINDING_NON_ZERO:{_hx_index:22,__enum__:"openfl.display._internal.DrawCommandType",toString:d},WINDING_EVEN_ODD:{_hx_index:21,__enum__:"openfl.display._internal.DrawCommandType",toString:d},UNKNOWN:{_hx_index:23,__enum__:"openfl.display._internal.DrawCommandType",toString:d},OVERRIDE_MATRIX:{_hx_index:20,__enum__:"openfl.display._internal.DrawCommandType",toString:d},OVERRIDE_BLEND_MODE:{_hx_index:19,__enum__:"openfl.display._internal.DrawCommandType",toString:d},MOVE_TO:{_hx_index:18,__enum__:"openfl.display._internal.DrawCommandType",toString:d},LINE_TO:{_hx_index:17,__enum__:"openfl.display._internal.DrawCommandType",toString:d},LINE_STYLE:{_hx_index:16,__enum__:"openfl.display._internal.DrawCommandType",toString:d},LINE_GRADIENT_STYLE:{_hx_index:15,__enum__:"openfl.display._internal.DrawCommandType",toString:d},LINE_BITMAP_STYLE:{_hx_index:14,__enum__:"openfl.display._internal.DrawCommandType",toString:d},END_FILL:{_hx_index:13,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_TRIANGLES:{_hx_index:12,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_TILES:{_hx_index:11,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_ROUND_RECT:{_hx_index:10,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_RECT:{_hx_index:9,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_QUADS:{_hx_index:8,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_ELLIPSE:{_hx_index:7,__enum__:"openfl.display._internal.DrawCommandType",toString:d},DRAW_CIRCLE:{_hx_index:6,__enum__:"openfl.display._internal.DrawCommandType",toString:d},CURVE_TO:{_hx_index:5,__enum__:"openfl.display._internal.DrawCommandType",toString:d},CUBIC_CURVE_TO:{_hx_index:4,__enum__:"openfl.display._internal.DrawCommandType",toString:d},BEGIN_SHADER_FILL:{_hx_index:3,__enum__:"openfl.display._internal.DrawCommandType",toString:d},BEGIN_GRADIENT_FILL:{_hx_index:2,__enum__:"openfl.display._internal.DrawCommandType",toString:d},BEGIN_FILL:{_hx_index:1,__enum__:"openfl.display._internal.DrawCommandType",toString:d},BEGIN_BITMAP_FILL:{_hx_index:0,__enum__:"openfl.display._internal.DrawCommandType",toString:d}};e.default=c}(DrawCommandType)),DrawCommandType}var hasRequiredDrawCommandReader;function requireDrawCommandReader(){return hasRequiredDrawCommandReader||(hasRequiredDrawCommandReader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDrawCommandType()}var c=function(s){this.buffer=s,this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0,this.prev=o().default.UNKNOWN};c.__name__="openfl.display._internal.DrawCommandReader",c.__isInterface__=!1,c.prototype={advance:function(){switch(this.prev._hx_index){case 0:this.oPos+=2,this.bPos+=2;break;case 1:this.iPos+=1,this.fPos+=1;break;case 2:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 3:this.oPos+=1;break;case 4:this.fPos+=6;break;case 5:this.fPos+=4;break;case 6:this.fPos+=3;break;case 7:this.fPos+=4;break;case 8:this.oPos+=3;break;case 9:this.fPos+=4;break;case 10:this.fPos+=5,this.oPos+=1;break;case 12:this.oPos+=4;break;case 13:break;case 14:this.oPos+=2,this.bPos+=2;break;case 15:this.oPos+=4,this.iiPos+=2,this.ffPos+=1,this.fPos+=1;break;case 16:this.oPos+=4,this.iPos+=1,this.fPos+=2,this.bPos+=1;break;case 17:this.fPos+=2;break;case 18:this.fPos+=2;break;case 19:this.oPos+=1;break;case 20:this.oPos+=1;break}},bool:function(s){return this.buffer.b[this.bPos+s]},destroy:function(){this.buffer=null,this.reset()},fArr:function(s){return this.buffer.ff[this.ffPos+s]},float:function(s){return this.buffer.f[this.fPos+s]},iArr:function(s){return this.buffer.ii[this.iiPos+s]},int:function(s){return this.buffer.i[this.iPos+s]},obj:function(s){return this.buffer.o[this.oPos+s]},readBeginBitmapFill:function(){this.advance(),this.prev=o().default.BEGIN_BITMAP_FILL;var s=this;return s},readBeginFill:function(){this.advance(),this.prev=o().default.BEGIN_FILL;var s=this;return s},readBeginGradientFill:function(){this.advance(),this.prev=o().default.BEGIN_GRADIENT_FILL;var s=this;return s},readBeginShaderFill:function(){this.advance(),this.prev=o().default.BEGIN_SHADER_FILL;var s=this;return s},readCubicCurveTo:function(){this.advance(),this.prev=o().default.CUBIC_CURVE_TO;var s=this;return s},readCurveTo:function(){this.advance(),this.prev=o().default.CURVE_TO;var s=this;return s},readDrawCircle:function(){this.advance(),this.prev=o().default.DRAW_CIRCLE;var s=this;return s},readDrawEllipse:function(){this.advance(),this.prev=o().default.DRAW_ELLIPSE;var s=this;return s},readDrawQuads:function(){this.advance(),this.prev=o().default.DRAW_QUADS;var s=this;return s},readDrawRect:function(){this.advance(),this.prev=o().default.DRAW_RECT;var s=this;return s},readDrawRoundRect:function(){this.advance(),this.prev=o().default.DRAW_ROUND_RECT;var s=this;return s},readDrawTriangles:function(){this.advance(),this.prev=o().default.DRAW_TRIANGLES;var s=this;return s},readEndFill:function(){this.advance(),this.prev=o().default.END_FILL;var s=this;return s},readLineBitmapStyle:function(){this.advance(),this.prev=o().default.LINE_BITMAP_STYLE;var s=this;return s},readLineGradientStyle:function(){this.advance(),this.prev=o().default.LINE_GRADIENT_STYLE;var s=this;return s},readLineStyle:function(){this.advance(),this.prev=o().default.LINE_STYLE;var s=this;return s},readLineTo:function(){this.advance(),this.prev=o().default.LINE_TO;var s=this;return s},readMoveTo:function(){this.advance(),this.prev=o().default.MOVE_TO;var s=this;return s},readOverrideBlendMode:function(){this.advance(),this.prev=o().default.OVERRIDE_BLEND_MODE;var s=this;return s},readOverrideMatrix:function(){this.advance(),this.prev=o().default.OVERRIDE_MATRIX;var s=this;return s},readWindingEvenOdd:function(){this.advance(),this.prev=o().default.WINDING_EVEN_ODD;var s=this;return s},readWindingNonZero:function(){this.advance(),this.prev=o().default.WINDING_NON_ZERO;var s=this;return s},reset:function(){this.bPos=this.iPos=this.fPos=this.oPos=this.ffPos=this.iiPos=this.tsPos=0},skip:function(s){this.advance(),this.prev=s}},c.prototype.__class__=c.prototype.constructor=d["openfl.display._internal.DrawCommandReader"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{obj:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=c}(DrawCommandReader)),DrawCommandReader}var hasRequiredDrawCommandBuffer;function requireDrawCommandBuffer(){return hasRequiredDrawCommandBuffer||(hasRequiredDrawCommandBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDrawCommandReader()}function c(){return requireDrawCommandType()}var s=function(){s.empty==null?(this.types=[],this.b=[],this.i=[],this.f=[],this.o=[],this.ff=[],this.ii=[],this.copyOnWrite=!0):this.clear()};s.__name__="openfl.display._internal.DrawCommandBuffer",s.__isInterface__=!1,s.prototype={append:function(h){if(this.get_length()==0)return this.types=h.types,this.b=h.b,this.i=h.i,this.f=h.f,this.o=h.o,this.ff=h.ff,this.ii=h.ii,this.copyOnWrite=h.copyOnWrite=!0,h;for(var f=new(o()).default(h),g=0,b=h.types;g<b.length;){var k=b[g];switch(++g,k._hx_index){case 0:var $=f.readBeginBitmapFill();this.beginBitmapFill($.obj(0),$.obj(1),$.bool(0),$.bool(1));break;case 1:var j=f.readBeginFill();this.beginFill(j.int(0),j.float(0));break;case 2:var _e=f.readBeginGradientFill();this.beginGradientFill(_e.obj(0),_e.iArr(0),_e.fArr(0),_e.iArr(1),_e.obj(1),_e.obj(2),_e.obj(3),_e.float(0));break;case 3:var et=f.readBeginShaderFill();this.beginShaderFill(et.obj(0));break;case 4:var nt=f.readCubicCurveTo();this.cubicCurveTo(nt.float(0),nt.float(1),nt.float(2),nt.float(3),nt.float(4),nt.float(5));break;case 5:var rt=f.readCurveTo();this.curveTo(rt.float(0),rt.float(1),rt.float(2),rt.float(3));break;case 6:var tt=f.readDrawCircle();this.drawCircle(tt.float(0),tt.float(1),tt.float(2));break;case 7:var it=f.readDrawEllipse();this.drawEllipse(it.float(0),it.float(1),it.float(2),it.float(3));break;case 8:var st=f.readDrawQuads();this.drawQuads(st.obj(0),st.obj(1),st.obj(2));break;case 9:var at=f.readDrawRect();this.drawRect(at.float(0),at.float(1),at.float(2),at.float(3));break;case 10:var _t=f.readDrawRoundRect();this.drawRoundRect(_t.float(0),_t.float(1),_t.float(2),_t.float(3),_t.float(4),_t.obj(0));break;case 12:var ut=f.readDrawTriangles();this.drawTriangles(ut.obj(0),ut.obj(1),ut.obj(2),ut.obj(3));break;case 13:f.readEndFill(),this.endFill();break;case 14:var ot=f.readLineBitmapStyle();this.lineBitmapStyle(ot.obj(0),ot.obj(1),ot.bool(0),ot.bool(1));break;case 15:var lt=f.readLineGradientStyle();this.lineGradientStyle(lt.obj(0),lt.iArr(0),lt.fArr(0),lt.iArr(1),lt.obj(1),lt.obj(2),lt.obj(3),lt.float(0));break;case 16:var ft=f.readLineStyle();this.lineStyle(ft.obj(0),ft.int(0),ft.float(0),ft.bool(0),ft.obj(1),ft.obj(2),ft.obj(3),ft.float(1));break;case 17:var ht=f.readLineTo();this.lineTo(ht.float(0),ht.float(1));break;case 18:var dt=f.readMoveTo();this.moveTo(dt.float(0),dt.float(1));break;case 20:var pt=f.readOverrideMatrix();this.overrideMatrix(pt.obj(0));break;case 21:f.readWindingEvenOdd(),this.windingEvenOdd();break;case 22:f.readWindingNonZero(),this.windingNonZero();break}}return f.destroy(),h},beginBitmapFill:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.BEGIN_BITMAP_FILL),this.o.push(h),this.o.push(f),this.b.push(g),this.b.push(b)},beginFill:function(h,f){this.prepareWrite(),this.types.push(c().default.BEGIN_FILL),this.i.push(h),this.f.push(f)},beginGradientFill:function(h,f,g,b,k,$,j,_e){this.prepareWrite(),this.types.push(c().default.BEGIN_GRADIENT_FILL),this.o.push(h),this.ii.push(f),this.ff.push(g),this.ii.push(b),this.o.push(k),this.o.push($),this.o.push(j),this.f.push(_e)},beginShaderFill:function(h){this.prepareWrite(),this.types.push(c().default.BEGIN_SHADER_FILL),this.o.push(h)},clear:function(){this.types=s.empty.types,this.b=s.empty.b,this.i=s.empty.i,this.f=s.empty.f,this.o=s.empty.o,this.ff=s.empty.ff,this.ii=s.empty.ii,this.copyOnWrite=!0},copy:function(){var h=new s;return h.append(this),h},cubicCurveTo:function(h,f,g,b,k,$){this.prepareWrite(),this.types.push(c().default.CUBIC_CURVE_TO),this.f.push(h),this.f.push(f),this.f.push(g),this.f.push(b),this.f.push(k),this.f.push($)},curveTo:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.CURVE_TO),this.f.push(h),this.f.push(f),this.f.push(g),this.f.push(b)},destroy:function(){this.clear(),this.types=null,this.b=null,this.i=null,this.f=null,this.o=null,this.ff=null,this.ii=null},drawCircle:function(h,f,g){this.prepareWrite(),this.types.push(c().default.DRAW_CIRCLE),this.f.push(h),this.f.push(f),this.f.push(g)},drawEllipse:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.DRAW_ELLIPSE),this.f.push(h),this.f.push(f),this.f.push(g),this.f.push(b)},drawQuads:function(h,f,g){this.prepareWrite(),this.types.push(c().default.DRAW_QUADS),this.o.push(h),this.o.push(f),this.o.push(g)},drawRect:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.DRAW_RECT),this.f.push(h),this.f.push(f),this.f.push(g),this.f.push(b)},drawRoundRect:function(h,f,g,b,k,$){this.prepareWrite(),this.types.push(c().default.DRAW_ROUND_RECT),this.f.push(h),this.f.push(f),this.f.push(g),this.f.push(b),this.f.push(k),this.o.push($)},drawTriangles:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.DRAW_TRIANGLES),this.o.push(h),this.o.push(f),this.o.push(g),this.o.push(b)},endFill:function(){this.prepareWrite(),this.types.push(c().default.END_FILL)},lineBitmapStyle:function(h,f,g,b){this.prepareWrite(),this.types.push(c().default.LINE_BITMAP_STYLE),this.o.push(h),this.o.push(f),this.b.push(g),this.b.push(b)},lineGradientStyle:function(h,f,g,b,k,$,j,_e){this.prepareWrite(),this.types.push(c().default.LINE_GRADIENT_STYLE),this.o.push(h),this.ii.push(f),this.ff.push(g),this.ii.push(b),this.o.push(k),this.o.push($),this.o.push(j),this.f.push(_e)},lineStyle:function(h,f,g,b,k,$,j,_e){this.prepareWrite(),this.types.push(c().default.LINE_STYLE),this.o.push(h),this.i.push(f),this.f.push(g),this.b.push(b),this.o.push(k),this.o.push($),this.o.push(j),this.f.push(_e)},lineTo:function(h,f){this.prepareWrite(),this.types.push(c().default.LINE_TO),this.f.push(h),this.f.push(f)},moveTo:function(h,f){this.prepareWrite(),this.types.push(c().default.MOVE_TO),this.f.push(h),this.f.push(f)},prepareWrite:function(){this.copyOnWrite&&(this.types=this.types.slice(),this.b=this.b.slice(),this.i=this.i.slice(),this.f=this.f.slice(),this.o=this.o.slice(),this.ff=this.ff.slice(),this.ii=this.ii.slice(),this.copyOnWrite=!1)},overrideBlendMode:function(h){this.prepareWrite(),this.types.push(c().default.OVERRIDE_BLEND_MODE),this.o.push(h)},overrideMatrix:function(h){this.prepareWrite(),this.types.push(c().default.OVERRIDE_MATRIX),this.o.push(h)},windingEvenOdd:function(){this.prepareWrite(),this.types.push(c().default.WINDING_EVEN_ODD)},windingNonZero:function(){this.prepareWrite(),this.types.push(c().default.WINDING_NON_ZERO)},get_length:function(){return this.types.length}},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.DrawCommandBuffer"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{o:{SuppressWarnings:["checkstyle:Dynamic"]}}},s.empty=new s,e.default=s}(DrawCommandBuffer)),DrawCommandBuffer}var hasRequiredCanvasGraphics;function requireCanvasGraphics(){return hasRequiredCanvasGraphics||(hasRequiredCanvasGraphics=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDrawCommandBuffer()}function c(){return requireImageCanvasUtil()}function s(){return Matrix$2}function h(){return Point$2}function f(){return requireDrawCommandReader()}function g(){return requireDrawCommandType()}function b(){return requireVector_Impl_()}function k(){return requireStringTools()}function $(){return Rectangle$2}function j(){return requireStd()}function _e(){return requireBitmapData()}var et=function(){};et.__name__="openfl.display._internal.CanvasGraphics",et.__isInterface__=!1,et.prototype={},et.prototype.__class__=et.prototype.constructor=d["openfl.display._internal.CanvasGraphics"]=et,et.hitTestCanvas=typeof window<"u"?window.document.createElement("canvas"):null,et.hitTestContext=typeof window<"u"?et.hitTestCanvas.getContext("2d"):null,et.closePath=function(nt){nt==null&&(nt=!1),et.context.strokeStyle!=null&&(nt||et.context.closePath(),et.context.stroke(),nt&&et.context.closePath(),et.context.beginPath())},et.createBitmapFill=function(nt,rt,tt){return c().default.convertToCanvas(nt.image),et.setSmoothing(tt),et.context.createPattern(nt.image.get_src(),rt?"repeat":"no-repeat")},et.createGradientPattern=function(nt,rt,tt,it,st,at,_t,ut){var ot=null,lt=!1;switch(st==null&&(st=s().default.__pool.get(),st.identity(),lt=!0),nt){case"linear":ot=et.context.createLinearGradient(-819.2,0,819.2,0),et.pendingMatrix=st.clone(),et.inversePendingMatrix=st.clone(),et.inversePendingMatrix.invert();break;case"radial":var ft=819.2;ut=ut>1?1:ut<-1?-1:ut,ot=et.context.createRadialGradient(ft*ut,0,0,0,0,ft),et.pendingMatrix=st.clone(),et.inversePendingMatrix=st.clone(),et.inversePendingMatrix.invert();break}for(var ht,dt,pt,xt,vt,bt,wt=0,At=rt.length;wt<At;){var ct=wt++;ht=rt[ct],dt=tt[ct],pt=(ht&16711680)>>>16,xt=(ht&65280)>>>8,vt=ht&255,bt=it[ct]/255,bt<0&&(bt=0),bt>1&&(bt=1),ot.addColorStop(bt,"rgba("+pt+", "+xt+", "+vt+", "+dt+")")}return lt&&s().default.__pool.release(st),ot},et.createTempPatternCanvas=function(nt,rt,tt,it){var st=window.document.createElement("canvas"),at=st.getContext("2d");st.width=tt,st.height=it;var _t=nt.image.get_src();return at.fillStyle=at.createPattern(_t,rt?"repeat":"no-repeat"),at.beginPath(),at.moveTo(0,0),at.lineTo(0,it),at.lineTo(tt,it),at.lineTo(tt,0),at.lineTo(0,0),at.closePath(),et.hitTesting||at.fill(et.windingRule),st},et.drawRoundRect=function(nt,rt,tt,it,st,at){at==null&&(at=st),st*=.5,at*=.5,st>tt/2&&(st=tt/2),at>it/2&&(at=it/2);var _t=nt+tt,ut=rt+it,ot=-st+st*.7071067811865476,lt=-st+st*.41421356237309503,ft=-at+at*.7071067811865476,ht=-at+at*.41421356237309503;et.context.moveTo(_t,ut-at),et.context.quadraticCurveTo(_t,ut+ht,_t+ot,ut+ft),et.context.quadraticCurveTo(_t+lt,ut,_t-st,ut),et.context.lineTo(nt+st,ut),et.context.quadraticCurveTo(nt-lt,ut,nt-ot,ut+ft),et.context.quadraticCurveTo(nt,ut+ht,nt,ut-at),et.context.lineTo(nt,rt+at),et.context.quadraticCurveTo(nt,rt-ht,nt-ot,rt-ft),et.context.quadraticCurveTo(nt-lt,rt,nt+st,rt),et.context.lineTo(_t-st,rt),et.context.quadraticCurveTo(_t+lt,rt,_t+ot,rt-ft),et.context.quadraticCurveTo(_t,rt-ht,_t,rt+at),et.context.lineTo(_t,ut-at)},et.endFill=function(){et.context.beginPath(),et.playCommands(et.fillCommands,!1),et.fillCommands.clear()},et.endStroke=function(){et.context.beginPath(),et.playCommands(et.strokeCommands,!0),et.context.closePath(),et.strokeCommands.clear()},et.hitTest=function(nt,rt,tt){if(et.bounds=nt.__bounds,et.graphics=nt,nt.__commands.get_length()==0||et.bounds==null||et.bounds.width<=0||et.bounds.height<=0)return!1;et.hitTesting=!0;var it=nt.__renderTransform,st=it.__transformX(rt,tt),at=it.__transformY(rt,tt);rt=st,tt=at,rt-=it.__transformX(et.bounds.x,et.bounds.y),tt-=it.__transformY(et.bounds.x,et.bounds.y);var _t=nt.__canvas,ut=nt.__context;nt.__canvas=et.hitTestCanvas,nt.__context=et.hitTestContext,et.context=nt.__context,et.context.setTransform(it.a,it.b,it.c,it.d,it.tx,it.ty),et.fillCommands.clear(),et.strokeCommands.clear(),et.hasFill=!1,et.hasStroke=!1,et.bitmapFill=null,et.bitmapRepeat=!1,et.windingRule="evenodd";for(var ot=new(f()).default(nt.__commands),lt=0,ft=nt.__commands.types;lt<ft.length;){var ht=ft[lt];switch(++lt,ht._hx_index){case 0:case 1:case 2:case 3:if(et.endFill(),et.hasFill&&et.context.isPointInPath(rt,tt,et.windingRule)||(et.endStroke(),et.hasStroke&&et.context.isPointInStroke(rt,tt)))return ot.destroy(),nt.__canvas=_t,nt.__context=ut,!0;if(ht==g().default.BEGIN_BITMAP_FILL){var dt=ot.readBeginBitmapFill();et.fillCommands.beginBitmapFill(dt.obj(0),dt.obj(1),dt.bool(0),dt.bool(1)),et.strokeCommands.beginBitmapFill(dt.obj(0),dt.obj(1),dt.bool(0),dt.bool(1))}else if(ht==g().default.BEGIN_GRADIENT_FILL){var pt=ot.readBeginGradientFill();et.fillCommands.beginGradientFill(pt.obj(0),pt.iArr(0),pt.fArr(0),pt.iArr(1),pt.obj(1),pt.obj(2),pt.obj(3),pt.float(0)),et.strokeCommands.beginGradientFill(pt.obj(0),pt.iArr(0),pt.fArr(0),pt.iArr(1),pt.obj(1),pt.obj(2),pt.obj(3),pt.float(0))}else if(ht==g().default.BEGIN_SHADER_FILL){var xt=ot.readBeginShaderFill();et.fillCommands.beginShaderFill(xt.obj(0)),et.strokeCommands.beginShaderFill(xt.obj(0))}else{var vt=ot.readBeginFill();et.fillCommands.beginFill(vt.int(0),1),et.strokeCommands.beginFill(vt.int(0),1)}break;case 4:var bt=ot.readCubicCurveTo();et.fillCommands.cubicCurveTo(bt.float(0),bt.float(1),bt.float(2),bt.float(3),bt.float(4),bt.float(5)),et.strokeCommands.cubicCurveTo(bt.float(0),bt.float(1),bt.float(2),bt.float(3),bt.float(4),bt.float(5));break;case 5:var wt=ot.readCurveTo();et.fillCommands.curveTo(wt.float(0),wt.float(1),wt.float(2),wt.float(3)),et.strokeCommands.curveTo(wt.float(0),wt.float(1),wt.float(2),wt.float(3));break;case 6:var At=ot.readDrawCircle();et.fillCommands.drawCircle(At.float(0),At.float(1),At.float(2)),et.strokeCommands.drawCircle(At.float(0),At.float(1),At.float(2));break;case 7:var ct=ot.readDrawEllipse();et.fillCommands.drawEllipse(ct.float(0),ct.float(1),ct.float(2),ct.float(3)),et.strokeCommands.drawEllipse(ct.float(0),ct.float(1),ct.float(2),ct.float(3));break;case 9:var mt=ot.readDrawRect();et.fillCommands.drawRect(mt.float(0),mt.float(1),mt.float(2),mt.float(3)),et.strokeCommands.drawRect(mt.float(0),mt.float(1),mt.float(2),mt.float(3));break;case 10:var gt=ot.readDrawRoundRect();et.fillCommands.drawRoundRect(gt.float(0),gt.float(1),gt.float(2),gt.float(3),gt.float(4),gt.obj(0)),et.strokeCommands.drawRoundRect(gt.float(0),gt.float(1),gt.float(2),gt.float(3),gt.float(4),gt.obj(0));break;case 13:if(ot.readEndFill(),et.endFill(),et.hasFill&&et.context.isPointInPath(rt,tt,et.windingRule)||(et.endStroke(),et.hasStroke&&et.context.isPointInStroke(rt,tt)))return ot.destroy(),nt.__canvas=_t,nt.__context=ut,!0;et.hasFill=!1,et.bitmapFill=null;break;case 14:var Tt=ot.readLineBitmapStyle();et.strokeCommands.lineBitmapStyle(Tt.obj(0),Tt.obj(1),Tt.bool(0),Tt.bool(1));break;case 15:var yt=ot.readLineGradientStyle();et.strokeCommands.lineGradientStyle(yt.obj(0),yt.iArr(0),yt.fArr(0),yt.iArr(1),yt.obj(1),yt.obj(2),yt.obj(3),yt.float(0));break;case 16:var Et=ot.readLineStyle();et.strokeCommands.lineStyle(Et.obj(0),Et.int(0),1,Et.bool(0),Et.obj(1),Et.obj(2),Et.obj(3),Et.float(1));break;case 17:var Ct=ot.readLineTo();et.fillCommands.lineTo(Ct.float(0),Ct.float(1)),et.strokeCommands.lineTo(Ct.float(0),Ct.float(1));break;case 18:var It=ot.readMoveTo();et.fillCommands.moveTo(It.float(0),It.float(1)),et.strokeCommands.moveTo(It.float(0),It.float(1));break;case 21:et.windingRule="evenodd";break;case 22:et.windingRule="nonzero";break;default:ot.skip(ht)}}var Rt=!1;return et.fillCommands.get_length()>0&&et.endFill(),et.hasFill&&et.context.isPointInPath(rt,tt,et.windingRule)&&(Rt=!0),et.strokeCommands.get_length()>0&&et.endStroke(),et.hasStroke&&et.context.isPointInStroke(rt,tt)&&(Rt=!0),ot.destroy(),nt.__canvas=_t,nt.__context=ut,Rt},et.isCCW=function(nt,rt,tt,it,st,at){return(tt-nt)*(at-rt)-(it-rt)*(st-nt)<0},et.normalizeUVT=function(nt,rt){rt==null&&(rt=!1);for(var tt=-1/0,it=-1/0,st=nt.get_length(),at=1,_t=st+1;at<_t;){var ut=at++;rt&&ut%3==0||(it=nt[ut-1],tt<it&&(tt=it))}if(!rt)return{max:tt,uvt:nt};for(var ot=b().default._new(),lt=1,ft=st+1;lt<ft;){var ht=lt++;rt&&ht%3==0||b().default.push(ot,nt[ht-1])}return{max:tt,uvt:ot}},et.playCommands=function(nt,rt){rt==null&&(rt=!1),et.bounds=et.graphics.__bounds;var tt=et.bounds.x,it=et.bounds.y,st=0,at=0,_t=!1,ut=0,ot=0,lt=!1;et.windingRule="evenodd",et.setSmoothing(!0);var ft=!1,ht=new(f()).default(nt),dt,pt,xt,vt,bt=.5522848,wt,At,ct,mt,gt,Tt,yt,Et,Ct,It,Rt,Ft,Lt,Ot,Kt,qt=null,Ht=null,Zt=0,or=nt.types;e:for(;Zt<or.length;){var ir=or[Zt];switch(++Zt,ir._hx_index){case 0:var lr=ht.readBeginBitmapFill();et.bitmapFill=lr.obj(0);var ar=lr.obj(0),Mt=lr.bool(0),kt=lr.bool(1);et.context.fillStyle=et.createBitmapFill(ar,Mt,kt),et.hasFill=!0,lr.obj(1)!=null?(et.pendingMatrix=lr.obj(1),et.inversePendingMatrix=lr.obj(1).clone(),et.inversePendingMatrix.invert()):(et.pendingMatrix=null,et.inversePendingMatrix=null);break;case 1:var Vt=ht.readBeginFill();if(Vt.float(0)<.005)et.hasFill=!1;else{if(Vt.float(0)==1){var Nt=k().default.hex(Vt.int(0)&16777215,6);et.context.fillStyle="#"+Nt}else{yt=(Vt.int(0)&16711680)>>>16,Et=(Vt.int(0)&65280)>>>8,Ct=Vt.int(0)&255;var Wt="rgba("+yt+", "+Et+", "+Ct+", "+Vt.float(0);et.context.fillStyle=Wt+")"}et.bitmapFill=null,et.setSmoothing(!0),et.hasFill=!0}break;case 2:var Qt=ht.readBeginGradientFill(),tr=Qt.obj(0),sr=Qt.iArr(0),dr=Qt.fArr(0),pr=Qt.iArr(1),cr=Qt.obj(1),mr=Qt.obj(2),fr=Qt.obj(3);et.context.fillStyle=et.createGradientPattern(tr,sr,dr,pr,cr,mr,fr,Qt.float(0)),et.bitmapFill=null,et.setSmoothing(!0),et.hasFill=!0;break;case 3:var Bt=ht.readBeginShaderFill(),Xt=Bt.obj(0);Xt.inputCount>0&&(et.bitmapFill=Xt.inputs[0],et.context.fillStyle=et.createBitmapFill(et.bitmapFill,Xt.inputWrap[0]!="clamp",Xt.inputFilter[0]!="nearest"),et.hasFill=!0,et.pendingMatrix=null,et.inversePendingMatrix=null);break;case 4:var rr=ht.readCubicCurveTo();ft=!0,et.context.bezierCurveTo(rr.float(0)-tt,rr.float(1)-it,rr.float(2)-tt,rr.float(3)-it,rr.float(4)-tt,rr.float(5)-it);break;case 5:var nr=ht.readCurveTo();ft=!0,et.context.quadraticCurveTo(nr.float(0)-tt,nr.float(1)-it,nr.float(2)-tt,nr.float(3)-it);break;case 6:var Gt=ht.readDrawCircle();ft=!0,et.context.moveTo(Gt.float(0)-tt+Gt.float(2),Gt.float(1)-it),et.context.arc(Gt.float(0)-tt,Gt.float(1)-it,Gt.float(2),0,Math.PI*2,!0);break;case 7:var zt=ht.readDrawEllipse();ft=!0,dt=zt.float(0),pt=zt.float(1),xt=zt.float(2),vt=zt.float(3),dt-=tt,pt-=it,wt=xt/2*bt,At=vt/2*bt,ct=dt+xt,mt=pt+vt,gt=dt+xt/2,Tt=pt+vt/2,et.context.moveTo(dt,Tt),et.context.bezierCurveTo(dt,Tt-At,gt-wt,pt,gt,pt),et.context.bezierCurveTo(gt+wt,pt,ct,Tt-At,ct,Tt),et.context.bezierCurveTo(ct,Tt+At,gt+wt,mt,gt,mt),et.context.bezierCurveTo(gt-wt,mt,dt,Tt+At,dt,Tt);break;case 8:var $t=ht.readDrawQuads(),er=$t.obj(0),ur=$t.obj(1),St=$t.obj(2),Ut=ur!=null,Yt=!1,Dt=!1,Pt=Ut?ur.get_length():Math.floor(er.get_length()/4);if(Pt==0)return;St!=null&&(St.get_length()>=Pt*6?(Yt=!0,Dt=!0):St.get_length()>=Pt*4?Yt=!0:St.get_length()>=Pt*2&&(Dt=!0));var Jt=$().default.__pool.get(),_r=s().default.__pool.get(),hr=et.graphics.__renderTransform;et.worldAlpha;var vr,gr;et.context.save();for(var br=0,wr=Pt;br<wr;){var yr=br++;vr=Ut?ur[yr]*4:yr*4,!(vr<0)&&(Jt.setTo(er[vr],er[vr+1],er[vr+2],er[vr+3]),!(Jt.width<=0||Jt.height<=0)&&(Yt&&Dt?(gr=yr*6,_r.setTo(St[gr],St[gr+1],St[gr+2],St[gr+3],St[gr+4],St[gr+5])):Yt?(gr=yr*4,_r.setTo(St[gr],St[gr+1],St[gr+2],St[gr+3],Jt.x,Jt.y)):Dt?(gr=yr*2,_r.tx=St[gr],_r.ty=St[gr+1]):(_r.tx=Jt.x,_r.ty=Jt.y),_r.tx+=st-tt,_r.ty+=at-it,_r.concat(hr),et.context.setTransform(_r.a,_r.b,_r.c,_r.d,_r.tx,_r.ty),et.bitmapFill!=null?et.context.drawImage(et.bitmapFill.image.get_src(),Jt.x,Jt.y,Jt.width,Jt.height,0,0,Jt.width,Jt.height):et.context.fillRect(0,0,Jt.width,Jt.height)))}$().default.__pool.release(Jt),s().default.__pool.release(_r),et.context.restore();break;case 9:var xr=ht.readDrawRect();It=!1,et.bitmapFill!=null&&!et.hitTesting&&(Ft=0,Lt=0,Ot=0,Kt=0,Rt=!0,et.pendingMatrix!=null?et.pendingMatrix.b!=0||et.pendingMatrix.c!=0?Rt=!1:(qt==null&&(qt=h().default.__pool.get()),Ht==null&&(Ht=h().default.__pool.get()),qt.setTo(xr.float(0),xr.float(1)),et.inversePendingMatrix.__transformPoint(qt),Ht.setTo(xr.float(0)+xr.float(2),xr.float(1)+xr.float(3)),et.inversePendingMatrix.__transformPoint(Ht),Ft=qt.y,Kt=qt.x,Ot=Ht.y,Lt=Ht.x):(Ft=xr.float(1),Kt=xr.float(0),Ot=xr.float(1)+xr.float(3),Lt=xr.float(0)+xr.float(2)),Rt&&Ft>=0&&Kt>=0&&Lt<=et.bitmapFill.width&&Ot<=et.bitmapFill.height&&(It=!0,et.hitTesting||et.context.drawImage(et.bitmapFill.image.get_src(),Kt,Ft,Lt-Kt,Ot-Ft,xr.float(0)-tt,xr.float(1)-it,xr.float(2),xr.float(3)))),It||(ft=!0,et.context.rect(xr.float(0)-tt,xr.float(1)-it,xr.float(2),xr.float(3)));break;case 10:var Tr=ht.readDrawRoundRect();ft=!0,et.drawRoundRect(Tr.float(0)-tt,Tr.float(1)-it,Tr.float(2),Tr.float(3),Tr.float(4),Tr.obj(0));break;case 12:var Cr=ht.readDrawTriangles(),Br=Cr.obj(0),Dr=Cr.obj(1),Sr=Cr.obj(2),Ar=null,Mr=et.bitmapFill==null;if(Mr&&Sr!=null)break e;if(!Mr){if(Sr==null){Sr=b().default._new();for(var Ir=0,Rr=j().default.int(Br.get_length()/2);Ir<Rr;){var Fr=Ir++;b().default.push(Sr,Br[Fr*2]-tt/et.bitmapFill.width),b().default.push(Sr,Br[Fr*2+1]-it/et.bitmapFill.height)}}var Yr=Sr.get_length()!=Br.get_length(),Zr=et.normalizeUVT(Sr,Yr),Kr=Zr.max;Sr=Zr.uvt,Kr>1?Ar=et.createTempPatternCanvas(et.bitmapFill,et.bitmapRepeat,j().default.int(et.bounds.width),j().default.int(et.bounds.height)):Ar=et.createTempPatternCanvas(et.bitmapFill,et.bitmapRepeat,et.bitmapFill.width,et.bitmapFill.height)}for(var kr=0,_n=Dr.get_length(),Qr,en,tn,rn,nn,an,sn,on,ln,Ur,zr,Gr,Vr,Or,qr,Wr,Hr,jr,Nr,Er,$r,Lr,hn,dn,cn,pn,mn,vn;kr<_n;){switch(Qr=kr,en=kr+1,tn=kr+2,rn=Dr[Qr]*2,nn=Dr[Qr]*2+1,an=Dr[en]*2,sn=Dr[en]*2+1,on=Dr[tn]*2,ln=Dr[tn]*2+1,Ur=Br[rn]-tt,zr=Br[nn]-it,Gr=Br[an]-tt,Vr=Br[sn]-it,Or=Br[on]-tt,qr=Br[ln]-it,Cr.obj(3)){case"negative":if(et.isCCW(Ur,zr,Gr,Vr,Or,qr)){kr+=3;continue}break;case"positive":if(!et.isCCW(Ur,zr,Gr,Vr,Or,qr)){kr+=3;continue}break}if(Mr){et.context.beginPath(),et.context.moveTo(Ur,zr),et.context.lineTo(Gr,Vr),et.context.lineTo(Or,qr),et.context.closePath(),et.hitTesting||et.context.fill(et.windingRule),kr+=3;continue}if(Wr=Sr[rn]*Ar.width,jr=Sr[an]*Ar.width,Er=Sr[on]*Ar.width,Hr=Sr[nn]*Ar.height,Nr=Sr[sn]*Ar.height,$r=Sr[ln]*Ar.height,Lr=Wr*($r-Nr)-jr*$r+Er*Nr+(jr-Er)*Hr,Lr==0){kr+=3,et.context.restore();continue}et.context.save(),et.context.beginPath(),et.context.moveTo(Ur,zr),et.context.lineTo(Gr,Vr),et.context.lineTo(Or,qr),et.context.closePath(),et.context.clip(),hn=-(Hr*(Or-Gr)-Nr*Or+$r*Gr+(Nr-$r)*Ur)/Lr,dn=(Nr*qr+Hr*(Vr-qr)-$r*Vr+($r-Nr)*zr)/Lr,cn=(Wr*(Or-Gr)-jr*Or+Er*Gr+(jr-Er)*Ur)/Lr,pn=-(jr*qr+Wr*(Vr-qr)-Er*Vr+(Er-jr)*zr)/Lr,mn=(Wr*($r*Gr-Nr*Or)+Hr*(jr*Or-Er*Gr)+(Er*Nr-jr*$r)*Ur)/Lr,vn=(Wr*($r*Vr-Nr*qr)+Hr*(jr*qr-Er*Vr)+(Er*Nr-jr*$r)*zr)/Lr,et.context.transform(hn,dn,cn,pn,mn,vn),et.context.drawImage(Ar,0,0,Ar.width,Ar.height),et.context.restore(),kr+=3}break;case 14:var fn=ht.readLineBitmapStyle();rt&&et.hasStroke&&et.closePath(!0),et.context.moveTo(st-tt,at-it);var gn=fn.obj(0),yn=fn.bool(0);et.context.strokeStyle=et.createBitmapFill(gn,yn,fn.bool(1)),et.hasStroke=!0;break;case 15:var Xr=ht.readLineGradientStyle();rt&&et.hasStroke&&et.closePath(!0),et.context.moveTo(st-tt,at-it);var xn=Xr.obj(0),bn=Xr.iArr(0),wn=Xr.fArr(0),Sn=Xr.iArr(1),En=Xr.obj(1),Tn=Xr.obj(2),An=Xr.obj(3);et.context.strokeStyle=et.createGradientPattern(xn,bn,wn,Sn,En,Tn,An,Xr.float(0)),et.setSmoothing(!0),et.hasStroke=!0;break;case 16:var Pr=ht.readLineStyle();if(rt&&et.hasStroke&&et.closePath(!0),et.context.moveTo(st-tt,at-it),Pr.obj(0)==null)et.hasStroke=!1;else{var Cn=Pr.obj(0)>0?Pr.obj(0):1;et.context.lineWidth=Cn;var $n=Pr.obj(3)==null?"round":j().default.string(Pr.obj(3)).toLowerCase();et.context.lineJoin=$n;var Mn=Pr.obj(2)==null?"round":Pr.obj(2)=="none"?"butt":j().default.string(Pr.obj(2)).toLowerCase();if(et.context.lineCap=Mn,et.context.miterLimit=Pr.float(1),Pr.float(0)==1){var Bn=k().default.hex(Pr.int(0)&16777215,6);et.context.strokeStyle="#"+Bn}else{yt=(Pr.int(0)&16711680)>>>16,Et=(Pr.int(0)&65280)>>>8,Ct=Pr.int(0)&255;var Dn="rgba("+yt+", "+Et+", "+Ct+", "+Pr.float(0);et.context.strokeStyle=Dn+")"}et.setSmoothing(!0),et.hasStroke=!0}break;case 17:var un=ht.readLineTo();ft=!0,et.context.lineTo(un.float(0)-tt,un.float(1)-it),st=un.float(0),at=un.float(1),st==ut&&at==ot&&(_t=!0);break;case 18:var Jr=ht.readMoveTo();et.context.moveTo(Jr.float(0)-tt,Jr.float(1)-it),st=Jr.float(0),at=Jr.float(1),lt&&Jr.float(0)!=ut&&Jr.float(1)!=ot&&(_t=!0),ut=Jr.float(0),ot=Jr.float(1),lt=!0;break;case 21:et.windingRule="evenodd";break;case 22:et.windingRule="nonzero";break;default:ht.skip(ir)}}qt!=null&&h().default.__pool.release(qt),Ht!=null&&h().default.__pool.release(Ht),ht.destroy(),ft&&(rt&&et.hasStroke&&(et.hasFill?((st!=ut||at!=ot)&&(et.context.lineTo(ut-tt,ot-it),_t=!0),_t&&et.closePath(!0)):_t&&st==ut&&at==ot&&et.closePath(!0),et.hitTesting||et.context.stroke()),rt||(et.hasFill||et.bitmapFill!=null)&&(et.context.translate(-et.bounds.x,-et.bounds.y),et.pendingMatrix!=null?(et.context.transform(et.pendingMatrix.a,et.pendingMatrix.b,et.pendingMatrix.c,et.pendingMatrix.d,et.pendingMatrix.tx,et.pendingMatrix.ty),et.hitTesting||et.context.fill(et.windingRule),et.context.transform(et.inversePendingMatrix.a,et.inversePendingMatrix.b,et.inversePendingMatrix.c,et.inversePendingMatrix.d,et.inversePendingMatrix.tx,et.inversePendingMatrix.ty)):et.hitTesting||et.context.fill(et.windingRule),et.context.translate(et.bounds.x,et.bounds.y),et.context.closePath()))},et.render=function(nt,rt){var tt=rt.__pixelRatio;if(nt.__update(rt.__worldTransform,tt),nt.__softwareDirty){et.hitTesting=!1,et.graphics=nt,et.allowSmoothing=rt.__allowSmoothing,et.worldAlpha=rt.__getAlpha(nt.__owner.__worldAlpha),et.bounds=nt.__bounds;var it=nt.__width,st=nt.__height;if(!nt.__visible||nt.__commands.get_length()==0||et.bounds==null||it<1||st<1)nt.__canvas=null,nt.__context=null,nt.__bitmap=null;else{nt.__canvas==null&&(nt.__canvas=window.document.createElement("canvas"),nt.__context=nt.__canvas.getContext("2d")),et.context=nt.__context;var at=nt.__renderTransform,_t=nt.__canvas,ut=rt.__pixelRatio,ot=j().default.int(it*ut),lt=j().default.int(st*ut);if(rt.__setBlendModeContext(et.context,"normal"),rt.__isDOM){_t.width==ot&&_t.height==lt?et.context.clearRect(0,0,ot,lt):(_t.width=ot,_t.height=lt,_t.style.width=it+"px",_t.style.height=st+"px");var ft=nt.__renderTransform;et.context.setTransform(ft.a*ut,ft.b*ut,ft.c*ut,ft.d*ut,ft.tx*ut,ft.ty*ut)}else _t.width==ot&&_t.height==lt?(et.context.closePath(),et.context.setTransform(1,0,0,1,0,0),et.context.clearRect(0,0,ot,lt)):(_t.width=it,_t.height=st),et.context.setTransform(at.a,at.b,at.c,at.d,at.tx,at.ty);et.fillCommands.clear(),et.strokeCommands.clear(),et.hasFill=!1,et.hasStroke=!1,et.bitmapFill=null,et.bitmapRepeat=!1;var ht=!1,dt=0,pt=0;et.windingRule="evenodd";for(var xt=new(f()).default(nt.__commands),vt=0,bt=nt.__commands.types;vt<bt.length;){var wt=bt[vt];switch(++vt,wt._hx_index){case 0:case 1:case 2:case 3:if(et.endFill(),et.endStroke(),wt==g().default.BEGIN_BITMAP_FILL){var At=xt.readBeginBitmapFill();et.fillCommands.beginBitmapFill(At.obj(0),At.obj(1),At.bool(0),At.bool(1)),et.strokeCommands.beginBitmapFill(At.obj(0),At.obj(1),At.bool(0),At.bool(1))}else if(wt==g().default.BEGIN_GRADIENT_FILL){var ct=xt.readBeginGradientFill();et.fillCommands.beginGradientFill(ct.obj(0),ct.iArr(0),ct.fArr(0),ct.iArr(1),ct.obj(1),ct.obj(2),ct.obj(3),ct.float(0)),et.strokeCommands.beginGradientFill(ct.obj(0),ct.iArr(0),ct.fArr(0),ct.iArr(1),ct.obj(1),ct.obj(2),ct.obj(3),ct.float(0))}else if(wt==g().default.BEGIN_SHADER_FILL){var mt=xt.readBeginShaderFill();et.fillCommands.beginShaderFill(mt.obj(0)),et.strokeCommands.beginShaderFill(mt.obj(0))}else{var gt=xt.readBeginFill();et.fillCommands.beginFill(gt.int(0),gt.float(0)),et.strokeCommands.beginFill(gt.int(0),gt.float(0))}break;case 4:var Tt=xt.readCubicCurveTo();et.fillCommands.cubicCurveTo(Tt.float(0),Tt.float(1),Tt.float(2),Tt.float(3),Tt.float(4),Tt.float(5)),ht?et.strokeCommands.cubicCurveTo(Tt.float(0),Tt.float(1),Tt.float(2),Tt.float(3),Tt.float(4),Tt.float(5)):(dt=Tt.float(4),pt=Tt.float(5));break;case 5:var yt=xt.readCurveTo();et.fillCommands.curveTo(yt.float(0),yt.float(1),yt.float(2),yt.float(3)),ht?et.strokeCommands.curveTo(yt.float(0),yt.float(1),yt.float(2),yt.float(3)):(dt=yt.float(2),pt=yt.float(3));break;case 6:var Et=xt.readDrawCircle();et.fillCommands.drawCircle(Et.float(0),Et.float(1),Et.float(2)),ht&&et.strokeCommands.drawCircle(Et.float(0),Et.float(1),Et.float(2));break;case 7:var Ct=xt.readDrawEllipse();et.fillCommands.drawEllipse(Ct.float(0),Ct.float(1),Ct.float(2),Ct.float(3)),ht&&et.strokeCommands.drawEllipse(Ct.float(0),Ct.float(1),Ct.float(2),Ct.float(3));break;case 8:var It=xt.readDrawQuads();et.fillCommands.drawQuads(It.obj(0),It.obj(1),It.obj(2));break;case 9:var Rt=xt.readDrawRect();et.fillCommands.drawRect(Rt.float(0),Rt.float(1),Rt.float(2),Rt.float(3)),ht&&et.strokeCommands.drawRect(Rt.float(0),Rt.float(1),Rt.float(2),Rt.float(3));break;case 10:var Ft=xt.readDrawRoundRect();et.fillCommands.drawRoundRect(Ft.float(0),Ft.float(1),Ft.float(2),Ft.float(3),Ft.float(4),Ft.obj(0)),ht&&et.strokeCommands.drawRoundRect(Ft.float(0),Ft.float(1),Ft.float(2),Ft.float(3),Ft.float(4),Ft.obj(0));break;case 12:var Lt=xt.readDrawTriangles();et.fillCommands.drawTriangles(Lt.obj(0),Lt.obj(1),Lt.obj(2),Lt.obj(3));break;case 13:xt.readEndFill(),et.endFill(),et.endStroke(),et.hasFill=!1,ht=!1,et.bitmapFill=null,dt=0,pt=0;break;case 14:var Ot=xt.readLineBitmapStyle();!ht&&(dt!=0||pt!=0)&&(et.strokeCommands.moveTo(dt,pt),dt=0,pt=0),ht=!0,et.strokeCommands.lineBitmapStyle(Ot.obj(0),Ot.obj(1),Ot.bool(0),Ot.bool(1));break;case 15:var Kt=xt.readLineGradientStyle();!ht&&(dt!=0||pt!=0)&&(et.strokeCommands.moveTo(dt,pt),dt=0,pt=0),ht=!0,et.strokeCommands.lineGradientStyle(Kt.obj(0),Kt.iArr(0),Kt.fArr(0),Kt.iArr(1),Kt.obj(1),Kt.obj(2),Kt.obj(3),Kt.float(0));break;case 16:var qt=xt.readLineStyle();!ht&&qt.obj(0)!=null&&(dt!=0||pt!=0)&&(et.strokeCommands.moveTo(dt,pt),dt=0,pt=0),ht=qt.obj(0)!=null,et.strokeCommands.lineStyle(qt.obj(0),qt.int(0),qt.float(0),qt.bool(0),qt.obj(1),qt.obj(2),qt.obj(3),qt.float(1));break;case 17:var Ht=xt.readLineTo();et.fillCommands.lineTo(Ht.float(0),Ht.float(1)),ht?et.strokeCommands.lineTo(Ht.float(0),Ht.float(1)):(dt=Ht.float(0),pt=Ht.float(1));break;case 18:var Zt=xt.readMoveTo();et.fillCommands.moveTo(Zt.float(0),Zt.float(1)),ht?et.strokeCommands.moveTo(Zt.float(0),Zt.float(1)):(dt=Zt.float(0),pt=Zt.float(1));break;case 19:var or=xt.readOverrideBlendMode();rt.__setBlendModeContext(et.context,or.obj(0));break;case 21:xt.readWindingEvenOdd(),et.fillCommands.windingEvenOdd(),et.windingRule="evenodd";break;case 22:xt.readWindingNonZero(),et.fillCommands.windingNonZero(),et.windingRule="nonzero";break;default:xt.skip(wt)}}et.fillCommands.get_length()>0&&et.endFill(),et.strokeCommands.get_length()>0&&et.endStroke(),xt.destroy(),nt.__bitmap=_e().default.fromCanvas(nt.__canvas)}nt.__softwareDirty=!1,nt.set___dirty(!1)}},et.renderMask=function(nt,rt){if(nt.__commands.get_length()!=0){et.context=rt.context;for(var tt=0,it=0,st=new(f()).default(nt.__commands),at,_t,ut,ot,lt=.5522848,ft,ht,dt,pt,xt,vt,bt=0,wt=nt.__commands.types;bt<wt.length;){var At=wt[bt];switch(++bt,At._hx_index){case 4:var ct=st.readCubicCurveTo();et.context.bezierCurveTo(ct.float(0)-tt,ct.float(1)-it,ct.float(2)-tt,ct.float(3)-it,ct.float(4)-tt,ct.float(5)-it),ct.float(4),ct.float(5);break;case 5:var mt=st.readCurveTo();et.context.quadraticCurveTo(mt.float(0)-tt,mt.float(1)-it,mt.float(2)-tt,mt.float(3)-it),mt.float(2),mt.float(3);break;case 6:var gt=st.readDrawCircle();et.context.arc(gt.float(0)-tt,gt.float(1)-it,gt.float(2),0,Math.PI*2,!0);break;case 7:var Tt=st.readDrawEllipse();at=Tt.float(0),_t=Tt.float(1),ut=Tt.float(2),ot=Tt.float(3),at-=tt,_t-=it,ft=ut/2*lt,ht=ot/2*lt,dt=at+ut,pt=_t+ot,xt=at+ut/2,vt=_t+ot/2,et.context.moveTo(at,vt),et.context.bezierCurveTo(at,vt-ht,xt-ft,_t,xt,_t),et.context.bezierCurveTo(xt+ft,_t,dt,vt-ht,dt,vt),et.context.bezierCurveTo(dt,vt+ht,xt+ft,pt,xt,pt),et.context.bezierCurveTo(xt-ft,pt,at,vt+ht,at,vt);break;case 9:var yt=st.readDrawRect();et.context.beginPath(),et.context.rect(yt.float(0)-tt,yt.float(1)-it,yt.float(2),yt.float(3)),et.context.closePath();break;case 10:var Et=st.readDrawRoundRect();et.drawRoundRect(Et.float(0)-tt,Et.float(1)-it,Et.float(2),Et.float(3),Et.float(4),Et.obj(0));break;case 17:var Ct=st.readLineTo();et.context.lineTo(Ct.float(0)-tt,Ct.float(1)-it),Ct.float(0),Ct.float(1);break;case 18:var It=st.readMoveTo();et.context.moveTo(It.float(0)-tt,It.float(1)-it),It.float(0),It.float(1);break;default:st.skip(At)}}st.destroy()}},et.setSmoothing=function(nt){et.allowSmoothing||(nt=!1),et.context.imageSmoothingEnabled!=nt&&(et.context.imageSmoothingEnabled=nt)},et.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{windingRule:{SuppressWarnings:["checkstyle:Dynamic"]},createBitmapFill:{SuppressWarnings:["checkstyle:Dynamic"]},createGradientPattern:{SuppressWarnings:["checkstyle:Dynamic"]}}},et.SIN45=.7071067811865476,et.TAN22=.41421356237309503,et.fillCommands=new(o()).default,et.strokeCommands=new(o()).default,e.default=et}(CanvasGraphics)),CanvasGraphics}var GraphicsPath$1={},IGraphicsPath$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.IGraphicsPath",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.IGraphicsPath"]=o,e.default=o})(IGraphicsPath$1);var IGraphicsData$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.IGraphicsData",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.IGraphicsData"]=o,e.default=o})(IGraphicsData$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsPath$1}function c(){return IGraphicsData$1}function s(){return requireVector_Impl_()}var h=function(f,g,b){b==null&&(b="evenOdd"),this.commands=f,this.data=g,this.winding=b,this.__graphicsDataType=3};h.__name__="openfl.display.GraphicsPath",h.__isInterface__=!1,h.__interfaces__=[o().default,c().default],h.prototype={cubicCurveTo:function(f,g,b,k,$,j){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,6),s().default.push(this.data,f),s().default.push(this.data,g),s().default.push(this.data,b),s().default.push(this.data,k),s().default.push(this.data,$),s().default.push(this.data,j)},curveTo:function(f,g,b,k){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,3),s().default.push(this.data,f),s().default.push(this.data,g),s().default.push(this.data,b),s().default.push(this.data,k)},lineTo:function(f,g){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,2),s().default.push(this.data,f),s().default.push(this.data,g)},moveTo:function(f,g){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,1),s().default.push(this.data,f),s().default.push(this.data,g)},wideLineTo:function(f,g){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,2),s().default.push(this.data,f),s().default.push(this.data,g)},wideMoveTo:function(f,g){this.commands==null&&(this.commands=s().default._new()),this.data==null&&(this.data=s().default._new()),s().default.push(this.commands,1),s().default.push(this.data,f),s().default.push(this.data,g)},__drawCircle:function(f,g,b){this.__drawRoundRect(f-b,g-b,b*2,b*2,b*2,b*2)},__drawEllipse:function(f,g,b,k){this.__drawRoundRect(f,g,b,k,b,k)},__drawRect:function(f,g,b,k){this.moveTo(f,g),this.lineTo(f+b,g),this.lineTo(f+b,g+k),this.lineTo(f,g+k),this.lineTo(f,g)},__drawRoundRect:function(f,g,b,k,$,j){$*=.5,j*=.5,$>b/2&&($=b/2),j>k/2&&(j=k/2);var _e=f+b,et=g+k,nt=-$+$*.7071067811865476,rt=-$+$*.41421356237309503,tt=-j+j*.7071067811865476,it=-j+j*.41421356237309503;this.moveTo(_e,et-j),this.curveTo(_e,et+it,_e+nt,et+tt),this.curveTo(_e+rt,et,_e-$,et),this.lineTo(f+$,et),this.curveTo(f-rt,et,f-nt,et+tt),this.curveTo(f,et+it,f,et-j),this.lineTo(f,g+j),this.curveTo(f,g-it,f-nt,g-tt),this.curveTo(f-rt,g,f+$,g),this.lineTo(_e-$,g),this.curveTo(_e+rt,g,_e+nt,g-tt),this.curveTo(_e,g-it,_e,g+j),this.lineTo(_e,et-j)}},h.prototype.__class__=h.prototype.constructor=d["openfl.display.GraphicsPath"]=h,h.SIN45=.7071067811865476,h.TAN22=.41421356237309503,e.default=h})(GraphicsPath$1);var GraphicsBitmapFill$1={},IGraphicsFill$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.IGraphicsFill",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.IGraphicsFill"]=o,e.default=o})(IGraphicsFill$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsFill$1}function c(){return IGraphicsData$1}var s=function(h,f,g,b){b==null&&(b=!1),g==null&&(g=!0),this.bitmapData=h,this.matrix=f,this.repeat=g,this.smooth=b,this.__graphicsDataType=4,this.__graphicsFillType=2};s.__name__="openfl.display.GraphicsBitmapFill",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsBitmapFill"]=s,e.default=s})(GraphicsBitmapFill$1);var GraphicsSolidFill$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsFill$1}function c(){return IGraphicsData$1}var s=function(h,f){f==null&&(f=1),h==null&&(h=0),this.alpha=f,this.color=h,this.__graphicsDataType=1,this.__graphicsFillType=0};s.__name__="openfl.display.GraphicsSolidFill",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsSolidFill"]=s,e.default=s})(GraphicsSolidFill$1);var GraphicsGradientFill$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsFill$1}function c(){return IGraphicsData$1}var s=function(h,f,g,b,k,$,j,_e){_e==null&&(_e=0),h==null&&(h="linear"),$==null&&($="pad"),j==null&&(j="rgb"),this.type=h,this.colors=f,this.alphas=g,this.ratios=b,this.matrix=k,this.spreadMethod=$,this.interpolationMethod=j,this.focalPointRatio=_e,this.__graphicsDataType=2,this.__graphicsFillType=1};s.__name__="openfl.display.GraphicsGradientFill",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsGradientFill"]=s,e.default=s})(GraphicsGradientFill$1);var GraphicsEndFill$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsFill$1}function c(){return IGraphicsData$1}var s=function(){this.__graphicsDataType=5,this.__graphicsFillType=3};s.__name__="openfl.display.GraphicsEndFill",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsEndFill"]=s,e.default=s})(GraphicsEndFill$1);var GraphicsStroke$1={},IGraphicsStroke$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.IGraphicsStroke",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.IGraphicsStroke"]=o,e.default=o})(IGraphicsStroke$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsStroke$1}function c(){return IGraphicsData$1}var s=function(h,f,g,b,k,$,j){$==null&&($=3),k==null&&(k="round"),b==null&&(b="none"),g==null&&(g="normal"),f==null&&(f=!1),h==null&&(h=NaN),this.caps=b,this.fill=j,this.joints=k,this.miterLimit=$,this.pixelHinting=f,this.scaleMode=g,this.thickness=h,this.__graphicsDataType=0};s.__name__="openfl.display.GraphicsStroke",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsStroke"]=s,e.default=s})(GraphicsStroke$1);var ShaderBuffer={},hasRequiredShaderBuffer;function requireShaderBuffer(){return hasRequiredShaderBuffer||(hasRequiredShaderBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.inputRefs=[],this.inputFilter=[],this.inputMipFilter=[],this.inputs=[],this.inputWrap=[],this.overrideIntNames=[],this.overrideIntValues=[],this.overrideFloatNames=[],this.overrideFloatValues=[],this.overrideBoolNames=[],this.overrideBoolValues=[],this.paramLengths=[],this.paramPositions=[],this.paramRefs_Bool=[],this.paramRefs_Float=[],this.paramRefs_Int=[],this.paramTypes=[]};o.__name__="openfl.display._internal.ShaderBuffer",o.__isInterface__=!1,o.prototype={addBoolOverride:function(c,s){this.overrideBoolNames[this.overrideBoolCount]=c,this.overrideBoolValues[this.overrideBoolCount]=s,this.overrideBoolCount++},addFloatOverride:function(c,s){this.overrideFloatNames[this.overrideFloatCount]=c,this.overrideFloatValues[this.overrideFloatCount]=s,this.overrideFloatCount++},addIntOverride:function(c,s){this.overrideIntNames[this.overrideIntCount]=c,this.overrideIntValues[this.overrideIntCount]=s,this.overrideIntCount++},clearOverride:function(){this.overrideIntCount=0,this.overrideFloatCount=0,this.overrideBoolCount=0},update:function(c){if(this.inputCount=0,this.overrideIntCount=0,this.overrideFloatCount=0,this.overrideBoolCount=0,this.paramBoolCount=0,this.paramCount=0,this.paramDataLength=0,this.paramFloatCount=0,this.paramIntCount=0,this.shader=null,c!=null){c.__init(),this.inputCount=c.__inputBitmapData.length;for(var s,h=0,f=this.inputCount;h<f;){var g=h++;s=c.__inputBitmapData[g],this.inputs[g]=s.input,this.inputFilter[g]=s.filter,this.inputMipFilter[g]=s.mipFilter,this.inputRefs[g]=s,this.inputWrap[g]=s.wrap}var b=c.__paramBool.length,k=c.__paramFloat.length,$=c.__paramInt.length;this.paramCount=b+k+$,this.paramBoolCount=b,this.paramFloatCount=k,this.paramIntCount=$;for(var j=0,_e=0,et,nt=0,rt=b;nt<rt;){var tt=nt++;et=c.__paramBool[tt],this.paramPositions[_e]=this.paramDataLength,j=et.value!=null?et.value.length:0,this.paramLengths[_e]=j,this.paramDataLength+=j,this.paramTypes[_e]=0,this.paramRefs_Bool[tt]=et,++_e}for(var it,st=0,at=k;st<at;){var _t=st++;it=c.__paramFloat[_t],this.paramPositions[_e]=this.paramDataLength,j=it.value!=null?it.value.length:0,this.paramLengths[_e]=j,this.paramDataLength+=j,this.paramTypes[_e]=1,this.paramRefs_Float[_t]=it,++_e}for(var ut,ot=0,lt=$;ot<lt;){var ft=ot++;ut=c.__paramInt[ft],this.paramPositions[_e]=this.paramDataLength,j=ut.value!=null?ut.value.length:0,this.paramLengths[_e]=j,this.paramDataLength+=j,this.paramTypes[_e]=2,this.paramRefs_Int[ft]=ut,++_e}if(this.paramDataLength>0){if(this.paramData==null){var ht=this.paramDataLength,dt=null,pt=null,xt=null,vt=null,bt;ht!=null?bt=new Float32Array(ht):dt!=null?bt=new Float32Array(dt):pt!=null?bt=new Float32Array(pt):xt!=null?vt==null?bt=new Float32Array(xt,0):bt=new Float32Array(xt,0,vt):bt=null,this.paramData=bt}else if(this.paramDataLength>this.paramData.length){var wt=this.paramDataLength,At=null,ct=null,mt=null,gt=null,Tt;wt!=null?Tt=new Float32Array(wt):At!=null?Tt=new Float32Array(At):ct!=null?Tt=new Float32Array(ct):mt!=null?gt==null?Tt=new Float32Array(mt,0):Tt=new Float32Array(mt,0,gt):Tt=null;var yt=Tt;yt.set(this.paramData),this.paramData=yt}}for(var Et=0,Ct=0,It=0,Rt=0,Ft,Lt,Ot,Kt,qt=0,Ht=this.paramCount;qt<Ht;){var Zt=qt++;if(Kt=this.paramLengths[Zt],Zt<b){Ft=this.paramRefs_Bool[Et],++Et;for(var or=0,ir=Kt;or<ir;){var lr=or++;this.paramData[Rt]=Ft.value[lr]?1:0,++Rt}}else if(Zt<b+k){Lt=this.paramRefs_Float[Ct],++Ct;for(var ar=0,Mt=Kt;ar<Mt;){var kt=ar++;this.paramData[Rt]=Lt.value[kt],++Rt}}else{Ot=this.paramRefs_Int[It],++It;for(var Vt=0,Nt=Kt;Vt<Nt;){var Wt=Vt++;this.paramData[Rt]=Ot.value[Wt],++Rt}}}this.shader=c}}},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.ShaderBuffer"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{overrideIntValues:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=o}(ShaderBuffer)),ShaderBuffer}var hasRequiredGraphics;function requireGraphics(){return hasRequiredGraphics||(hasRequiredGraphics=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVectorIterator()}function c(){return Rectangle$2}function s(){return Matrix$2}function h(){return requireStd()}function f(){return requireHaxeError()}function g(){return ArgumentError$1}function b(){return requireVector_Impl_()}function k(){return requireCanvasGraphics()}function $(){return requireDrawCommandReader()}function j(){return GraphicsPath$1}function _e(){return GraphicsBitmapFill$1}function et(){return GraphicsSolidFill$1}function nt(){return GraphicsGradientFill$1}function rt(){return GraphicsEndFill$1}function tt(){return GraphicsStroke$1}function it(){return requireDrawCommandBuffer()}function st(){return requireList()}function at(){return requireObjectPool()}function _t(){return requireShaderBuffer()}var ut=function(ot){this.__dirty=!0,this.__owner=ot,this.__commands=new(it()).default,this.__strokePadding=0,this.__positionX=0,this.__positionY=0,this.__renderTransform=new(s()).default,this.__usedShaderBuffers=new(st()).default,this.__worldTransform=new(s()).default,this.__width=0,this.__height=0,this.__bitmapScale=1,this.__shaderBufferPool=new(at()).default(function(){return new(_t()).default}),this.moveTo(0,0)};ut.__name__="openfl.display.Graphics",ut.__isInterface__=!1,ut.prototype={beginBitmapFill:function(ot,lt,ft,ht){if(ht==null&&(ht=!1),ft==null&&(ft=!0),!ot.readable){this.beginFill(0,1);return}this.__commands.beginBitmapFill(ot,lt!=null?lt.clone():null,ft,ht),this.__visible=!0},beginFill:function(ot,lt){lt==null&&(lt=1),ot==null&&(ot=0),this.__commands.beginFill(ot&16777215,lt),lt>0&&(this.__visible=!0)},beginGradientFill:function(ot,lt,ft,ht,dt,pt,xt,vt){if(vt==null&&(vt=0),xt==null&&(xt="rgb"),pt==null&&(pt="pad"),!(lt==null||lt.length==0)){if(ft==null){ft=[];for(var bt=0,wt=lt.length;bt<wt;)bt++,ft.push(1)}if(ht==null){ht=[];for(var At=0,ct=lt.length;At<ct;){var mt=At++;ht.push(Math.ceil(mt/(lt.length-1)*255))}}if(!(ft.length<lt.length||ht.length<lt.length)){this.__commands.beginGradientFill(ot,lt,ft,ht,dt,pt,xt,vt);for(var gt=0;gt<ft.length;){var Tt=ft[gt];if(++gt,Tt>0){this.__visible=!0;break}}}}},beginShaderFill:function(ot,lt){if(ot!=null){var ft=this.__shaderBufferPool.get();this.__usedShaderBuffers.add(ft),ft.update(ot),this.__commands.beginShaderFill(ft)}},clear:function(){for(var ot=this.__usedShaderBuffers.iterator();ot.hasNext();){var lt=ot.next();this.__shaderBufferPool.release(lt)}this.__usedShaderBuffers.clear(),this.__commands.clear(),this.__strokePadding=0,this.__bounds!=null&&(this.set___dirty(!0),this.__transformDirty=!0,this.__bounds=null),this.__visible=!1,this.__positionX=0,this.__positionY=0,this.moveTo(0,0)},copyFrom:function(ot){this.__bounds=ot.__bounds!=null?ot.__bounds.clone():null,this.__commands=ot.__commands.copy(),this.set___dirty(!0),this.__strokePadding=ot.__strokePadding,this.__positionX=ot.__positionX,this.__positionY=ot.__positionY,this.__transformDirty=!0,this.__visible=ot.__visible},cubicCurveTo:function(ot,lt,ft,ht,dt,pt){var xt=this.__findExtrema(this.__positionX,ot,ft,dt),vt=this.__findExtrema(this.__positionY,lt,ht,pt);this.__inflateBounds(xt.min-this.__strokePadding,vt.min-this.__strokePadding),this.__inflateBounds(xt.max+this.__strokePadding,vt.max+this.__strokePadding),this.__positionX=dt,this.__positionY=pt,this.__commands.cubicCurveTo(ot,lt,ft,ht,dt,pt),this.set___dirty(!0)},curveTo:function(ot,lt,ft,ht){this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding);var dt,pt;if(ot<ft&&ot>this.__positionX||ot>ft&&ot<this.__positionX)dt=ft;else{var xt=(this.__positionX-ot)/(this.__positionX-2*ot+ft);dt=this.__calculateBezierQuadPoint(xt,this.__positionX,ot,ft)}if(lt<ht&&lt>this.__positionY||lt>ht&&lt<this.__positionY)pt=ht;else{var vt=(this.__positionY-lt)/(this.__positionY-2*lt+ht);pt=this.__calculateBezierQuadPoint(vt,this.__positionY,lt,ht)}this.__inflateBounds(dt-this.__strokePadding,pt-this.__strokePadding),this.__inflateBounds(dt+this.__strokePadding,pt+this.__strokePadding),this.__positionX=ft,this.__positionY=ht,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__commands.curveTo(ot,lt,ft,ht),this.set___dirty(!0)},drawCircle:function(ot,lt,ft){ft<=0||(this.__inflateBounds(ot-ft-this.__strokePadding,lt-ft-this.__strokePadding),this.__inflateBounds(ot+ft+this.__strokePadding,lt+ft+this.__strokePadding),this.__commands.drawCircle(ot,lt,ft),this.set___dirty(!0))},drawEllipse:function(ot,lt,ft,ht){ft<=0||ht<=0||(this.__inflateBounds(ot-this.__strokePadding,lt-this.__strokePadding),this.__inflateBounds(ot+ft+this.__strokePadding,lt+ht+this.__strokePadding),this.__commands.drawEllipse(ot,lt,ft,ht),this.set___dirty(!0))},drawGraphicsData:function(ot){for(var lt,ft,ht,dt,pt,xt,vt,bt,wt=new(o()).default(ot);wt.hasNext();){var At=wt.next();switch(At.__graphicsDataType){case 0:if(pt=At,pt.fill!=null){var ct=pt.thickness;switch(isNaN(ct)&&(ct=null),pt.fill.__graphicsFillType){case 0:lt=pt.fill,this.lineStyle(ct,lt.color,lt.alpha,pt.pixelHinting,pt.scaleMode,pt.caps,pt.joints,pt.miterLimit);break;case 1:ht=pt.fill,this.lineStyle(ct,0,1,pt.pixelHinting,pt.scaleMode,pt.caps,pt.joints,pt.miterLimit),this.lineGradientStyle(ht.type,ht.colors,ht.alphas,ht.ratios,ht.matrix,ht.spreadMethod,ht.interpolationMethod,ht.focalPointRatio);break;case 2:ft=pt.fill,this.lineStyle(ct,0,1,pt.pixelHinting,pt.scaleMode,pt.caps,pt.joints,pt.miterLimit),this.lineBitmapStyle(ft.bitmapData,ft.matrix,ft.repeat,ft.smooth);break}}else this.lineStyle();break;case 1:lt=At,this.beginFill(lt.color,lt.alpha);break;case 2:ht=At,this.beginGradientFill(ht.type,ht.colors,ht.alphas,ht.ratios,ht.matrix,ht.spreadMethod,ht.interpolationMethod,ht.focalPointRatio);break;case 3:xt=At,this.drawPath(xt.commands,xt.data,xt.winding);break;case 4:ft=At,this.beginBitmapFill(ft.bitmapData,ft.matrix,ft.repeat,ft.smooth);break;case 5:this.endFill();break;case 6:bt=At,this.drawQuads(bt.rects,bt.indices,bt.transforms);break;case 7:vt=At,this.drawTriangles(vt.vertices,vt.indices,vt.uvtData,vt.culling);break;case 8:dt=At,this.beginShaderFill(dt.shader,dt.matrix);break}}},drawPath:function(ot,lt,ft){ft==null&&(ft="evenOdd");var ht=0;ft=="nonZero"&&this.__commands.windingNonZero();var dt=new(o()).default(ot);e:for(;dt.hasNext();){var pt=dt.next();switch(pt){case 1:this.moveTo(lt[ht],lt[ht+1]),ht+=2;break;case 2:this.lineTo(lt[ht],lt[ht+1]),ht+=2;break;case 3:this.curveTo(lt[ht],lt[ht+1],lt[ht+2],lt[ht+3]),ht+=4;break;case 4:this.moveTo(lt[ht+2],lt[ht+3]);break e;case 5:this.lineTo(lt[ht+2],lt[ht+3]);break e;case 6:this.cubicCurveTo(lt[ht],lt[ht+1],lt[ht+2],lt[ht+3],lt[ht+4],lt[ht+5]),ht+=6;break}}},drawQuads:function(ot,lt,ft){if(ot!=null){var ht=lt!=null,dt=!1,pt=!1,xt=ht?lt.get_length():Math.floor(ot.get_length()/4);if(xt!=0){ft!=null&&(ft.get_length()>=xt*6?(dt=!0,pt=!0):ft.get_length()>=xt*4?dt=!0:ft.get_length()>=xt*2&&(pt=!0));for(var vt=c().default.__pool.get(),bt=s().default.__pool.get(),wt=1/0,At=1/0,ct=-1/0,mt=-1/0,gt,Tt,yt=0,Et=xt;yt<Et;){var Ct=yt++;gt=ht?lt[Ct]*4:Ct*4,!(gt<0)&&(vt.setTo(0,0,ot[gt+2],ot[gt+3]),!(vt.width<=0||vt.height<=0)&&(dt&&pt?(Tt=Ct*6,bt.setTo(ft[Tt],ft[Tt+1],ft[Tt+2],ft[Tt+3],ft[Tt+4],ft[Tt+5])):dt?(Tt=Ct*4,bt.setTo(ft[Tt],ft[Tt+1],ft[Tt+2],ft[Tt+3],vt.x,vt.y)):pt?(Tt=Ct*2,bt.tx=ft[Tt],bt.ty=ft[Tt+1]):(bt.tx=vt.x,bt.ty=vt.y),vt.__transform(vt,bt),wt>vt.x&&(wt=vt.x),At>vt.y&&(At=vt.y),ct<vt.get_right()&&(ct=vt.get_right()),mt<vt.get_bottom()&&(mt=vt.get_bottom())))}this.__inflateBounds(wt,At),this.__inflateBounds(ct,mt),this.__commands.drawQuads(ot,lt,ft),this.set___dirty(!0),this.__visible=!0,c().default.__pool.release(vt),s().default.__pool.release(bt)}}},drawRect:function(ot,lt,ft,ht){if(!(ft==0&&ht==0)){var dt=ft<0?-1:1,pt=ht<0?-1:1;this.__inflateBounds(ot-this.__strokePadding*dt,lt-this.__strokePadding*pt),this.__inflateBounds(ot+ft+this.__strokePadding*dt,lt+ht+this.__strokePadding*pt),this.__commands.drawRect(ot,lt,ft,ht),this.set___dirty(!0)}},drawRoundRect:function(ot,lt,ft,ht,dt,pt){if(!(ft==0&&ht==0)){var xt=ft<0?-1:1,vt=ht<0?-1:1;this.__inflateBounds(ot-this.__strokePadding*xt,lt-this.__strokePadding*vt),this.__inflateBounds(ot+ft+this.__strokePadding*xt,lt+ht+this.__strokePadding*vt),this.__commands.drawRoundRect(ot,lt,ft,ht,dt,pt),this.set___dirty(!0)}},drawRoundRectComplex:function(ot,lt,ft,ht,dt,pt,xt,vt){if(!(ft<=0||ht<=0)){this.__inflateBounds(ot-this.__strokePadding,lt-this.__strokePadding),this.__inflateBounds(ot+ft+this.__strokePadding,lt+ht+this.__strokePadding);var bt=ot+ft,wt=lt+ht,At=ft<ht?ft*2:ht*2;dt=dt<At?dt:At,pt=pt<At?pt:At,xt=xt<At?xt:At,vt=vt<At?vt:At;var ct=1-Math.sin(45*(Math.PI/180)),mt=1-Math.tan(22.5*(Math.PI/180)),gt=vt*ct,Tt=vt*mt;this.moveTo(bt,wt-vt),this.curveTo(bt,wt-Tt,bt-gt,wt-gt),this.curveTo(bt-Tt,wt,bt-vt,wt),gt=xt*ct,Tt=xt*mt,this.lineTo(ot+xt,wt),this.curveTo(ot+Tt,wt,ot+gt,wt-gt),this.curveTo(ot,wt-Tt,ot,wt-xt),gt=dt*ct,Tt=dt*mt,this.lineTo(ot,lt+dt),this.curveTo(ot,lt+Tt,ot+gt,lt+gt),this.curveTo(ot+Tt,lt,ot+dt,lt),gt=pt*ct,Tt=pt*mt,this.lineTo(bt-pt,lt),this.curveTo(bt-Tt,lt,bt-gt,lt+gt),this.curveTo(bt,lt+Tt,bt,lt+pt),this.lineTo(bt,wt-vt),this.set___dirty(!0)}},drawTriangles:function(ot,lt,ft,ht){if(ht==null&&(ht="none"),!(ot==null||ot.get_length()==0)){var dt=h().default.int(ot.get_length()/2);if(lt==null){if(dt%3!=0)throw new(f()).default(new(g()).default("Not enough vertices to close a triangle."));lt=b().default._new();for(var pt=0,xt=dt;pt<xt;){var vt=pt++;b().default.push(lt,vt)}}ht==null&&(ht="none");for(var bt,wt,At=1/0,ct=1/0,mt=-1/0,gt=-1/0,Tt=0,yt=dt;Tt<yt;){var Et=Tt++;bt=ot[Et*2],wt=ot[Et*2+1],At>bt&&(At=bt),ct>wt&&(ct=wt),mt<bt&&(mt=bt),gt<wt&&(gt=wt)}this.__inflateBounds(At,ct),this.__inflateBounds(mt,gt),this.__commands.drawTriangles(ot,lt,ft,ht),this.set___dirty(!0),this.__visible=!0}},endFill:function(){this.__commands.endFill()},lineBitmapStyle:function(ot,lt,ft,ht){ht==null&&(ht=!1),ft==null&&(ft=!0),this.__commands.lineBitmapStyle(ot,lt!=null?lt.clone():null,ft,ht)},lineGradientStyle:function(ot,lt,ft,ht,dt,pt,xt,vt){if(vt==null&&(vt=0),xt==null&&(xt="rgb"),pt==null&&(pt="pad"),ft==null){ft=[];for(var bt=0,wt=lt.length;bt<wt;)bt++,ft.push(1)}if(ht==null){ht=[];for(var At=0,ct=lt.length;At<ct;){var mt=At++;ht.push(Math.ceil(mt/(lt.length-1)*255))}}this.__commands.lineGradientStyle(ot,lt,ft,ht,dt,pt,xt,vt)},lineStyle:function(ot,lt,ft,ht,dt,pt,xt,vt){vt==null&&(vt=3),dt==null&&(dt="normal"),ht==null&&(ht=!1),ft==null&&(ft=1),lt==null&&(lt=0),pt==null&&(pt="round"),xt==null&&(xt="round"),ot!=null&&(xt=="miter"?ot>this.__strokePadding&&(this.__strokePadding=Math.ceil(ot)):ot/2>this.__strokePadding&&(this.__strokePadding=Math.ceil(ot/2))),this.__commands.lineStyle(ot,lt,ft,ht,dt,pt,xt,vt),ot!=null&&(this.__visible=!0)},lineTo:function(ot,lt){!isFinite(ot)||!isFinite(lt)||(this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding,this.__positionY+this.__strokePadding),this.__positionX=ot,this.__positionY=lt,this.__inflateBounds(this.__positionX-this.__strokePadding,this.__positionY-this.__strokePadding),this.__inflateBounds(this.__positionX+this.__strokePadding*2,this.__positionY+this.__strokePadding),this.__commands.lineTo(ot,lt),this.set___dirty(!0))},moveTo:function(ot,lt){this.__positionX=ot,this.__positionY=lt,this.__commands.moveTo(ot,lt)},overrideBlendMode:function(ot){ot==null&&(ot="normal"),this.__commands.overrideBlendMode(ot)},readGraphicsData:function(ot){ot==null&&(ot=!0);var lt=b().default._new();return this.__owner.__readGraphicsData(lt,ot),lt},__calculateBezierCubicPoint:function(ot,lt,ft,ht,dt){var pt=1-ot;return lt*(pt*pt*pt)+3*ft*ot*(pt*pt)+3*ht*pt*(ot*ot)+dt*(ot*ot*ot)},__calculateBezierQuadPoint:function(ot,lt,ft,ht){var dt=1-ot;return dt*dt*lt+2*dt*ot*ft+ot*ot*ht},__cleanup:function(){this.__bounds!=null&&this.__canvas!=null&&(this.set___dirty(!0),this.__transformDirty=!0),this.__bitmap=null,this.__canvas=null,this.__context=null},__getBounds:function(ot,lt){if(this.__bounds!=null){var ft=c().default.__pool.get();this.__bounds.__transform(ft,lt),ot.__expand(ft.x,ft.y,ft.width,ft.height),c().default.__pool.release(ft)}},__hitTest:function(ot,lt,ft,ht){if(this.__bounds==null)return!1;var dt=ht.__transformInverseX(ot,lt),pt=ht.__transformInverseY(ot,lt);return dt>this.__bounds.x&&pt>this.__bounds.y&&this.__bounds.contains(dt,pt)?ft?k().default.hitTest(this,dt,pt):!0:!1},__findExtrema:function(ot,lt,ft,ht){var dt=[];if(!((lt<ht&&lt>ot||lt>ht&&lt<ot)&&(ft<ht&&ft>ot||ft>ht&&ft<ot))){var pt=-ot+3*lt+ht-3*ft,xt=2*ot-4*lt+2*ft,vt=lt-ot,bt=xt*xt-4*pt*vt;if(pt==0){var wt=-vt/xt;wt>0&&wt<1&&dt.push(this.__calculateBezierCubicPoint(wt,ot,lt,ft,ht))}else if(bt>=0){var At=(-xt+Math.sqrt(bt))/(2*pt),ct=(-xt-Math.sqrt(bt))/(2*pt);At>0&&At<1&&dt.push(this.__calculateBezierCubicPoint(At,ot,lt,ft,ht)),ct>0&&ct<1&&dt.push(this.__calculateBezierCubicPoint(ct,ot,lt,ft,ht))}}var mt=ot,gt=ot;dt.push(ht);for(var Tt=0;Tt<dt.length;){var yt=dt[Tt];++Tt,yt<mt&&(mt=yt),yt>gt&&(gt=yt)}return{min:mt,max:gt}},__inflateBounds:function(ot,lt){if(this.__bounds==null){this.__bounds=new(c()).default(ot,lt,0,0),this.__transformDirty=!0;return}ot<this.__bounds.x&&(this.__bounds.width+=this.__bounds.x-ot,this.__bounds.x=ot,this.__transformDirty=!0),lt<this.__bounds.y&&(this.__bounds.height+=this.__bounds.y-lt,this.__bounds.y=lt,this.__transformDirty=!0),ot>this.__bounds.x+this.__bounds.width&&(this.__bounds.width=ot-this.__bounds.x),lt>this.__bounds.y+this.__bounds.height&&(this.__bounds.height=lt-this.__bounds.y)},__readGraphicsData:function(ot){for(var lt=new($()).default(this.__commands),ft=null,ht,dt=0,pt=this.__commands.types;dt<pt.length;){var xt=pt[dt];switch(++dt,xt._hx_index){case 4:case 5:case 6:case 7:case 9:case 10:case 17:case 18:ft==null&&(ft=new(j()).default);break;default:ft!=null&&(b().default.push(ot,ft),ft=null)}switch(xt._hx_index){case 0:var vt=lt.readBeginBitmapFill();b().default.push(ot,new(_e()).default(vt.obj(0),vt.obj(1),vt.bool(0),vt.bool(1)));break;case 1:var bt=lt.readBeginFill();b().default.push(ot,new(et()).default(bt.int(0),1));break;case 2:var wt=lt.readBeginGradientFill();b().default.push(ot,new(nt()).default(wt.obj(0),wt.iArr(0),wt.fArr(0),wt.iArr(1),wt.obj(1),wt.obj(2),wt.obj(3),wt.float(0)));break;case 3:break;case 4:var At=lt.readCubicCurveTo();ft.cubicCurveTo(At.float(0),At.float(1),At.float(2),At.float(3),At.float(4),At.float(5));break;case 5:var ct=lt.readCurveTo();ft.curveTo(ct.float(0),ct.float(1),ct.float(2),ct.float(3));break;case 6:var mt=lt.readDrawCircle();ft.__drawCircle(mt.float(0),mt.float(1),mt.float(2));break;case 7:var gt=lt.readDrawEllipse();ft.__drawEllipse(gt.float(0),gt.float(1),gt.float(2),gt.float(3));break;case 9:var Tt=lt.readDrawRect();ft.__drawRect(Tt.float(0),Tt.float(1),Tt.float(2),Tt.float(3));break;case 10:var yt=lt.readDrawRoundRect();ft.__drawRoundRect(yt.float(0),yt.float(1),yt.float(2),yt.float(3),yt.float(4),yt.obj(0)!=null?yt.obj(0):yt.float(4));break;case 13:lt.readEndFill(),b().default.push(ot,new(rt()).default);break;case 14:lt.readLineBitmapStyle(),ft=null;break;case 15:lt.readLineGradientStyle();break;case 16:var Et=lt.readLineStyle();ht=new(tt()).default(Et.obj(0),Et.bool(0),Et.obj(1),Et.obj(2),Et.obj(3),Et.float(1)),ht.fill=new(et()).default(Et.int(0),Et.float(0)),b().default.push(ot,ht);break;case 17:var Ct=lt.readLineTo();ft.lineTo(Ct.float(0),Ct.float(1));break;case 18:var It=lt.readMoveTo();ft.moveTo(It.float(0),It.float(1));break;default:lt.skip(xt)}}ft!=null&&b().default.push(ot,ft)},__update:function(ot,lt){if(!(this.__bounds==null||this.__bounds.width<=0||this.__bounds.height<=0)){var ft=this.__owner.__renderTransform;if(ft!=null){var ht=lt,dt=lt;this.__owner.__worldScale9Grid==null&&(ft.b==0?ht=Math.abs(ft.a):ht=Math.sqrt(ft.a*ft.a+ft.b*ft.b),ft.c==0?dt=Math.abs(ft.d):dt=Math.sqrt(ft.c*ft.c+ft.d*ft.d),ot!=null&&(ot.b==0?ht*=ot.a:ht*=Math.sqrt(ot.a*ot.a+ot.b*ot.b),ot.c==0?dt*=ot.d:dt*=Math.sqrt(ot.c*ot.c+ot.d*ot.d)));var pt=this.__bounds.width*ht,xt=this.__bounds.height*dt;if(pt<1||xt<1){(this.__width>=1||this.__height>=1)&&this.set___dirty(!0),this.__width=0,this.__height=0;return}ut.maxTextureWidth!=null&&pt>ut.maxTextureWidth&&(pt=ut.maxTextureWidth,ht=ut.maxTextureWidth/this.__bounds.width),ut.maxTextureWidth!=null&&xt>ut.maxTextureHeight&&(xt=ut.maxTextureHeight,dt=ut.maxTextureHeight/this.__bounds.height);var vt,bt;this.__owner.__worldScale9Grid!=null?(this.__renderTransform.a=lt,this.__renderTransform.d=lt,vt=1/lt,bt=1/lt):(this.__renderTransform.a=pt/this.__bounds.width,this.__renderTransform.d=xt/this.__bounds.height,vt=1/this.__renderTransform.a,bt=1/this.__renderTransform.d),this.__worldTransform.a=vt*ft.a,this.__worldTransform.b=vt*ft.b,this.__worldTransform.c=bt*ft.c,this.__worldTransform.d=bt*ft.d;var wt=this.__bounds.x,At=this.__bounds.y,ct=wt*ft.a+At*ft.c+ft.tx,mt=wt*ft.b+At*ft.d+ft.ty;if(lt>1){var gt=1/lt;this.__worldTransform.tx=Math.round(ct/gt)*gt,this.__worldTransform.ty=Math.round(mt/gt)*gt}else this.__worldTransform.tx=Math.round(ct),this.__worldTransform.ty=Math.round(mt);this.__renderTransform.tx=this.__worldTransform.__transformInverseX(ct,mt),this.__renderTransform.ty=this.__worldTransform.__transformInverseY(ct,mt);var Tt=Math.ceil(pt+1),yt=Math.ceil(xt+1);(Tt!=this.__width||yt!=this.__height)&&this.set___dirty(!0),this.__width=Tt,this.__height=yt}}},set___dirty:function(ot){return ot&&this.__owner!=null&&this.__owner.__setRenderDirty(),ot&&(this.__softwareDirty=!0,this.__hardwareDirty=!0),this.__dirty=ot}},ut.prototype.__class__=ut.prototype.constructor=d["openfl.display.Graphics"]=ut,ut.__meta__={fields:{overrideBlendMode:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},ut.maxTextureHeight=null,ut.maxTextureWidth=null,e.default=ut}(Graphics$1)),Graphics$1}var hasRequiredSprite;function requireSprite(){return hasRequiredSprite||(hasRequiredSprite=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObjectContainer$1}function s(){return requireLog()}function h(){return Point$2}function f(){return requireGraphics()}var g=function(){if(c().default.call(this),this.__drawableType=4,this.__buttonMode=!1,this.useHandCursor=!0,this.__pendingBindLibrary!=null){var b=this.__pendingBindLibrary,k=this.__pendingBindClassName;this.__pendingBindLibrary=null,this.__pendingBindClassName=null,b.bind(k,this)}else if(g.__constructor!=null){var $=g.__constructor;g.__constructor=null,$(this)}};g.__name__="openfl.display.Sprite",g.__isInterface__=!1,g.__super__=c().default,g.prototype=o(c().default.prototype,{startDrag:function(b,k){b==null&&(b=!1),this.stage!=null&&this.stage.__startDrag(this,b,k)},stopDrag:function(){this.stage!=null&&this.stage.__stopDrag(this)},__bind:function(b,k){this.__worldTransform==null?(this.__pendingBindLibrary=b,this.__pendingBindClassName=k):(b==null||k==null||!b.bind(k,this))&&s().default.error('Cannot bind class name "'+k+'"',{fileName:"../node_modules/openfl-haxelib/src/openfl/display/Sprite.hx",lineNumber:281,className:"openfl.display.Sprite",methodName:"__bind"})},__getCursor:function(){return this.__buttonMode&&this.useHandCursor?"button":null},__hitTest:function(b,k,$,j,_e,et){if(_e&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(!et.get_visible()||this.__isMask)return this.__hitTestHitArea(b,k,$,j,_e,et);if(this.get_mask()!=null&&!this.get_mask().__hitTestMask(b,k))return this.__hitTestHitArea(b,k,$,j,_e,et);if(this.__scrollRect!=null){var nt=h().default.__pool.get();if(nt.setTo(b,k),this.__getRenderTransform().__transformInversePoint(nt),!this.__scrollRect.containsPoint(nt))return h().default.__pool.release(nt),this.__hitTestHitArea(b,k,$,j,!0,et);h().default.__pool.release(nt)}return c().default.prototype.__hitTest.call(this,b,k,$,j,_e,et)?j!=null?_e:!0:this.hitArea==null&&this.__graphics!=null&&this.__graphics.__hitTest(b,k,$,this.__getRenderTransform())?(j!=null&&(!_e||this.mouseEnabled)&&j.push(et),!0):this.__hitTestHitArea(b,k,$,j,_e,et)},__hitTestHitArea:function(b,k,$,j,_e,et){if(this.hitArea!=null&&!this.hitArea.mouseEnabled){this.hitArea.mouseEnabled=!0;var nt=this.hitArea.__hitTest(b,k,$,null,!0,et);return this.hitArea.mouseEnabled=!1,j!=null&&nt&&(j[j.length]=et),nt}return!1},__hitTestMask:function(b,k){return c().default.prototype.__hitTestMask.call(this,b,k)?!0:!!(this.__graphics!=null&&this.__graphics.__hitTest(b,k,!0,this.__getRenderTransform()))},get_graphics:function(){return this.__graphics==null&&(this.__graphics=new(f()).default(this)),this.__graphics},get_tabEnabled:function(){return this.__tabEnabled==null?this.__buttonMode:this.__tabEnabled},get_buttonMode:function(){return this.__buttonMode},set_buttonMode:function(b){return this.__buttonMode=b}}),g.prototype.__class__=g.prototype.constructor=d["openfl.display.Sprite"]=g,Object.defineProperties(g.prototype,{buttonMode:{get:function(){return this.get_buttonMode()},set:function(b){return this.set_buttonMode(b)}},graphics:{get:function(){return this.get_graphics()}}}),g.fromTimeline=function(b){var k=new g;return b.initializeSprite(k),k},e.default=g}(Sprite$2)),Sprite$2}var Object_Impl_={},Iterable={},hasRequiredIterable;function requireIterable(){return hasRequiredIterable||(hasRequiredIterable=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe.lang.Iterable",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.lang.Iterable"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(Iterable)),Iterable}var hasRequiredObject_Impl_;function requireObject_Impl_(){return hasRequiredObject_Impl_||(hasRequiredObject_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}function c(){return requireType()}function s(){return requireHxOverrides()}function h(){return DisplayObjectContainer$1}function f(){return requireBoot()}function g(){return requireIterable()}function b(){return requireStd()}var k=function(){};k.__name__="openfl.utils._Object.Object_Impl_",k.__isInterface__=!1,k.prototype={},k.prototype.__class__=k.prototype.constructor=d["openfl.utils._Object.Object_Impl_"]=k,k._new=function(){var $={};return $},k.hasOwnProperty=function($,j){return $!=null?o().default.hasField($,j):!1},k.isPrototypeOf=function($,j){if($!=null)for(var _e=c().default.getClass($);_e!=null;){if(_e==j)return!0;_e=c().default.getSuperClass(_e)}return!1},k.iterator=function($){if($ instanceof Array){var j=$;return s().default.iter(j)}else{var _e=o().default.fields($);if(_e==null&&(_e=[]),$ instanceof h().default)for(var et=$,nt=0,rt=et.get_numChildren();nt<rt;){var tt=nt++,it=et.getChildAt(tt),st=it.get_name();st!=null&&_e.indexOf(st)==-1&&_e.push(st)}return s().default.iter(_e)}},k.propertyIsEnumerable=function($,j){return $!=null&&o().default.hasField($,j)?f().default.__implements(o().default.field($,j),g().default):!1},k.toLocaleString=function($){return $==null?null:b().default.string($)},k.toString=function($){return $==null?null:b().default.string($)},k.valueOf=function($){return $},k.__fieldRead=function($,j){return k.__get($,j)},k.__fieldWrite=function($,j,_e){var et=$;return et!=null&&o().default.setProperty(et,j,_e),_e},k.__get=function($,j){if($==null||j==null)return null;if(o().default.hasField($,j))return o().default.field($,j);if($ instanceof h().default){var _e=$,et=_e.getChildByName(j);if(et!=null)return et}return o().default.getProperty($,j)},k.__set=function($,j,_e){return $!=null&&o().default.setProperty($,j,_e),_e},k.__getArray=function($,j){if($==null)return null;var _e=f().default.__cast($,Array);return _e[j]},k.__setArray=function($,j,_e){if($==null)return _e;var et=f().default.__cast($,Array);return et[j]=_e},k.toFunction=function($){return $},k.toFloat=function($){return typeof $=="number"?$:NaN},k.toInt=function($){return $},k.toBool=function($){return typeof $=="boolean"?$:typeof $=="number"?$!=0:$!=null},k.__negate=function($){var j=$;return-j},k.__preIncrement=function($){var j=$;return++j},k.__postIncrement=function($){var j=$;return j++},k.__preDecrement=function($){var j=$;return--j},k.__postDecrement=function($){var j=$;return j--},k.__add=function($,j){if(typeof $=="string"||typeof j=="string"){var _e=$,et=j;return(_e==null?null:b().default.string(_e))+(et==null?null:b().default.string(et))}else{var nt=$,rt=j;return nt+rt}},k.__addString=function($,j){var _e=$,et=_e==null?null:b().default.string(_e);return et+j},k.__addInt=function($,j){var _e=$;return _e+j},k.__addFloat=function($,j){var _e=$;return _e+j},k.__sub=function($,j){var _e=$,et=j;return _e-et},k.__subInt=function($,j){var _e=$;return _e-j},k.__intSub=function($,j){var _e=j;return $-_e},k.__subFloat=function($,j){var _e=$;return _e-j},k.__floatSub=function($,j){var _e=j;return $-_e},k.__mul=function($,j){var _e=$,et=j;return _e*et},k.__mulInt=function($,j){var _e=$;return _e*j},k.__mulFloat=function($,j){var _e=$;return _e*j},k.__div=function($,j){var _e=$,et=j;return _e/et},k.__divInt=function($,j){var _e=$;return _e/j},k.__intDiv=function($,j){var _e=j;return $/_e},k.__divFloat=function($,j){var _e=$;return _e/j},k.__floatDiv=function($,j){var _e=j;return $/_e},k.__mod=function($,j){var _e=$,et=j;return _e%et},k.__modInt=function($,j){var _e=$;return _e%j},k.__intMod=function($,j){var _e=j;return $%_e},k.__modFloat=function($,j){var _e=$;return _e%j},k.__floatMod=function($,j){var _e=j;return $%_e},k.__eq=function($,j){var _e=$,et=j;return _e==et},k.__eqDynamic=function($,j){var _e=$;return _e==j},k.__neq=function($,j){var _e=$,et=j;return _e!=et},k.__neqDynamic=function($,j){var _e=$;return _e!=j},k.__lt=function($,j){var _e=$,et=j;return _e<et},k.__ltInt=function($,j){var _e=$;return _e<j},k.__intLt=function($,j){var _e=j;return $<_e},k.__ltFloat=function($,j){var _e=$;return _e<j},k.__floatLt=function($,j){var _e=j;return $<_e},k.__lte=function($,j){var _e=$,et=j;return _e<=et},k.__lteInt=function($,j){var _e=j;return k.__lte($,_e)},k.__intLte=function($,j){var _e=$;return k.__lte(_e,j)},k.__lteFloat=function($,j){var _e=j;return k.__lte($,_e)},k.__floatLte=function($,j){var _e=$;return k.__lte(_e,j)},k.__gt=function($,j){var _e=$,et=j;return _e>et},k.__gtInt=function($,j){var _e=j;return k.__gt($,_e)},k.__intGt=function($,j){var _e=j;return $>_e},k.__gtFloat=function($,j){var _e=j;return k.__gt($,_e)},k.__floatGt=function($,j){var _e=j;return $>_e},k.__gte=function($,j){var _e=$,et=j;return _e>=et},k.__gteInt=function($,j){var _e=j;return k.__gte($,_e)},k.__intGte=function($,j){var _e=j;return $>=_e},k.__gteFloat=function($,j){var _e=j;return k.__gte($,_e)},k.__floatGte=function($,j){var _e=j;return $>=_e},k.__complement=function($){var j=$;return~j},k.__and=function($,j){var _e=$,et=j;return _e&et},k.__andInt=function($,j){var _e=$;return _e&j},k.__or=function($,j){var _e=$,et=j;return _e|et},k.__orInt=function($,j){var _e=$;return _e|j},k.__xor=function($,j){var _e=$,et=j;return _e^et},k.__xorInt=function($,j){var _e=$;return _e^j},k.__shr=function($,j){var _e=$,et=j;return _e>>et},k.__shrInt=function($,j){var _e=$;return _e>>j},k.__intShr=function($,j){var _e=j;return $>>_e},k.__ushr=function($,j){var _e=$,et=j;return _e>>>et},k.__ushrInt=function($,j){var _e=$;return _e>>>j},k.__intUshr=function($,j){var _e=j;return $>>>_e},k.__shl=function($,j){var _e=$,et=j;return _e<<et},k.__shlInt=function($,j){var _e=$;return _e<<j},k.__intShl=function($,j){var _e=j;return $<<_e},k.__meta__={statics:{iterator:{SuppressWarnings:["checkstyle:FieldDocComment"]},__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]},__getArray:{SuppressWarnings:["checkstyle:FieldDocComment"]},__setArray:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=k}(Object_Impl_)),Object_Impl_}var Scene={},hasRequiredScene;function requireScene(){return hasRequiredScene||(hasRequiredScene=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h){this.name=c,this.labels=s,this.numFrames=h};o.__name__="openfl.display.Scene",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.Scene"]=o,e.default=o}(Scene)),Scene}var hasRequiredMovieClip;function requireMovieClip(){return hasRequiredMovieClip||(hasRequiredMovieClip=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireSprite()}function h(){return requireObject_Impl_()}function f(){return requireScene()}var g=function(){s().default.call(this),this.__enabled=!0};g.__name__="openfl.display.MovieClip",g.__isInterface__=!1,g.__super__=s().default,g.prototype=c(s().default.prototype,{addFrameScript:function(b,k){this.__timeline!=null&&this.__timeline.__addFrameScript(b,k)},attachTimeline:function(b){this.__timeline=b,b!=null&&(b.__attachMovieClip(this),this.play())},gotoAndPlay:function(b,k){this.__timeline!=null&&this.__timeline.__gotoAndPlay(b,k)},gotoAndStop:function(b,k){this.__timeline!=null&&this.__timeline.__gotoAndStop(b,k)},nextFrame:function(){this.__timeline!=null&&this.__timeline.__nextFrame()},nextScene:function(){this.__timeline!=null&&this.__timeline.__nextScene()},play:function(){this.__timeline!=null&&this.__timeline.__play()},prevFrame:function(){this.__timeline!=null&&this.__timeline.__prevFrame()},prevScene:function(){this.__timeline!=null&&this.__timeline.__prevScene()},stop:function(){this.__timeline!=null&&this.__timeline.__stop()},__enterFrame:function(b){this.__timeline!=null&&this.__timeline.__enterFrame(b);for(var k=0,$=this.__children;k<$.length;){var j=$[k];++k,j.__enterFrame(b)}},__stopAllMovieClips:function(){s().default.prototype.__stopAllMovieClips.call(this),this.stop()},__tabTest:function(b){this.__enabled&&s().default.prototype.__tabTest.call(this,b)},__onMouseDown:function(b){this.__enabled&&this.__hasDown&&this.gotoAndStop("_down"),this.__mouseIsDown=!0,this.stage!=null&&this.stage.addEventListener("mouseUp",o(this,this.__onMouseUp),!0)},__onMouseUp:function(b){this.__mouseIsDown=!1,this.stage!=null&&this.stage.removeEventListener("mouseUp",o(this,this.__onMouseUp)),this.__buttonMode&&(h().default.__eq(b.target,this)&&this.__enabled&&this.__hasOver?this.gotoAndStop("_over"):this.__enabled&&this.__hasUp&&this.gotoAndStop("_up"))},__onRollOut:function(b){this.__enabled&&(this.__mouseIsDown&&this.__hasOver?this.gotoAndStop("_over"):this.__hasUp&&this.gotoAndStop("_up"))},__onRollOver:function(b){this.__enabled&&this.__hasOver&&this.gotoAndStop("_over")},set_buttonMode:function(b){if(this.__buttonMode!=b){if(b){this.__hasDown=!1,this.__hasOver=!1,this.__hasUp=!1;for(var k=0,$=this.get_currentLabels();k<$.length;){var j=$[k];switch(++k,j.name){case"_down":this.__hasDown=!0;break;case"_over":this.__hasOver=!0;break;case"_up":this.__hasUp=!0;break}}(this.__hasDown||this.__hasOver||this.__hasUp)&&(this.addEventListener("rollOver",o(this,this.__onRollOver)),this.addEventListener("rollOut",o(this,this.__onRollOut)),this.addEventListener("mouseDown",o(this,this.__onMouseDown)))}else this.removeEventListener("rollOver",o(this,this.__onRollOver)),this.removeEventListener("rollOut",o(this,this.__onRollOut)),this.removeEventListener("mouseDown",o(this,this.__onMouseDown));this.__buttonMode=b}return b},get_currentFrame:function(){return this.__timeline!=null?this.__timeline.__currentFrame:1},get_currentFrameLabel:function(){return this.__timeline!=null?this.__timeline.__currentFrameLabel:null},get_currentLabel:function(){return this.__timeline!=null?this.__timeline.__currentLabel:null},get_currentLabels:function(){return this.__timeline!=null?this.__timeline.__currentLabels.slice():[]},get_currentScene:function(){return this.__timeline!=null?this.__timeline.__currentScene:(this.__scene==null&&(this.__scene=new(f()).default("",[],1)),this.__scene)},get_enabled:function(){return this.__enabled},set_enabled:function(b){return this.__enabled=b},get_framesLoaded:function(){return this.__timeline!=null?this.__timeline.__framesLoaded:1},get_isPlaying:function(){return this.__timeline!=null?this.__timeline.__isPlaying:!1},get_scenes:function(){return this.__timeline!=null?this.__timeline.scenes.slice():[this.get_currentScene()]},get_totalFrames:function(){return this.__timeline!=null?this.__timeline.__totalFrames:1}}),g.prototype.__class__=g.prototype.constructor=d["openfl.display.MovieClip"]=g,Object.defineProperties(g.prototype,{currentFrame:{get:function(){return this.get_currentFrame()}},currentFrameLabel:{get:function(){return this.get_currentFrameLabel()}},currentLabel:{get:function(){return this.get_currentLabel()}},currentLabels:{get:function(){return this.get_currentLabels()}},enabled:{get:function(){return this.get_enabled()},set:function(b){return this.set_enabled(b)}},framesLoaded:{get:function(){return this.get_framesLoaded()}},isPlaying:{get:function(){return this.get_isPlaying()}},totalFrames:{get:function(){return this.get_totalFrames()}}}),g.fromTimeline=function(b){var k=new g;return k.attachTimeline(b),k},e.default=g}(MovieClip$1)),MovieClip$1}var URLLoader$1={},_HTTPRequest_openfl_utils_ByteArray={},ByteArray_Impl_={},BytePointerData={},hasRequiredBytePointerData;function requireBytePointerData(){return hasRequiredBytePointerData||(hasRequiredBytePointerData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.bytes=c,this.offset=s};o.__name__="lime.utils.BytePointerData",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.utils.BytePointerData"]=o,e.default=o}(BytePointerData)),BytePointerData}var ByteArrayData={},IDataOutput$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.utils.IDataOutput",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.utils.IDataOutput"]=o,e.default=o})(IDataOutput$1);var IDataInput$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.utils.IDataInput",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.utils.IDataInput"]=o,e.default=o})(IDataInput$1);var EOFError$1={},IOError$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h),this.name="IOError"};s.__name__="openfl.errors.IOError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.IOError"]=s,e.default=s})(IOError$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return IOError$1}var s=function(h,f){c().default.call(this,"End of file was encountered"),this.name="EOFError",this.errorID=2030};s.__name__="openfl.errors.EOFError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.EOFError"]=s,e.default=s})(EOFError$1);var Reader$1={},Value$1={},hasRequiredValue$1;function requireValue$1(){return hasRequiredValue$1||(hasRequiredValue$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["format.amf.Value"]={__ename__:"format.amf.Value",__constructs__:["ANumber","ABool","AString","AObject","ADate","AUndefined","ANull","AArray"],AUndefined:{_hx_index:5,__enum__:"format.amf.Value",toString:d},AString:($_=function(s){return{_hx_index:2,s,__enum__:"format.amf.Value",toString:d}},$_.__params__=["s"],$_),AObject:($_=function(s,h){return{_hx_index:3,fields:s,size:h,__enum__:"format.amf.Value",toString:d}},$_.__params__=["fields","size"],$_),ANumber:($_=function(s){return{_hx_index:0,f:s,__enum__:"format.amf.Value",toString:d}},$_.__params__=["f"],$_),ANull:{_hx_index:6,__enum__:"format.amf.Value",toString:d},ADate:($_=function(s){return{_hx_index:4,d:s,__enum__:"format.amf.Value",toString:d}},$_.__params__=["d"],$_),ABool:($_=function(s){return{_hx_index:1,b:s,__enum__:"format.amf.Value",toString:d}},$_.__params__=["b"],$_),AArray:($_=function(s){return{_hx_index:7,values:s,__enum__:"format.amf.Value",toString:d}},$_.__params__=["values"],$_)};e.default=c}(Value$1)),Value$1}var hasRequiredReader$1;function requireReader$1(){return hasRequiredReader$1||(hasRequiredReader$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringMap()}function c(){return requireValue$1()}function s(){return requireHaxeError()}var h=function(f){this.i=f,f.set_bigEndian(!0)};h.__name__="format.amf.Reader",h.__isInterface__=!1,h.prototype={readObject:function(){for(var f=new(o()).default;;){var g=this.i.readByte(),b=this.i.readByte(),k=this.i.readString(g<<8|b),$=this.i.readByte();if($==9)break;f.set(k,this.readWithCode($))}return f},readArray:function(f){for(var g=[],b=0,k=f;b<k;)b++,g.push(this.read());return g},readInt:function(){return this.i.readInt32()},readWithCode:function(f){var g=this.i;switch(f){case 0:return c().default.ANumber(g.readDouble());case 1:var b;switch(g.readByte()){case 0:b=!1;break;case 1:b=!0;break;default:throw new(s()).default("Invalid AMF")}return c().default.ABool(b);case 2:return c().default.AString(g.readString(g.readUInt16()));case 5:return c().default.ANull;case 6:return c().default.AUndefined;case 7:throw new(s()).default("Not supported : Reference");case 3:case 8:var k=f==8,$=k?this.readInt():null;return c().default.AObject(this.readObject(),$);case 10:return c().default.AArray(this.readArray(this.readInt()));case 11:var j=g.readDouble(),_e=g.readUInt16();return c().default.ADate(new Date(j+_e*60*1e3));case 12:return c().default.AString(g.readString(this.readInt()));default:throw new(s()).default("Unknown AMF "+f)}},read:function(){return this.readWithCode(this.i.readByte())}},h.prototype.__class__=h.prototype.constructor=d["format.amf.Reader"]=h,e.default=h}(Reader$1)),Reader$1}var Reader={},Tools$1={},Value={},hasRequiredValue;function requireValue(){return hasRequiredValue||(hasRequiredValue=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["format.amf3.Value"]={__ename__:"format.amf3.Value",__constructs__:["AUndefined","ANull","ABool","AInt","ANumber","AString","ADate","AObject","AArray","AVector","AXml","ABytes","AMap"],AXml:($_=function(s){return{_hx_index:10,x:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["x"],$_),AVector:($_=function(s){return{_hx_index:9,values:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["values"],$_),AUndefined:{_hx_index:0,__enum__:"format.amf3.Value",toString:d},AString:($_=function(s){return{_hx_index:5,s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["s"],$_),AObject:($_=function(s,h){return{_hx_index:7,fields:s,size:h,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["fields","size"],$_),ANumber:($_=function(s){return{_hx_index:4,f:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["f"],$_),ANull:{_hx_index:1,__enum__:"format.amf3.Value",toString:d},AMap:($_=function(s){return{_hx_index:12,m:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["m"],$_),AInt:($_=function(s){return{_hx_index:3,i:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["i"],$_),ADate:($_=function(s){return{_hx_index:6,d:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["d"],$_),ABytes:($_=function(s){return{_hx_index:11,b:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["b"],$_),ABool:($_=function(s){return{_hx_index:2,b:s,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["b"],$_),AArray:($_=function(s,h){return{_hx_index:8,values:s,extra:h,__enum__:"format.amf3.Value",toString:d}},$_.__params__=["values","extra"],$_)};e.default=c}(Value)),Value}var Xml={},XmlType_Impl_={},hasRequiredXmlType_Impl_;function requireXmlType_Impl_(){return hasRequiredXmlType_Impl_||(hasRequiredXmlType_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="_Xml.XmlType_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["_Xml.XmlType_Impl_"]=o,o.toString=function(c){switch(c){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}},e.default=o}(XmlType_Impl_)),XmlType_Impl_}var Printer={},hasRequiredPrinter;function requirePrinter(){return hasRequiredPrinter||(hasRequiredPrinter=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringTools()}function c(){return requireEReg()}function s(){return requireStringBuf()}var h=function(f){this.output=new(s()).default,this.pretty=f};h.__name__="haxe.xml.Printer",h.__isInterface__=!1,h.prototype={writeNode:function(f,g){switch(f.nodeType){case 0:this.write(g+"<"),this.write(f.get_nodeName());for(var b=f.attributes();b.hasNext();){var k=b.next();this.write(" "+k+'="'),this.write(o().default.htmlEscape(f.get(k),!0)),this.write('"')}if(this.hasChildren(f)){this.write(">"),this.newline();for(var $=f.iterator();$.hasNext();){var j=$.next();this.writeNode(j,this.pretty?g+"	":g)}this.write(g+"</"),this.write(f.get_nodeName()),this.write(">"),this.newline()}else this.write("/>"),this.newline();break;case 1:var _e=f.get_nodeValue();_e.length!=0&&(this.write(g+o().default.htmlEscape(_e)),this.newline());break;case 2:this.write(g+"<![CDATA["),this.write(f.get_nodeValue()),this.write("]]>"),this.newline();break;case 3:var et=f.get_nodeValue();et=new(c()).default(`[
\r	]+`,"g").replace(et,""),et="<!--"+et+"-->",this.write(g),this.write(o().default.trim(et)),this.newline();break;case 4:this.write("<!DOCTYPE "+f.get_nodeValue()+">"),this.newline();break;case 5:this.write("<?"+f.get_nodeValue()+"?>"),this.newline();break;case 6:for(var nt=f.iterator();nt.hasNext();){var rt=nt.next();this.writeNode(rt,g)}break}},write:function(f){this.output.add(f)},newline:function(){this.pretty&&this.output.add(`
`)},hasChildren:function(f){for(var g=f.iterator();g.hasNext();){var b=g.next();switch(b.nodeType){case 0:case 1:return!0;case 2:case 3:if(o().default.ltrim(b.get_nodeValue()).length!=0)return!0;break}}return!1}},h.prototype.__class__=h.prototype.constructor=d["haxe.xml.Printer"]=h,h.print=function(f,g){g==null&&(g=!1);var b=new h(g);return b.writeNode(f,""),b.output.toString()},e.default=h}(Printer)),Printer}var Parser={},XmlParserException={},hasRequiredXmlParserException;function requireXmlParserException(){return hasRequiredXmlParserException||(hasRequiredXmlParserException=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireType()}function c(){return requireStringTools()}var s=function(h,f,g){this.xml=f,this.message=h,this.position=g,this.lineNumber=1,this.positionAtLine=0;for(var b=0,k=g;b<k;){var $=b++,j=c().default.fastCodeAt(f,$);j==10?(this.lineNumber++,this.positionAtLine=0):j!=13&&this.positionAtLine++}};s.__name__="haxe.xml.XmlParserException",s.__isInterface__=!1,s.prototype={toString:function(){return o().default.getClassName(o().default.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine}},s.prototype.__class__=s.prototype.constructor=d["haxe.xml.XmlParserException"]=s,e.default=s}(XmlParserException)),XmlParserException}var hasRequiredParser;function requireParser(){return hasRequiredParser||(hasRequiredParser=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringMap()}function c(){return requireXml()}function s(){return requireStringTools()}function h(){return requireStringBuf()}function f(){return requireHxOverrides()}function g(){return requireHaxeError()}function b(){return requireXmlParserException()}function k(){return requireStd()}var $=function(){};$.__name__="haxe.xml.Parser",$.__isInterface__=!1,$.prototype={},$.prototype.__class__=$.prototype.constructor=d["haxe.xml.Parser"]=$,$.parse=function(j,_e){_e==null&&(_e=!1);var et=c().default.createDocument();return $.doParse(j,_e,0,et),et},$.doParse=function(j,_e,et,nt){et==null&&(et=0);for(var rt=null,tt=1,it=1,st=null,at=0,_t=0,ut=0,ot=s().default.fastCodeAt(j,et),lt=new(h()).default,ft=1,ht=-1;!s().default.isEof(ot);){switch(tt){case 0:switch(ot){case 9:case 10:case 13:case 32:break;default:tt=it;continue}break;case 1:if(ot==60)tt=0,it=2;else{at=et,tt=13;continue}break;case 2:switch(ot){case 33:if(s().default.fastCodeAt(j,et+1)==91){if(et+=2,f().default.substr(j,et,6).toUpperCase()!="CDATA[")throw new(g()).default(new(b()).default("Expected <![CDATA[",j,et));et+=5,tt=17,at=et+1}else if(s().default.fastCodeAt(j,et+1)==68||s().default.fastCodeAt(j,et+1)==100){if(f().default.substr(j,et+2,6).toUpperCase()!="OCTYPE")throw new(g()).default(new(b()).default("Expected <!DOCTYPE",j,et));et+=8,tt=16,at=et+1}else{if(s().default.fastCodeAt(j,et+1)!=45||s().default.fastCodeAt(j,et+2)!=45)throw new(g()).default(new(b()).default("Expected <!--",j,et));et+=2,tt=15,at=et+1}break;case 47:if(nt==null)throw new(g()).default(new(b()).default("Expected node name",j,et));at=et+1,tt=0,it=10;break;case 63:tt=14,at=et;break;default:tt=3,at=et;continue}break;case 3:if(!$.isValidChar(ot)){if(et==at)throw new(g()).default(new(b()).default("Expected node name",j,et));rt=c().default.createElement(f().default.substr(j,at,et-at)),nt.addChild(rt),++_t,tt=0,it=4;continue}break;case 4:switch(ot){case 47:tt=11;break;case 62:tt=9;break;default:tt=5,at=et;continue}break;case 5:if(!$.isValidChar(ot)){if(at==et)throw new(g()).default(new(b()).default("Expected attribute name",j,et));var dt=f().default.substr(j,at,et-at);if(st=dt,rt.exists(st))throw new(g()).default(new(b()).default("Duplicate attribute ["+st+"]",j,et));tt=0,it=6;continue}break;case 6:if(ot==61)tt=0,it=7;else throw new(g()).default(new(b()).default("Expected =",j,et));break;case 7:switch(ot){case 34:case 39:lt=new(h()).default,tt=8,at=et+1,ht=ot;break;default:throw new(g()).default(new(b()).default('Expected "',j,et))}break;case 8:switch(ot){case 38:lt.addSub(j,at,et-at),tt=18,ft=8,at=et+1;break;case 60:case 62:if(_e)throw new(g()).default(new(b()).default("Invalid unescaped "+String.fromCodePoint(ot)+" in attribute value",j,et));if(ot==ht){lt.addSub(j,at,et-at);var pt=lt.toString();lt=new(h()).default,rt.set(st,pt),tt=0,it=4}break;default:if(ot==ht){lt.addSub(j,at,et-at);var xt=lt.toString();lt=new(h()).default,rt.set(st,xt),tt=0,it=4}}break;case 9:et=$.doParse(j,_e,et,rt),at=et,tt=1;break;case 10:if(!$.isValidChar(ot)){if(at==et)throw new(g()).default(new(b()).default("Expected node name",j,et));var vt=f().default.substr(j,at,et-at);if(nt==null||nt.nodeType!=0)throw new(g()).default(new(b()).default("Unexpected </"+vt+">, tag is not open",j,et));if(vt!=nt.get_nodeName())throw new(g()).default(new(b()).default("Expected </"+nt.get_nodeName()+">",j,et));tt=0,it=12;continue}break;case 11:if(ot==62)tt=1;else throw new(g()).default(new(b()).default("Expected >",j,et));break;case 12:if(ot==62)return _t==0&&nt.addChild(c().default.createPCData("")),et;throw new(g()).default(new(b()).default("Expected >",j,et));case 13:if(ot==60){lt.addSub(j,at,et-at);var bt=c().default.createPCData(lt.toString());lt=new(h()).default,nt.addChild(bt),++_t,tt=0,it=2}else ot==38&&(lt.addSub(j,at,et-at),tt=18,ft=13,at=et+1);break;case 14:if(ot==63&&s().default.fastCodeAt(j,et+1)==62){++et;var wt=f().default.substr(j,at+1,et-at-2);nt.addChild(c().default.createProcessingInstruction(wt)),++_t,tt=1}break;case 15:ot==45&&s().default.fastCodeAt(j,et+1)==45&&s().default.fastCodeAt(j,et+2)==62&&(nt.addChild(c().default.createComment(f().default.substr(j,at,et-at))),++_t,et+=2,tt=1);break;case 16:ot==91?++ut:ot==93?--ut:ot==62&&ut==0&&(nt.addChild(c().default.createDocType(f().default.substr(j,at,et-at))),++_t,tt=1);break;case 17:if(ot==93&&s().default.fastCodeAt(j,et+1)==93&&s().default.fastCodeAt(j,et+2)==62){var At=c().default.createCData(f().default.substr(j,at,et-at));nt.addChild(At),++_t,et+=2,tt=1}break;case 18:if(ot==59){var ct=f().default.substr(j,at,et-at);if(s().default.fastCodeAt(ct,0)==35){var mt=s().default.fastCodeAt(ct,1)==120?k().default.parseInt("0"+f().default.substr(ct,1,ct.length-1)):k().default.parseInt(f().default.substr(ct,1,ct.length-1));lt.addChar(mt)}else if($.escapes.exists(ct))lt.add($.escapes.get(ct));else{if(_e)throw new(g()).default(new(b()).default("Undefined entity: "+ct,j,et));lt.add("&"+ct+";")}at=et+1,tt=ft}else if(!$.isValidChar(ot)&&ot!=35){if(_e)throw new(g()).default(new(b()).default("Invalid character in entity: "+String.fromCodePoint(ot),j,et));lt.addChar(38),lt.addSub(j,at,et-at),--et,at=et+1,tt=ft}break}ot=s().default.fastCodeAt(j,++et)}if(tt==1&&(at=et,tt=13),tt==13){if(nt.nodeType==0)throw new(g()).default(new(b()).default("Unclosed node <"+nt.get_nodeName()+">",j,et));return(et!=at||_t==0)&&(lt.addSub(j,at,et-at),nt.addChild(c().default.createPCData(lt.toString())),++_t),et}if(!_e&&tt==18&&ft==13)return lt.addChar(38),lt.addSub(j,at,et-at),nt.addChild(c().default.createPCData(lt.toString())),++_t,et;throw new(g()).default(new(b()).default("Unexpected end",j,et))},$.isValidChar=function(j){return j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j==58||j==46||j==95?!0:j==45},$.escapes=function(j){var _e,et=new(o()).default;return et.set("lt","<"),et.set("gt",">"),et.set("amp","&"),et.set("quot",'"'),et.set("apos","'"),_e=et,_e}(),e.default=$}(Parser)),Parser}var hasRequiredXml;function requireXml(){return hasRequiredXml||(hasRequiredXml=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return requireXmlType_Impl_()}function s(){return requireHxOverrides()}function h(){return requirePrinter()}function f(){return requireParser()}function g(){return requireStringMap()}var b=function(k){this.nodeType=k,this.children=[],this.attributeMap=new(g()).default};b.__name__="Xml",b.__isInterface__=!1,b.prototype={get_nodeName:function(){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));return this.nodeName},set_nodeName:function(k){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));return this.nodeName=k},get_nodeValue:function(){if(this.nodeType==b.Document||this.nodeType==b.Element)throw new(o()).default("Bad node type, unexpected "+c().default.toString(this.nodeType));return this.nodeValue},set_nodeValue:function(k){if(this.nodeType==b.Document||this.nodeType==b.Element)throw new(o()).default("Bad node type, unexpected "+c().default.toString(this.nodeType));return this.nodeValue=k},get:function(k){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));return this.attributeMap.get(k)},set:function(k,$){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));this.attributeMap.set(k,$)},exists:function(k){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));return this.attributeMap.exists(k)},attributes:function(){if(this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element but found "+c().default.toString(this.nodeType));return this.attributeMap.keys()},iterator:function(){return this.ensureElementType(),s().default.iter(this.children)},addChild:function(k){this.ensureElementType(),k.parent!=null&&k.parent.removeChild(k),this.children.push(k),k.parent=this},removeChild:function(k){return this.ensureElementType(),s().default.remove(this.children,k)?(k.parent=null,!0):!1},toString:function(){return h().default.print(this)},ensureElementType:function(){if(this.nodeType!=b.Document&&this.nodeType!=b.Element)throw new(o()).default("Bad node type, expected Element or Document but found "+c().default.toString(this.nodeType))}},b.prototype.__class__=b.prototype.constructor=d.Xml=b,b.parse=function(k){return f().default.parse(k)},b.createElement=function(k){var $=new b(b.Element);return $.set_nodeName(k),$},b.createPCData=function(k){var $=new b(b.PCData);return $.set_nodeValue(k),$},b.createCData=function(k){var $=new b(b.CData);return $.set_nodeValue(k),$},b.createComment=function(k){var $=new b(b.Comment);return $.set_nodeValue(k),$},b.createDocType=function(k){var $=new b(b.DocType);return $.set_nodeValue(k),$},b.createProcessingInstruction=function(k){var $=new b(b.ProcessingInstruction);return $.set_nodeValue(k),$},b.createDocument=function(){return new b(b.Document)},b.Element=0,b.PCData=1,b.CData=2,b.Comment=3,b.DocType=4,b.ProcessingInstruction=5,b.Document=6,e.default=b}(Xml)),Xml}var Amf3Array={},hasRequiredAmf3Array;function requireAmf3Array(){return hasRequiredAmf3Array||(hasRequiredAmf3Array=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.a=c,this.extra=s};o.__name__="format.amf3.Amf3Array",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["format.amf3.Amf3Array"]=o,o.__meta__={fields:{extra:{optional:null}}},e.default=o}(Amf3Array)),Amf3Array}var EnumValueMap={},BalancedTree={},TreeNode$1={},hasRequiredTreeNode;function requireTreeNode(){return hasRequiredTreeNode||(hasRequiredTreeNode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f,g){if(g==null&&(g=-1),this.left=c,this.key=s,this.value=h,this.right=f,g==-1){var b,k=this.left,$=this.right;if((k==null?0:k._height)>($==null?0:$._height)){var j=this.left;b=j==null?0:j._height}else{var _e=this.right;b=_e==null?0:_e._height}this._height=b+1}else this._height=g};o.__name__="haxe.ds.TreeNode",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.ds.TreeNode"]=o,e.default=o}(TreeNode$1)),TreeNode$1}var hasRequiredBalancedTree;function requireBalancedTree(){return hasRequiredBalancedTree||(hasRequiredBalancedTree=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIMap()}function c(){return requireCallStack()}function s(){return requireHaxeError()}function h(){return requireHxOverrides()}function f(){return requireTreeNode()}function g(){return require_Reflect()}var b=function(){};b.__name__="haxe.ds.BalancedTree",b.__isInterface__=!1,b.__interfaces__=[o().default],b.prototype={set:function(k,$){this.root=this.setLoop(k,$,this.root)},get:function(k){for(var $=this.root;$!=null;){var j=this.compare(k,$.key);if(j==0)return $.value;j<0?$=$.left:$=$.right}return null},remove:function(k){try{return this.root=this.removeLoop(k,this.root),!0}catch(j){c().default.lastException=j;var $=j instanceof s().default?j.val:j;if(typeof $=="string")return!1;throw j}},exists:function(k){for(var $=this.root;$!=null;){var j=this.compare(k,$.key);if(j==0)return!0;j<0?$=$.left:$=$.right}return!1},iterator:function(){var k=[];return this.iteratorLoop(this.root,k),h().default.iter(k)},keys:function(){var k=[];return this.keysLoop(this.root,k),h().default.iter(k)},setLoop:function(k,$,j){if(j==null)return new(f()).default(null,k,$,null);var _e=this.compare(k,j.key);if(_e==0)return new(f()).default(j.left,k,$,j.right,j==null?0:j._height);if(_e<0){var et=this.setLoop(k,$,j.left);return this.balance(et,j.key,j.value,j.right)}else{var nt=this.setLoop(k,$,j.right);return this.balance(j.left,j.key,j.value,nt)}},removeLoop:function(k,$){if($==null)throw new(s()).default("Not_found");var j=this.compare(k,$.key);return j==0?this.merge($.left,$.right):j<0?this.balance(this.removeLoop(k,$.left),$.key,$.value,$.right):this.balance($.left,$.key,$.value,this.removeLoop(k,$.right))},iteratorLoop:function(k,$){k!=null&&(this.iteratorLoop(k.left,$),$.push(k.value),this.iteratorLoop(k.right,$))},keysLoop:function(k,$){k!=null&&(this.keysLoop(k.left,$),$.push(k.key),this.keysLoop(k.right,$))},merge:function(k,$){if(k==null)return $;if($==null)return k;var j=this.minBinding($);return this.balance(k,j.key,j.value,this.removeMinBinding($))},minBinding:function(k){if(k==null)throw new(s()).default("Not_found");return k.left==null?k:this.minBinding(k.left)},removeMinBinding:function(k){return k.left==null?k.right:this.balance(this.removeMinBinding(k.left),k.key,k.value,k.right)},balance:function(k,$,j,_e){var et=k==null?0:k._height,nt=_e==null?0:_e._height;if(et>nt+2){var rt=k.left,tt=k.right;return(rt==null?0:rt._height)>=(tt==null?0:tt._height)?new(f()).default(k.left,k.key,k.value,new(f()).default(k.right,$,j,_e)):new(f()).default(new(f()).default(k.left,k.key,k.value,k.right.left),k.right.key,k.right.value,new(f()).default(k.right.right,$,j,_e))}else if(nt>et+2){var it=_e.right,st=_e.left;return(it==null?0:it._height)>(st==null?0:st._height)?new(f()).default(new(f()).default(k,$,j,_e.left),_e.key,_e.value,_e.right):new(f()).default(new(f()).default(k,$,j,_e.left.left),_e.left.key,_e.left.value,new(f()).default(_e.left.right,_e.key,_e.value,_e.right))}else return new(f()).default(k,$,j,_e,(et>nt?et:nt)+1)},compare:function(k,$){return g().default.compare(k,$)}},b.prototype.__class__=b.prototype.constructor=d["haxe.ds.BalancedTree"]=b,e.default=b}(BalancedTree)),BalancedTree}var hasRequiredEnumValueMap;function requireEnumValueMap(){return hasRequiredEnumValueMap||(hasRequiredEnumValueMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireIMap()}function s(){return requireBalancedTree()}function h(){return requireType()}function f(){return require_Reflect()}var g=function(){s().default.call(this)};g.__name__="haxe.ds.EnumValueMap",g.__isInterface__=!1,g.__interfaces__=[c().default],g.__super__=s().default,g.prototype=o(s().default.prototype,{compare:function(b,k){var $=h().default.enumIndex(b)-h().default.enumIndex(k);if($!=0)return $;var j=h().default.enumParameters(b),_e=h().default.enumParameters(k);return j.length==0&&_e.length==0?0:this.compareArgs(j,_e)},compareArgs:function(b,k){var $=b.length-k.length;if($!=0)return $;for(var j=0,_e=b.length;j<_e;){var et=j++,nt=this.compareArg(b[et],k[et]);if(nt!=0)return nt}return 0},compareArg:function(b,k){return f().default.isEnumValue(b)&&f().default.isEnumValue(k)?this.compare(b,k):b instanceof Array&&k instanceof Array?this.compareArgs(b,k):f().default.compare(b,k)}}),g.prototype.__class__=g.prototype.constructor=d["haxe.ds.EnumValueMap"]=g,e.default=g}(EnumValueMap)),EnumValueMap}var hasRequiredTools$1;function requireTools$1(){return hasRequiredTools$1||(hasRequiredTools$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireType()}function c(){return requireValue()}function s(){return requireStringMap()}function h(){return require_Reflect()}function f(){return requireXml()}function g(){return requireAmf3Array()}function b(){return requireIntMap()}function k(){return requireObjectMap()}function $(){return requireEnumValueMap()}function j(){return requireBytes()}function _e(){return requireHaxeError()}function et(){return requireStd()}var nt=function(){};nt.__name__="format.amf3.Tools",nt.__isInterface__=!1,nt.prototype={},nt.prototype.__class__=nt.prototype.constructor=d["format.amf3.Tools"]=nt,nt.encode=function(rt){var tt=o().default.typeof(rt);switch(tt._hx_index){case 0:return c().default.ANull;case 1:return c().default.AInt(rt);case 2:return c().default.ANumber(rt);case 3:return c().default.ABool(rt);case 4:for(var it=new(s()).default,st=0,at=h().default.fields(rt);st<at.length;){var _t=at[st];++st,it.set(_t,nt.encode(h().default.field(rt,_t)))}return c().default.AObject(it);case 6:var ut=tt.c;switch(ut){case Array:for(var ot=rt,lt=[],ft=0;ft<ot.length;){var ht=ot[ft];++ft,lt.push(nt.encode(ht))}return c().default.AArray(lt);case Date:return c().default.ADate(rt);case String:return c().default.AString(rt);case f().default:return c().default.AXml(rt);case g().default:for(var dt=rt,pt=[],xt=new(s()).default,vt=0,bt=dt.a;vt<bt.length;){var wt=bt[vt];++vt,pt.push(nt.encode(wt))}for(var At=dt.extra.iterator();At.hasNext();){var ct=At.next(),mt=nt.encode(dt.extra.get(ct));xt.set(ct,mt)}return c().default.AArray(pt,xt);case b().default:case k().default:case s().default:for(var gt=rt,Tt=new($()).default,yt=gt.keys();yt.hasNext();){var Et=yt.next();Tt.set(nt.encode(Et),nt.encode(gt.get(Et)))}return c().default.AMap(Tt);case j().default:return c().default.ABytes(rt);default:for(var Ct=new(s()).default,It=0,Rt=0,Ft=o().default.getInstanceFields(o().default.getClass(rt));Rt<Ft.length;){var Lt=Ft[Rt];++Rt,Ct.set(Lt,nt.encode(h().default.getProperty(rt,Lt))),++It}return c().default.AObject(Ct,It)}break;default:throw new(_e()).default("Can't encode "+et().default.string(rt))}},nt.decode=function(rt){switch(rt._hx_index){case 0:return nt.undefined(rt);case 1:return nt.anull(rt);case 2:return rt.b,nt.bool(rt);case 3:return rt.i,nt.int(rt);case 4:return rt.f,nt.number(rt);case 5:return rt.s,nt.string(rt);case 6:return rt.d,nt.date(rt);case 7:return rt.size,rt.fields,nt.object(rt);case 8:return rt.extra,rt.values,nt.array(rt);case 9:return rt.values,nt.vector(rt);case 10:return rt.x,nt.xml(rt);case 11:return rt.b,nt.bytes(rt);case 12:return rt.m,nt.map(rt)}},nt.undefined=function(rt){return null},nt.anull=function(rt){return null},nt.bool=function(rt){if(rt==null)return null;if(rt._hx_index==2){var tt=rt.b;return tt}else return null},nt.int=function(rt){if(rt==null)return null;if(rt._hx_index==3){var tt=rt.i;return tt}else return null},nt.number=function(rt){if(rt==null)return null;if(rt._hx_index==4){var tt=rt.f;return tt}else return null},nt.string=function(rt){if(rt==null)return null;if(rt._hx_index==5){var tt=rt.s;return tt}else return null},nt.date=function(rt){if(rt==null)return null;if(rt._hx_index==6){var tt=rt.d;return tt}else return null},nt.array=function(rt){if(rt==null)return null;if(rt._hx_index==8){for(var tt=rt.extra,it=rt.values,st=[],at=0;at<it.length;){var _t=it[at];++at,st.push(nt.decode(_t))}for(var ut=new(s()).default,ot=tt.keys();ot.hasNext();){var lt=ot.next(),ft=nt.decode(tt.get(lt));ut.set(lt,ft)}return new(g()).default(st,ut)}else return null},nt.vector=function(rt){if(rt==null)return null;if(rt._hx_index==9){for(var tt=rt.values,it=new Array(tt.length),st=it,at=0,_t=tt.length;at<_t;){var ut=at++;st[ut]=nt.decode(tt[ut])}return st}else return null},nt.object=function(rt){if(rt==null)return null;if(rt._hx_index==7){rt.size;for(var tt=rt.fields,it=new(s()).default,st=tt.keys();st.hasNext();){var at=st.next();it.set(at,nt.decode(tt.get(at)))}return it}else return null},nt.xml=function(rt){if(rt==null)return null;if(rt._hx_index==10){var tt=rt.x;return tt}else return null},nt.bytes=function(rt){if(rt==null)return null;if(rt._hx_index==11){var tt=rt.b;return tt}else return null},nt.map=function(rt){if(rt==null)return null;if(rt._hx_index==12){for(var tt=rt.m,it=new($()).default,st=tt.keys();st.hasNext();){var at=st.next();it.set(nt.decode(at),nt.decode(tt.get(at)))}return it}else return null},e.default=nt}(Tools$1)),Tools$1}var hasRequiredReader;function requireReader(){return hasRequiredReader||(hasRequiredReader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireTools$1()}function c(){return requireLog$1()}function s(){return requireHaxeError()}function h(){return requireStringMap()}function f(){return requireValue()}function g(){return requireEnumValueMap()}function b(){return requireType()}function k(){return requireStd()}function $(){return requireBytes()}function j(){return requireXml()}var _e=function(et){this.complexObjectsTable=[],this.objectTraitsTable=[],this.stringTable=[],this.i=et,et.set_bigEndian(!0)};_e.__name__="format.amf3.Reader",_e.__isInterface__=!1,_e.prototype={readObject:function(){var et=!1,nt=!1,rt=null,tt=[],it=this.readInt();if(it&1)if((it&3)==1){it>>=3;var st=this.objectTraitsTable[it];et=st.isDynamic,nt=st.isExternalizable,tt=st.sealedMemberNames}else if((it&7)==3){et=(it>>3&1)==1,it>>=4,rt=this.readString();for(var at=0,_t=it;at<_t;)at++,tt.push(o().default.decode(this.readString()));this.objectTraitsTable.push({isExternalizable:nt,isDynamic:et,className:rt,sealedMemberNames:tt})}else if((it&7)==7)nt=!0,rt=this.readString(),c().default.trace(o().default.decode(rt),{fileName:"../node_modules/format/format/amf3/Reader.hx",lineNumber:108,className:"format.amf3.Reader",methodName:"readObject"});else throw new(s()).default("Invalid object traits");else return this.complexObjectsTable[it>>1];var ut=new(h()).default,ot=f().default.AObject(ut);if(this.complexObjectsTable.push(ot),nt)throw new(s()).default("Externalizable not supported");for(var lt=0,ft=tt.length;lt<ft;){var ht=lt++,dt=this.read();ut.set(tt[ht],dt)}if(et)for(var pt;pt=o().default.decode(this.readString()),pt!="";)ut.set(pt,this.read());return ot},readMap:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];et>>=1;var nt=new(g()).default,rt=f().default.AMap(nt);this.complexObjectsTable.push(rt),this.i.readByte();for(var tt=0,it=et;tt<it;)tt++,nt.set(this.read(),this.read());return rt},readArray:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];et>>=1;var nt=[],rt=new(h()).default,tt=f().default.AArray(nt,rt);this.complexObjectsTable.push(tt);for(var it=o().default.decode(this.readString());it.length!=0;){var st=this.read();rt.set(it,st),it=o().default.decode(this.readString())}for(var at=0,_t=et;at<_t;)at++,nt.push(this.read());return tt},readIntVector:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];var nt=et>>1,rt=this.i.readByte()!=0,tt;if(rt){var it=new Array(nt);tt=it}else tt=[];for(var st=0,at=nt;st<at;){var _t=st++;tt[_t]=f().default.AInt(this.i.readInt32())}var ut=rt?f().default.AVector(tt):f().default.AArray(tt);return this.complexObjectsTable.push(ut),ut},readDoubleVector:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];var nt=et>>1,rt=this.i.readByte()!=0,tt;if(rt){var it=new Array(nt);tt=it}else tt=[];for(var st=0,at=nt;st<at;){var _t=st++;tt[_t]=f().default.ANumber(this.i.readDouble())}var ut=rt?f().default.AVector(tt):f().default.AArray(tt);return this.complexObjectsTable.push(ut),ut},readObjectVector:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];var nt=et>>1,rt=this.i.readByte()!=0,tt=o().default.decode(this.readString());c().default.trace("readObjectVector name:"+tt,{fileName:"../node_modules/format/format/amf3/Reader.hx",lineNumber:259,className:"format.amf3.Reader",methodName:"readObjectVector"});var it=b().default.resolveClass(tt);c().default.trace("VC:"+k().default.string(it),{fileName:"../node_modules/format/format/amf3/Reader.hx",lineNumber:261,className:"format.amf3.Reader",methodName:"readObjectVector"});var st,at;if(rt){var _t=new Array(nt);st=_t,at=f().default.AVector(st)}else st=[],at=f().default.AArray(st);this.complexObjectsTable.push(at);for(var ut=0,ot=nt;ut<ot;){var lt=ut++;st[lt]=this.read()}return at},readBytes:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];et>>=1;for(var nt=$().default.alloc(et),rt=0,tt=et;rt<tt;){var it=rt++;nt.set(it,this.i.readByte())}var st=f().default.ABytes(nt);return this.complexObjectsTable.push(st),st},readInt:function(et,nt){nt==null&&(nt=0),et==null&&(et=!1);var rt=this.i.readByte()&255;if(rt<128)return rt>>nt;var tt=(rt&127)<<7;return rt=this.i.readByte()&255,rt<128||(tt|=rt&127,tt<<=7,rt=this.i.readByte()&255,rt<128)?(tt|rt)>>nt:(tt|=rt&127,tt<<=8,rt=this.i.readByte()&255,tt|=rt,et&&tt&268435456&&(tt|=-536870912),tt>>nt)},readString:function(){var et=this.readInt();if(!(et&1)){var nt=et>>1;return this.stringTable[nt]}var rt=et>>1;return this.readStringNoHeader(rt)},readStringNoHeader:function(et){if(et==0)return f().default.AString("");for(var nt="",rt=0,tt=0,it=0,st=0;it<et;){for(rt=this.i.readByte(),rt<128?(st=0,tt=rt):rt<224?(st=1,tt=rt&31):rt<240?(st=2,tt=rt&15):rt<241&&(st=3,tt=rt&7),rt=st;rt-- >0;)tt<<=6,tt|=this.i.readByte()&63;it+=st+1,tt!=1&&(nt=nt+String.fromCodePoint(tt))}var at=f().default.AString(nt.toString());return this.stringTable.push(at),at},readDate:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];var nt=new Date(this.i.readDouble()),rt=f().default.ADate(nt);return this.complexObjectsTable.push(rt),rt},readXml:function(){var et=this.readInt();if(!(et&1))return this.complexObjectsTable[et>>1];et>>=1;var nt=j().default.parse(o().default.decode(this.readStringNoHeader(et))),rt=f().default.AXml(nt);return this.complexObjectsTable.push(rt),rt},readWithCode:function(et){var nt=this.i;switch(et){case 0:return f().default.AUndefined;case 1:return f().default.ANull;case 2:return f().default.ABool(!1);case 3:return f().default.ABool(!0);case 4:return f().default.AInt(this.readInt(!0));case 5:return f().default.ANumber(nt.readDouble());case 6:return this.readString();case 7:throw new(s()).default("XMLDocument unsupported");case 8:return this.readDate();case 9:return this.readArray();case 10:return this.readObject();case 11:return this.readXml();case 12:return this.readBytes();case 13:case 14:return this.readIntVector();case 15:return this.readDoubleVector();case 16:return this.readObjectVector();case 17:return this.readMap();default:throw new(s()).default("Unknown AMF "+et)}},read:function(){return this.readWithCode(this.i.readByte())}},_e.prototype.__class__=_e.prototype.constructor=d["format.amf3.Reader"]=_e,e.default=_e}(Reader)),Reader}var Tools={},hasRequiredTools;function requireTools(){return hasRequiredTools||(hasRequiredTools=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireType()}function c(){return requireValue$1()}function s(){return requireStringMap()}function h(){return require_Reflect()}function f(){return requireHaxeError()}function g(){return requireStd()}var b=function(){};b.__name__="format.amf.Tools",b.__isInterface__=!1,b.prototype={},b.prototype.__class__=b.prototype.constructor=d["format.amf.Tools"]=b,b.encode=function(k){var $=o().default.typeof(k);switch($._hx_index){case 0:return c().default.ANull;case 1:return c().default.ANumber(k);case 2:return c().default.ANumber(k);case 3:return c().default.ABool(k);case 4:for(var j=new(s()).default,_e=0,et=h().default.fields(k);_e<et.length;){var nt=et[_e];++_e,j.set(nt,b.encode(h().default.field(k,nt)))}return c().default.AObject(j);case 6:var rt=$.c;switch(rt){case Array:for(var tt=k,it=[],st=0;st<tt.length;){var at=tt[st];++st,it.push(b.encode(at))}return c().default.AArray(it);case String:return c().default.AString(k);case s().default:for(var _t=k,ut=new(s()).default,ot=_t.keys();ot.hasNext();){var lt=ot.next();ut.set(lt,b.encode(_t.get(lt)))}return c().default.AObject(ut);default:throw new(f()).default("Can't encode instance of "+o().default.getClassName(rt))}default:throw new(f()).default("Can't encode "+g().default.string(k))}},b.number=function(k){if(k==null)return null;if(k._hx_index==0){var $=k.f;return $}else return null},b.string=function(k){if(k==null)return null;if(k._hx_index==2){var $=k.s;return $}else return null},b.object=function(k){if(k==null)return null;if(k._hx_index==3){k.size;var $=k.fields;return $}else return null},b.abool=function(k){if(k==null)return null;if(k._hx_index==1){var $=k.b;return $}else return null},b.array=function(k){if(k==null)return null;if(k._hx_index==7){var $=k.values;return $}else return null},e.default=b}(Tools)),Tools}var BytesOutput={},Output={},hasRequiredOutput;function requireOutput(){return hasRequiredOutput||(hasRequiredOutput=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return require_Error()}function s(){return requireFPHelper()}function h(){return requireBytes()}var f=function(){};f.__name__="haxe.io.Output",f.__isInterface__=!1,f.prototype={writeByte:function(g){throw new(o()).default("Not implemented")},writeBytes:function(g,b,k){if(b<0||k<0||b+k>g.get_length())throw new(o()).default(c().default.OutsideBounds);for(var $=g.b,j=k;j>0;)this.writeByte($[b]),++b,--j;return k},set_bigEndian:function(g){return this.bigEndian=g,g},write:function(g){for(var b=g.get_length(),k=0;b>0;){var $=this.writeBytes(g,k,b);if($==0)throw new(o()).default(c().default.Blocked);k+=$,b-=$}},writeFullBytes:function(g,b,k){for(;k>0;){var $=this.writeBytes(g,b,k);b+=$,k-=$}},writeDouble:function(g){var b=s().default.doubleToI64(g);this.bigEndian?(this.writeInt32(b.high),this.writeInt32(b.low)):(this.writeInt32(b.low),this.writeInt32(b.high))},writeUInt16:function(g){if(g<0||g>=65536)throw new(o()).default(c().default.Overflow);this.bigEndian?(this.writeByte(g>>8),this.writeByte(g&255)):(this.writeByte(g&255),this.writeByte(g>>8))},writeInt32:function(g){this.bigEndian?(this.writeByte(g>>>24),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(g&255)):(this.writeByte(g&255),this.writeByte(g>>8&255),this.writeByte(g>>16&255),this.writeByte(g>>>24))},writeString:function(g,b){var k=h().default.ofString(g,b);this.writeFullBytes(k,0,k.get_length())}},f.prototype.__class__=f.prototype.constructor=d["haxe.io.Output"]=f,e.default=f}(Output)),Output}var hasRequiredBytesOutput;function requireBytesOutput(){return hasRequiredBytesOutput||(hasRequiredBytesOutput=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireOutput()}function s(){return requireBytesBuffer()}var h=function(){this.b=new(s()).default};h.__name__="haxe.io.BytesOutput",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{writeByte:function(f){this.b.addByte(f)},writeBytes:function(f,g,b){return this.b.addBytes(f,g,b),b},getBytes:function(){return this.b.getBytes()}}),h.prototype.__class__=h.prototype.constructor=d["haxe.io.BytesOutput"]=h,e.default=h}(BytesOutput)),BytesOutput}var Writer$1={},hasRequiredWriter$1;function requireWriter$1(){return hasRequiredWriter$1||(hasRequiredWriter$1=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){this.o=c,c.set_bigEndian(!0)};o.__name__="format.amf.Writer",o.__isInterface__=!1,o.prototype={write:function(c){var s=this.o;switch(c._hx_index){case 0:var h=c.f;s.writeByte(0),s.writeDouble(h);break;case 1:var f=c.b;s.writeByte(1),s.writeByte(f?1:0);break;case 2:var g=c.s;g.length<=65535?(s.writeByte(2),s.writeUInt16(g.length)):(s.writeByte(12),s.writeInt32(g.length)),s.writeString(g);break;case 3:var b=c.size,k=c.fields;b==null?s.writeByte(3):(s.writeByte(8),s.writeInt32(b));for(var $=k.keys();$.hasNext();){var j=$.next();s.writeUInt16(j.length),s.writeString(j),this.write(k.get(j))}s.writeByte(0),s.writeByte(0),s.writeByte(9);break;case 4:var _e=c.d;s.writeByte(11),s.writeDouble(_e.getTime()),s.writeUInt16(0);break;case 5:s.writeByte(6);break;case 6:s.writeByte(5);break;case 7:var et=c.values;s.writeByte(10),s.writeInt32(et.length);for(var nt=0;nt<et.length;){var rt=et[nt];++nt,this.write(rt)}break}}},o.prototype.__class__=o.prototype.constructor=d["format.amf.Writer"]=o,e.default=o}(Writer$1)),Writer$1}var Writer={},hasRequiredWriter;function requireWriter(){return hasRequiredWriter||(hasRequiredWriter=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireUInt_Impl_()}function c(){return requireHxOverrides()}function s(){return requireLambda()}function h(){return requireHaxeError()}var f=function(g){this.o=g,g.set_bigEndian(!0)};f.__name__="format.amf3.Writer",f.__isInterface__=!1,f.prototype={writeInt:function(g){g>268435455||g<-268435456?(this.o.writeByte(5),this.o.writeDouble(g)):(this.o.writeByte(4),this.writeUInt(g))},writeUInt:function(g,b){b==null&&(b=!1),b&&(g=g<<1|1),(g>>>31&1)==1&&(g=g&536870911);var k=22,$=!1,j=g>>>k-1;o().default.gt(j,0)&&(j=j>>>1,this.o.writeByte(j|128),g=g-(j<<k),++k,$=!0),k-=8,j=g>>>k,($||o().default.gt(j,0))&&(this.o.writeByte(j|128),g=g-(j<<k),$=!0),k-=7,j=g>>>k,($||o().default.gt(j,0))&&(this.o.writeByte(j|128),g=g-(j<<k),$=!0),this.o.writeByte(g)},writeString:function(g){this.writeUInt(g.length,!0);for(var b=0,k=0,$=0,j=g.length;$<j;){var _e=$++;for(b=c().default.cca(g,_e),b<127?(this.o.writeByte(b),k=0):b<2047?(this.o.writeByte(b>>6|192),b&=63,k=1):b<65535?(this.o.writeByte(b>>12|224),b&=4095,k=2):b<1114111&&(this.o.writeByte(b>>18|240),b&=196607,k=3);k-- >0;)this.o.writeByte(b>>6*k)}},writeObject:function(g,b){if(b==null?this.o.writeByte(11):this.writeUInt(b<<4|3),this.o.writeByte(1),b==null){for(var k=g.keys();k.hasNext();){var $=k.next();this.writeString($),this.write(g.get($))}this.o.writeByte(1)}else{for(var j=[],_e=g.keys();_e.hasNext();){var et=_e.next();j.push(et),this.writeString(et)}for(var nt=0,rt=j.length;nt<rt;){var tt=nt++;this.write(g.get(j[tt]))}}},write:function(g){var b=this.o;switch(g._hx_index){case 0:b.writeByte(0);break;case 1:b.writeByte(1);break;case 2:var k=g.b;b.writeByte(k?3:2);break;case 3:var $=g.i;this.writeInt($);break;case 4:var j=g.f;b.writeByte(5),b.writeDouble(j);break;case 5:var _e=g.s;b.writeByte(6),this.writeString(_e);break;case 6:var et=g.d;b.writeByte(8),b.writeByte(1),b.writeDouble(et.getTime());break;case 7:var nt=g.size,rt=g.fields;b.writeByte(10),this.writeObject(rt,nt);break;case 8:var tt=g.extra,it=g.values;if(b.writeByte(9),this.writeUInt(it.length,!0),tt!=null)for(var st=tt.keys();st.hasNext();){var at=st.next();b.writeString(at),this.write(tt.get(at))}b.writeByte(1);for(var _t=0;_t<it.length;){var ut=it[_t];++_t,this.write(ut)}break;case 10:var ot=g.x;b.writeByte(11),this.writeString(ot.toString());break;case 11:var lt=g.b;b.writeByte(12),this.writeUInt(lt.get_length(),!0),b.write(lt);break;case 12:var ft=g.m;b.writeByte(17),this.writeUInt(s().default.count(ft),!0),b.writeByte(0);for(var ht=ft.keys();ht.hasNext();){var dt=ht.next();this.write(dt),this.write(ft.get(dt))}break;default:throw new(h()).default("Unsupported type")}}},f.prototype.__class__=f.prototype.constructor=d["format.amf3.Writer"]=f,e.default=f}(Writer)),Writer}var hasRequiredByteArrayData;function requireByteArrayData(){return hasRequiredByteArrayData||(hasRequiredByteArrayData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return IDataOutput$1}function s(){return IDataInput$1}function h(){return requireBytes()}function f(){return requireBytes_Impl_()}function g(){return requireCompressionAlgorithm()}function b(){return requireHaxeError()}function k(){return EOFError$1}function $(){return requireFPHelper()}function j(){return requireBytesInput()}function _e(){return requireReader$1()}function et(){return requireReader()}function nt(){return requireUnserializer()}function rt(){return requireByteArray_Impl_()}function tt(){return requireTools()}function it(){return requireBytesOutput()}function st(){return requireWriter$1()}function at(){return requireTools$1()}function _t(){return requireWriter()}function ut(){return requireSerializer()}function ot(){return require_Reflect()}function lt(){return requireIntMap()}function ft(){return requireStringMap()}function ht(){return requireObjectMap()}function dt(){return requireSystem()}function pt(){return requireEndian()}var xt=function(mt){mt==null&&(mt=0);var gt=h().default.alloc(mt);h().default.call(this,gt.b.buffer),this.__length=mt,this.set_endian(xt.get_defaultEndian()),this.objectEncoding=xt.defaultObjectEncoding,this.position=0};xt.__name__="openfl.utils.ByteArrayData",xt.__isInterface__=!1,xt.__interfaces__=[c().default,s().default],xt.__super__=h().default,xt.prototype=o(h().default.prototype,{clear:function(){this.set_length(0),this.position=0},compress:function(mt){if(mt==null&&(mt="zlib"),this.__length>this.l){var gt=this.l;this.l=this.__length;var Tt=h().default.alloc(gt);Tt.blit(0,this,0,gt),this.__setData(Tt),this.l=gt}var yt=this,Et;switch(mt){case"deflate":Et=f().default.compress(yt,g().default.DEFLATE);break;case"lzma":Et=f().default.compress(yt,g().default.LZMA);break;default:Et=f().default.compress(yt,g().default.ZLIB)}Et!=null&&(this.__setData(Et),this.l=this.__length,this.position=this.l)},deflate:function(){this.compress("deflate")},inflate:function(){this.uncompress("deflate")},readBoolean:function(){if(this.position<this.l)return this.get(this.position++)!=0;throw new(b()).default(new(k()).default)},readByte:function(){var mt=this.readUnsignedByte();return mt&128?mt-256:mt},readBytes:function(mt,gt,Tt){if(Tt==null&&(Tt=0),gt==null&&(gt=0),Tt==0&&(Tt=this.l-this.position),this.position+Tt>this.l)throw new(b()).default(new(k()).default);mt.get_length()<gt+Tt&&mt.__resize(gt+Tt),mt.blit(gt,this,this.position,Tt),this.position+=Tt},readDouble:function(){if(this.get_endian()=="littleEndian"){if(this.position+8>this.l)throw new(b()).default(new(k()).default);return this.position+=8,this.getDouble(this.position-8)}else{var mt=this.readInt(),gt=this.readInt();return $().default.i64ToDouble(gt,mt)}},readFloat:function(){if(this.get_endian()=="littleEndian"){if(this.position+4>this.l)throw new(b()).default(new(k()).default);return this.position+=4,this.getFloat(this.position-4)}else return $().default.i32ToFloat(this.readInt())},readInt:function(){var mt=this.readUnsignedByte(),gt=this.readUnsignedByte(),Tt=this.readUnsignedByte(),yt=this.readUnsignedByte();return this.get_endian()=="littleEndian"?yt<<24|Tt<<16|gt<<8|mt:mt<<24|gt<<16|Tt<<8|yt},readMultiByte:function(mt,gt){return this.readUTFBytes(mt)},readObject:function(){switch(this.objectEncoding){case 0:var mt=new(j()).default(this,this.position),gt=new(_e()).default(mt),Tt=xt.unwrapAMFValue(gt.read());return this.position=mt.get_position(),Tt;case 3:var yt=new(j()).default(this,this.position),Et=new(et()).default(yt),Ct=xt.unwrapAMF3Value(Et.read());return this.position=yt.get_position(),Ct;case 10:var It=this.readUTF();return nt().default.run(It);case 12:var Rt=this.readUTF();return JSON.parse(Rt);default:return null}},readShort:function(){var mt=this.readUnsignedByte(),gt=this.readUnsignedByte(),Tt;return this.get_endian()=="littleEndian"?Tt=gt<<8|mt:Tt=mt<<8|gt,Tt&32768?Tt-65536:Tt},readUnsignedByte:function(){if(this.position<this.l)return this.get(this.position++);throw new(b()).default(new(k()).default)},readUnsignedInt:function(){var mt=this.readUnsignedByte(),gt=this.readUnsignedByte(),Tt=this.readUnsignedByte(),yt=this.readUnsignedByte();return this.get_endian()=="littleEndian"?yt<<24|Tt<<16|gt<<8|mt:mt<<24|gt<<16|Tt<<8|yt},readUnsignedShort:function(){var mt=this.readUnsignedByte(),gt=this.readUnsignedByte();return this.get_endian()=="littleEndian"?(gt<<8)+mt:mt<<8|gt},readUTF:function(){var mt=this.readUnsignedShort();return this.readUTFBytes(mt)},readUTFBytes:function(mt){if(this.position+mt>this.l)throw new(b()).default(new(k()).default);return this.position+=mt,this.getString(this.position-mt,mt)},uncompress:function(mt){if(mt==null&&(mt="zlib"),this.__length>this.l){var gt=this.l;this.l=this.__length;var Tt=h().default.alloc(gt);Tt.blit(0,this,0,gt),this.__setData(Tt),this.l=gt}var yt=this,Et;switch(mt){case"deflate":Et=f().default.decompress(yt,g().default.DEFLATE);break;case"lzma":Et=f().default.decompress(yt,g().default.LZMA);break;default:Et=f().default.decompress(yt,g().default.ZLIB)}Et!=null&&(this.__setData(Et),this.l=this.__length),this.position=0},writeBoolean:function(mt){this.writeByte(mt?1:0)},writeByte:function(mt){this.__resize(this.position+1),this.set(this.position++,mt&255)},writeBytes:function(mt,gt,Tt){Tt==null&&(Tt=0),gt==null&&(gt=0),rt().default.get_length(mt)!=0&&(Tt==0&&(Tt=rt().default.get_length(mt)-gt),this.__resize(this.position+Tt),this.blit(this.position,mt,gt,Tt),this.position=this.position+Tt)},writeDouble:function(mt){var gt=$().default.doubleToI64(mt);this.get_endian()=="littleEndian"?(this.writeInt(gt.low),this.writeInt(gt.high)):(this.writeInt(gt.high),this.writeInt(gt.low))},writeFloat:function(mt){if(this.get_endian()=="littleEndian")this.__resize(this.position+4),this.setFloat(this.position,mt),this.position+=4;else{var gt=$().default.floatToI32(mt);this.writeInt(gt)}},writeInt:function(mt){this.__resize(this.position+4),this.get_endian()=="littleEndian"?(this.set(this.position++,mt&255),this.set(this.position++,mt>>8&255),this.set(this.position++,mt>>16&255),this.set(this.position++,mt>>24&255)):(this.set(this.position++,mt>>24&255),this.set(this.position++,mt>>16&255),this.set(this.position++,mt>>8&255),this.set(this.position++,mt&255))},writeMultiByte:function(mt,gt){this.writeUTFBytes(mt)},writeObject:function(mt){switch(this.objectEncoding){case 0:var gt=tt().default.encode(mt),Tt=new(it()).default,yt=new(st()).default(Tt);yt.write(gt),this.writeBytes(rt().default.fromBytes(Tt.getBytes()));break;case 3:var Et=at().default.encode(mt),Ct=new(it()).default,It=new(_t()).default(Ct);It.write(Et),this.writeBytes(rt().default.fromBytes(Ct.getBytes()));break;case 10:var Rt=ut().default.run(mt);this.writeUTF(Rt);break;case 12:var Ft=JSON.stringify(mt);this.writeUTF(Ft);break;default:return}},writeShort:function(mt){this.__resize(this.position+2),this.get_endian()=="littleEndian"?(this.set(this.position++,mt),this.set(this.position++,mt>>8)):(this.set(this.position++,mt>>8),this.set(this.position++,mt))},writeUnsignedInt:function(mt){this.writeInt(mt)},writeUTF:function(mt){var gt=h().default.ofString(mt);this.writeShort(gt.l),this.writeBytes(rt().default.fromBytes(gt))},writeUTFBytes:function(mt){var gt=h().default.ofString(mt);this.writeBytes(rt().default.fromBytes(gt))},__fromBytes:function(mt){this.__setData(mt),this.l=mt.l},__resize:function(mt){if(mt>this.__length){var gt=h().default.alloc((mt+1)*3>>1);if(this.__length>0){var Tt=this.l;this.l=this.__length,gt.blit(0,this,0,this.__length),this.l=Tt}this.__setData(gt)}this.l<mt&&(this.l=mt)},__setData:function(mt){this.b=mt.b,this.__length=mt.l,this.data=mt.data},get_bytesAvailable:function(){return this.l-this.position},get_endian:function(){return this.__endian},set_endian:function(mt){return this.__endian=mt},set_length:function(mt){return mt>=0&&(this.__resize(mt),mt<this.position&&(this.position=mt)),this.l=mt,mt}}),xt.prototype.__class__=xt.prototype.constructor=d["openfl.utils.ByteArrayData"]=xt;{commonjsGlobal.Object.defineProperty(xt,"defaultEndian",{get:function(){return xt.get_defaultEndian()},set:function(mt){return xt.set_defaultEndian(mt)}});var vt=xt.prototype,bt={get:function(){return this.get_bytesAvailable()}},wt={get:function(){return this.get_endian()},set:function(mt){return this.set_endian(mt)}},At=function(){return this.get_length()},ct=function(mt){return this.set_length(mt)};commonjsGlobal.Object.defineProperties(vt,{bytesAvailable:bt,endian:wt,length:{get:At,set:ct}})}xt.fromArrayBuffer=function(mt){return rt().default.fromArrayBuffer(mt)},xt.fromBytes=function(mt){var gt=new xt;return gt.__fromBytes(mt),gt},xt.loadFromBytes=function(mt){return rt().default.loadFromBytes(mt)},xt.loadFromFile=function(mt){return rt().default.loadFromFile(mt)},xt.unwrapAMFValue=function(mt){switch(mt._hx_index){case 0:var gt=mt.f;return gt;case 1:var Tt=mt.b;return Tt;case 2:var yt=mt.s;return yt;case 3:mt.size;for(var Et=mt.fields,Ct={},It=Et.keys();It.hasNext();){var Rt=It.next();ot().default.setField(Ct,Rt,xt.unwrapAMFValue(Et.get(Rt)))}return Ct;case 4:var Ft=mt.d;return Ft;case 5:return null;case 6:return null;case 7:for(var Lt=mt.values,Ot=xt.unwrapAMFValue,Kt=new Array(Lt.length),qt=0,Ht=Lt.length;qt<Ht;){var Zt=qt++;Kt[Zt]=Ot(Lt[Zt])}return Kt}},xt.unwrapAMF3Value=function(mt){switch(mt._hx_index){case 0:return null;case 1:return null;case 2:var gt=mt.b;return gt;case 3:var Tt=mt.i;return Tt;case 4:var yt=mt.f;return yt;case 5:var Et=mt.s;return Et;case 6:var Ct=mt.d;return Ct;case 7:mt.size;for(var It=mt.fields,Rt={},Ft=It.keys();Ft.hasNext();){var Lt=Ft.next();ot().default.setField(Rt,Lt,xt.unwrapAMF3Value(It.get(Lt)))}return Rt;case 8:mt.extra;for(var Ot=mt.values,Kt=xt.unwrapAMF3Value,qt=new Array(Ot.length),Ht=0,Zt=Ot.length;Ht<Zt;){var or=Ht++;qt[or]=Kt(Ot[or])}return qt;case 9:for(var ir=mt.values,lr=xt.unwrapAMF3Value,ar=ir.length,Mt=new Array(ar),kt=Mt,Vt=ar,Nt=0,Wt=Vt;Nt<Wt;){var Qt=Nt++,tr=lr(ir[Qt]);kt[Qt]=tr}return kt;case 10:var sr=mt.x;return sr;case 11:var dr=mt.b;return rt().default.fromBytes(dr);case 12:for(var pr=mt.m,cr=null,mr=pr.keys();mr.hasNext();){var fr=mr.next();if(cr==null)switch(fr._hx_index){case 3:fr.i,cr=new(lt()).default;break;case 5:fr.s,cr=new(ft()).default;break;default:cr=new(ht()).default}cr.set(xt.unwrapAMF3Value(fr),xt.unwrapAMF3Value(pr.get(fr)))}return cr==null&&(cr=new(ft()).default),cr}},xt.get_defaultEndian=function(){return xt.__defaultEndian==null&&(dt().default.get_endianness()==pt().default.LITTLE_ENDIAN?xt.__defaultEndian="littleEndian":xt.__defaultEndian="bigEndian"),xt.__defaultEndian},xt.set_defaultEndian=function(mt){return xt.__defaultEndian=mt},xt.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},xt.defaultObjectEncoding=10,xt.__defaultEndian=null,e.default=xt}(ByteArrayData)),ByteArrayData}var BytePointer_Impl_={},hasRequiredBytePointer_Impl_;function requireBytePointer_Impl_(){return hasRequiredBytePointer_Impl_||(hasRequiredBytePointer_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytePointerData()}function c(){return requireBytes()}function s(){return requireBytes_Impl_()}function h(){return requireStd()}var f=function(){};f.__name__="lime.utils._BytePointer.BytePointer_Impl_",f.__isInterface__=!1,f.prototype={},f.prototype.__class__=f.prototype.constructor=d["lime.utils._BytePointer.BytePointer_Impl_"]=f,f._new=function(g,b){b==null&&(b=0);var k=new(o()).default(g,b);return k},f.set=function(g,b,k,$,j){$!=null&&(b=c().default.ofData($)),b!=null||k==null?(g.bytes=b,g.offset=j??0):(g.bytes=c().default.ofData(k.buffer),g.offset=j!=null?k.byteOffset+j:k.byteOffset)},f.__arrayGet=function(g,b){return g.bytes!=null?g.bytes.get(b+g.offset):0},f.__arraySet=function(g,b,k){return g.bytes==null&&g.bytes.set(b+g.offset,k),k},f.fromArrayBufferView=function(g){return g==null?null:new(o()).default(c().default.ofData(g.buffer),g.byteOffset)},f.fromArrayBuffer=function(g){return g==null?null:new(o()).default(c().default.ofData(g),0)},f.fromBytes=function(g){return new(o()).default(g,0)},f.fromBytesData=function(g){return g==null?new(o()).default(null,0):new(o()).default(c().default.ofData(g),0)},f.fromFile=function(g){return new(o()).default(s().default.fromFile(g),0)},f.fromLimeBytes=function(g){return new(o()).default(g,0)},f.toUInt8Array=function(g){var b=g.bytes.getData(),k=h().default.int(g.offset/8);k==null&&(k=0);var $;return b!=null?$=new Uint8Array(b,k):$=null,$},f.toUInt8ClampedArray=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/8);k==null&&(k=0);var $;return b!=null?$=new Uint8ClampedArray(b,k):$=null,$},f.toInt8Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/8);k==null&&(k=0);var $;return b!=null?$=new Int8Array(b,k):$=null,$},f.toUInt16Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/16);k==null&&(k=0);var $;return b!=null?$=new Uint16Array(b,k):$=null,$},f.toInt16Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/16);k==null&&(k=0);var $;return b!=null?$=new Int16Array(b,k):$=null,$},f.toUInt32Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/32);k==null&&(k=0);var $;return b!=null?$=new Uint32Array(b,k):$=null,$},f.toInt32Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/32);k==null&&(k=0);var $;return b!=null?$=new Int32Array(b,k):$=null,$},f.toFloat32Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/32);k==null&&(k=0);var $;return b!=null?$=new Float32Array(b,k):$=null,$},f.toFloat64Array=function(g){if(g==null||g.bytes==null)return null;var b=g.bytes.getData(),k=h().default.int(g.offset/64);k==null&&(k=0);var $;return b!=null?$=new Float64Array(b,k):$=null,$},e.default=f}(BytePointer_Impl_)),BytePointer_Impl_}var hasRequiredByteArray_Impl_;function requireByteArray_Impl_(){return hasRequiredByteArray_Impl_||(hasRequiredByteArray_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBytePointerData()}function c(){return requireByteArrayData()}function s(){return requireBytes()}function h(){return requireBytes_Impl_()}function f(){return requireFuture()}function g(){return requireBytePointer_Impl_()}var b=function(){};b.__name__="openfl.utils._ByteArray.ByteArray_Impl_",b.__isInterface__=!1,b.prototype={},b.prototype.__class__=b.prototype.constructor=d["openfl.utils._ByteArray.ByteArray_Impl_"]=b,b._new=function(k){k==null&&(k=0);var $=new(c()).default(k);return $},b.clear=function(k){k.clear()},b.compress=function(k,$){k.compress($)},b.deflate=function(k){k.deflate()},b.fromArrayBuffer=function(k){return k==null?null:c().default.fromBytes(s().default.ofData(k))},b.fromBytes=function(k){return k==null?null:k instanceof c().default?k:c().default.fromBytes(k)},b.fromBytesData=function(k){return k==null?null:c().default.fromBytes(s().default.ofData(k))},b.fromFile=function(k){return b.fromBytes(h().default.fromFile(k))},b.fromLimeBytes=function(k){return b.fromBytes(k)},b.get=function(k,$){return k.get($)},b.inflate=function(k){k.inflate()},b.loadFromBytes=function(k){return h().default.loadFromBytes(k).then(function($){var j=b.fromBytes($);return f().default.withValue(j)})},b.loadFromFile=function(k){return h().default.loadFromFile(k).then(function($){var j=b.fromBytes($);return f().default.withValue(j)})},b.readBoolean=function(k){return k.readBoolean()},b.readByte=function(k){return k.readByte()},b.readBytes=function(k,$,j,_e){_e==null&&(_e=0),j==null&&(j=0),k.readBytes($,j,_e)},b.readDouble=function(k){return k.readDouble()},b.readFloat=function(k){return k.readFloat()},b.readInt=function(k){return k.readInt()},b.readMultiByte=function(k,$,j){return k.readMultiByte($,j)},b.readObject=function(k){return k.readObject()},b.readShort=function(k){return k.readShort()},b.readUTF=function(k){return k.readUTF()},b.readUTFBytes=function(k,$){return k.readUTFBytes($)},b.readUnsignedByte=function(k){return k.readUnsignedByte()},b.readUnsignedInt=function(k){return k.readUnsignedInt()},b.readUnsignedShort=function(k){return k.readUnsignedShort()},b.set=function(k,$,j){return k.__resize($+1),k.set($,j),j},b.toArrayBuffer=function(k){return k.getData()},b.toBytePointer=function(k){return g().default.set(b.__bytePointer,k,null,null,k.position),b.__bytePointer},b.toBytes=function(k){return k},b.toBytesData=function(k){return k.getData()},b.toLimeBytes=function(k){return k},b.toString=function(k){return k.toString()},b.uncompress=function(k,$){k.uncompress($)},b.writeBoolean=function(k,$){k.writeBoolean($)},b.writeByte=function(k,$){k.writeByte($)},b.writeBytes=function(k,$,j,_e){_e==null&&(_e=0),j==null&&(j=0),k.writeBytes($,j,_e)},b.writeDouble=function(k,$){k.writeDouble($)},b.writeFloat=function(k,$){k.writeFloat($)},b.writeInt=function(k,$){k.writeInt($)},b.writeMultiByte=function(k,$,j){k.writeMultiByte($,j)},b.writeObject=function(k,$){k.writeObject($)},b.writeShort=function(k,$){k.writeShort($)},b.writeUTF=function(k,$){k.writeUTF($)},b.writeUTFBytes=function(k,$){k.writeUTFBytes($)},b.writeUnsignedInt=function(k,$){k.writeUnsignedInt($)},b.get_bytesAvailable=function(k){return k.get_bytesAvailable()},b.get_defaultEndian=function(){return c().default.get_defaultEndian()},b.set_defaultEndian=function(k){return c().default.set_defaultEndian(k)},b.get_defaultObjectEncoding=function(){return c().default.defaultObjectEncoding},b.set_defaultObjectEncoding=function(k){return c().default.defaultObjectEncoding=k},b.get_endian=function(k){return k.get_endian()},b.set_endian=function(k,$){return k.set_endian($)},b.get_length=function(k){return k==null?0:k.l},b.set_length=function(k,$){return k.set_length($),$},b.get_objectEncoding=function(k){return k.objectEncoding},b.set_objectEncoding=function(k,$){return k.objectEncoding=$},b.get_position=function(k){return k.position},b.set_position=function(k,$){return k.position=$},b.__bytePointer=function(k){var $,j=new(o()).default(null,0);return $=j,$}(),e.default=b}(ByteArray_Impl_)),ByteArray_Impl_}var hasRequired_HTTPRequest_openfl_utils_ByteArray;function require_HTTPRequest_openfl_utils_ByteArray(){return hasRequired_HTTPRequest_openfl_utils_ByteArray||(hasRequired_HTTPRequest_openfl_utils_ByteArray=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return require_HTTPRequest_Bytes()}function s(){return requireByteArray_Impl_()}var h=function(f){c().default.call(this,f)};h.__name__="lime.net._HTTPRequest_openfl_utils_ByteArray",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{fromBytes:function(f){return s().default.fromBytes(f)}}),h.prototype.__class__=h.prototype.constructor=d["lime.net._HTTPRequest_openfl_utils_ByteArray"]=h,e.default=h}(_HTTPRequest_openfl_utils_ByteArray)),_HTTPRequest_openfl_utils_ByteArray}var HTTPStatusEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k){k==null&&(k=!1),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!1),this.responseHeaders=[],this.status=b,this.redirected=k,c().default.call(this,h,f,g)};s.__name__="openfl.events.HTTPStatusEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.status,this.redirected);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("HTTPStatusEvent",["type","bubbles","cancelable","status","redirected"])},__init:function(){c().default.prototype.__init.call(this),this.status=0,this.redirected=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.HTTPStatusEvent"]=s,s.HTTP_RESPONSE_STATUS="httpResponseStatus",s.HTTP_STATUS="httpStatus",e.default=s})(HTTPStatusEvent$1);var URLRequestHeader$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){s==null&&(s=""),c==null&&(c=""),this.name=c,this.value=s};o.__name__="openfl.net.URLRequestHeader",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.net.URLRequestHeader"]=o,e.default=o})(URLRequestHeader$1);var SecurityErrorEvent$1={},ErrorEvent$1={},TextEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b){b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.text=b};s.__name__="openfl.events.TextEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.text);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("TextEvent",["type","bubbles","cancelable","text"])},__init:function(){c().default.prototype.__init.call(this),this.text=""}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.TextEvent"]=s,s.LINK="link",s.TEXT_INPUT="textInput",e.default=s})(TextEvent$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return TextEvent$1}var s=function(h,f,g,b,k){k==null&&(k=0),b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g,b),this.errorID=k};s.__name__="openfl.events.ErrorEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("ErrorEvent",["type","bubbles","cancelable","text","errorID"])},__init:function(){c().default.prototype.__init.call(this),this.errorID=0}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.ErrorEvent"]=s,s.ERROR="error",e.default=s})(ErrorEvent$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ErrorEvent$1}var s=function(h,f,g,b,k){k==null&&(k=0),b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g,b,k)};s.__name__="openfl.events.SecurityErrorEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("SecurityErrorEvent",["type","bubbles","cancelable","text","errorID"])}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.SecurityErrorEvent"]=s,s.SECURITY_ERROR="securityError",e.default=s})(SecurityErrorEvent$1);var IOErrorEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ErrorEvent$1}var s=function(h,f,g,b,k){k==null&&(k=0),b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!0),c().default.call(this,h,f,g,b,k)};s.__name__="openfl.events.IOErrorEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.text,this.errorID);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("IOErrorEvent",["type","bubbles","cancelable","text","errorID"])}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.IOErrorEvent"]=s,s.IO_ERROR="ioError",e.default=s})(IOErrorEvent$1);var ProgressEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k){k==null&&(k=0),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.bytesLoaded=b,this.bytesTotal=k};s.__name__="openfl.events.ProgressEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.bytesLoaded,this.bytesTotal);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("ProgressEvent",["type","bubbles","cancelable","bytesLoaded","bytesTotal"])},__init:function(){c().default.prototype.__init.call(this),this.bytesLoaded=0,this.bytesTotal=0}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.ProgressEvent"]=s,s.PROGRESS="progress",s.SOCKET_DATA="socketData",e.default=s})(ProgressEvent$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return Event$1}function f(){return require_HTTPRequest_openfl_utils_ByteArray()}function g(){return require_HTTPRequest_String()}function b(){return HTTPStatusEvent$1}function k(){return URLRequestHeader$1}function $(){return requireType()}function j(){return requireValueType()}function _e(){return require_Reflect()}function et(){return requireBytes()}function nt(){return requireStd()}function rt(){return requireHTTPRequestHeader()}function tt(){return require_HTTPRequest_Bytes()}function it(){return SecurityErrorEvent$1}function st(){return IOErrorEvent$1}function at(){return ProgressEvent$1}var _t=function(ut){s().default.call(this),this.bytesLoaded=0,this.bytesTotal=0,this.dataFormat="text",ut!=null&&this.load(ut)};_t.__name__="openfl.net.URLLoader",_t.__isInterface__=!1,_t.__super__=s().default,_t.prototype=c(s().default.prototype,{close:function(){this.__httpRequest!=null&&this.__httpRequest.cancel()},load:function(ut){var ot=this,lt=new(h()).default("open");if(this.dispatchEvent(lt),this.dataFormat=="binary"){var ft=new(f()).default;this.__prepareRequest(ft,ut),ft.load().onProgress(o(this,this.httpRequest_onProgress)).onError(o(this,this.httpRequest_onError)).onComplete(function(dt){ot.__dispatchResponseStatus(),ot.__dispatchStatus(),ot.data=dt;var pt=new(h()).default("complete");ot.dispatchEvent(pt)})}else{var ht=new(g()).default;this.__prepareRequest(ht,ut),ht.load().onProgress(o(this,this.httpRequest_onProgress)).onError(o(this,this.httpRequest_onError)).onComplete(function(dt){ot.__dispatchResponseStatus(),ot.__dispatchStatus(),ot.data=dt;var pt=new(h()).default("complete");ot.dispatchEvent(pt)})}},__dispatchResponseStatus:function(){var ut=new(b()).default("httpResponseStatus",!1,!1,this.__httpRequest.responseStatus);ut.responseURL=this.__httpRequest.uri;var ot=[];if(this.__httpRequest.enableResponseHeaders&&this.__httpRequest.responseHeaders!=null)for(var lt=0,ft=this.__httpRequest.responseHeaders;lt<ft.length;){var ht=ft[lt];++lt,ot.push(new(k()).default(ht.name,ht.value))}ut.responseHeaders=ot,this.dispatchEvent(ut)},__dispatchStatus:function(){var ut=new(b()).default("httpStatus",!1,!1,this.__httpRequest.responseStatus);this.dispatchEvent(ut)},__prepareRequest:function(ut,ot){if(this.__httpRequest=ut,this.__httpRequest.uri=ot.url,this.__httpRequest.method=ot.method,ot.data!=null)if($().default.typeof(ot.data)==j().default.TObject)for(var lt=_e().default.fields(ot.data),ft=0;ft<lt.length;){var ht=lt[ft];++ft,this.__httpRequest.formData.set(ht,_e().default.field(ot.data,ht))}else ot.data instanceof et().default?this.__httpRequest.data=ot.data:this.__httpRequest.data=et().default.ofString(nt().default.string(ot.data));if(this.__httpRequest.contentType=ot.contentType,ot.requestHeaders!=null)for(var dt=0,pt=ot.requestHeaders;dt<pt.length;){var xt=pt[dt];++dt,this.__httpRequest.headers.push(new(rt()).default(xt.name,xt.value))}this.__httpRequest.followRedirects=ot.followRedirects,this.__httpRequest.timeout=nt().default.int(ot.idleTimeout),ot.userAgent,this.__httpRequest.userAgent=ot.userAgent,this.__httpRequest.enableResponseHeaders=!0},httpRequest_onError:function(ut){if(this.__dispatchResponseStatus(),this.__dispatchStatus(),this.__httpRequest instanceof tt().default){var ot=this.__httpRequest;this.data=ot.responseData}else if(this.__httpRequest instanceof g().default){var lt=this.__httpRequest;this.data=lt.responseData}if(ut==403){var ft=new(it()).default("securityError");ft.text=nt().default.string(ut),this.dispatchEvent(ft)}else{var ht=new(st()).default("ioError");ht.text=nt().default.string(ut),this.dispatchEvent(ht)}},httpRequest_onProgress:function(ut,ot){var lt=new(at()).default("progress");lt.bytesLoaded=ut,lt.bytesTotal=ot,this.dispatchEvent(lt)}}),_t.prototype.__class__=_t.prototype.constructor=d["openfl.net.URLLoader"]=_t,e.default=_t})(URLLoader$1);var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringMap()}function c(){return requireIntMap()}function s(){return requireStd()}function h(){return requireMovieClip()}function f(){return requireType()}function g(){return requireSystem()}function b(){return requireValueType()}function k(){return require_Reflect()}function $(){return requireStringTools()}function j(){return requireLog()}function _e(){return URLLoader$1}function et(){return requireTimer()}function nt(){return requireLog$1()}function rt(){return requireEReg()}function tt(){return requireHaxeError()}function it(){return _Error$1}function st(){return _TypeError$1}function at(){return requireLib$1()}var _t=function(){};_t.__name__="openfl.Lib",_t.__isInterface__=!1,_t.prototype={},_t.prototype.__class__=_t.prototype.constructor=d["openfl.Lib"]=_t,Object.defineProperties(_t,{application:{get:function(){return _t.get_application()}},current:{get:function(){return _t.get_current()}}}),_t.as=function(ut,ot){return s().default.is(ut,ot)?ut:null},_t.attach=function(ut){return new(h()).default},_t.clearInterval=function(ut){if(_t.__timers.exists(ut)){var ot=_t.__timers.get(ut);ot.stop(),_t.__timers.remove(ut)}},_t.clearTimeout=function(ut){if(_t.__timers.exists(ut)){var ot=_t.__timers.get(ut);ot.stop(),_t.__timers.remove(ut)}},_t.getDefinitionByName=function(ut){return ut==null?null:f().default.resolveClass(ut)},_t.getQualifiedClassName=function(ut){if(ut==null)return null;var ot=s().default.is(ut,d.Class)?ut:f().default.getClass(ut);return ot==null?typeof ut=="boolean"||ut==d.Bool?"Bool":typeof ut=="number"&&(ut|0)===ut||ut==d.Int?"Int":typeof ut=="number"||ut==d.Float?"Float":null:f().default.getClassName(ot)},_t.getQualifiedSuperclassName=function(ut){if(ut==null)return null;var ot=s().default.is(ut,d.Class)?ut:f().default.getClass(ut);if(ot==null)return null;var lt=f().default.getSuperClass(ot);return lt==null?null:f().default.getClassName(lt)},_t.getTimer=function(){return g().default.getTimer()},_t.getURL=function(ut,ot){_t.navigateToURL(ut,ot)},_t.navigateToURL=function(ut,ot){ot==null&&(ot="_blank");var lt=ut.url;if(f().default.typeof(ut.data)==b().default.TObject){for(var ft="",ht=k().default.fields(ut.data),dt=0;dt<ht.length;){var pt=ht[dt];++dt,ft.length>0&&(ft+="&"),ft+=$().default.urlEncode(pt)+"="+$().default.urlEncode(s().default.string(k().default.field(ut.data,pt)))}lt.indexOf("?")>-1?lt+="&"+ft:lt+="?"+ft}g().default.openURL(lt,ot)},_t.notImplemented=function(ut){var ot=ut.className+"."+ut.methodName;_t.__sentWarnings.exists(ot)||(_t.__sentWarnings.set(ot,!0),j().default.warn(ut.methodName+" is not implemented",ut))},_t.preventDefaultTouchMove=function(){window.document.addEventListener("touchmove",function(ut){ut.preventDefault()},!1)},_t.sendToURL=function(ut){var ot=new(_e()).default;ot.load(ut)},_t.setInterval=function(ut,ot,lt){var ft=++_t.__lastTimerID,ht=new(et()).default(ot);return _t.__timers.set(ft,ht),ht.run=function(){k().default.callMethod(ut,ut,lt??[])},ft},_t.setTimeout=function(ut,ot,lt){var ft=++_t.__lastTimerID,ht=_t.__timers,dt=et().default.delay(function(){_t.__timers.remove(ft),k().default.callMethod(ut,ut,lt??[])},ot);return ht.set(ft,dt),ft},_t.trace=function(ut){nt().default.trace(ut,{fileName:"../node_modules/openfl-haxelib/src/openfl/Lib.hx",lineNumber:569,className:"openfl.Lib",methodName:"trace"})},_t.isXMLName=function(ut){return!(ut==null||!new(rt()).default("^[a-zA-Z_]","").match(ut)||new(rt()).default("^[xX][mM][lL]","").match(ut)||!new(rt()).default("^[a-zA-Z0-9_\\-\\.]+$","").match(ut))},_t.getClassByAlias=function(ut){if(!_t.__registeredClassAliases.exists(ut))throw new(tt()).default(new(it()).default("Class "+ut+" could not be found."));return _t.__registeredClassAliases.get(ut)},_t.registerClassAlias=function(ut,ot){if(ot==null)throw new(tt()).default(new(st()).default("Parameter classObject must be non-null"));if(ut==null)throw new(tt()).default(new(st()).default("Parameter aliasName must be non-null"));_t.__registeredClassAliases.set(ut,ot)},_t.get_application=function(){return at().default.application},_t.get_current=function(){return at().default.current==null&&(at().default.current=new(h()).default),at().default.current},_t.__lastTimerID=0,_t.__sentWarnings=new(o()).default,_t.__timers=new(c()).default,_t.__registeredClassAliases=new(o()).default,e.default=_t}(Lib$7)),Lib$7}var OpenGLRenderer$1={},DisplayObjectRenderer$1={},Context3DGraphics={},Context3DBuffer={},hasRequiredContext3DBuffer;function requireContext3DBuffer(){return hasRequiredContext3DBuffer||(hasRequiredContext3DBuffer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireFloat32Array_Impl_$1()}var s=function(h,f,g,b){this.context3D=h,this.elementType=f,this.dataPerVertex=b,this.indexCount=0,this.vertexCount=0,this.resize(g)};s.__name__="openfl.display._internal.Context3DBuffer",s.__isInterface__=!1,s.prototype={drawElements:function(h,f){if(f==null&&(f=-1),!(this.indexCount==0||this.vertexCount==0)&&this.elementType._hx_index==0)if(f==-1&&(f=this.elementCount*2),h<10922&&f-h<10922)this.context3D.drawTriangles(this.indexBuffers[0],h,f*2);else for(var g=h+f;h<g;){var b=Math.floor(h/10922);if(f=o().default.int(Math.min(g-h,10922)),f<=0)break;this.context3D.drawTriangles(this.indexBuffers[b],(h-b*10922)*3,f*2),h+=f}},flushVertexBufferData:function(){this.vertexBufferData.length>this.vertexCount&&(this.vertexCount=this.vertexBufferData.length,this.vertexBuffer=this.context3D.createVertexBuffer(this.vertexCount,this.dataPerVertex,"dynamicDraw")),this.vertexBuffer.uploadFromTypedArray(c().default.toArrayBufferView(this.vertexBufferData))},resize:function(h,f){f==null&&(f=-1),this.elementCount=h,f==-1&&(f=this.dataPerVertex),f!=this.dataPerVertex&&(this.vertexBuffer=null,this.vertexCount=0,this.dataPerVertex=f);var g=0;switch(this.elementType._hx_index){case 0:g=h*4;break;case 1:g=h*3;break;case 2:g=h*3;break}var b=g*f;if(this.vertexBufferData==null){var k=null,$=null,j=null,_e=null,et;b!=null?et=new Float32Array(b):k!=null?et=new Float32Array(k):$!=null?et=new Float32Array($):j!=null?_e==null?et=new Float32Array(j,0):et=new Float32Array(j,0,_e):et=null,this.vertexBufferData=et}else if(b>this.vertexBufferData.length){var nt=this.vertexBufferData,rt=null,tt=null,it=null,st=null,at;b!=null?at=new Float32Array(b):rt!=null?at=new Float32Array(rt):tt!=null?at=new Float32Array(tt):it!=null?st==null?at=new Float32Array(it,0):at=new Float32Array(it,0,st):at=null,this.vertexBufferData=at,this.vertexBufferData.set(nt)}}},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.Context3DBuffer"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},s.MAX_INDEX_BUFFER_LENGTH=65535,s.MAX_QUADS_PER_INDEX_BUFFER=10922,s.MAX_QUAD_INDEX_BUFFER_LENGTH=65532,e.default=s}(Context3DBuffer)),Context3DBuffer}var Context3DElementType={},hasRequiredContext3DElementType;function requireContext3DElementType(){return hasRequiredContext3DElementType||(hasRequiredContext3DElementType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["openfl.display._internal.Context3DElementType"]={__ename__:"openfl.display._internal.Context3DElementType",__constructs__:["QUADS","TRIANGLES","TRIANGLE_INDICES"],TRIANGLE_INDICES:{_hx_index:2,__enum__:"openfl.display._internal.Context3DElementType",toString:d},TRIANGLES:{_hx_index:1,__enum__:"openfl.display._internal.Context3DElementType",toString:d},QUADS:{_hx_index:0,__enum__:"openfl.display._internal.Context3DElementType",toString:d}};e.default=c}(Context3DElementType)),Context3DElementType}var hasRequiredContext3DGraphics;function requireContext3DGraphics(){return hasRequiredContext3DGraphics||(hasRequiredContext3DGraphics=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBitmapData()}function c(){return ColorTransform$1}function s(){return requireDrawCommandReader()}function h(){return Rectangle$2}function f(){return Matrix$2}function g(){return requireContext3DBuffer()}function b(){return requireContext3DElementType()}function k(){return requireFloat32Array_Impl_$1()}function $(){return requireCanvasGraphics()}function j(){return requireStd()}var _e=function(){};_e.__name__="openfl.display._internal.Context3DGraphics",_e.__isInterface__=!1,_e.prototype={},_e.prototype.__class__=_e.prototype.constructor=d["openfl.display._internal.Context3DGraphics"]=_e,_e.buildBuffer=function(et,nt){for(var rt=0,tt=0,it=0,st=new(s()).default(et.__commands),at=nt.__context3D,_t=h().default.__pool.get(),ut=f().default.__pool.get(),ot=null,lt=0,ft=et.__commands.types;lt<ft.length;){var ht=ft[lt];switch(++lt,ht._hx_index){case 0:var dt=st.readBeginBitmapFill();ot=dt.obj(0);break;case 1:ot=null,st.skip(ht);break;case 3:var pt=st.readBeginShaderFill(),xt=pt.obj(0);if(ot=null,xt!=null)for(var vt=0,bt=xt.inputCount;vt<bt;){var wt=vt++;if(xt.inputRefs[wt].name=="bitmap"){ot=xt.inputs[wt];break}}break;case 8:if(ot!=null){var At=st.readDrawQuads(),ct=At.obj(0),mt=At.obj(1),gt=At.obj(2),Tt=mt!=null,yt=!1,Et=!1,Ct=Tt?mt.get_length():Math.floor(ct.get_length()/4);if(Ct==0)return;gt!=null&&(gt.get_length()>=Ct*6?(yt=!0,Et=!0):gt.get_length()>=Ct*4?yt=!0:gt.get_length()>=Ct*2&&(Et=!0));var It=4,Rt=It*4;et.__quadBuffer==null?et.__quadBuffer=new(g()).default(at,b().default.QUADS,Ct,It):et.__quadBuffer.resize(rt+Ct,It);var Ft,Lt,Ot,Kt,qt,Ht,Zt,or,ir,lr,ar,Mt,kt,Vt,Nt,Wt,Qt,tr=et.__quadBuffer.vertexBufferData,sr=ot.width,dr=ot.height;ot.rect;for(var pr=0,cr=Ct;pr<cr;){var mr=pr++;Ft=(rt+mr)*Rt,Wt=Tt?mt[mr]*4:mr*4,!(Wt<0)&&(_t.setTo(ct[Wt],ct[Wt+1],ct[Wt+2],ct[Wt+3]),Lt=_t.width,Ot=_t.height,!(Lt<=0||Ot<=0)&&(yt&&Et?(Qt=mr*6,ut.setTo(gt[Qt],gt[Qt+1],gt[Qt+2],gt[Qt+3],gt[Qt+4],gt[Qt+5])):yt?(Qt=mr*4,ut.setTo(gt[Qt],gt[Qt+1],gt[Qt+2],gt[Qt+3],_t.x,_t.y)):Et?(Qt=mr*2,ut.tx=gt[Qt],ut.ty=gt[Qt+1]):(ut.tx=_t.x,ut.ty=_t.y),Kt=_t.x/sr,qt=_t.y/dr,Ht=_t.get_right()/sr,Zt=_t.get_bottom()/dr,or=ut.__transformX(0,0),ir=ut.__transformY(0,0),lr=ut.__transformX(Lt,0),ar=ut.__transformY(Lt,0),Mt=ut.__transformX(0,Ot),kt=ut.__transformY(0,Ot),Vt=ut.__transformX(Lt,Ot),Nt=ut.__transformY(Lt,Ot),tr[Ft]=or,tr[Ft+1]=ir,tr[Ft+2]=Kt,tr[Ft+3]=qt,tr[Ft+It]=lr,tr[Ft+It+1]=ar,tr[Ft+It+2]=Ht,tr[Ft+It+3]=qt,tr[Ft+It*2]=Mt,tr[Ft+It*2+1]=kt,tr[Ft+It*2+2]=Kt,tr[Ft+It*2+3]=Zt,tr[Ft+It*3]=Vt,tr[Ft+It*3+1]=Nt,tr[Ft+It*3+2]=Ht,tr[Ft+It*3+3]=Zt))}rt+=Ct}break;case 12:var fr=st.readDrawTriangles(),Bt=fr.obj(0),Xt=fr.obj(1),rr=fr.obj(2);fr.obj(3);var nr=Xt!=null,Gt=Math.floor(Bt.get_length()/2),zt=nr?Xt.get_length():Gt,$t=rr!=null,er=$t&&rr.get_length()>=Gt*3,ur=er?4:2,St=er?3:2,Ut=ur+2,Yt=er?it:tt;_e.resizeVertexBuffer(et,er,Yt+zt*Ut);for(var Dt=er?et.__vertexBufferDataUVT:et.__vertexBufferData,Pt,Jt,_r,hr,vr=0,gr=zt;vr<gr;){var br=vr++;Pt=Yt+br*Ut,Jt=nr?Xt[br]*2:br*2,_r=nr?Xt[br]*St:br*St,er?(hr=rr[_r+2],Dt[Pt]=Bt[Jt]/hr,Dt[Pt+1]=Bt[Jt+1]/hr,Dt[Pt+2]=0,Dt[Pt+3]=1/hr):(Dt[Pt]=Bt[Jt],Dt[Pt+1]=Bt[Jt+1]),Dt[Pt+ur]=$t?rr[_r]:0,Dt[Pt+ur+1]=$t?rr[_r+1]:0}er?it+=zt*Ut:tt+=zt*Ut;break;case 13:ot=null;break;default:st.skip(ht)}}if(rt>0&&et.__quadBuffer.flushVertexBufferData(),tt>0){var wr=et.__vertexBuffer;(wr==null||tt>et.__vertexBufferCount)&&(wr=at.createVertexBuffer(tt,4,"dynamicDraw"),et.__vertexBuffer=wr,et.__vertexBufferCount=tt),wr.uploadFromTypedArray(k().default.toArrayBufferView(et.__vertexBufferData))}if(it>0){var yr=et.__vertexBufferUVT;(yr==null||it>et.__vertexBufferCountUVT)&&(yr=at.createVertexBuffer(it,6,"dynamicDraw"),et.__vertexBufferUVT=yr,et.__vertexBufferCountUVT=it),yr.uploadFromTypedArray(k().default.toArrayBufferView(et.__vertexBufferDataUVT))}h().default.__pool.release(_t),f().default.__pool.release(ut)},_e.isCompatible=function(et){if(et.__owner.__worldScale9Grid!=null)return!1;for(var nt=new(s()).default(et.__commands),rt=!1,tt=!1,it=!1,st=0,at=et.__commands.types;st<at.length;){var _t=at[st];switch(++st,_t._hx_index){case 0:tt=!0,rt=!1,it=!1,nt.skip(_t);break;case 1:tt=!1,rt=!0,it=!1,nt.skip(_t);break;case 3:tt=!1,rt=!1,it=!0,nt.skip(_t);break;case 8:if(tt||it)nt.skip(_t);else return nt.destroy(),!1;break;case 9:if(rt)nt.skip(_t);else return nt.destroy(),!1;break;case 12:if(tt||it)nt.skip(_t);else return nt.destroy(),!1;break;case 13:tt=!1,rt=!1,it=!1,nt.skip(_t);break;case 18:nt.skip(_t);break;case 19:nt.skip(_t);break;default:return nt.destroy(),!1}}return nt.destroy(),!0},_e.render=function(et,nt){if(!(!et.__visible||et.__commands.get_length()==0))if(et.__bitmap!=null&&!et.__dirty||!_e.isCompatible(et)){nt.__softwareRenderer.__pixelRatio=nt.__pixelRatio;var rt=nt.__softwareRenderer.__worldTransform;et.__owner.__drawableType==7?nt.__softwareRenderer.__worldTransform=f().default.__identity:nt.__softwareRenderer.__worldTransform=nt.__worldTransform,$().default.render(et,nt.__softwareRenderer),nt.__softwareRenderer.__worldTransform=rt}else{et.__bitmap=null;var tt=nt.__pixelRatio;et.__update(nt.__worldTransform,tt);var it=et.__bounds,st=et.__width,at=et.__height;if(it!=null&&st>=1&&at>=1){(et.__hardwareDirty||et.__quadBuffer==null&&et.__vertexBuffer==null&&et.__vertexBufferUVT==null)&&_e.buildBuffer(et,nt);var _t=new(s()).default(et.__commands),ut=nt.__context3D;ut.gl;for(var ot=f().default.__pool.get(),lt=null,ft=null,ht=!1,dt=!1,pt=null,xt=0,vt=0,bt=0,wt=0,At=0,ct=et.__commands.types;At<ct.length;){var mt=ct[At];switch(++At,mt._hx_index){case 0:var gt=_t.readBeginBitmapFill();ft=gt.obj(0),ht=gt.bool(0),dt=gt.bool(1),lt=null,pt=null;break;case 1:var Tt=_t.readBeginFill(),yt=j().default.int(Tt.int(0)),Et=j().default.int(Tt.float(0)*255);pt=yt&16777215|Et<<24,lt=null,ft=null;break;case 3:var Ct=_t.readBeginShaderFill();lt=Ct.obj(0),vt=0,lt==null||lt.shader==null||lt.shader.__bitmap==null?ft=null:ft=lt.shader.__bitmap.input,pt=null;break;case 8:if(ft!=null){var It=_t.readDrawQuads(),Rt=It.obj(0),Ft=It.obj(1);It.obj(2);var Lt=Ft!=null,Ot=Lt?Ft.get_length():Math.floor(Rt.get_length()/4),Kt=nt.__getMatrix(et.__owner.__renderTransform,"auto"),qt;lt!=null&&!_e.maskRender?(qt=nt.__initShaderBuffer(lt),nt.__setShaderBuffer(lt),nt.applyMatrix(Kt),nt.applyBitmapData(ft,!1,ht),nt.applyAlpha(et.__owner.__worldAlpha),nt.applyColorTransform(et.__owner.__worldColorTransform)):(qt=_e.maskRender?nt.__maskShader:nt.__initGraphicsShader(null),nt.setShader(qt),nt.applyMatrix(Kt),nt.applyBitmapData(ft,dt,ht),nt.applyAlpha(et.__owner.__worldAlpha),nt.applyColorTransform(et.__owner.__worldColorTransform),nt.updateShader());for(var Ht=xt+Ot;xt<Ht&&(Ot=j().default.int(Math.min(Ht-xt,ut.__quadIndexBufferElements)),!(Ot<=0));)lt!=null&&!_e.maskRender&&nt.__updateShaderBuffer(vt),qt.__position!=null&&ut.setVertexBufferAt(qt.__position.index,et.__quadBuffer.vertexBuffer,xt*16,"float2"),qt.__textureCoord!=null&&ut.setVertexBufferAt(qt.__textureCoord.index,et.__quadBuffer.vertexBuffer,xt*16+2,"float2"),ut.drawTriangles(ut.__quadIndexBuffer,0,Ot*2),vt+=Ot*4,xt+=Ot;nt.__clearShader()}break;case 9:if(pt!=null){var Zt=_t.readDrawRect(),or=Zt.float(0),ir=Zt.float(1),lr=Zt.float(2),ar=Zt.float(3),Mt=pt;_e.tempColorTransform.redOffset=Mt>>>16&255,_e.tempColorTransform.greenOffset=Mt>>>8&255,_e.tempColorTransform.blueOffset=Mt&255,_e.tempColorTransform.__combine(et.__owner.__worldColorTransform),ot.identity(),ot.scale(lr,ar),ot.tx=or,ot.ty=ir,ot.concat(et.__owner.__renderTransform);var kt=_e.maskRender?nt.__maskShader:nt.__initGraphicsShader(null);nt.setShader(kt),nt.applyMatrix(nt.__getMatrix(ot,"auto")),nt.applyBitmapData(_e.blankBitmapData,!0,ht),nt.applyAlpha((Mt>>>24&255)/255*et.__owner.__worldAlpha),nt.applyColorTransform(_e.tempColorTransform),nt.updateShader();var Vt=_e.blankBitmapData.getVertexBuffer(ut);kt.__position!=null&&ut.setVertexBufferAt(kt.__position.index,Vt,0,"float3"),kt.__textureCoord!=null&&ut.setVertexBufferAt(kt.__textureCoord.index,Vt,3,"float2");var Nt=_e.blankBitmapData.getIndexBuffer(ut);ut.drawTriangles(Nt),vt+=4,nt.__clearShader()}break;case 12:var Wt=_t.readDrawTriangles(),Qt=Wt.obj(0),tr=Wt.obj(1),sr=Wt.obj(2),dr=Wt.obj(3),pr=tr!=null,cr=Math.floor(Qt.get_length()/2),mr=pr?tr.get_length():cr,fr=sr!=null,Bt=fr&&sr.get_length()>=cr*3,Xt=Bt?4:2,rr=Xt+2,nr=Bt?et.__vertexBufferUVT:et.__vertexBuffer,Gt=Bt?wt:bt,zt=nt.__getMatrix(et.__owner.__renderTransform,"auto"),$t;switch(lt!=null&&!_e.maskRender?($t=nt.__initShaderBuffer(lt),nt.__setShaderBuffer(lt),nt.applyMatrix(zt),nt.applyBitmapData(ft,!1,ht),nt.applyAlpha(1),nt.applyColorTransform(null),nt.__updateShaderBuffer(vt)):($t=_e.maskRender?nt.__maskShader:nt.__initGraphicsShader(null),nt.setShader($t),nt.applyMatrix(zt),nt.applyBitmapData(ft,dt,ht),nt.applyAlpha(et.__owner.__worldAlpha),nt.applyColorTransform(et.__owner.__worldColorTransform),nt.updateShader()),$t.__position!=null&&ut.setVertexBufferAt($t.__position.index,nr,Gt,Bt?"float4":"float2"),$t.__textureCoord!=null&&ut.setVertexBufferAt($t.__textureCoord.index,nr,Gt+Xt,"float2"),dr){case"negative":ut.setCulling("back");break;case"none":ut.setCulling("none");break;case"positive":ut.setCulling("front");break}switch(ut.__drawTriangles(0,mr),vt+=mr,Bt?wt+=rr*mr:bt+=rr*mr,dr){case"none":case"positive":ut.setCulling("back");break}nt.__clearShader();break;case 13:ft=null,pt=null,lt=null,_t.skip(mt),ut.setCulling("none");break;case 18:var er=_t.readMoveTo();er.float(0),er.float(1);break;case 19:var ur=_t.readOverrideBlendMode();nt.__setBlendMode(ur.obj(0));break;default:_t.skip(mt)}}f().default.__pool.release(ot)}et.__hardwareDirty=!1,et.set___dirty(!1)}},_e.renderMask=function(et,nt){_e.maskRender=!0,_e.render(et,nt),_e.maskRender=!1},_e.resizeIndexBuffer=function(et,nt,rt){if(!nt){var tt=nt?null:et.__triangleIndexBufferData,it=null;if(tt==null){var st=null,at=null,_t=null,ut=null,ot;rt!=null?ot=new Uint16Array(rt):st!=null?ot=new Uint16Array(st):at!=null?ot=new Uint16Array(at):_t!=null?ut==null?ot=new Uint16Array(_t,0):ot=new Uint16Array(_t,0,ut):ot=null,it=ot}else if(rt>tt.length){var lt=null,ft=null,ht=null,dt=null,pt;rt!=null?pt=new Uint16Array(rt):lt!=null?pt=new Uint16Array(lt):ft!=null?pt=new Uint16Array(ft):ht!=null?dt==null?pt=new Uint16Array(ht,0):pt=new Uint16Array(ht,0,dt):pt=null,it=pt,it.set(tt),tt.length}it!=null&&(nt||(et.__triangleIndexBufferData=it))}},_e.resizeVertexBuffer=function(et,nt,rt){var tt=nt?et.__vertexBufferDataUVT:et.__vertexBufferData,it=null;if(tt==null){var st=null,at=null,_t=null,ut=null,ot;rt!=null?ot=new Float32Array(rt):st!=null?ot=new Float32Array(st):at!=null?ot=new Float32Array(at):_t!=null?ut==null?ot=new Float32Array(_t,0):ot=new Float32Array(_t,0,ut):ot=null,it=ot}else if(rt>tt.length){var lt=null,ft=null,ht=null,dt=null,pt;rt!=null?pt=new Float32Array(rt):lt!=null?pt=new Float32Array(lt):ft!=null?pt=new Float32Array(ft):ht!=null?dt==null?pt=new Float32Array(ht,0):pt=new Float32Array(ht,0,dt):pt=null,it=pt,it.set(tt)}it!=null&&(nt?et.__vertexBufferDataUVT=it:et.__vertexBufferData=it)},_e.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},_e.blankBitmapData=new(o()).default(1,1,!1,0),_e.tempColorTransform=new(c()).default(1,1,1,1,0,0,0,0),e.default=_e}(Context3DGraphics)),Context3DGraphics}var CanvasRenderer$1={},CanvasBitmapData={},hasRequiredCanvasBitmapData;function requireCanvasBitmapData(){return hasRequiredCanvasBitmapData||(hasRequiredCanvasBitmapData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageType()}function c(){return requireImageCanvasUtil()}var s=function(){};s.__name__="openfl.display._internal.CanvasBitmapData",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.CanvasBitmapData"]=s,s.renderDrawable=function(h,f){if(h.readable){var g=h.image;g.type==o().default.DATA&&c().default.convertToCanvas(g);var b=f.context;b.globalAlpha=1,f.setTransform(h.__renderTransform,b),b.drawImage(g.get_src(),0,0,g.width,g.height)}},s.renderDrawableMask=function(h,f){},e.default=s}(CanvasBitmapData)),CanvasBitmapData}var CanvasBitmap={},CanvasDisplayObject={},CanvasShape={},hasRequiredCanvasShape;function requireCanvasShape(){return hasRequiredCanvasShape||(hasRequiredCanvasShape=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCanvasGraphics()}function c(){return Matrix$2}var s=function(){};s.__name__="openfl.display._internal.CanvasShape",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.CanvasShape"]=s,s.render=function(h,f){if(h.__renderable){var g=f.__getAlpha(h.__worldAlpha);if(!(g<=0)){var b=h.__graphics;if(b!=null){o().default.render(b,f);var k=b.__width,$=b.__height,j=b.__canvas;if(j!=null&&b.__visible&&k>=1&&$>=1){var _e=b.__worldTransform,et=f.context,nt=h.__scrollRect,rt=h.__worldScale9Grid;if(nt==null||nt.width>0&&nt.height>0){if(f.__setBlendMode(h.__worldBlendMode),f.__pushMaskObject(h),et.globalAlpha=g,rt!=null&&_e.b==0&&_e.c==0){var tt=f.__pixelRatio,it=c().default.__pool.get();it.translate(_e.tx,_e.ty),f.setTransform(it,et),c().default.__pool.release(it);var st=b.__bounds,at=b.__renderTransform.a/b.__bitmapScale,_t=b.__renderTransform.d/b.__bitmapScale,ut=at*_e.a,ot=_t*_e.d,lt=Math.max(1,Math.round(rt.x*at)),ft=Math.round(rt.y*_t),ht=Math.max(1,Math.round((st.get_right()-rt.get_right())*at)),dt=Math.round((st.get_bottom()-rt.get_bottom())*_t),pt=Math.round(rt.width*at),xt=Math.round(rt.height*_t),vt=Math.round(lt/tt),bt=Math.round(ft/tt),wt=Math.round(ht/tt),At=Math.round(dt/tt),ct=st.width*ut-vt-wt,mt=st.height*ot-bt-At;if(f.applySmoothing(et,!1),pt!=0&&xt!=0)et.drawImage(j,0,0,lt,ft,0,0,vt,bt),et.drawImage(j,lt,0,pt,ft,vt,0,ct,bt),et.drawImage(j,lt+pt,0,ht,ft,vt+ct,0,wt,bt),et.drawImage(j,0,ft,lt,xt,0,bt,vt,mt),et.drawImage(j,lt,ft,pt,xt,vt,bt,ct,mt),et.drawImage(j,lt+pt,ft,ht,xt,vt+ct,bt,wt,mt),et.drawImage(j,0,ft+xt,lt,dt,0,bt+mt,vt,At),et.drawImage(j,lt,ft+xt,pt,dt,vt,bt+mt,ct,At),et.drawImage(j,lt+pt,ft+xt,ht,dt,vt+ct,bt+mt,wt,At);else if(pt==0&&xt!=0){var gt=vt+ct+wt;et.drawImage(j,0,0,k,ft,0,0,gt,bt),et.drawImage(j,0,ft,k,xt,0,bt,gt,mt),et.drawImage(j,0,ft+xt,k,dt,0,bt+mt,gt,At)}else if(xt==0&&pt!=0){var Tt=bt+mt+At;et.drawImage(j,0,0,lt,$,0,0,vt,Tt),et.drawImage(j,lt,0,pt,$,vt,0,ct,Tt),et.drawImage(j,lt+pt,0,ht,$,vt+ct,0,wt,Tt)}}else f.setTransform(_e,et),et.drawImage(j,0,0,k,$);f.__popMaskObject(h)}}}}}},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(CanvasShape)),CanvasShape}var hasRequiredCanvasDisplayObject;function requireCanvasDisplayObject(){return hasRequiredCanvasDisplayObject||(hasRequiredCanvasDisplayObject=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCanvasShape()}function c(){return requireCanvasBitmap()}function s(){return requireCanvasGraphics()}var h=function(){};h.__name__="openfl.display._internal.CanvasDisplayObject",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.CanvasDisplayObject"]=h,h.render=function(f,g){if(!(f.opaqueBackground==null&&f.__graphics==null)&&f.__renderable){var b=g.__getAlpha(f.__worldAlpha);if(!(b<=0)){if(f.opaqueBackground!=null&&!f.__isCacheBitmapRender&&f.get_width()>0&&f.get_height()>0){g.__setBlendMode(f.__worldBlendMode),g.__pushMaskObject(f);var k=g.context;g.setTransform(f.__renderTransform,k);var $=f.opaqueBackground;k.fillStyle="rgb("+($>>>16&255)+","+($>>>8&255)+","+($&255)+")",k.fillRect(0,0,f.get_width(),f.get_height()),g.__popMaskObject(f)}f.__graphics!=null&&o().default.render(f,g)}}},h.renderDrawable=function(f,g){(f.get_mask()==null||f.get_mask().get_width()>0&&f.get_mask().get_height()>0)&&(g.__updateCacheBitmap(f,!1),f.__cacheBitmap!=null&&!f.__isCacheBitmapRender?c().default.render(f.__cacheBitmap,g):h.render(f,g)),g.__renderEvent(f)},h.renderDrawableMask=function(f,g){f.__graphics!=null&&s().default.renderMask(f.__graphics,g)},h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(CanvasDisplayObject)),CanvasDisplayObject}var hasRequiredCanvasBitmap;function requireCanvasBitmap(){return hasRequiredCanvasBitmap||(hasRequiredCanvasBitmap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireImageCanvasUtil()}function c(){return requireCanvasDisplayObject()}var s=function(){};s.__name__="openfl.display._internal.CanvasBitmap",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.CanvasBitmap"]=s,s.render=function(h,f){if(h.__renderable){var g=f.__getAlpha(h.__worldAlpha);if(g>0&&h.__bitmapData!=null&&h.__bitmapData.__isValid&&h.__bitmapData.readable){var b=f.context;f.__setBlendMode(h.__worldBlendMode),f.__pushMaskObject(h,!1),o().default.convertToCanvas(h.__bitmapData.image),b.globalAlpha=g;var k=h.__scrollRect;f.setTransform(h.__renderTransform,b),(!f.__allowSmoothing||!h.smoothing)&&(b.imageSmoothingEnabled=!1),k==null?b.drawImage(h.__bitmapData.image.get_src(),0,0,h.__bitmapData.image.width,h.__bitmapData.image.height):b.drawImage(h.__bitmapData.image.get_src(),k.x,k.y,k.width,k.height,k.x,k.y,k.width,k.height),(!f.__allowSmoothing||!h.smoothing)&&(b.imageSmoothingEnabled=!0),f.__popMaskObject(h,!1)}}},s.renderDrawable=function(h,f){f.__updateCacheBitmap(h,!1),h.__bitmapData!=null&&h.__bitmapData.image!=null&&(h.__imageVersion=h.__bitmapData.image.version),h.__cacheBitmap!=null&&!h.__isCacheBitmapRender?s.render(h.__cacheBitmap,f):(c().default.render(h,f),s.render(h,f)),f.__renderEvent(h)},s.renderDrawableMask=function(h,f){f.context.rect(0,0,h.get_width(),h.get_height())},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(CanvasBitmap)),CanvasBitmap}var CanvasDisplayObjectContainer={},hasRequiredCanvasDisplayObjectContainer;function requireCanvasDisplayObjectContainer(){return hasRequiredCanvasDisplayObjectContainer||(hasRequiredCanvasDisplayObjectContainer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCanvasDisplayObject()}function c(){return requireCanvasGraphics()}var s=function(){};s.__name__="openfl.display._internal.CanvasDisplayObjectContainer",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.CanvasDisplayObjectContainer"]=s,s.renderDrawable=function(h,f){if(h.__cleanupRemovedChildren(),!(!h.__renderable||h.__worldAlpha<=0||h.get_mask()!=null&&(h.get_mask().get_width()<=0||h.get_mask().get_height()<=0))&&(o().default.renderDrawable(h,f),!(h.__cacheBitmap!=null&&!h.__isCacheBitmapRender))){if(f.__pushMaskObject(h),f.__stage!=null){for(var g=0,b=h.__children;g<b.length;){var k=b[g];++g,f.__renderDrawable(k),k.__renderDirty=!1}h.__renderDirty=!1}else for(var $=0,j=h.__children;$<j.length;){var _e=j[$];++$,f.__renderDrawable(_e)}f.__popMaskObject(h)}},s.renderDrawableMask=function(h,f){h.__cleanupRemovedChildren(),h.__graphics!=null&&c().default.renderMask(h.__graphics,f);for(var g=0,b=h.__children;g<b.length;){var k=b[g];++g,f.__renderDrawableMask(k)}},e.default=s}(CanvasDisplayObjectContainer)),CanvasDisplayObjectContainer}var CanvasSimpleButton={},hasRequiredCanvasSimpleButton;function requireCanvasSimpleButton(){return hasRequiredCanvasSimpleButton||(hasRequiredCanvasSimpleButton=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display._internal.CanvasSimpleButton",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.CanvasSimpleButton"]=o,o.renderDrawable=function(c,s){!c.__renderable||c.__worldAlpha<=0||c.__currentState==null||(s.__pushMaskObject(c),s.__renderDrawable(c.__currentState),s.__popMaskObject(c),s.__renderEvent(c))},o.renderDrawableMask=function(c,s){s.__renderDrawableMask(c.__currentState)},e.default=o}(CanvasSimpleButton)),CanvasSimpleButton}var CanvasTextField={},TextEngine={},TextField$2={},TextLineMetrics$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f,g,b){this.x=c,this.width=s,this.height=h,this.ascent=f,this.descent=g,this.leading=b};o.__name__="openfl.text.TextLineMetrics",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.text.TextLineMetrics"]=o,e.default=o})(TextLineMetrics$1);var TextFormat$2={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}var c=function(s,h,f,g,b,k,$,j,_e,et,nt,rt,tt){this.font=s,this.size=h,this.color=f,this.bold=g,this.italic=b,this.underline=k,this.url=$,this.target=j,this.align=_e,this.leftMargin=et,this.rightMargin=nt,this.indent=rt,this.leading=tt};c.__name__="openfl.text.TextFormat",c.__isInterface__=!1,c.prototype={clone:function(){var s=new c(this.font,this.size,this.color,this.bold,this.italic,this.underline,this.url,this.target);return s.align=this.align,s.leftMargin=this.leftMargin,s.rightMargin=this.rightMargin,s.indent=this.indent,s.leading=this.leading,s.blockIndent=this.blockIndent,s.bullet=this.bullet,s.kerning=this.kerning,s.letterSpacing=this.letterSpacing,s.tabStops=this.tabStops,s.__ascent=this.__ascent,s.__descent=this.__descent,s.__cacheKey=this.__toCacheKey(),s},__merge:function(s){s.font!=null&&(this.font=s.font),s.size!=null&&(this.size=s.size),s.color!=null&&(this.color=s.color),s.bold!=null&&(this.bold=s.bold),s.italic!=null&&(this.italic=s.italic),s.underline!=null&&(this.underline=s.underline),s.url!=null&&(this.url=s.url),s.target!=null&&(this.target=s.target),s.align!=null&&(this.align=s.align),s.leftMargin!=null&&(this.leftMargin=s.leftMargin),s.rightMargin!=null&&(this.rightMargin=s.rightMargin),s.indent!=null&&(this.indent=s.indent),s.leading!=null&&(this.leading=s.leading),s.blockIndent!=null&&(this.blockIndent=s.blockIndent),s.bullet!=null&&(this.bullet=s.bullet),s.kerning!=null&&(this.kerning=s.kerning),s.letterSpacing!=null&&(this.letterSpacing=s.letterSpacing),s.tabStops!=null&&(this.tabStops=s.tabStops),s.__ascent!=null&&(this.__ascent=s.__ascent),s.__descent!=null&&(this.__descent=s.__descent),this.__toCacheKey()},__toCacheKey:function(){return this.__cacheKey=""+this.font+this.size+o().default.string(this.bold)+o().default.string(this.italic)}},c.prototype.__class__=c.prototype.constructor=d["openfl.text.TextFormat"]=c,c.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=c})(TextFormat$2);var TextFormatRange={},hasRequiredTextFormatRange;function requireTextFormatRange(){return hasRequiredTextFormatRange||(hasRequiredTextFormatRange=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h){this.format=c,this.start=s,this.end=h};o.__name__="openfl.text._internal.TextFormatRange",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.text._internal.TextFormatRange"]=o,e.default=o}(TextFormatRange)),TextFormatRange}var URLRequest$1={},URLRequestDefaults$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.net.URLRequestDefaults",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.net.URLRequestDefaults"]=o,o.followRedirects=!0,o.idleTimeout=0,o.manageCookies=!0,e.default=o})(URLRequestDefaults$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return URLRequestDefaults$1}var c=function(s){s!=null&&(this.url=s),this.contentType=null,this.followRedirects=o().default.followRedirects,o().default.idleTimeout>0?this.idleTimeout=o().default.idleTimeout:this.idleTimeout=3e4,this.manageCookies=o().default.manageCookies,this.method="GET",this.requestHeaders=[],this.userAgent=o().default.userAgent};c.__name__="openfl.net.URLRequest",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.net.URLRequest"]=c,e.default=c})(URLRequest$1);var HTMLParser={},hasRequiredHTMLParser;function requireHTMLParser(){return hasRequiredHTMLParser||(hasRequiredHTMLParser=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireEReg()}function c(){return requireStd()}function s(){return requireStringTools()}function h(){return VectorData}function f(){return requireHxOverrides()}function g(){return requireVector_Impl_()}function b(){return requireTextFormatRange()}var k=function(){};k.__name__="openfl.text._internal.HTMLParser",k.__isInterface__=!1,k.prototype={},k.prototype.__class__=k.prototype.constructor=d["openfl.text._internal.HTMLParser"]=k,k.parse=function($,j,_e,et,nt){j?$=k.__regexBreakTag.replace($,`
`):$=k.__regexBreakTag.replace($,""),$=k.__regexEntities[5].replace($," "),$=k.__regexCharEntity.map($,function(Rt){var Ft=Rt.matched(1),Lt=Rt.matched(2);if(Ft!=null){var Ot=c().default.parseInt(Ft);if(Ot!=null)return String.fromCodePoint(Ot)}if(Lt!=null){var Kt=c().default.parseInt("0"+Lt);if(Kt!=null)return String.fromCodePoint(Kt)}return Rt.matched(0)});var rt=$.split("<");if(rt.length==1){if($=s().default.htmlUnescape(k.__regexHTMLTag.replace($,"")),nt.get_length()>1){var tt=nt.get_length()-1;h().default.ofArray(Array.prototype.splice.call(nt,1,tt))}var it=nt[0];return it.format=et,it.start=0,it.end=$.length,$}else{var st=nt.get_length();h().default.ofArray(Array.prototype.splice.call(nt,0,st)),$="";for(var at=[et.clone()],_t=[],ut,ot=!1,lt=0;lt<rt.length;){var ft=rt[lt];if(++lt,ft!=""){var ht=f().default.substr(ft,0,1)=="/",dt=ft.indexOf(">"),pt=dt+1,xt=ft.indexOf(" "),vt=ft.substring(ht?1:0,xt>-1&&xt<dt?xt:dt).toLowerCase(),bt;if(ht){if(_t.length==0||vt!=_t[_t.length-1])continue;_t.pop(),at.pop(),bt=at[at.length-1].clone(),(vt=="p"||vt=="li")&&nt.get_length()>0&&(j&&($+=`
`),ot=!0),pt<ft.length&&(ut=s().default.htmlUnescape(f().default.substr(ft,pt,null)),g().default.push(nt,new(b()).default(bt,$.length,$.length+ut.length)),$+=ut,ot=!1)}else if(bt=at[at.length-1].clone(),dt>-1){switch(_e!=null&&(_e.__applyStyle(vt,bt),k.__regexClass.match(ft)&&(_e.__applyStyle("."+k.__getAttributeMatch(k.__regexClass),bt),_e.__applyStyle(vt+"."+k.__getAttributeMatch(k.__regexClass),bt))),vt){case"a":_e!=null&&_e.__applyStyle("a:link",bt),k.__regexHref.match(ft)&&(bt.url=k.__getAttributeMatch(k.__regexHref));break;case"b":bt.bold=!0;break;case"em":case"i":bt.italic=!0;break;case"font":if(k.__regexFace.match(ft)&&(bt.font=k.__getAttributeMatch(k.__regexFace)),k.__regexColor.match(ft)&&(bt.color=c().default.parseInt("0x"+k.__getAttributeMatch(k.__regexColor))),k.__regexSize.match(ft)){var wt=k.__getAttributeMatch(k.__regexSize),At=f().default.cca(wt,0);if(At==43||At==45){var ct=at.length>=2?at[at.length-2]:et;bt.size=ct.size+c().default.parseInt(wt)}else bt.size=c().default.parseInt(wt)}break;case"li":nt.get_length()>0&&!ot&&($+=`
`);var mt=" ",gt=bt.clone();gt.underline=!1,g().default.push(nt,new(b()).default(gt,$.length,$.length+mt.length)),$+=mt;break;case"p":if(nt.get_length()>0&&!ot&&($+=`
`),k.__regexAlign.match(ft)){var Tt=k.__getAttributeMatch(k.__regexAlign).toLowerCase();bt.align=Tt}break;case"textformat":if(k.__regexBlockIndent.match(ft)&&(bt.blockIndent=c().default.parseInt(k.__getAttributeMatch(k.__regexBlockIndent))),k.__regexIndent.match(ft)&&(bt.indent=c().default.parseInt(k.__getAttributeMatch(k.__regexIndent))),k.__regexLeading.match(ft)&&(bt.leading=c().default.parseInt(k.__getAttributeMatch(k.__regexLeading))),k.__regexLeftMargin.match(ft)&&(bt.leftMargin=c().default.parseInt(k.__getAttributeMatch(k.__regexLeftMargin))),k.__regexRightMargin.match(ft)&&(bt.rightMargin=c().default.parseInt(k.__getAttributeMatch(k.__regexRightMargin))),k.__regexTabStops.match(ft)){for(var yt=k.__getAttributeMatch(k.__regexTabStops).split(" "),Et=[],Ct=0;Ct<yt.length;){var It=yt[Ct];++Ct,Et.push(c().default.parseInt(It))}bt.tabStops=Et}break;case"u":bt.underline=!0;break}at.push(bt),_t.push(vt),pt<ft.length&&(ut=s().default.htmlUnescape(ft.substring(pt)),g().default.push(nt,new(b()).default(bt,$.length,$.length+ut.length)),$+=ut,ot=!1)}else ut=s().default.htmlUnescape(ft),g().default.push(nt,new(b()).default(bt,$.length,$.length+ut.length)),$+=ut,ot=!1}}nt.get_length()==0&&g().default.push(nt,new(b()).default(at[0],0,0))}return $},k.__getAttributeMatch=function($){return $.matched(2)!=null?$.matched(2):$.matched(3)},k.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},k.__regexAlign=new(o()).default(`align\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexBreakTag=new(o()).default("<br\\s*/?>","gi"),k.__regexBlockIndent=new(o()).default(`blockindent\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexClass=new(o()).default(`class\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexColor=new(o()).default(`color\\s?=\\s?("#([^"]+)"|'#([^']+)')`,"i"),k.__regexEntities=[new(o()).default("&quot;","g"),new(o()).default("&apos;","g"),new(o()).default("&amp;","g"),new(o()).default("&lt;","g"),new(o()).default("&gt;","g"),new(o()).default("&nbsp;","g")],k.__regexCharEntity=new(o()).default("&#(?:([0-9]+)|(x[0-9a-fA-F]+));","g"),k.__regexFace=new(o()).default(`face\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexHTMLTag=new(o()).default("<.*?>","g"),k.__regexHref=new(o()).default(`href\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexIndent=new(o()).default(` indent\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexLeading=new(o()).default(`leading\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexLeftMargin=new(o()).default(`leftmargin\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexRightMargin=new(o()).default(`rightmargin\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexSize=new(o()).default(`size\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),k.__regexTabStops=new(o()).default(`tabstops\\s?=\\s?("([^"]+)"|'([^']+)')`,"i"),e.default=k}(HTMLParser)),HTMLParser}var KeyModifier_Impl_={},hasRequiredKeyModifier_Impl_;function requireKeyModifier_Impl_(){return hasRequiredKeyModifier_Impl_||(hasRequiredKeyModifier_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.ui._KeyModifier.KeyModifier_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.ui._KeyModifier.KeyModifier_Impl_"]=o,o.get_altKey=function(c){return(c&256)<=0?(c&512)>0:!0},o.set_altKey=function(c,s){return s},o.get_capsLock=function(c){return(c&8192)<=0?(c&8192)>0:!0},o.set_capsLock=function(c,s){return s},o.get_ctrlKey=function(c){return(c&64)<=0?(c&128)>0:!0},o.set_ctrlKey=function(c,s){return s},o.get_metaKey=function(c){return(c&1024)<=0?(c&2048)>0:!0},o.set_metaKey=function(c,s){return s},o.get_numLock=function(c){return(c&4096)<=0?(c&4096)>0:!0},o.set_numLock=function(c,s){return s},o.get_shiftKey=function(c){return(c&1)<=0?(c&2)>0:!0},o.set_shiftKey=function(c,s){return s},o.NONE=0,o.LEFT_SHIFT=1,o.RIGHT_SHIFT=2,o.LEFT_CTRL=64,o.RIGHT_CTRL=128,o.LEFT_ALT=256,o.RIGHT_ALT=512,o.LEFT_META=1024,o.RIGHT_META=2048,o.NUM_LOCK=4096,o.CAPS_LOCK=8192,o.MODE=16384,o.CTRL=192,o.SHIFT=3,o.ALT=768,o.META=3072,e.default=o}(KeyModifier_Impl_)),KeyModifier_Impl_}var hasRequiredTextField;function requireTextField(){return hasRequiredTextField||(hasRequiredTextField=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return InteractiveObject$1}function h(){return Rectangle$2}function f(){return requireVectorIterator()}function g(){return TextLineMetrics$1}function b(){return requireHaxeError()}function k(){return _RangeError$1}function $(){return TextFormat$2}function j(){return requireTextFormatRange()}function _e(){return requireVector_Impl_()}function et(){return requireLog()}function nt(){return requireStringTools()}function rt(){return TextEvent$1}function tt(){return requireHxOverrides()}function it(){return requireLib()}function st(){return URLRequest$1}function at(){return requireCallStack()}function _t(){return VectorData}function ut(){return requireTimer()}function ot(){return DisplayObject$1}function lt(){return requireStd()}function ft(){return requireEReg()}function ht(){return requireHTMLParser()}function dt(){return Event$1}function pt(){return requireClipboard()}function xt(){return requireKeyModifier_Impl_()}function vt(){return requireStringMap()}function bt(){return requireGraphics()}function wt(){return requireTextEngine()}var At=function(){this.__forceCachedBitmapUpdate=!1,this.__renderedOnCanvasWhileOnDOM=!1,this.__mouseScrollVCounter=0,this.condenseWhite=!1,s().default.call(this),this.__drawableType=7,this.__caretIndex=-1,this.__selectionIndex=-1,this.__displayAsPassword=!1,this.__graphics=new(bt()).default(this),this.__textEngine=new(wt()).default(this),this.__layoutDirty=!0,this.__offsetX=0,this.__offsetY=0,this.__mouseWheelEnabled=!0,this.__text="",this.doubleClickEnabled=!0,At.__defaultTextFormat==null&&(At.__defaultTextFormat=new($()).default("Times New Roman",12,0,!1,!1,!1,"","","left",0,0,0,0),At.__defaultTextFormat.blockIndent=0,At.__defaultTextFormat.bullet=!1,At.__defaultTextFormat.letterSpacing=0,At.__defaultTextFormat.kerning=!1),this.__textFormat=At.__defaultTextFormat.clone(),_e().default.push(this.__textEngine.textFormatRanges,new(j()).default(this.__textFormat,0,0)),this.addEventListener("mouseDown",o(this,this.this_onMouseDown)),this.addEventListener("focusIn",o(this,this.this_onFocusIn)),this.addEventListener("focusOut",o(this,this.this_onFocusOut)),this.addEventListener("keyDown",o(this,this.this_onKeyDown)),this.addEventListener("mouseWheel",o(this,this.this_onMouseWheel)),this.addEventListener("doubleClick",o(this,this.this_onDoubleClick))};At.__name__="openfl.text.TextField",At.__isInterface__=!1,At.__super__=s().default,At.prototype=c(s().default.prototype,{appendText:function(ct){ct==null||ct==""||(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty(),this.__updateText(this.__text+ct),this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.get_length()-1].end=this.__text.length,this.__selectionIndex=this.__caretIndex=this.__text.length)},getCharBoundaries:function(ct){if(ct<0||ct>this.__text.length-1)return null;var mt=new(h()).default;return this.__getCharBoundaries(ct,mt)?mt:null},getCharIndexAtPoint:function(ct,mt){if(ct<=2||ct>this.get_width()+4||mt<=0||mt>this.get_height()+4)return-1;this.__updateLayout(),ct+=this.get_scrollH();for(var gt=0,Tt=this.get_scrollV()-1;gt<Tt;){var yt=gt++;mt+=this.__textEngine.lineHeights[yt]}for(var Et=new(f()).default(this.__textEngine.layoutGroups);Et.hasNext();){var Ct=Et.next();if(mt>=Ct.offsetY&&mt<=Ct.offsetY+Ct.height&&ct>=Ct.offsetX&&ct<=Ct.offsetX+Ct.width){for(var It=0,Rt=0,Ft=Ct.positions.length;Rt<Ft;){var Lt=Rt++;if(It+=Ct.getAdvance(Lt),ct<=Ct.offsetX+It)return Ct.startIndex+Lt}return Ct.endIndex}}return-1},getFirstCharInParagraph:function(ct){if(ct<0||ct>this.get_text().length)return-1;if(this.__textEngine.lineBreaks.get_length()==0)return 0;for(var mt=0,gt=this.__textEngine.lineBreaks.get_length();mt<gt;){var Tt=mt++;if(ct<=this.__textEngine.lineBreaks[Tt])return Tt==0?0:this.__textEngine.lineBreaks[Tt-1]+1}return this.__textEngine.lineBreaks[this.__textEngine.lineBreaks.get_length()-1]+1},getLineIndexAtPoint:function(ct,mt){if(this.__updateLayout(),ct<=2||ct>this.get_width()+4||mt<=0||mt>this.get_height()+4)return-1;for(var gt=0,Tt=this.get_scrollV()-1;gt<Tt;){var yt=gt++;mt+=this.__textEngine.lineHeights[yt]}for(var Et=new(f()).default(this.__textEngine.layoutGroups);Et.hasNext();){var Ct=Et.next();if(mt>=Ct.offsetY&&mt<=Ct.offsetY+Ct.height)return Ct.lineIndex}return-1},getLineIndexOfChar:function(ct){if(ct<0||ct>this.__text.length)return-1;this.__updateLayout();for(var mt=new(f()).default(this.__textEngine.layoutGroups);mt.hasNext();){var gt=mt.next();if(gt.startIndex<=ct&&gt.endIndex>=ct)return gt.lineIndex}return-1},getLineLength:function(ct){if(this.__updateLayout(),ct<0||ct>this.__textEngine.numLines-1)return 0;for(var mt=-1,gt=-1,Tt=new(f()).default(this.__textEngine.layoutGroups);Tt.hasNext();){var yt=Tt.next();if(yt.lineIndex==ct)mt==-1&&(mt=yt.startIndex);else if(yt.lineIndex==ct+1){gt=yt.startIndex;break}}return gt==-1&&(gt=this.__text.length),gt-mt},getLineMetrics:function(ct){this.__updateLayout();var mt=this.__textEngine.lineAscents[ct],gt=this.__textEngine.lineDescents[ct],Tt=this.__textEngine.lineLeadings[ct],yt=this.__textEngine.lineHeights[ct],Et=this.__textEngine.lineWidths[ct],Ct;switch(this.__textFormat.align){case"center":Ct=(this.__textEngine.width-Et)/2;break;case"end":case"right":Ct=this.__textEngine.width-Et-2;break;case"justify":case"left":case"start":Ct=2;break}return new(g()).default(Ct,Et,yt,mt,gt,Tt)},getLineOffset:function(ct){if(this.__updateLayout(),ct<0||ct>this.__textEngine.numLines-1)return-1;for(var mt=new(f()).default(this.__textEngine.layoutGroups);mt.hasNext();){var gt=mt.next();if(gt.lineIndex==ct)return gt.startIndex}return 0},getLineText:function(ct){if(this.__updateLayout(),ct<0||ct>this.__textEngine.numLines-1)return null;for(var mt=-1,gt=-1,Tt=new(f()).default(this.__textEngine.layoutGroups);Tt.hasNext();){var yt=Tt.next();if(yt.lineIndex==ct)mt==-1&&(mt=yt.startIndex);else if(yt.lineIndex==ct+1){gt=yt.startIndex;break}}return gt==-1&&(gt=this.__text.length),this.__textEngine.text.substring(mt,gt)},getParagraphLength:function(ct){if(ct<0||ct>this.get_text().length)return-1;var mt=this.getFirstCharInParagraph(ct);if(ct>=this.get_text().length)return this.get_text().length-mt+1;var gt=this.__textEngine.getLineBreakIndex(ct)+1;return gt==0&&(gt=this.__text.length),gt-mt},getTextFormat:function(ct,mt){mt==null&&(mt=-1),ct==null&&(ct=-1);var gt=null;if(ct>=this.get_text().length||ct<-1||mt>this.get_text().length||mt<-1)throw new(b()).default(new(k()).default("The supplied index is out of bounds"));if(ct==-1&&(ct=0),mt==-1&&(mt=this.get_text().length),ct>=mt)return new($()).default;for(var Tt=new(f()).default(this.__textEngine.textFormatRanges);Tt.hasNext();){var yt=Tt.next();(yt.start<=ct&&yt.end>ct||yt.start<mt&&yt.end>=mt)&&(gt==null?gt=yt.format.clone():(yt.format.font!=gt.font&&(gt.font=null),yt.format.size!=gt.size&&(gt.size=null),yt.format.color!=gt.color&&(gt.color=null),yt.format.bold!=gt.bold&&(gt.bold=null),yt.format.italic!=gt.italic&&(gt.italic=null),yt.format.underline!=gt.underline&&(gt.underline=null),yt.format.url!=gt.url&&(gt.url=null),yt.format.target!=gt.target&&(gt.target=null),yt.format.align!=gt.align&&(gt.align=null),yt.format.leftMargin!=gt.leftMargin&&(gt.leftMargin=null),yt.format.rightMargin!=gt.rightMargin&&(gt.rightMargin=null),yt.format.indent!=gt.indent&&(gt.indent=null),yt.format.leading!=gt.leading&&(gt.leading=null),yt.format.blockIndent!=gt.blockIndent&&(gt.blockIndent=null),yt.format.bullet!=gt.bullet&&(gt.bullet=null),yt.format.kerning!=gt.kerning&&(gt.kerning=null),yt.format.letterSpacing!=gt.letterSpacing&&(gt.letterSpacing=null),yt.format.tabStops!=gt.tabStops&&(gt.tabStops=null)))}return gt==null&&(gt=new($()).default),gt},replaceSelectedText:function(ct){this.__replaceSelectedText(ct,!1)},replaceText:function(ct,mt,gt){this.__replaceText(ct,mt,gt,!1)},setSelection:function(ct,mt){this.__selectionIndex=ct,this.__caretIndex=mt,this.__updateScrollV(),this.__updateScrollH(),this.stage!=null&&this.stage.get_focus()==this&&(this.__stopCursorTimer(),this.__startCursorTimer())},setTextFormat:function(ct,mt,gt){gt==null&&(gt=-1),mt==null&&(mt=-1);var Tt=this.get_text().length,yt;if(mt==-1?(gt==-1&&(gt=Tt),mt=0):gt==-1&&(gt=mt+1),mt!=gt){if(mt<0||gt<=0||gt<mt||mt>=Tt||gt>Tt)throw new(b()).default(new(k()).default);if(mt==0&&gt==Tt)this.__textEngine.textFormatRanges.set_length(1),yt=this.__textEngine.textFormatRanges[0],yt.start=0,yt.end=Tt,yt.format.__merge(ct);else for(var Et=0,Ct;Et<this.__textEngine.textFormatRanges.get_length();)if(yt=this.__textEngine.textFormatRanges[Et],yt.end<=mt)++Et;else{if(yt.start>=gt)break;if(yt.start<=mt&&yt.end>=gt)if(yt.start==mt&&yt.end==gt){yt.format=yt.format.clone(),yt.format.__merge(ct);break}else if(yt.start==mt)Ct=new(j()).default(yt.format.clone(),mt,gt),Ct.format.__merge(ct),_e().default.insertAt(this.__textEngine.textFormatRanges,Et,Ct),yt.start=gt,Et+=2;else if(yt.end==gt){Ct=new(j()).default(yt.format.clone(),mt,gt),Ct.format.__merge(ct),_e().default.insertAt(this.__textEngine.textFormatRanges,Et+1,Ct),yt.end=mt;break}else{Ct=new(j()).default(yt.format.clone(),mt,gt),Ct.format.__merge(ct),_e().default.insertAt(this.__textEngine.textFormatRanges,Et+1,Ct),Ct=new(j()).default(yt.format.clone(),gt,yt.end),_e().default.insertAt(this.__textEngine.textFormatRanges,Et+2,Ct),yt.end=mt;break}else if(yt.start>=mt&&yt.end<=gt)yt.start==mt?(yt.format=yt.format.clone(),yt.format.__merge(ct),yt.end=gt):_e().default.removeAt(this.__textEngine.textFormatRanges,Et);else if(yt.start>mt&&yt.end>mt){yt.start=gt;break}else yt.start<mt&&yt.end<=gt?(Ct=new(j()).default(yt.format.clone(),mt,gt),Ct.format.__merge(ct),_e().default.insertAt(this.__textEngine.textFormatRanges,Et+1,Ct),yt.end=mt,Et+=2):(++Et,et().default.warn("You found a bug in OpenFL's text code! Please save a copy of your project and create an issue on GitHub so we can fix this.",{fileName:"../node_modules/openfl-haxelib/src/openfl/text/TextField.hx",lineNumber:1578,className:"openfl.text.TextField",methodName:"setTextFormat"}))}this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()}},__allowMouseFocus:function(){return this.mouseEnabled},__caretBeginningOfLine:function(){this.__caretIndex=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))},__caretBeginningOfNextLine:function(){var ct=this.getLineIndexOfChar(this.__caretIndex);ct<this.__textEngine.numLines-1?this.__caretIndex=this.getLineOffset(ct+1):this.__caretIndex=this.__text.length},__caretBeginningOfPreviousLine:function(){var ct=this.getLineIndexOfChar(this.__caretIndex);if(ct>0){var mt=this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex));this.__caretIndex==mt?this.__caretIndex=this.getLineOffset(ct-1):this.__caretIndex=mt}},__caretEndOfLine:function(){var ct=this.getLineIndexOfChar(this.__caretIndex);ct<this.__textEngine.numLines-1?this.__caretIndex=this.getLineOffset(ct+1)-1:this.__caretIndex=this.__text.length},__caretNextCharacter:function(){this.__caretIndex<this.__text.length&&this.__caretIndex++},__caretNextLine:function(){var ct=this.getLineIndexOfChar(this.__caretIndex);ct<this.__textEngine.numLines-1&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),ct+1))},__caretPreviousCharacter:function(){this.__caretIndex>0&&this.__caretIndex--},__caretPreviousLine:function(){var ct=this.getLineIndexOfChar(this.__caretIndex);ct>0&&(this.__caretIndex=this.__getCharIndexOnDifferentLine(this.get_caretIndex(),ct-1))},__disableInput:function(){this.__inputEnabled&&this.stage!=null&&(this.stage.window.set_textInputEnabled(!1),this.stage.window.onTextInput.remove(o(this,this.window_onTextInput)),this.stage.window.onKeyDown.remove(o(this,this.window_onKeyDown)),this.__inputEnabled=!1,this.__stopCursorTimer())},__dispatch:function(ct){if(ct.eventPhase==2&&ct.type=="mouseUp"){var mt=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);if(mt!=null){var gt=mt.format.url;gt!=null&&gt!=""&&(nt().default.startsWith(gt,"event:")?this.dispatchEvent(new(rt()).default("link",!0,!1,tt().default.substr(gt,6,null))):it().default.getURL(new(st()).default(gt)))}}return s().default.prototype.__dispatch.call(this,ct)},__enableInput:function(){this.stage!=null&&(this.stage.window.set_textInputEnabled(!0),this.__inputEnabled||(this.stage.window.set_textInputEnabled(!0),this.stage.window.onTextInput.has(o(this,this.window_onTextInput))||(this.stage.window.onTextInput.add(o(this,this.window_onTextInput)),this.stage.window.onKeyDown.add(o(this,this.window_onKeyDown))),this.__inputEnabled=!0,this.__stopCursorTimer(),this.__startCursorTimer()))},__getAdvance:function(ct){return ct},__getBounds:function(ct,mt){this.__updateLayout();var gt=h().default.__pool.get();gt.copyFrom(this.__textEngine.bounds),gt.offset(this.__offsetX,this.__offsetY),gt.__transform(gt,mt),ct.__expand(gt.x,gt.y,gt.width,gt.height),h().default.__pool.release(gt)},__getCharBoundaries:function(ct,mt){if(ct<0||ct>this.__text.length-1)return!1;this.__updateLayout();for(var gt=new(f()).default(this.__textEngine.layoutGroups);gt.hasNext();){var Tt=gt.next();if(ct>=Tt.startIndex&&ct<Tt.endIndex)try{for(var yt=Tt.offsetX,Et=0,Ct=ct-Tt.startIndex;Et<Ct;){var It=Et++;yt+=Tt.getAdvance(It)}var Rt=Tt.getAdvance(ct-Tt.startIndex);return mt.setTo(yt,Tt.offsetY,Rt,Tt.ascent+Tt.descent),!0}catch(Ft){at().default.lastException=Ft,Ft instanceof b().default&&Ft.val}}return!1},__getCharIndexOnDifferentLine:function(ct,mt){if(ct<0||ct>this.__text.length||mt<0||mt>this.__textEngine.numLines-1)return-1;for(var gt=null,Tt=null,yt=new(f()).default(this.__textEngine.layoutGroups);yt.hasNext();){var Et=yt.next();if(ct>=Et.startIndex&&ct<=Et.endIndex){gt=Et.offsetX;for(var Ct=0,It=ct-Et.startIndex;Ct<It;){var Rt=Ct++;gt+=Et.getAdvance(Rt)}if(Tt!=null)return this.__getPosition(gt,Tt)}if(Et.lineIndex==mt){Tt=Et.offsetY+Et.height/2;for(var Ft=0,Lt=this.get_scrollV()-1;Ft<Lt;){var Ot=Ft++;Tt-=this.__textEngine.lineHeights[Ot]}if(gt!=null)return this.__getPosition(gt,Tt)}}return-1},__getCursor:function(){var ct=this.__getGroup(this.get_mouseX(),this.get_mouseY(),!0);return ct!=null&&ct.format.url!=""?"button":this.__textEngine.selectable?"ibeam":null},__getGroup:function(ct,mt,gt){gt==null&&(gt=!1),this.__updateLayout(),ct+=this.get_scrollH();for(var Tt=0,yt=this.get_scrollV()-1;Tt<yt;){var Et=Tt++;mt+=this.__textEngine.lineHeights[Et]}!gt&&mt>this.__textEngine.textHeight&&(mt=this.__textEngine.textHeight);for(var Ct=!0,It,Rt,Ft=0,Lt=this.__textEngine.layoutGroups.get_length();Ft<Lt;){var Ot=Ft++;if(It=this.__textEngine.layoutGroups[Ot],Ot<this.__textEngine.layoutGroups.get_length()-1?Rt=this.__textEngine.layoutGroups[Ot+1]:Rt=null,Ct&&(mt<It.offsetY&&(mt=It.offsetY),ct<It.offsetX&&(ct=It.offsetX),Ct=!1),(mt>=It.offsetY&&mt<=It.offsetY+It.height||!gt&&Rt==null)&&(ct>=It.offsetX&&ct<=It.offsetX+It.width||!gt&&(Rt==null||Rt.lineIndex!=It.lineIndex)))return It}return null},__getPosition:function(ct,mt){var gt=this.__getGroup(ct,mt);if(gt==null)return this.__text.length;for(var Tt=0,yt=0,Et=gt.positions.length;yt<Et;){var Ct=yt++;if(Tt+=gt.getAdvance(Ct),ct<=gt.offsetX+Tt)return ct<=gt.offsetX+(Tt-gt.getAdvance(Ct))+gt.getAdvance(Ct)/2?gt.startIndex+Ct:gt.startIndex+Ct<gt.endIndex?gt.startIndex+Ct+1:gt.endIndex}return gt.endIndex},__hitTest:function(ct,mt,gt,Tt,yt,Et){if(!Et.get_visible()||this.__isMask||yt&&!this.mouseEnabled||this.get_mask()!=null&&!this.get_mask().__hitTestMask(ct,mt))return!1;this.__getRenderTransform(),this.__updateLayout();var Ct=this.__renderTransform.__transformInverseX(ct,mt),It=this.__renderTransform.__transformInverseY(ct,mt);return this.__textEngine.bounds.contains(Ct,It)?(Tt!=null&&Tt.push(Et),!0):!1},__hitTestMask:function(ct,mt){this.__getRenderTransform(),this.__updateLayout();var gt=this.__renderTransform.__transformInverseX(ct,mt),Tt=this.__renderTransform.__transformInverseY(ct,mt);return!!this.__textEngine.bounds.contains(gt,Tt)},__replaceSelectedText:function(ct,mt){if(mt==null&&(mt=!0),ct==null&&(ct=""),!(ct==""&&this.__selectionIndex==this.__caretIndex)){var gt=this.__caretIndex<this.__selectionIndex?this.__caretIndex:this.__selectionIndex,Tt=this.__caretIndex>this.__selectionIndex?this.__caretIndex:this.__selectionIndex;if(!(gt==Tt&&this.__textEngine.maxChars>0&&this.__text.length==this.__textEngine.maxChars)){if(gt>this.__text.length&&(gt=this.__text.length),Tt>this.__text.length&&(Tt=this.__text.length),Tt<gt){var yt=Tt;Tt=gt,gt=yt}gt<0&&(gt=0),this.__replaceText(gt,Tt,ct,mt)}}},__replaceText:function(ct,mt,gt,Tt){if(!(mt<ct||ct<0||mt>this.__text.length||gt==null)){if(Tt&&(gt=this.__textEngine.restrictText(gt),this.__textEngine.maxChars>0)){var yt=mt-ct,Et=this.__textEngine.maxChars-this.__text.length+yt;Et<=0?gt="":Et<gt.length&&(gt=tt().default.substr(gt,0,Et))}this.__updateText(this.__text.substring(0,ct)+gt+this.__text.substring(mt));for(var Ct=gt.length-(mt-ct),It=0,Rt;It<this.__textEngine.textFormatRanges.get_length();){if(Rt=this.__textEngine.textFormatRanges[It],ct==mt)Rt.start==Rt.end?Rt.start!=0?et().default.warn("You found a bug in OpenFL's text code! Please save a copy of your project and create an issue on GitHub so we can fix this.",{fileName:"../node_modules/openfl-haxelib/src/openfl/text/TextField.hx",lineNumber:2087,className:"openfl.text.TextField",methodName:"__replaceText"}):Rt.end+=Ct:Rt.end>=ct&&(Rt.start>=ct?(Rt.start+=Ct,Rt.end+=Ct):Rt.start<ct&&Rt.end>=mt&&(Rt.end+=Ct));else if(Rt.end>ct)if(Rt.start>mt)Rt.start+=Ct,Rt.end+=Ct;else if(Rt.start<=ct&&Rt.end>mt)Rt.end+=Ct;else if(Rt.start>=ct&&Rt.end<=mt){var Ft=this.__textEngine.textFormatRanges;_t().default.ofArray(Array.prototype.splice.call(Ft,It--,1))}else Rt.end>mt&&Rt.start>ct&&Rt.start<=mt?(Rt.start=ct,Rt.end+=Ct):Rt.start<ct&&Rt.end>ct&&Rt.end<=mt&&(Rt.end=ct);++It}this.__textEngine.textFormatRanges.get_length()==0?_e().default.push(this.__textEngine.textFormatRanges,new(j()).default(this.get_defaultTextFormat().clone(),0,gt.length)):ct==mt&&this.__textEngine.textFormatRanges[0].start>0?_e().default.unshift(this.__textEngine.textFormatRanges,new(j()).default(this.get_defaultTextFormat().clone(),0,this.__textEngine.textFormatRanges[0].start)):ct!=mt&&this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.get_length()-1].end<this.__text.length&&_e().default.push(this.__textEngine.textFormatRanges,new(j()).default(this.get_defaultTextFormat().clone(),this.__textEngine.textFormatRanges[this.__textEngine.textFormatRanges.get_length()-1].end,this.__text.length)),this.__selectionIndex=this.__caretIndex=ct+gt.length,this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()}},__startCursorTimer:function(){this.get_type()=="input"?(this.__inputEnabled&&(this.__cursorTimer=ut().default.delay(o(this,this.__startCursorTimer),600),this.__showCursor=!this.__showCursor),this.__dirty=!0,this.__setRenderDirty()):this.get_selectable()&&(this.__dirty=!0,this.__setRenderDirty())},__startTextInput:function(){this.__caretIndex<0&&(this.__caretIndex=this.__text.length,this.__selectionIndex=this.__caretIndex);var ct=ot().default.__supportDOM?this.__renderedOnCanvasWhileOnDOM:!0;ct&&this.__enableInput()},__stopCursorTimer:function(){this.__cursorTimer!=null&&(this.__cursorTimer.stop(),this.__cursorTimer=null),this.__showCursor&&(this.__showCursor=!1,this.__dirty=!0,this.__setRenderDirty())},__stopTextInput:function(){var ct=ot().default.__supportDOM?this.__renderedOnCanvasWhileOnDOM:!0;ct&&this.__disableInput()},__updateLayout:function(){if(this.__layoutDirty){var ct=this.__textEngine.width;if(this.__textEngine.update(),this.__textEngine.autoSize!="none"){if(this.__textEngine.width!=ct)switch(this.__textEngine.autoSize){case"center":var mt=this;mt.set_x(mt.get_x()+(ct-this.__textEngine.width)/2);break;case"right":var gt=this;gt.set_x(gt.get_x()+(ct-this.__textEngine.width));break}this.__textEngine.getBounds()}this.__layoutDirty=!1,this.setSelection(this.__selectionIndex,this.__caretIndex)}},__updateMouseDrag:function(){if(this.stage!=null){var ct=this.getBounds(this);if(this.get_mouseX()>ct.width-1){var mt=this;mt.set_scrollH(mt.get_scrollH()+lt().default.int(Math.max(Math.min((this.get_mouseX()-ct.width)*.1,10),1)))}else if(this.get_mouseX()<1){var gt=this;gt.set_scrollH(gt.get_scrollH()-lt().default.int(Math.max(Math.min(this.get_mouseX()*-.1,10),1)))}if(this.__mouseScrollVCounter++,this.__mouseScrollVCounter>this.stage.get_frameRate()/10){if(this.get_mouseY()>ct.height-2)this.set_scrollV(lt().default.int(Math.min(this.get_scrollV()+Math.max(Math.min((this.get_mouseY()-ct.height)*.03,5),1),this.get_maxScrollV())));else if(this.get_mouseY()<2){var Tt=this;Tt.set_scrollV(Tt.get_scrollV()-lt().default.int(Math.max(Math.min(this.get_mouseY()*-.03,5),1)))}this.__mouseScrollVCounter=0}this.stage_onMouseMove(null)}},__updateScrollH:function(){this.__updateLayout();var ct=this.getBounds(this);if(this.get_textWidth()<=ct.width-4){this.set_scrollH(0);return}var mt=this.get_scrollH();if(this.__caretIndex==0||this.getLineOffset(this.getLineIndexOfChar(this.__caretIndex))==this.__caretIndex)mt=0;else{var gt=h().default.__pool.get(),Tt=!1;for(this.__caretIndex<this.__text.length&&(Tt=this.__getCharBoundaries(this.__caretIndex,gt)),Tt||(this.__getCharBoundaries(this.__caretIndex-1,gt),gt.x+=gt.width);gt.x<mt&&mt>0;)mt-=24;for(;gt.x>mt+ct.width-4;)mt+=24;h().default.__pool.release(gt)}if(mt>0&&this.get_type()!="input"){var yt=this.getLineLength(this.getLineIndexOfChar(this.__caretIndex));this.get_scrollH()+ct.width-4>yt&&this.set_scrollH(Math.ceil(yt-ct.width+4))}mt<0?this.set_scrollH(0):mt>this.get_maxScrollH()?this.set_scrollH(this.get_maxScrollH()):this.set_scrollH(mt)},__updateScrollV:function(){if(this.__updateLayout(),this.get_textHeight()<=this.get_height()-4){this.set_scrollV(1);return}var ct=this.getLineIndexOfChar(this.__caretIndex);if(ct==-1&&this.__caretIndex>0&&(ct=this.getLineIndexOfChar(this.__caretIndex-1)+1),ct+1<this.get_scrollV())this.set_scrollV(ct+1);else if(ct+1>this.get_bottomScrollV()){var mt=ct,gt=0;for(mt>=this.__textEngine.lineHeights.get_length()&&(mt=this.__textEngine.lineHeights.get_length()-1);mt>=0;){if(gt+=this.__textEngine.lineHeights[mt],gt>this.get_height()-4){mt+=gt-this.get_height()<0?1:2;break}--mt}this.set_scrollV(mt)}else this.set_scrollV(this.get_scrollV())},__updateText:function(ct){if(ot().default.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=this.__text!=ct),this.__textEngine.set_text(ct),this.__text=this.__textEngine.text,this.stage!=null&&this.stage.get_focus()==this?(this.__text.length<this.__selectionIndex&&(this.__selectionIndex=this.__text.length),this.__text.length<this.__caretIndex&&(this.__caretIndex=this.__text.length)):this.__isHTML?this.__selectionIndex=this.__caretIndex=this.__text.length:(this.__selectionIndex=0,this.__caretIndex=0),!this.__displayAsPassword||ot().default.__supportDOM&&!this.__renderedOnCanvasWhileOnDOM)this.__textEngine.set_text(this.__text);else{for(var mt=this.get_text().length,gt="",Tt=0,yt=mt;Tt<yt;)Tt++,gt+="*";this.__textEngine.set_text(gt)}},__updateTransforms:function(ct){s().default.prototype.__updateTransforms.call(this,ct),this.__renderTransform.__translateTransformed(this.__offsetX,this.__offsetY)},get_antiAliasType:function(){return this.__textEngine.antiAliasType},set_antiAliasType:function(ct){return ct!=this.__textEngine.antiAliasType,this.__textEngine.antiAliasType=ct},get_autoSize:function(){return this.__textEngine.autoSize},set_autoSize:function(ct){return ct!=this.__textEngine.autoSize&&(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()),this.__textEngine.autoSize=ct},get_background:function(){return this.__textEngine.background},set_background:function(ct){return ct!=this.__textEngine.background&&(this.__dirty=!0,this.__setRenderDirty()),this.__textEngine.background=ct},get_backgroundColor:function(){return this.__textEngine.backgroundColor},set_backgroundColor:function(ct){return ct!=this.__textEngine.backgroundColor&&(this.__dirty=!0,this.__setRenderDirty()),this.__textEngine.backgroundColor=ct},get_border:function(){return this.__textEngine.border},set_border:function(ct){return ct!=this.__textEngine.border&&(this.__dirty=!0,this.__setRenderDirty()),this.__textEngine.border=ct},get_borderColor:function(){return this.__textEngine.borderColor},set_borderColor:function(ct){return ct!=this.__textEngine.borderColor&&(this.__dirty=!0,this.__setRenderDirty()),this.__textEngine.borderColor=ct},get_bottomScrollV:function(){return this.__updateLayout(),this.__textEngine.get_bottomScrollV()},get_caretIndex:function(){return this.__caretIndex},get_defaultTextFormat:function(){return this.__textFormat.clone()},set_defaultTextFormat:function(ct){return this.__textFormat.__merge(ct),this.__layoutDirty=!0,this.__dirty=!0,this.__setRenderDirty(),ct},get_displayAsPassword:function(){return this.__displayAsPassword},set_displayAsPassword:function(ct){return ct!=this.__displayAsPassword&&(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty(),this.__displayAsPassword=ct,this.__updateText(this.__text)),ct},get_embedFonts:function(){return this.__textEngine.embedFonts},set_embedFonts:function(ct){return this.__textEngine.embedFonts=ct},get_gridFitType:function(){return this.__textEngine.gridFitType},set_gridFitType:function(ct){return this.__textEngine.gridFitType=ct},get_height:function(){return this.__updateLayout(),this.__textEngine.height*Math.abs(this.get_scaleY())},set_height:function(ct){return ct!=this.__textEngine.height&&(this.__setTransformDirty(),this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty(),this.__textEngine.height=ct),this.__textEngine.height*Math.abs(this.get_scaleY())},get_htmlText:function(){return this.__isHTML?this.__htmlText:this.__text},set_htmlText:function(ct){return(!this.__isHTML||this.__text!=ct)&&(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()),this.__isHTML=!0,this.condenseWhite&&(ct=new(ft()).default("\\s+","g").replace(ct," ")),this.__htmlText=ct,ct=ht().default.parse(ct,this.get_multiline(),this.__styleSheet,this.__textFormat,this.__textEngine.textFormatRanges),this.__updateText(ct),ct},get_length:function(){return this.__text!=null?this.__text.length:0},get_maxChars:function(){return this.__textEngine.maxChars},set_maxChars:function(ct){return ct!=this.__textEngine.maxChars&&(this.__textEngine.maxChars=ct,this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()),ct},get_maxScrollH:function(){return this.__updateLayout(),this.__textEngine.maxScrollH},get_maxScrollV:function(){return this.__updateLayout(),this.__textEngine.get_maxScrollV()},get_mouseWheelEnabled:function(){return this.__mouseWheelEnabled},set_mouseWheelEnabled:function(ct){return this.__mouseWheelEnabled=ct},get_multiline:function(){return this.__textEngine.multiline},set_multiline:function(ct){return this.__textEngine.multiline=ct},get_numLines:function(){return this.__updateLayout(),this.__textEngine.numLines},get_restrict:function(){return this.__textEngine.restrict},set_restrict:function(ct){return this.__textEngine.restrict!=ct&&(this.__textEngine.set_restrict(ct),this.__updateText(this.__text)),ct},get_scrollH:function(){return this.__textEngine.scrollH},set_scrollH:function(ct){return this.__updateLayout(),ct>this.__textEngine.maxScrollH&&(ct=this.__textEngine.maxScrollH),ct<0&&(ct=0),ct!=this.__textEngine.scrollH&&(this.__dirty=!0,this.__setRenderDirty(),this.__textEngine.scrollH=ct,this.dispatchEvent(new(dt()).default("scroll"))),this.__textEngine.scrollH},get_scrollV:function(){return this.__textEngine.get_scrollV()},set_scrollV:function(ct){return this.__updateLayout(),(ct!=this.__textEngine.get_scrollV()||this.__textEngine.get_scrollV()==0)&&(this.__dirty=!0,this.__setRenderDirty(),this.__textEngine.set_scrollV(ct),this.dispatchEvent(new(dt()).default("scroll"))),this.__textEngine.get_scrollV()},get_selectable:function(){return this.__textEngine.selectable},set_selectable:function(ct){return ct!=this.__textEngine.selectable&&this.get_type()=="input"&&(this.stage!=null&&this.stage.get_focus()==this?this.__startTextInput():ct||this.__stopTextInput()),this.__textEngine.selectable=ct},get_selectionBeginIndex:function(){return lt().default.int(Math.min(this.__caretIndex,this.__selectionIndex))},get_selectionEndIndex:function(){return lt().default.int(Math.max(this.__caretIndex,this.__selectionIndex))},get_sharpness:function(){return this.__textEngine.sharpness},set_sharpness:function(ct){return ct!=this.__textEngine.sharpness&&(this.__dirty=!0,this.__setRenderDirty()),this.__textEngine.sharpness=ct},get_styleSheet:function(){return this.__styleSheet},set_styleSheet:function(ct){return this.__styleSheet!=null&&ct==null||ct!=null&&(this.__isHTML&&ct!=this.__styleSheet&&(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty(),this.set_htmlText(this.__htmlText)),this.set_type("dynamic")),this.__styleSheet=ct},get_tabEnabled:function(){return this.__tabEnabled==null?this.__textEngine.type=="input":this.__tabEnabled},get_text:function(){return this.__text},set_text:function(ct){if(this.__styleSheet!=null)return this.set_htmlText(ct);if(this.__isHTML||this.__text!=ct)this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty();else return ct;if(this.__textEngine.textFormatRanges.get_length()>1){var mt=this.__textEngine.textFormatRanges,gt=this.__textEngine.textFormatRanges.get_length()-1;_t().default.ofArray(Array.prototype.splice.call(mt,1,gt))}var Tt=ct,yt=this.__textEngine.textFormatRanges[0];return yt.format=this.__textFormat,yt.start=0,yt.end=Tt.length,this.__isHTML=!1,this.__updateText(ct),ct},get_textColor:function(){return this.__textFormat.color},set_textColor:function(ct){ct!=this.__textFormat.color&&(this.__dirty=!0,this.__setRenderDirty());for(var mt=new(f()).default(this.__textEngine.textFormatRanges);mt.hasNext();){var gt=mt.next();gt.format.color=ct}return this.__textFormat.color=ct},get_textWidth:function(){return this.__updateLayout(),this.__textEngine.textWidth},get_textHeight:function(){return this.__updateLayout(),this.__textEngine.textHeight},get_type:function(){return this.__textEngine.type},set_type:function(ct){return this.__styleSheet!=null&&(ct="dynamic"),ct!=this.__textEngine.type&&(this.__textEngine.type=ct,ct=="input"?(this.addEventListener("addedToStage",o(this,this.this_onAddedToStage)),this.this_onFocusIn(null),this.__textEngine.__useIntAdvances=!0):(this.removeEventListener("addedToStage",o(this,this.this_onAddedToStage)),this.__stopTextInput(),this.__textEngine.__useIntAdvances=null),this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()),this.__textEngine.type},get_width:function(){return this.__updateLayout(),this.__textEngine.width*Math.abs(this.__scaleX)},set_width:function(ct){return ct!=this.__textEngine.width&&(this.__setTransformDirty(),this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty(),this.__textEngine.width=ct),this.__textEngine.width*Math.abs(this.__scaleX)},get_wordWrap:function(){return this.__textEngine.wordWrap},set_wordWrap:function(ct){return ct!=this.__textEngine.wordWrap&&(this.__dirty=!0,this.__layoutDirty=!0,this.__setRenderDirty()),this.__textEngine.wordWrap=ct},get_x:function(){return this.__transform.tx+this.__offsetX},set_x:function(ct){return ct!=this.__transform.tx+this.__offsetX&&this.__setTransformDirty(),this.__transform.tx=ct-this.__offsetX,ct},get_y:function(){return this.__transform.ty+this.__offsetY},set_y:function(ct){return ct!=this.__transform.ty+this.__offsetY&&this.__setTransformDirty(),this.__transform.ty=ct-this.__offsetY,ct},stage_onMouseMove:function(ct){if(this.stage!=null&&this.get_selectable()&&this.__selectionIndex>=0){this.__updateLayout();var mt=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY());if(mt!=this.__caretIndex){this.__caretIndex=mt;var gt=!0;ot().default.__supportDOM&&(this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0),gt=!1),gt&&(this.__dirty=!0,this.__setRenderDirty())}}},stage_onMouseUp:function(ct){var mt=ct.currentTarget;if(mt.removeEventListener("enterFrame",o(this,this.this_onEnterFrame)),mt.removeEventListener("mouseMove",o(this,this.stage_onMouseMove)),mt.removeEventListener("mouseUp",o(this,this.stage_onMouseUp)),this.stage==mt&&mt.get_focus()==this){this.__getWorldTransform(),this.__updateLayout();var gt=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),Tt=lt().default.int(Math.min(this.__selectionIndex,gt)),yt=lt().default.int(Math.max(this.__selectionIndex,gt));this.__selectionIndex=Tt,this.__caretIndex=yt,this.__inputEnabled&&(this.this_onFocusIn(null),this.__stopCursorTimer(),this.__startCursorTimer(),ot().default.__supportDOM&&this.__renderedOnCanvasWhileOnDOM&&(this.__forceCachedBitmapUpdate=!0))}},this_onAddedToStage:function(ct){this.this_onFocusIn(null)},this_onEnterFrame:function(ct){this.__updateMouseDrag()},this_onFocusIn:function(ct){this.get_type()=="input"&&this.stage!=null&&this.stage.get_focus()==this?this.__startTextInput():this.get_type()!="input"&&this.get_selectable()&&this.stage!=null&&this.stage.get_focus()==this&&this.__startCursorTimer()},this_onFocusOut:function(ct){this.__stopCursorTimer(),this.__stopTextInput(),this.__selectionIndex!=this.__caretIndex&&(this.__selectionIndex=this.__caretIndex,this.__dirty=!0,this.__setRenderDirty())},this_onKeyDown:function(ct){this.get_selectable()&&this.get_type()!="input"&&ct.keyCode==67&&(ct.commandKey||ct.ctrlKey)&&this.__caretIndex!=this.__selectionIndex&&!this.get_displayAsPassword()&&pt().default.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex))},this_onMouseDown:function(ct){!this.get_selectable()&&this.get_type()!="input"||(this.__updateLayout(),this.__caretIndex=this.__getPosition(this.get_mouseX()+this.get_scrollH(),this.get_mouseY()),this.__selectionIndex=this.__caretIndex,ot().default.__supportDOM||(this.__dirty=!0,this.__setRenderDirty()),this.stage!=null&&(this.stage.addEventListener("enterFrame",o(this,this.this_onEnterFrame)),this.stage.addEventListener("mouseMove",o(this,this.stage_onMouseMove)),this.stage.addEventListener("mouseUp",o(this,this.stage_onMouseUp))))},this_onMouseWheel:function(ct){this.get_mouseWheelEnabled()&&this.set_scrollV(lt().default.int(Math.min(this.get_scrollV()-ct.delta,this.get_maxScrollV())))},this_onDoubleClick:function(ct){if(this.get_selectable()){this.__updateLayout();var mt=[`
`,".","!","?",","," ",";",":","(",")","-","_","/"],gt=this.__text,Tt=-1,yt=gt.length,Et=0,Ct=lt().default.int(Math.max(this.__caretIndex,1));if(gt.length>0&&this.__caretIndex>=0&&yt>=this.__caretIndex){for(var It=0;It<mt.length;){var Rt=mt[It];++It,Et=gt.lastIndexOf(Rt,Ct-1),Et>Tt&&(Tt=Et+1),Et=gt.indexOf(Rt,Ct),Et<yt&&Et!=-1&&(yt=Et)}if(Tt!=yt){this.setSelection(Tt,yt);var Ft=!0;Ft&&(this.__dirty=!0,this.__setRenderDirty())}}}},window_onKeyDown:function(ct,mt){switch(ct){case 8:this.__selectionIndex==this.__caretIndex&&this.__caretIndex>0&&(this.__selectionIndex=this.__caretIndex-1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new(dt()).default("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 97:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt))&&this.setSelection(0,this.__text.length);break;case 99:(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt))&&this.__caretIndex!=this.__selectionIndex&&!this.get_displayAsPassword()&&pt().default.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex));break;case 120:(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt))&&this.__caretIndex!=this.__selectionIndex&&!this.get_displayAsPassword()&&(pt().default.set_text(this.__text.substring(this.__caretIndex,this.__selectionIndex)),this.replaceSelectedText(""),this.dispatchEvent(new(dt()).default("change",!0)));break;case 127:this.__selectionIndex==this.__caretIndex&&this.__caretIndex<this.__text.length&&(this.__selectionIndex=this.__caretIndex+1),this.__selectionIndex!=this.__caretIndex?(this.replaceSelectedText(""),this.__selectionIndex=this.__caretIndex,this.dispatchEvent(new(dt()).default("change",!0))):(this.__stopCursorTimer(),this.__startCursorTimer());break;case 1073741898:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretIndex=0:this.__caretBeginningOfLine(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741901:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretIndex=this.__text.length:this.__caretEndOfLine(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741903:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretBeginningOfNextLine():this.__caretNextCharacter(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741904:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretBeginningOfPreviousLine():this.__caretPreviousCharacter(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741905:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretIndex=this.__text.length:this.__caretNextLine(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 1073741906:this.get_selectable()&&(xt().default.get_metaKey(mt)||xt().default.get_ctrlKey(mt)?this.__caretIndex=0:this.__caretPreviousLine(),xt().default.get_shiftKey(mt)||(this.__selectionIndex=this.__caretIndex),this.setSelection(this.__selectionIndex,this.__caretIndex));break;case 13:case 1073741912:if(this.__textEngine.multiline){var gt=new(rt()).default("textInput",!0,!0,`
`);this.dispatchEvent(gt),gt.isDefaultPrevented()||(this.__replaceSelectedText(`
`,!0),this.dispatchEvent(new(dt()).default("change",!0)))}else this.__stopCursorTimer(),this.__startCursorTimer();break}},window_onTextInput:function(ct){this.__replaceSelectedText(ct,!0),this.dispatchEvent(new(dt()).default("change",!0))}}),At.prototype.__class__=At.prototype.constructor=d["openfl.text.TextField"]=At,Object.defineProperties(At.prototype,{antiAliasType:{get:function(){return this.get_antiAliasType()},set:function(ct){return this.set_antiAliasType(ct)}},autoSize:{get:function(){return this.get_autoSize()},set:function(ct){return this.set_autoSize(ct)}},background:{get:function(){return this.get_background()},set:function(ct){return this.set_background(ct)}},backgroundColor:{get:function(){return this.get_backgroundColor()},set:function(ct){return this.set_backgroundColor(ct)}},border:{get:function(){return this.get_border()},set:function(ct){return this.set_border(ct)}},borderColor:{get:function(){return this.get_borderColor()},set:function(ct){return this.set_borderColor(ct)}},bottomScrollV:{get:function(){return this.get_bottomScrollV()}},defaultTextFormat:{get:function(){return this.get_defaultTextFormat()},set:function(ct){return this.set_defaultTextFormat(ct)}},displayAsPassword:{get:function(){return this.get_displayAsPassword()},set:function(ct){return this.set_displayAsPassword(ct)}},embedFonts:{get:function(){return this.get_embedFonts()},set:function(ct){return this.set_embedFonts(ct)}},gridFitType:{get:function(){return this.get_gridFitType()},set:function(ct){return this.set_gridFitType(ct)}},htmlText:{get:function(){return this.get_htmlText()},set:function(ct){return this.set_htmlText(ct)}},length:{get:function(){return this.get_length()}},maxChars:{get:function(){return this.get_maxChars()},set:function(ct){return this.set_maxChars(ct)}},maxScrollH:{get:function(){return this.get_maxScrollH()}},maxScrollV:{get:function(){return this.get_maxScrollV()}},mouseWheelEnabled:{get:function(){return this.get_mouseWheelEnabled()},set:function(ct){return this.set_mouseWheelEnabled(ct)}},multiline:{get:function(){return this.get_multiline()},set:function(ct){return this.set_multiline(ct)}},numLines:{get:function(){return this.get_numLines()}},restrict:{get:function(){return this.get_restrict()},set:function(ct){return this.set_restrict(ct)}},scrollH:{get:function(){return this.get_scrollH()},set:function(ct){return this.set_scrollH(ct)}},scrollV:{get:function(){return this.get_scrollV()},set:function(ct){return this.set_scrollV(ct)}},selectable:{get:function(){return this.get_selectable()},set:function(ct){return this.set_selectable(ct)}},selectionBeginIndex:{get:function(){return this.get_selectionBeginIndex()}},selectionEndIndex:{get:function(){return this.get_selectionEndIndex()}},sharpness:{get:function(){return this.get_sharpness()},set:function(ct){return this.set_sharpness(ct)}},text:{get:function(){return this.get_text()},set:function(ct){return this.set_text(ct)}},textColor:{get:function(){return this.get_textColor()},set:function(ct){return this.set_textColor(ct)}},textHeight:{get:function(){return this.get_textHeight()}},textWidth:{get:function(){return this.get_textWidth()}},type:{get:function(){return this.get_type()},set:function(ct){return this.set_type(ct)}},wordWrap:{get:function(){return this.get_wordWrap()},set:function(ct){return this.set_wordWrap(ct)}}}),At.__missingFontWarning=new(vt()).default,e.default=At}(TextField$2)),TextField$2}var TextLayoutGroup={},hasRequiredTextLayoutGroup;function requireTextLayoutGroup(){return hasRequiredTextLayoutGroup||(hasRequiredTextLayoutGroup=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h){this.format=c,this.startIndex=s,this.endIndex=h};o.__name__="openfl.text._internal.TextLayoutGroup",o.__isInterface__=!1,o.prototype={getAdvance:function(c){return this.positions[c]}},o.prototype.__class__=o.prototype.constructor=d["openfl.text._internal.TextLayoutGroup"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(TextLayoutGroup)),TextLayoutGroup}var Font$2={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireFont()}function s(){return requireStringMap()}function h(){return requireByteArray_Impl_()}function f(){return requireFuture()}function g(){return requireType()}function b(){return requireBoot()}var k=function($){c().default.call(this,$)};k.__name__="openfl.text.Font",k.__isInterface__=!1,k.__super__=c().default,k.prototype=o(c().default.prototype,{__fromLimeFont:function($){this.__copyFrom($)},__initialize:function(){return this.__initialized},get_fontName:function(){return this.name},set_fontName:function($){return this.name=$}}),k.prototype.__class__=k.prototype.constructor=d["openfl.text.Font"]=k,Object.defineProperty(k.prototype,"fontName",{get:function(){return this.get_fontName()},set:function($){return this.set_fontName($)}}),k.enumerateFonts=function($){return k.__registeredFonts},k.fromBytes=function($){var j=new k;return j.__fromBytes(h().default.toBytes($)),j},k.fromFile=function($){if($==null)return null;var j=new k;return j.__fromFile($),j},k.loadFromBytes=function($){return c().default.loadFromBytes(h().default.toBytes($)).then(function(j){var _e=new k;return _e.__fromLimeFont(j),f().default.withValue(_e)})},k.loadFromFile=function($){return c().default.loadFromFile($).then(function(j){var _e=new k;return _e.__fromLimeFont(j),f().default.withValue(_e)})},k.loadFromName=function($){return c().default.loadFromName($).then(function(j){var _e=new k;return _e.__fromLimeFont(j),f().default.withValue(_e)})},k.registerFont=function($){var j=null;g().default.getClass($)==null?j=b().default.__cast(g().default.createInstance($,[]),k):j=b().default.__cast($,k),j!=null&&(k.__registeredFonts.push(j),k.__fontByName.set(j.get_fontName(),j))},k.__fontByName=new(s()).default,k.__registeredFonts=[],e.default=k})(Font$2);var ShapeCache={},CacheMeasurement={},hasRequiredCacheMeasurement;function requireCacheMeasurement(){return hasRequiredCacheMeasurement||(hasRequiredCacheMeasurement=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}var c=function(s,h){this.__collisions=[],this.__wordMap=new(o()).default,this.set(s,h)};c.__name__="openfl.text._internal.CacheMeasurement",c.__isInterface__=!1,c.prototype={set:function(s,h){this.__addCollision(s,h)},get:function(s){return this.__collisions.length>1?this.__wordMap.get(this.__collisions.indexOf(s)):this.__wordMap.get(0)},__addCollision:function(s,h){this.exists(s)||this.__wordMap.set(this.__collisions.push(s)-1,h)},exists:function(s){return this.__collisions.length==0?!1:this.__collisions.indexOf(s)>-1}},c.prototype.__class__=c.prototype.constructor=d["openfl.text._internal.CacheMeasurement"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c}(CacheMeasurement)),CacheMeasurement}var hasRequiredShapeCache;function requireShapeCache(){return hasRequiredShapeCache||(hasRequiredShapeCache=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringMap()}function c(){return requireCacheMeasurement()}function s(){return requireIntMap()}function h(){return requireHxOverrides()}var f=function(){this.__shortWordMap=new(o()).default,this.__longWordMap=new(o()).default};f.__name__="openfl.text._internal.ShapeCache",f.__isInterface__=!1,f.prototype={cache:function(g,b,k){var $=g.format.__cacheKey;return k.length>15?this.__cacheLongWord(k,$,b):this.__cacheShortWord(k,$,b)},__cacheShortWord:function(g,b,k){if(this.__shortWordMap.exists(b)){var $=this.__shortWordMap.get(b);if($.exists(g))return $.get(g);$.set(g,k())}else{var j=new(o()).default;j.set(g,k()),this.__shortWordMap.set(b,j)}return k()},__cacheLongWord:function(g,b,k){var $=f.hashFunction(g);if(this.__longWordMap.exists(b)){var j=this.__longWordMap.get(b);if(j.exists($)){var _e=j.get($);if(_e.exists(g))return _e.get(g);_e.set(g,k())}else{var et=new(c()).default(g,k());j.set($,et)}}else{var nt=new(s()).default,rt=new(c()).default(g,k());rt.hash=$,nt.set($,rt),this.__longWordMap.set(b,nt)}return k()}},f.prototype.__class__=f.prototype.constructor=d["openfl.text._internal.ShapeCache"]=f,f.hashFunction=function(g){for(var b=0,k,$=0,j=g.length;$<j;){var _e=$++;k=h().default.cca(g,_e),b=(b<<5)-b+k,b|=0}return b},f.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=f}(ShapeCache)),ShapeCache}var hasRequiredTextEngine;function requireTextEngine(){return hasRequiredTextEngine||(hasRequiredTextEngine=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireEReg()}function c(){return requireVector_Impl_()}function s(){return requireVectorIterator()}function h(){return requireStd()}function f(){return requireTextField()}function g(){return requireHxOverrides()}function b(){return requireTextLayoutGroup()}function k(){return requireLog()}function $(){return Font$2}function j(){return requireStringTools()}function _e(){return requireStringMap()}function et(){return requireShapeCache()}function nt(){return Rectangle$2}var rt=function(tt){this.__shapeCache=new(et()).default,this.textField=tt,this.width=100,this.height=100,this.set_text(""),this.bounds=new(nt()).default(0,0,0,0),this.textBounds=new(nt()).default(0,0,0,0),this.type="dynamic",this.autoSize="none",this.embedFonts=!1,this.selectable=!0,this.borderColor=0,this.border=!1,this.backgroundColor=16777215,this.background=!1,this.gridFitType="pixel",this.maxChars=0,this.multiline=!1,this.numLines=1,this.sharpness=0,this.scrollH=0,this.set_scrollV(1),this.wordWrap=!1,this.lineAscents=c().default._new(),this.lineBreaks=c().default._new(),this.lineDescents=c().default._new(),this.lineLeadings=c().default._new(),this.lineHeights=c().default._new(),this.lineWidths=c().default._new(),this.layoutGroups=c().default._new(),this.textFormatRanges=c().default._new(),rt.__context==null&&(rt.__context=window.document.createElement("canvas").getContext("2d"))};rt.__name__="openfl.text._internal.TextEngine",rt.__isInterface__=!1,rt.prototype={createRestrictRegexp:function(tt){var it=new(o()).default("\\^([^\\^]+)","gu"),st="",at=!1,_t=it.map(tt,function(ot){return at?(at=!at,ot.matched(1)):(st+=ot.matched(1),at=!at,"")}),ut=[];return _t.length>0&&ut.push("[^"+_t+"]"),st.length>0&&ut.push("["+st+"]"),new(o()).default("("+ut.join("|")+")","g")},getBounds:function(){var tt=this.border?1:0;this.bounds.width=this.width+tt,this.bounds.height=this.height+tt;for(var it=this.width,st=this.height,at=this.layoutGroups.get_length()-1,_t=0,ut=this.layoutGroups.get_length();_t<ut;){var ot=_t++,lt=this.layoutGroups[ot];ot==at&&lt.startIndex==lt.endIndex&&this.type!="input"||(lt.offsetX<it&&(it=lt.offsetX),lt.offsetY<st&&(st=lt.offsetY))}it>=this.width&&(it=2),st>=this.height&&(st=2);var ft=this.textHeight*1.185;this.textBounds.setTo(Math.max(it-2,0),Math.max(st-2,0),Math.min(this.textWidth+4,this.bounds.width+4),Math.min(ft+4,this.bounds.height+4))},getLine:function(tt){return tt<0||tt>this.lineBreaks.get_length()+1?null:this.lineBreaks.get_length()==0?this.text:this.text.substring(tt>0?this.lineBreaks[tt-1]:0,this.lineBreaks[tt])},getLineBreaks:function(){this.lineBreaks.set_length(0);for(var tt=-1,it=-1,st=-1;tt<this.text.length&&(st=this.text.indexOf(`
`,tt+1),it=this.text.indexOf("\r",tt+1),tt=it==-1?st:st==-1||it<st?it:st,tt>-1);)c().default.push(this.lineBreaks,tt)},getLineBreakIndex:function(tt){tt==null&&(tt=0);for(var it=new(s()).default(this.lineBreaks);it.hasNext();){var st=it.next();if(st>=tt)return st}return-1},getLineMeasurements:function(){this.lineAscents.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0);var tt=0,it=0,st=null,at=0,_t=0,ut=0;this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0;for(var ot=this.layoutGroups.get_length()-1,lt=0,ft=this.layoutGroups.get_length();lt<ft;){var ht=lt++,dt=this.layoutGroups[ht];if(!(ht==ot&&dt.startIndex==dt.endIndex&&this.type!="input")){for(;dt.lineIndex>this.numLines-1;)c().default.push(this.lineAscents,tt),c().default.push(this.lineDescents,it),c().default.push(this.lineLeadings,st??0),c().default.push(this.lineHeights,at),c().default.push(this.lineWidths,_t),tt=0,it=0,st=null,at=0,_t=0,this.numLines++;tt=Math.max(tt,dt.ascent),it=Math.max(it,dt.descent),st==null?st=dt.leading:st=h().default.int(Math.max(st,dt.leading)),at=Math.max(at,dt.height),_t=dt.offsetX-2+dt.width,_t>this.textWidth&&(this.textWidth=_t),ut=Math.ceil(dt.offsetY-2+dt.ascent+dt.descent),ut>this.textHeight&&(this.textHeight=ut)}}if(this.textHeight==0&&this.textField!=null&&this.type=="input"){var pt=this.textField.__textFormat,xt,vt,bt=rt.getFontInstance(pt);pt.__ascent!=null?(xt=pt.size*pt.__ascent,vt=pt.size*pt.__descent):bt!=null&&bt.unitsPerEM!=0?(xt=bt.ascender/bt.unitsPerEM*pt.size,vt=Math.abs(bt.descender/bt.unitsPerEM*pt.size)):(xt=pt.size,vt=pt.size*.185);var wt=pt.leading;tt=xt,it=vt,st=wt,ut=Math.ceil(xt+vt),this.textHeight=ut}if(c().default.push(this.lineAscents,tt),c().default.push(this.lineDescents,it),c().default.push(this.lineLeadings,st??0),c().default.push(this.lineHeights,at),c().default.push(this.lineWidths,_t),this.numLines==1&&st>0&&(this.textHeight+=st),this.autoSize!="none")switch(this.autoSize){case"center":case"left":case"right":this.wordWrap||(this.width=this.textWidth+4),this.height=this.textHeight+4,this.bottomScrollV=this.numLines;break}this.textWidth>this.width-4?this.maxScrollH=h().default.int(this.textWidth-this.width+4):this.maxScrollH=0,this.scrollH>this.maxScrollH&&(this.scrollH=this.maxScrollH)},getLayoutGroups:function(){var tt=this;if(this.layoutGroups.set_length(0),!(this.text==null||this.text=="")){var it=-1,st=null,at=null,_t=f().default.__defaultTextFormat.clone(),ut=0,ot=0,lt=0,ft=0,ht="left",dt=0,pt=0,xt=0,vt=0,bt=!0,wt=null,At=null,ct=0,mt=0,gt=0,Tt=-2,yt=-1,Et=this.text.indexOf(" "),Ct=0,It=Ct<this.lineBreaks.get_length()?this.lineBreaks[Ct]:-1,Rt=0,Ft=0,Lt=0,Ot=0,Kt=function(ur,St,Ut){st.format.letterSpacing!=null&&st.format.letterSpacing;var Yt=function(){var Dt=[];if(tt.__useIntAdvances==null){var Pt=new(o()).default("Trident/7.0","");tt.__useIntAdvances=Pt.match(window.navigator.userAgent)}if(tt.__useIntAdvances)for(var Jt=0,_r,hr=St,vr=Ut;hr<vr;){var gr=hr++;_r=tt.measureText(ur.substring(St,gr+1)),Dt.push(_r-Jt),Jt=_r}else for(var br=St,wr=Ut;br<wr;){var yr=br++,xr;if(yr<ur.length-1){var Tr=tt.measureText(ur.charAt(yr+1)),Cr=tt.measureText(g().default.substr(ur,yr,2));xr=Cr-Tr}else xr=rt.__context.measureText(ur.charAt(yr)).width;Dt.push(xr)}return Dt};return _t.align=="justify"?Yt():tt.__shapeCache.cache(st,Yt,ur.substring(St,Ut))},qt=function(ur){for(var St=0,Ut=0;Ut<ur.length;){var Yt=ur[Ut];++Ut,St+=Yt}return St},Ht=function(){return 2+xt+dt+(bt?pt:0)},Zt=function(){return tt.width-2-vt-Ht()},or=function(ur,St){wt==null||wt.startIndex!=wt.endIndex?(wt=new(b()).default(st.format,ur,St),c().default.push(tt.layoutGroups,wt)):(wt.format=st.format,wt.startIndex=ur,wt.endIndex=St)},ir=function(){_t.__ascent!=null?(ot=_t.size*_t.__ascent,ft=_t.size*_t.__descent):at!=null&&at.unitsPerEM!=0?(ot=at.ascender/at.unitsPerEM*_t.size,ft=Math.abs(at.descender/at.unitsPerEM*_t.size)):(ot=_t.size,ft=_t.size*.185),ut=_t.leading,mt=Math.ceil(ot+ft+ut),mt>gt&&(gt=mt),ot>lt&&(lt=ot)},lr=function(){bt=!0,ht=_t.align!=null?_t.align:"left",dt=_t.blockIndent!=null?_t.blockIndent:0,pt=_t.indent!=null?_t.indent:0,xt=_t.leftMargin!=null?_t.leftMargin:0,vt=_t.rightMargin!=null?_t.rightMargin:0,_t.bullet!=null,_t.tabStops!=null},ar=function(){var ur=tt.textFormatRanges.get_length()-1;if(it<ur){it+=1,st=tt.textFormatRanges[it],_t.__merge(st.format);var St=rt.getFont(_t);return rt.__context.font=St,at=rt.getFontInstance(_t),!0}return!1},Mt=function(ur,St){if(ur>=St)At=[],ct=0;else if(St<=st.end)At=Kt(tt.text,ur,St),ct=qt(At);else{var Ut=ur,Yt=st.end,Dt=0;for(At=[],ct=0;;){if(Ut!=Yt){var Pt=Kt(tt.text,Ut,Yt);At=At.concat(Pt)}if(Yt!=St){if(!ar()){k().default.warn("You found a bug in OpenFL's text code! Please save a copy of your project and create an issue on GitHub so we can fix this.",{fileName:"../node_modules/openfl-haxelib/src/openfl/text/_internal/TextEngine.hx",lineNumber:1116,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}Ut=Yt,Yt=St<st.end?St:st.end,++Dt}else{ct=qt(At);break}}it-=Dt+1,ar()}},kt=function(ur){if(ur<=st.end){At=Kt(tt.text,Lt,ur),ct=qt(At),or(Lt,ur),wt.positions=At;var St=Ht();wt.offsetX=Rt+St,wt.ascent=ot,wt.descent=ft,wt.leading=ut,wt.lineIndex=Ot,wt.offsetY=Ft+2,wt.width=ct,wt.height=mt,Rt+=ct,ur==st.end&&(wt=null,ar(),ir())}else for(;;){var Ut=ur<st.end?ur:st.end;if(Lt!=Ut){At=Kt(tt.text,Lt,Ut),ct=qt(At),or(Lt,Ut),wt.positions=At;var Yt=Ht();wt.offsetX=Rt+Yt,wt.ascent=ot,wt.descent=ft,wt.leading=ut,wt.lineIndex=Ot,wt.offsetY=Ft+2,wt.width=ct,wt.height=mt,Rt+=ct,Lt=Ut}if(Ut==st.end&&(wt=null),Ut==ur)break;if(!ar()){k().default.warn("You found a bug in OpenFL's text code! Please save a copy of your project and create an issue on GitHub so we can fix this.",{fileName:"../node_modules/openfl-haxelib/src/openfl/text/_internal/TextEngine.hx",lineNumber:1204,className:"openfl.text._internal.TextEngine",methodName:"getLayoutGroups"});break}ir()}Lt=ur},Vt=function(){ir();for(var ur=tt.layoutGroups.get_length();--ur>-1;){var St=tt.layoutGroups[ur];if(St.lineIndex<Ot)break;St.lineIndex>Ot||(St.ascent=lt,St.height=gt)}Ft+=gt,lt=0,gt=0,Ot+=1,Rt=0,bt=!1},Nt=function(ur){for(var St=At,Ut,Yt,Dt,Pt,Jt=qt(St),_r=St.length-1;_r>=0;){var hr=g().default.cca(tt.text,Lt+_r);if(hr!=32&&hr!=9)break;var vr=St[_r];Jt-=vr,--_r}for(;St.length>0&&Rt+Jt>Zt();){for(Ut=0,_r=Ut,Dt=0;Rt+Dt<Zt();)Pt=St[_r],Pt==0?(++_r,++Ut):(Dt+=Pt,++_r);if(_r==Ut)_r=Ut+1;else for(;_r>1&&Rt+Dt>Zt();)--_r,_r-Ut>0?(Mt(Lt,Lt+_r-Ut),Dt=ct):(_r=1,Ut=0,Mt(Lt,Lt+1),Dt=0);Yt=Lt+_r-Ut,kt(Yt),Vt(),Mt(Yt,ur),St=At,Jt=ct}},Wt=function(ur){tt.width>=4&&tt.wordWrap&&Nt(ur),kt(ur)};ar(),lr(),ir();for(var Qt,tr=this.text.length+1;Lt<tr;)if(It>-1&&(Et==-1||It<Et))Lt<=It?(Mt(Lt,It),Wt(It),wt=null):wt!=null&&wt.startIndex!=wt.endIndex&&(wt.endIndex==Et&&(wt.width-=wt.getAdvance(wt.positions.length-1)),wt=null),Vt(),st.end==It&&(ar(),ir()),Lt=It+1,yt=It,++Ct,It=Ct<this.lineBreaks.get_length()?this.lineBreaks[Ct]:-1,lr();else if(Et>-1)for(wt!=null&&wt.startIndex!=wt.endIndex&&(wt=null),Qt=!1;Lt<this.text.length;){var sr=-1;if(Et==-1?sr=It:(sr=Et+1,It>-1&&It<sr&&(sr=It)),sr==-1&&(sr=this.text.length),Mt(Lt,sr),ht=="justify"){if(At.length>0&&Lt==Tt){Lt+=1;var dr=At.shift();ct-=dr,Rt+=dr}if(At.length>0&&sr==Et+1){--sr;var pr=At.pop();ct-=pr}}if(this.wordWrap&&Rt+ct>Zt()&&(Qt=!0,At.length>0&&sr==Et+1)){var cr=At[At.length-1],mr=cr;Rt+ct-mr<=Zt()&&(Qt=!1)}if(Qt){if(ht!="justify"&&(wt!=null||this.layoutGroups.get_length()>0)){var fr=wt;fr==null&&(fr=this.layoutGroups[this.layoutGroups.get_length()-1]),fr.width-=fr.getAdvance(fr.positions.length-1),fr.endIndex--}for(var Bt=this.layoutGroups.get_length()-1,Xt=0;Bt>=0&&(wt=this.layoutGroups[Bt],Bt>0&&wt.startIndex>Tt);){++Xt;--Bt}if(Lt==Tt+1&&Vt(),Rt=0,Xt>0)for(var rr=this.layoutGroups[this.layoutGroups.get_length()-Xt].offsetX,nr=this.layoutGroups.get_length()-Xt,Gt=this.layoutGroups.get_length();nr<Gt;){var zt=nr++;wt=this.layoutGroups[zt],wt.offsetX-=rr,wt.offsetY=Ft+2,wt.lineIndex=Ot,Rt+=wt.width}Wt(sr),Qt=!1}else if(wt!=null&&Lt==Et&&Tt!=Et-1)ht!="justify"&&(wt.endIndex=Et,wt.positions=wt.positions.concat(At),wt.width+=ct),Rt+=ct,Lt=sr;else if(wt==null||ht=="justify")Wt(sr),sr==this.text.length&&Vt();else{var $t=sr<st.end?sr:st.end;$t<sr&&(At=Kt(this.text,Lt,$t),ct=qt(At)),wt.endIndex=$t,wt.positions=wt.positions.concat(At),wt.width+=ct,Rt+=ct,$t==st.end&&(wt=null,ar(),ir(),Lt=$t,$t!=sr&&kt(sr)),It==sr&&++sr,Lt=sr,sr==this.text.length&&(Vt(),It!=-1&&(yt=It,++Ct,It=Ct<this.lineBreaks.get_length()?this.lineBreaks[Ct]:-1))}var er=this.text.indexOf(" ",Lt);if(It==Tt&&(wt.endIndex=It,It-wt.startIndex-wt.positions.length<0&&wt.positions.push(0),Lt=It+1),Tt=Et,Et=er,It>-1&&It<=Lt&&(Et>It||Et==-1)||Lt>this.text.length)break}else Lt<this.text.length&&(Mt(Lt,this.text.length),Wt(this.text.length),Vt()),Lt+=1;yt==Lt-2&&yt>-1&&(or(Lt-1,Lt-1),wt.positions=[],wt.ascent=ot,wt.descent=ft,wt.leading=ut,wt.lineIndex=Ot,wt.offsetX=Ht(),wt.offsetY=Ft+2,wt.width=0,wt.height=mt)}},measureText:function(tt){return rt.__context.measureText(tt).width},restrictText:function(tt){return tt==null||this.__restrictRegexp!=null&&(tt=this.__restrictRegexp.split(tt).join("")),tt},setTextAlignment:function(){for(var tt=-1,it=0,st=this.width-4,at,_t,ut=!1,ot=0,lt=this.layoutGroups.get_length();ot<lt;){var ft=ot++;if(at=this.layoutGroups[ft],at.lineIndex!=tt)switch(tt=at.lineIndex,st=this.width-4-at.format.rightMargin,at.format.align){case"center":this.lineWidths[tt]<st?it=Math.round((st-this.lineWidths[tt])/2):it=0;break;case"justify":if(this.lineWidths[tt]<st){_t=1;for(var ht=ft+1,dt=this.layoutGroups.get_length();ht<dt;){var pt=ht++;if(this.layoutGroups[pt].lineIndex==tt)(pt==0||g().default.cca(this.text,this.layoutGroups[pt].startIndex-1)==32)&&++_t;else break}if(_t>1){at=this.layoutGroups[ft+_t-1];var xt=g().default.cca(this.text,at.endIndex);if(at.endIndex<this.text.length&&xt!=10&&xt!=13){it=(st-this.lineWidths[tt])/(_t-1),ut=!0;for(var vt=1;this.layoutGroups[ft+vt].offsetX+=it*vt,++vt<_t;);}}}it=0;break;case"right":this.lineWidths[tt]<st?it=Math.round(st-this.lineWidths[tt]):it=0;break;default:it=0}it>0&&(at.offsetX+=it)}ut&&this.getLineMeasurements()},trimText:function(tt){return tt==null||this.maxChars>0&&tt.length>this.maxChars&&(tt=g().default.substr(tt,0,this.maxChars)),tt},update:function(){this.text==null||this.textFormatRanges.get_length()==0?(this.lineAscents.set_length(0),this.lineBreaks.set_length(0),this.lineDescents.set_length(0),this.lineLeadings.set_length(0),this.lineHeights.set_length(0),this.lineWidths.set_length(0),this.layoutGroups.set_length(0),this.textWidth=0,this.textHeight=0,this.numLines=1,this.maxScrollH=0,this.maxScrollV=1,this.bottomScrollV=1):(this.getLineBreaks(),this.getLayoutGroups(),this.getLineMeasurements(),this.setTextAlignment()),this.getBounds()},get_bottomScrollV:function(){if(this.numLines==1||this.lineHeights==null)return 1;for(var tt=this.lineHeights.get_length(),it=this.lineLeadings.get_length()==tt?-this.lineLeadings[tt-1]:0,st=(this.get_scrollV()>0?this.get_scrollV():1)-1,at=this.lineHeights.get_length();st<at;){var _t=st++,ut=this.lineHeights[_t];if(it+=ut,it>this.height-4){tt=_t+(it-this.height>=0?0:1);break}}return tt<this.get_scrollV()?this.get_scrollV():tt},get_maxScrollV:function(){if(this.numLines==1||this.lineHeights==null)return 1;for(var tt=this.numLines-1,it=0;tt>=0;){if(it+=this.lineHeights[tt],it>this.height-4){tt+=it-this.height<0?1:2;break}--tt}return tt<1?1:tt},set_restrict:function(tt){return this.restrict==tt?this.restrict:(this.restrict=tt,this.restrict==null||this.restrict.length==0?this.__restrictRegexp=null:this.__restrictRegexp=this.createRestrictRegexp(tt),this.restrict)},get_scrollV:function(){if(this.numLines==1||this.lineHeights==null)return 1;var tt=this.get_maxScrollV();return this.scrollV>tt?tt:this.scrollV},set_scrollV:function(tt){return tt<1?tt=1:tt>this.get_maxScrollV()&&(tt=this.get_maxScrollV()),this.scrollV=tt},set_text:function(tt){return this.text=tt}},rt.prototype.__class__=rt.prototype.constructor=d["openfl.text._internal.TextEngine"]=rt,rt.findFont=function(tt){return $().default.__fontByName.get(tt)},rt.findFontVariant=function(tt){var it=tt.font,st=tt.bold,at=tt.italic;it==null&&(it="_serif");var _t=j().default.replace(j().default.replace(it," Normal","")," Regular","");return st&&at&&$().default.__fontByName.exists(_t+" Bold Italic")?rt.findFont(_t+" Bold Italic"):st&&$().default.__fontByName.exists(_t+" Bold")?rt.findFont(_t+" Bold"):at&&$().default.__fontByName.exists(_t+" Italic")?rt.findFont(_t+" Italic"):rt.findFont(it)},rt.getDefaultFont=function(tt,it,st){rt.__defaultFonts==null&&(rt.__defaultFonts=new(_e()).default);var at=rt.__defaultFonts.get(tt);return at==null?null:at.getFont(it,st)},rt.getFormatHeight=function(tt){var it,st,at=rt.getFont(tt);rt.__context.font=at;var _t=rt.getFontInstance(tt);tt.__ascent!=null?(it=tt.size*tt.__ascent,st=tt.size*tt.__descent):_t!=null&&_t.unitsPerEM!=0?(it=_t.ascender/_t.unitsPerEM*tt.size,st=Math.abs(_t.descender/_t.unitsPerEM*tt.size)):(it=tt.size,st=tt.size*.185);var ut=tt.leading;return it+st+ut},rt.getFont=function(tt){var it=tt.font,st=tt.bold,at=tt.italic;it==null&&(it="_serif");var _t=j().default.replace(j().default.replace(it," Normal","")," Regular","");st&&at&&$().default.__fontByName.exists(_t+" Bold Italic")?(it=_t+" Bold Italic",st=!1,at=!1):st&&$().default.__fontByName.exists(_t+" Bold")?(it=_t+" Bold",st=!1):at&&$().default.__fontByName.exists(_t+" Italic")?(it=_t+" Italic",at=!1):(st&&(it.indexOf(" Bold ")>-1||j().default.endsWith(it," Bold"))&&(st=!1),at&&(it.indexOf(" Italic ")>-1||j().default.endsWith(it," Italic"))&&(at=!1));var ut=at?"italic ":"normal ";ut+="normal ",ut+=st?"bold ":"normal ",ut+=tt.size+"px",ut+="/"+(tt.size+3)+"px ";var ot;switch(it){case"_sans":ot="sans-serif";break;case"_serif":ot="serif";break;case"_typewriter":ot="monospace";break;default:ot="'"+new(o()).default(`^[\\s'"]+(.*)[\\s'"]+$`,"").replace(it,"$1")+"'"}return ut+=""+ot,ut},rt.getFontInstance=function(tt){return rt.findFontVariant(tt)},rt.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{__cairoFont:{SuppressWarnings:["checkstyle:Dynamic"]}}},rt.GUTTER=2,rt.UTF8_TAB=9,rt.UTF8_ENDLINE=10,rt.UTF8_SPACE=32,rt.UTF8_HYPHEN=45,e.default=rt}(TextEngine)),TextEngine}var hasRequiredCanvasTextField;function requireCanvasTextField(){return hasRequiredCanvasTextField||(hasRequiredCanvasTextField=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}function c(){return Matrix$2}function s(){return requireStringTools()}function h(){return requireVectorIterator()}function f(){return requireTextEngine()}function g(){return requireStd()}function b(){return requireBitmapData()}function k(){return requireHTMLParser()}function $(){return requireCanvasBitmap()}function j(){return requireCanvasDisplayObject()}var _e=function(){};_e.__name__="openfl.display._internal.CanvasTextField",_e.__isInterface__=!1,_e.prototype={},_e.prototype.__class__=_e.prototype.constructor=d["openfl.display._internal.CanvasTextField"]=_e,_e.render=function(et,nt,rt){var tt=et.__textEngine,it=!(tt.background||tt.border),st=it?tt.textBounds:tt.bounds,at=et.__graphics,_t=0;if(et.__dirty){if(et.__updateLayout(),at.__bounds==null&&(at.__bounds=new(o()).default),et.get_text().length==0){var ut=tt.bounds.width-4,ot=et.get_defaultTextFormat().align;switch(_t=ot=="left"?0:ot=="right"?ut:ut/2,ot){case"center":_t+=et.get_defaultTextFormat().leftMargin/2,_t-=et.get_defaultTextFormat().rightMargin/2,_t+=et.get_defaultTextFormat().indent/2,_t+=et.get_defaultTextFormat().blockIndent/2;break;case"end":break;case"justify":_t+=et.get_defaultTextFormat().leftMargin,_t+=et.get_defaultTextFormat().indent,_t+=et.get_defaultTextFormat().blockIndent;break;case"left":_t+=et.get_defaultTextFormat().leftMargin,_t+=et.get_defaultTextFormat().indent,_t+=et.get_defaultTextFormat().blockIndent;break;case"right":_t-=et.get_defaultTextFormat().rightMargin;break}it&&(st.y=tt.bounds.y,st.x=_t)}at.__bounds.copyFrom(st)}var lt=nt.__pixelRatio;if(at.__update(nt.__worldTransform,lt),et.__dirty||at.__softwareDirty){var ft=Math.round(at.__width*lt),ht=Math.round(at.__height*lt);if((tt.text==null||tt.text=="")&&!tt.background&&!tt.border&&!tt.__hasFocus&&(tt.type!="input"||!tt.selectable)||(tt.width<=0||tt.height<=0)&&tt.autoSize!="none")et.__graphics.__canvas=null,et.__graphics.__context=null,et.__graphics.__bitmap=null,et.__graphics.__softwareDirty=!1,et.__graphics.set___dirty(!1),et.__dirty=!1;else{et.__graphics.__canvas==null&&(et.__graphics.__canvas=window.document.createElement("canvas"),et.__graphics.__context=et.__graphics.__canvas.getContext("2d")),_e.context=at.__context,at.__canvas.width=ft,at.__canvas.height=ht,nt.__isDOM&&(at.__canvas.style.width=Math.round(ft/lt)+"px",at.__canvas.style.height=Math.round(ht/lt)+"px");var dt=c().default.__pool.get();if(dt.scale(lt,lt),dt.concat(at.__renderTransform),_e.context.setTransform(dt.a,dt.b,dt.c,dt.d,dt.tx,dt.ty),c().default.__pool.release(dt),_e.clearRect==null&&(_e.clearRect=typeof navigator<"u"&&typeof navigator.isCocoonJS<"u"),_e.clearRect&&_e.context.clearRect(0,0,at.__canvas.width,at.__canvas.height),tt.text!=null&&tt.text!=""||tt.__hasFocus){var pt=tt.text;if(!nt.__allowSmoothing||tt.antiAliasType=="advanced"&&tt.sharpness==400?at.__context.imageSmoothingEnabled=!1:at.__context.imageSmoothingEnabled=!0,tt.border||tt.background){if(_e.context.rect(.5,.5,st.width-1,st.height-1),tt.background){var xt=s().default.hex(tt.backgroundColor&16777215,6);_e.context.fillStyle="#"+xt,_e.context.fill()}if(tt.border){_e.context.lineWidth=1;var vt=s().default.hex(tt.borderColor&16777215,6);_e.context.strokeStyle="#"+vt,_e.context.stroke()}}_e.context.textBaseline="alphabetic",_e.context.textAlign="start";for(var bt=-et.get_scrollH(),wt=0,At=0,ct=et.get_scrollV()-1;At<ct;){var mt=At++;wt-=tt.lineHeights[mt]}for(var gt,Tt=new(h()).default(tt.layoutGroups);Tt.hasNext();){var yt=Tt.next();if(!(yt.lineIndex<et.get_scrollV()-1)){if(yt.lineIndex>tt.get_bottomScrollV()-1)break;var Et="#"+s().default.hex(yt.format.color&16777215,6);if(_e.context.font=f().default.getFont(yt.format),_e.context.fillStyle=Et,_e.context.fillText(pt.substring(yt.startIndex,yt.endIndex),yt.offsetX+bt-st.x,yt.offsetY+yt.ascent+wt-st.y),et.__caretIndex>-1&&tt.selectable){if(et.__selectionIndex==et.__caretIndex){if(et.__showCursor&&yt.startIndex<=et.__caretIndex&&yt.endIndex>=et.__caretIndex){gt=0;for(var Ct=0,It=et.__caretIndex-yt.startIndex;Ct<It;){var Rt=Ct++;if(yt.positions.length<=Rt)break;gt+=yt.getAdvance(Rt)}for(var Ft=0,Lt=et.get_scrollV(),Ot=yt.lineIndex+1;Lt<Ot;){var Kt=Lt++;Ft+=tt.lineHeights[Kt-1]}_e.context.beginPath();var qt=s().default.hex(yt.format.color&16777215,6);_e.context.strokeStyle="#"+qt,_e.context.moveTo(yt.offsetX+gt-et.get_scrollH()-st.x,Ft+2-st.y),_e.context.lineWidth=1,_e.context.lineTo(yt.offsetX+gt-et.get_scrollH()-st.x,Ft+f().default.getFormatHeight(et.get_defaultTextFormat())-1-st.y),_e.context.stroke(),_e.context.closePath()}}else if(yt.startIndex<=et.__caretIndex&&yt.endIndex>=et.__caretIndex||yt.startIndex<=et.__selectionIndex&&yt.endIndex>=et.__selectionIndex||yt.startIndex>et.__caretIndex&&yt.endIndex<et.__selectionIndex||yt.startIndex>et.__selectionIndex&&yt.endIndex<et.__caretIndex){var Ht=g().default.int(Math.min(et.__selectionIndex,et.__caretIndex)),Zt=g().default.int(Math.max(et.__selectionIndex,et.__caretIndex));yt.startIndex>Ht&&(Ht=yt.startIndex),yt.endIndex<Zt&&(Zt=yt.endIndex);var or,ir=et.getCharBoundaries(Ht);Zt>=yt.endIndex?(or=et.getCharBoundaries(yt.endIndex-1),or!=null&&(or.x+=or.width+2)):or=et.getCharBoundaries(Zt),ir!=null&&or!=null&&(_e.context.fillStyle="#000000",_e.context.fillRect(ir.x+bt-st.x,ir.y+wt,or.x-ir.x,yt.height),_e.context.fillStyle="#FFFFFF",_e.context.fillText(pt.substring(Ht,Zt),bt+ir.x-st.x,yt.offsetY+yt.ascent+wt))}}if(yt.format.underline){_e.context.beginPath(),_e.context.strokeStyle=Et,_e.context.lineWidth=1;var lr=Math.floor(yt.ascent*.185),ar=yt.offsetX+bt-st.x,Mt=Math.ceil(yt.offsetY+wt+yt.ascent-st.y)+lr+.5;_e.context.moveTo(ar,Mt),_e.context.lineTo(ar+yt.width,Mt),_e.context.stroke(),_e.context.closePath()}}}}else{if(tt.border||tt.background){if(tt.border?_e.context.rect(.5,.5,st.width-1,st.height-1):_e.context.rect(0,0,st.width,st.height),tt.background){var kt=s().default.hex(tt.backgroundColor&16777215,6);_e.context.fillStyle="#"+kt,_e.context.fill()}if(tt.border){_e.context.lineWidth=1,_e.context.lineCap="square";var Vt=s().default.hex(tt.borderColor&16777215,6);_e.context.strokeStyle="#"+Vt,_e.context.stroke()}}if(et.__caretIndex>-1&&tt.selectable&&et.__showCursor){for(var Nt=-et.get_scrollH()+(it?0:_t),Wt=0,Qt=0,tr=et.get_scrollV()-1;Qt<tr;){var sr=Qt++;Wt+=tt.lineHeights[sr]}_e.context.beginPath();var dr=s().default.hex(et.get_defaultTextFormat().color&16777215,6);_e.context.strokeStyle="#"+dr,_e.context.moveTo(Nt+2.5,Wt+2.5),_e.context.lineWidth=1,_e.context.lineTo(Nt+2.5,Wt+f().default.getFormatHeight(et.get_defaultTextFormat())-1),_e.context.stroke(),_e.context.closePath()}}at.__bitmap=b().default.fromCanvas(et.__graphics.__canvas),at.__bitmapScale=lt,at.__visible=!0,et.__dirty=!1,at.__softwareDirty=!1,at.set___dirty(!1)}}},_e.renderDrawable=function(et,nt){if(nt.__isDOM&&!et.__renderedOnCanvasWhileOnDOM&&(et.__renderedOnCanvasWhileOnDOM=!0,et.get_type()=="input"&&et.replaceText(0,et.__text.length,et.__text),et.__isHTML&&et.__updateText(k().default.parse(et.__text,et.get_multiline(),et.__styleSheet,et.__textFormat,et.__textEngine.textFormatRanges)),et.__dirty=!0,et.__layoutDirty=!0,et.__setRenderDirty()),et.get_mask()==null||et.get_mask().get_width()>0&&et.get_mask().get_height()>0)if(nt.__updateCacheBitmap(et,et.__dirty),et.__cacheBitmap!=null&&!et.__isCacheBitmapRender)$().default.render(et.__cacheBitmap,nt);else{_e.render(et,nt,et.__worldTransform);var rt=!1;et.__textEngine.antiAliasType=="advanced"&&et.__textEngine.gridFitType=="pixel"&&(rt=nt.context.imageSmoothingEnabled,rt&&(nt.context.imageSmoothingEnabled=!1)),j().default.render(et,nt),rt&&(nt.context.imageSmoothingEnabled=!0)}},_e.renderDrawableMask=function(et,nt){j().default.renderDrawableMask(et,nt)},_e.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=_e}(CanvasTextField)),CanvasTextField}var CanvasVideo={},hasRequiredCanvasVideo;function requireCanvasVideo(){return hasRequiredCanvasVideo||(hasRequiredCanvasVideo=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display._internal.CanvasVideo",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.CanvasVideo"]=o,o.render=function(c,s){if(!(!c.__renderable||c.__stream==null)){var h=s.__getAlpha(c.__worldAlpha);if(!(h<=0)){var f=s.context;if(c.__stream.__video!=null){s.__setBlendMode(c.__worldBlendMode),s.__pushMaskObject(c),f.globalAlpha=h;var g=c.__scrollRect,b=c.smoothing;s.setTransform(c.__worldTransform,f),b||(f.imageSmoothingEnabled=!1),g==null?f.drawImage(c.__stream.__video,0,0,c.get_width(),c.get_height()):f.drawImage(c.__stream.__video,g.x,g.y,g.width,g.height,g.x,g.y,g.width,g.height),b||(f.imageSmoothingEnabled=!0),s.__popMaskObject(c)}}}},o.renderDrawable=function(c,s){o.render(c,s),s.__renderEvent(c)},o.renderDrawableMask=function(c,s){},o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(CanvasVideo)),CanvasVideo}var CanvasTilemap={},hasRequiredCanvasTilemap;function requireCanvasTilemap(){return hasRequiredCanvasTilemap||(hasRequiredCanvasTilemap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}function c(){return Matrix$2}function s(){return requireImageCanvasUtil()}function h(){return requireCanvasBitmap()}function f(){return requireCanvasDisplayObject()}var g=function(){};g.__name__="openfl.display._internal.CanvasTilemap",g.__isInterface__=!1,g.prototype={},g.prototype.__class__=g.prototype.constructor=d["openfl.display._internal.CanvasTilemap"]=g,g.render=function(b,k){if(!(!b.__renderable||b.__group.__tiles.length==0)){var $=k.__getAlpha(b.__worldAlpha);if(!($<=0)){var j=k.context;k.__setBlendMode(b.__worldBlendMode),k.__pushMaskObject(b);var _e=o().default.__pool.get();_e.setTo(0,0,b.__width,b.__height),k.__pushMaskRect(_e,b.__renderTransform),(!k.__allowSmoothing||!b.smoothing)&&(j.imageSmoothingEnabled=!1),g.renderTileContainer(b.__group,k,b.__renderTransform,b.__tileset,k.__allowSmoothing&&b.smoothing,b.tileAlphaEnabled,$,b.tileBlendModeEnabled,b.__worldBlendMode,null,null,_e),(!k.__allowSmoothing||!b.smoothing)&&(j.imageSmoothingEnabled=!0),k.__popMaskRect(),k.__popMaskObject(b),o().default.__pool.release(_e)}}},g.renderTileContainer=function(b,k,$,j,_e,et,nt,rt,tt,it,st,at){for(var _t=k.context,ut=k.__roundPixels,ot=c().default.__pool.get(),lt=b.__tiles,ft=b.__length,ht,dt,pt,xt,vt=null,bt,wt,At,ct,mt=0,gt=ft;mt<gt;){var Tt=mt++;if(ht=lt[Tt],ot.setTo(1,0,0,1,-ht.get_originX(),-ht.get_originY()),ot.concat(ht.get_matrix()),ot.concat($),ut&&(ot.tx=Math.round(ot.tx),ot.ty=Math.round(ot.ty)),dt=ht.get_tileset()!=null?ht.get_tileset():j,pt=ht.get_alpha()*nt,xt=ht.get_visible(),!(!xt||pt<=0))if(et||(pt=1),rt&&(vt=ht.__blendMode!=null?ht.__blendMode:tt),ht.__length>0)g.renderTileContainer(ht,k,ot,dt,_e,et,pt,rt,vt,it,st,at);else{if(dt==null)continue;if(bt=ht.get_id(),bt==-1){if(At=ht.__rect,At==null||At.width<=0||At.height<=0)continue}else{if(wt=dt.__data[bt],wt==null)continue;at.setTo(wt.x,wt.y,wt.width,wt.height),At=at}if(ct=dt.__bitmapData,ct==null)continue;ct!=it&&(ct.image.buffer.__srcImage==null&&s().default.convertToCanvas(ct.image),st=ct.image.get_src(),it=ct),_t.globalAlpha=pt,rt&&k.__setBlendMode(vt),k.setTransform(ot,_t),_t.drawImage(st,At.x,At.y,At.width,At.height,0,0,At.width,At.height)}}c().default.__pool.release(ot)},g.renderDrawable=function(b,k){k.__updateCacheBitmap(b,!1),b.__cacheBitmap!=null&&!b.__isCacheBitmapRender?h().default.render(b.__cacheBitmap,k):(f().default.render(b,k),g.render(b,k)),k.__renderEvent(b)},g.renderDrawableMask=function(b,k){},g.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{renderTileContainer:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=g}(CanvasTilemap)),CanvasTilemap}var hasRequiredCanvasRenderer;function requireCanvasRenderer(){return hasRequiredCanvasRenderer||(hasRequiredCanvasRenderer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireDisplayObjectRenderer()}function s(){return requireStd()}function h(){return requireCanvasBitmapData()}function f(){return requireCanvasBitmap()}function g(){return requireCanvasDisplayObject()}function b(){return requireCanvasDisplayObjectContainer()}function k(){return requireCanvasSimpleButton()}function $(){return requireCanvasTextField()}function j(){return requireCanvasVideo()}function _e(){return requireCanvasTilemap()}function et(){return Matrix$2}var nt=function(rt){c().default.call(this),this.context=rt,this.__tempMatrix=new(et()).default,this.__type="canvas"};nt.__name__="openfl.display.CanvasRenderer",nt.__isInterface__=!1,nt.__super__=c().default,nt.prototype=o(c().default.prototype,{applySmoothing:function(rt,tt){rt.imageSmoothingEnabled=tt},setTransform:function(rt,tt){tt==null?tt=this.context:this.context==tt&&this.__worldTransform!=null&&(this.__tempMatrix.copyFrom(rt),this.__tempMatrix.concat(this.__worldTransform),rt=this.__tempMatrix),this.__roundPixels?tt.setTransform(rt.a,rt.b,rt.c,rt.d,s().default.int(rt.tx),s().default.int(rt.ty)):tt.setTransform(rt.a,rt.b,rt.c,rt.d,rt.tx,rt.ty)},__clear:function(){if(this.__stage!=null){var rt=this.__blendMode;this.__blendMode=null,this.__setBlendMode("normal"),this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,!this.__stage.__transparent&&this.__stage.__clearBeforeRender?(this.context.fillStyle=this.__stage.__colorString,this.context.fillRect(0,0,this.__stage.stageWidth*this.__stage.window.get_scale(),this.__stage.stageHeight*this.__stage.window.get_scale())):this.__stage.__transparent&&this.__stage.__clearBeforeRender&&this.context.clearRect(0,0,this.__stage.stageWidth*this.__stage.window.get_scale(),this.__stage.stageHeight*this.__stage.window.get_scale()),this.__setBlendMode(rt)}},__popMask:function(){this.context.restore()},__popMaskObject:function(rt,tt){tt==null&&(tt=!0),!rt.__isCacheBitmapRender&&rt.__mask!=null&&this.__popMask(),tt&&rt.__scrollRect!=null&&this.__popMaskRect()},__popMaskRect:function(){this.context.restore()},__pushMask:function(rt){this.context.save(),this.setTransform(rt.__renderTransform,this.context),this.context.beginPath(),this.__renderDrawableMask(rt),this.context.closePath(),this.context.clip()},__pushMaskObject:function(rt,tt){tt==null&&(tt=!0),tt&&rt.__scrollRect!=null&&this.__pushMaskRect(rt.__scrollRect,rt.__renderTransform),!rt.__isCacheBitmapRender&&rt.__mask!=null&&this.__pushMask(rt.__mask)},__pushMaskRect:function(rt,tt){this.context.save(),this.setTransform(tt,this.context),this.context.beginPath(),this.context.rect(rt.x,rt.y,rt.width,rt.height),this.context.clip()},__render:function(rt){this.__renderDrawable(rt)},__renderDrawable:function(rt){if(rt!=null)switch(rt.__drawableType){case 0:h().default.renderDrawable(rt,this);break;case 2:f().default.renderDrawable(rt,this);break;case 3:g().default.renderDrawable(rt,this);break;case 4:case 5:b().default.renderDrawable(rt,this);break;case 6:k().default.renderDrawable(rt,this);break;case 7:$().default.renderDrawable(rt,this);break;case 8:j().default.renderDrawable(rt,this);break;case 9:_e().default.renderDrawable(rt,this);break}},__renderDrawableMask:function(rt){if(rt!=null)switch(rt.__drawableType){case 0:h().default.renderDrawableMask(rt,this);break;case 2:f().default.renderDrawableMask(rt,this);break;case 3:g().default.renderDrawableMask(rt,this);break;case 4:case 5:b().default.renderDrawableMask(rt,this);break;case 6:k().default.renderDrawableMask(rt,this);break;case 7:$().default.renderDrawableMask(rt,this);break;case 8:j().default.renderDrawableMask(rt,this);break;case 9:_e().default.renderDrawableMask(rt,this);break}},__setBlendMode:function(rt){this.__overrideBlendMode!=null&&(rt=this.__overrideBlendMode),this.__blendMode!=rt&&(this.__blendMode=rt,this.__setBlendModeContext(this.context,rt))},__setBlendModeContext:function(rt,tt){switch(tt){case"add":rt.globalCompositeOperation="lighter";break;case"darken":rt.globalCompositeOperation="darken";break;case"difference":rt.globalCompositeOperation="difference";break;case"hardlight":rt.globalCompositeOperation="hard-light";break;case"lighten":rt.globalCompositeOperation="lighten";break;case"multiply":rt.globalCompositeOperation="multiply";break;case"overlay":rt.globalCompositeOperation="overlay";break;case"screen":rt.globalCompositeOperation="screen";break;default:rt.globalCompositeOperation="source-over"}}}),nt.prototype.__class__=nt.prototype.constructor=d["openfl.display.CanvasRenderer"]=nt,nt.__meta__={fields:{context:{SuppressWarnings:["checkstyle:Dynamic"]},applySmoothing:{SuppressWarnings:["checkstyle:Dynamic"]},setTransform:{SuppressWarnings:["checkstyle:Dynamic"]},__setBlendModeContext:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=nt}(CanvasRenderer$1)),CanvasRenderer$1}var hasRequiredDisplayObjectRenderer;function requireDisplayObjectRenderer(){return hasRequiredDisplayObjectRenderer||(hasRequiredDisplayObjectRenderer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return requireContext3DGraphics()}function h(){return ColorTransform$1}function f(){return Matrix$2}function g(){return Rectangle$2}function b(){return requireBitmapData()}function k(){return Bitmap$2}function $(){return requireOpenGLRenderer()}function j(){return requireBoot()}function _e(){return requireImageCanvasUtil()}function et(){return requireCanvasRenderer()}function nt(){return Point$2}var rt=function(){c().default.call(this),this.__allowSmoothing=!0,this.__pixelRatio=1,this.__tempColorTransform=new(h()).default,this.__worldAlpha=1};rt.__name__="openfl.display.DisplayObjectRenderer",rt.__isInterface__=!1,rt.__super__=c().default,rt.prototype=o(c().default.prototype,{__clear:function(){},__getAlpha:function(tt){return tt*this.__worldAlpha},__getColorTransform:function(tt){return this.__worldColorTransform!=null?(this.__tempColorTransform.__copyFrom(this.__worldColorTransform),this.__tempColorTransform.__combine(tt),this.__tempColorTransform):tt},__popMask:function(){},__popMaskObject:function(tt,it){},__popMaskRect:function(){},__pushMask:function(tt){},__pushMaskObject:function(tt,it){},__pushMaskRect:function(tt,it){},__render:function(tt){},__renderEvent:function(tt){var it=this;if(tt.__customRenderEvent!=null&&tt.__renderable){switch(tt.__customRenderEvent.allowSmoothing=it.__allowSmoothing,tt.__customRenderEvent.objectMatrix.copyFrom(tt.__renderTransform),tt.__customRenderEvent.objectColorTransform.__copyFrom(tt.__worldColorTransform),tt.__customRenderEvent.renderer=it,it.__type){case"cairo":tt.__customRenderEvent.type="renderCairo";break;case"canvas":tt.__customRenderEvent.type="renderCanvas";break;case"dom":tt.stage!=null&&tt.__worldVisible?tt.__customRenderEvent.type="renderDOM":tt.__customRenderEvent.type="clearDOM";break;case"opengl":it.__cleared||it.__clear();var st=it;st.setShader(tt.__worldShader),st.__context3D.__flushGL(),tt.__customRenderEvent.type="renderOpenGL";break;default:return}if(it.__setBlendMode(tt.__worldBlendMode),it.__pushMaskObject(tt),tt.dispatchEvent(tt.__customRenderEvent),it.__popMaskObject(tt),it.__type=="opengl"){var at=it;at.setViewport()}}},__resize:function(tt,it){},__setBlendMode:function(tt){},__shouldCacheHardware:function(tt,it){if(tt==null)return null;switch(tt.__drawableType){case 4:case 5:if(it==!0||(it=this.__shouldCacheHardware_DisplayObject(tt,it),it==!0))return!0;if(tt.__children!=null)for(var st=0,at=tt.__children;st<at.length;){var _t=at[st];if(++st,it=this.__shouldCacheHardware_DisplayObject(_t,it),it==!0)return!0}return it;case 7:return it==!0;case 9:return!0;default:return this.__shouldCacheHardware_DisplayObject(tt,it)}},__shouldCacheHardware_DisplayObject:function(tt,it){return it==!0||tt.__filters!=null?!0:it==!1||tt.__graphics!=null&&!s().default.isCompatible(tt.__graphics)?!1:null},__updateCacheBitmap:function(tt,it){if(tt==null)return!1;var st=this;switch(tt.__drawableType){case 2:var at=tt;if(at.__bitmapData==null||at.__filters==null&&st.__type=="opengl"&&at.__cacheBitmap==null)return!1;it=at.__bitmapData.image!=null&&at.__bitmapData.image.version!=at.__imageVersion;break;case 7:var _t=tt;if(_t.__filters==null&&st.__type=="opengl"&&_t.__cacheBitmap==null&&!_t.__domRender)return!1;it&&(_t.__renderDirty=!0),it=it||_t.__dirty;break;case 9:var ut=tt;if(ut.__filters==null&&st.__type=="opengl"&&ut.__cacheBitmap==null)return!1;break}if(tt.__isCacheBitmapRender)return!1;var ot=h().default.__pool.get();ot.__copyFrom(tt.__worldColorTransform),st.__worldColorTransform!=null&&ot.__combine(st.__worldColorTransform);var lt=!1;if(tt.get_cacheAsBitmap()||st.__type!="opengl"&&!ot.__isDefault(!0)||st.__type=="opengl"&&tt.get_scale9Grid()!=null){var ft=null,ht=tt.__cacheBitmap==null||tt.__renderDirty&&(it||tt.__children!=null&&tt.__children.length>0)||tt.opaqueBackground!=tt.__cacheBitmapBackground,dt=ht||tt.__graphics!=null&&tt.__graphics.__softwareDirty||!tt.__cacheBitmapColorTransform.__equals(ot,!0),pt=ht||tt.__graphics!=null&&tt.__graphics.__hardwareDirty,xt=st.__type;(dt||pt)&&(xt=="opengl"&&this.__shouldCacheHardware(tt,null)==!1&&(xt="canvas"),dt&&(xt=="canvas"||xt=="cairo")&&(ht=!0),pt&&xt=="opengl"&&(ht=!0));var vt=ht||!tt.__cacheBitmap.__worldTransform.equals(tt.__worldTransform),bt=tt.__filters!=null;if(st.__type=="dom"&&!bt)return!1;if(bt&&!ht)for(var wt=0,At=tt.__filters;wt<At.length;){var ct=At[wt];if(++wt,ct.__renderDirty){ht=!0;break}}tt.__cacheBitmapMatrix==null&&(tt.__cacheBitmapMatrix=new(f()).default);var mt=tt.__cacheAsBitmapMatrix!=null?tt.__cacheAsBitmapMatrix:tt.__renderTransform;if(!ht&&(mt.a!=tt.__cacheBitmapMatrix.a||mt.b!=tt.__cacheBitmapMatrix.b||mt.c!=tt.__cacheBitmapMatrix.c||mt.d!=tt.__cacheBitmapMatrix.d)&&(ht=!0),!ht&&st.__type!="opengl"&&tt.__cacheBitmapData!=null&&tt.__cacheBitmapData.image!=null&&tt.__cacheBitmapData.image.version<tt.__cacheBitmapData.__textureVersion&&(ht=!0),!ht)for(var gt=tt;gt!=null;){if(gt.get_scrollRect()!=null){vt=!0;break}gt=gt.parent}tt.__cacheBitmapMatrix.copyFrom(mt),tt.__cacheBitmapMatrix.tx=0,tt.__cacheBitmapMatrix.ty=0;var Tt=0,yt=0,Et=0,Ct=0,It=0,Rt=0,Ft=this.__pixelRatio;if((vt||ht)&&(ft=g().default.__pool.get(),tt.__getFilterBounds(ft,tt.__cacheBitmapMatrix),Et=ft.width>0?Math.ceil((ft.width+1)*Ft):0,Ct=ft.height>0?Math.ceil((ft.height+1)*Ft):0,It=ft.x>0?Math.ceil(ft.x):Math.floor(ft.x),Rt=ft.y>0?Math.ceil(ft.y):Math.floor(ft.y),tt.__cacheBitmapData!=null?Et>tt.__cacheBitmapData.width||Ct>tt.__cacheBitmapData.height?(Tt=Math.ceil(Math.max(Et*1.25,tt.__cacheBitmapData.width)),yt=Math.ceil(Math.max(Ct*1.25,tt.__cacheBitmapData.height)),ht=!0):(Tt=tt.__cacheBitmapData.width,yt=tt.__cacheBitmapData.height):(Tt=Et,yt=Ct)),ht)if(vt=!0,tt.__cacheBitmapBackground=tt.opaqueBackground,Et>=.5&&Ct>=.5){var Lt=tt.opaqueBackground!=null&&(Tt!=Et||yt!=Ct),Ot=tt.opaqueBackground!=null?-16777216|tt.opaqueBackground:0,Kt=Lt?0:Ot,qt=st.__type=="opengl";tt.__cacheBitmapData==null||Tt>tt.__cacheBitmapData.width||yt>tt.__cacheBitmapData.height?(tt.__cacheBitmapData=new(b()).default(Tt,yt,!0,Kt),tt.__cacheBitmap==null&&(tt.__cacheBitmap=new(k()).default),tt.__cacheBitmap.__bitmapData=tt.__cacheBitmapData,tt.__cacheBitmapRenderer=null):tt.__cacheBitmapData.__fillRect(tt.__cacheBitmapData.rect,Kt,qt),Lt&&(ft.setTo(0,0,Et,Ct),tt.__cacheBitmapData.__fillRect(ft,Ot,qt))}else{if(h().default.__pool.release(ot),tt.__cacheBitmap=null,tt.__cacheBitmapData=null,tt.__cacheBitmapData2=null,tt.__cacheBitmapData3=null,tt.__cacheBitmapRenderer=null,tt.__drawableType==7){var Ht=tt;Ht.__cacheBitmap!=null&&(Ht.__cacheBitmap.__renderTransform.tx-=Ht.__offsetX*Ft,Ht.__cacheBitmap.__renderTransform.ty-=Ht.__offsetY*Ft)}return!0}else tt.__cacheBitmapData=tt.__cacheBitmap.get_bitmapData(),tt.__cacheBitmapData2=null,tt.__cacheBitmapData3=null;if((vt||ht)&&(tt.__cacheBitmap.__worldTransform.copyFrom(tt.__worldTransform),mt==tt.__renderTransform?(tt.__cacheBitmap.__renderTransform.identity(),tt.__cacheBitmap.__renderTransform.scale(1/Ft,1/Ft),tt.__cacheBitmap.__renderTransform.tx=tt.__renderTransform.tx+It,tt.__cacheBitmap.__renderTransform.ty=tt.__renderTransform.ty+Rt):(tt.__cacheBitmap.__renderTransform.copyFrom(tt.__cacheBitmapMatrix),tt.__cacheBitmap.__renderTransform.invert(),tt.__cacheBitmap.__renderTransform.concat(tt.__renderTransform),tt.__cacheBitmap.__renderTransform.a*=1/Ft,tt.__cacheBitmap.__renderTransform.d*=1/Ft,tt.__cacheBitmap.__renderTransform.tx+=It,tt.__cacheBitmap.__renderTransform.ty+=Rt)),tt.__cacheBitmap.smoothing=st.__allowSmoothing,tt.__cacheBitmap.__renderable=tt.__renderable,tt.__cacheBitmap.__worldAlpha=tt.__worldAlpha,tt.__cacheBitmap.__worldBlendMode=tt.__worldBlendMode,tt.__cacheBitmap.__worldShader=tt.__worldShader,tt.__cacheBitmap.set_mask(tt.__mask),ht){if(tt.__cacheBitmapRenderer==null||xt!=tt.__cacheBitmapRenderer.__type){if(xt=="opengl")tt.__cacheBitmapRenderer=new($()).default(j().default.__cast(st,$().default).__context3D,tt.__cacheBitmapData);else{if(tt.__cacheBitmapData.image==null){var Zt=tt.opaqueBackground!=null?-16777216|tt.opaqueBackground:0;tt.__cacheBitmapData=new(b()).default(Tt,yt,!0,Zt),tt.__cacheBitmap.__bitmapData=tt.__cacheBitmapData}_e().default.convertToCanvas(tt.__cacheBitmapData.image),tt.__cacheBitmapRenderer=new(et()).default(tt.__cacheBitmapData.image.buffer.__srcContext)}tt.__cacheBitmapRenderer.__worldTransform=new(f()).default,tt.__cacheBitmapRenderer.__worldColorTransform=new(h()).default}if(tt.__cacheBitmapColorTransform==null&&(tt.__cacheBitmapColorTransform=new(h()).default),tt.__cacheBitmapRenderer.__stage=tt.stage,tt.__cacheBitmapRenderer.__allowSmoothing=st.__allowSmoothing,tt.__cacheBitmapRenderer.__setBlendMode("normal"),tt.__cacheBitmapRenderer.__worldAlpha=1/tt.__worldAlpha,tt.__cacheBitmapRenderer.__worldTransform.copyFrom(tt.__renderTransform),tt.__cacheBitmapRenderer.__worldTransform.invert(),tt.__cacheBitmapRenderer.__worldTransform.concat(tt.__cacheBitmapMatrix),tt.__cacheBitmapRenderer.__worldTransform.tx-=It,tt.__cacheBitmapRenderer.__worldTransform.ty-=Rt,tt.__cacheBitmapRenderer.__worldTransform.scale(Ft,Ft),tt.__cacheBitmapRenderer.__pixelRatio=Ft,tt.__cacheBitmapRenderer.__worldColorTransform.__copyFrom(ot),tt.__cacheBitmapRenderer.__worldColorTransform.__invert(),tt.__isCacheBitmapRender=!0,tt.__cacheBitmapRenderer.__type=="opengl"){var or=st,ir=tt.__cacheBitmapRenderer,lr=ir.__context3D,ar=lr.__state.renderToTexture,Mt=lr.__state.renderToTextureDepthStencil,kt=lr.__state.renderToTextureAntiAlias,Vt=lr.__state.renderToTextureSurfaceSelector,Nt=or.__blendMode;if(or.__suspendClipAndMask(),ir.__copyShader(or),tt.__cacheBitmapData.__setUVRect(lr,0,0,Et,Ct),ir.__setRenderTarget(tt.__cacheBitmapData),tt.__cacheBitmapData.image!=null&&(tt.__cacheBitmapData.__textureVersion=tt.__cacheBitmapData.image.version+1),tt.__cacheBitmapData.__drawGL(tt,ir),bt){for(var Wt=!1,Qt=0,tr=tt.__filters;Qt<tr.length;){var sr=tr[Qt];++Qt,sr.__preserveObject&&(Wt=!0)}var dr=tt.__cacheBitmapData,pr=null,cr=null;tt.__cacheBitmapData2==null||Tt>tt.__cacheBitmapData2.width||yt>tt.__cacheBitmapData2.height?tt.__cacheBitmapData2=new(b()).default(Tt,yt,!0,0):(tt.__cacheBitmapData2.fillRect(tt.__cacheBitmapData2.rect,0),tt.__cacheBitmapData2.image!=null&&(tt.__cacheBitmapData2.__textureVersion=tt.__cacheBitmapData2.image.version+1)),tt.__cacheBitmapData2.__setUVRect(lr,0,0,Et,Ct),pr=tt.__cacheBitmapData2,Wt&&(tt.__cacheBitmapData3==null||Tt>tt.__cacheBitmapData3.width||yt>tt.__cacheBitmapData3.height?tt.__cacheBitmapData3=new(b()).default(Tt,yt,!0,0):(tt.__cacheBitmapData3.fillRect(tt.__cacheBitmapData3.rect,0),tt.__cacheBitmapData3.image!=null&&(tt.__cacheBitmapData3.__textureVersion=tt.__cacheBitmapData3.image.version+1)),tt.__cacheBitmapData3.__setUVRect(lr,0,0,Et,Ct),cr=tt.__cacheBitmapData3),ir.__setBlendMode("normal"),ir.__worldAlpha=1,ir.__worldTransform.identity(),ir.__worldColorTransform.__identity();for(var mr,fr,Bt=0,Xt=tt.__filters;Bt<Xt.length;){var rr=Xt[Bt];++Bt,rr.__preserveObject&&(ir.__setRenderTarget(cr),ir.__renderFilterPass(dr,ir.__defaultDisplayShader,rr.__smooth));for(var nr=0,Gt=rr.__numShaderPasses;nr<Gt;){var zt=nr++;mr=rr.__initShader(ir,zt,rr.__preserveObject?cr:null),ir.__setBlendMode(rr.__shaderBlendMode),ir.__setRenderTarget(pr),ir.__renderFilterPass(dr,mr,rr.__smooth),fr=dr,dr=pr,pr=fr}rr.__renderDirty=!1}tt.__cacheBitmap.__bitmapData=dr}or.__blendMode="normal",or.__setBlendMode(Nt),or.__copyShader(ir),ar!=null?lr.setRenderToTexture(ar,Mt,kt,Vt):lr.setRenderToBackBuffer(),or.__resumeClipAndMask(ir),or.setViewport(),tt.__cacheBitmapColorTransform.__copyFrom(ot)}else{if(tt.__cacheBitmapData.__drawCanvas(tt,tt.__cacheBitmapRenderer),bt){for(var $t=!1,er=!1,ur=0,St=tt.__filters;ur<St.length;){var Ut=St[ur];++ur,Ut.__needSecondBitmapData&&($t=!0),Ut.__preserveObject&&(er=!0)}var Yt=tt.__cacheBitmapData,Dt=null,Pt=null;$t?(tt.__cacheBitmapData2==null||tt.__cacheBitmapData2.image==null||Tt>tt.__cacheBitmapData2.width||yt>tt.__cacheBitmapData2.height?tt.__cacheBitmapData2=new(b()).default(Tt,yt,!0,0):tt.__cacheBitmapData2.fillRect(tt.__cacheBitmapData2.rect,0),Dt=tt.__cacheBitmapData2):Dt=Yt,er&&(tt.__cacheBitmapData3==null||tt.__cacheBitmapData3.image==null||Tt>tt.__cacheBitmapData3.width||yt>tt.__cacheBitmapData3.height?tt.__cacheBitmapData3=new(b()).default(Tt,yt,!0,0):tt.__cacheBitmapData3.fillRect(tt.__cacheBitmapData3.rect,0),Pt=tt.__cacheBitmapData3),tt.__tempPoint==null&&(tt.__tempPoint=new(nt()).default);for(var Jt=tt.__tempPoint,_r,hr,vr=0,gr=tt.__filters;vr<gr.length;){var br=gr[vr];++vr,br.__preserveObject&&Pt.copyPixels(Yt,Yt.rect,Jt),hr=br.__applyFilter(Dt,Yt,Yt.rect,Jt),br.__preserveObject&&hr.draw(Pt,null,tt.__objectTransform!=null?tt.__objectTransform.__colorTransform:null),br.__renderDirty=!1,$t&&hr==Dt&&(_r=Yt,Yt=Dt,Dt=_r)}tt.__cacheBitmapData!=Yt&&(_r=tt.__cacheBitmapData,tt.__cacheBitmapData=Yt,tt.__cacheBitmapData2=_r,tt.__cacheBitmap.__bitmapData=tt.__cacheBitmapData,tt.__cacheBitmapRenderer=null),tt.__cacheBitmap.__imageVersion=tt.__cacheBitmapData.__textureVersion}tt.__cacheBitmapColorTransform.__copyFrom(ot),tt.__cacheBitmapColorTransform.__isDefault(!0)||(tt.__cacheBitmapColorTransform.alphaMultiplier=1,tt.__cacheBitmapData.colorTransform(tt.__cacheBitmapData.rect,tt.__cacheBitmapColorTransform))}tt.__isCacheBitmapRender=!1}(vt||ht)&&g().default.__pool.release(ft),lt=vt}else if(tt.__cacheBitmap!=null){if(st.__type=="dom"){var wr=st;wr.__renderDrawableClear(tt.__cacheBitmap)}tt.__cacheBitmap=null,tt.__cacheBitmapData=null,tt.__cacheBitmapData2=null,tt.__cacheBitmapData3=null,tt.__cacheBitmapColorTransform=null,tt.__cacheBitmapRenderer=null,lt=!0}if(h().default.__pool.release(ot),lt&&tt.__drawableType==7){var yr=tt;yr.__cacheBitmap!=null&&(yr.__cacheBitmap.__renderTransform.tx-=yr.__offsetX,yr.__cacheBitmap.__renderTransform.ty-=yr.__offsetY)}return lt}}),rt.prototype.__class__=rt.prototype.constructor=d["openfl.display.DisplayObjectRenderer"]=rt,rt.__meta__={fields:{__context:{SuppressWarnings:["checkstyle:Dynamic"]},__type:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=rt}(DisplayObjectRenderer$1)),DisplayObjectRenderer$1}var Matrix4_Impl_={},hasRequiredMatrix4_Impl_;function requireMatrix4_Impl_(){return hasRequiredMatrix4_Impl_||(hasRequiredMatrix4_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireFloat32Array_Impl_$1()}function c(){return requireLog()}function s(){return requireVector4()}var h=function(){};h.__name__="lime.math._Matrix4.Matrix4_Impl_",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["lime.math._Matrix4.Matrix4_Impl_"]=h,h._new=function(f){var g;if(f!=null&&f.length==16)g=f;else{var b=null,k=h.__identity,$=null,j=null,_e=null,et;b!=null?et=new Float32Array(b):k!=null?et=new Float32Array(k):$!=null?et=new Float32Array($):j!=null?_e==null?et=new Float32Array(j,0):et=new Float32Array(j,0,_e):et=null,g=et}return g},h.append=function(f,g){var b=f[0],k=f[4],$=f[8],j=f[12],_e=f[1],et=f[5],nt=f[9],rt=f[13],tt=f[2],it=f[6],st=f[10],at=f[14],_t=f[3],ut=f[7],ot=f[11],lt=f[15],ft=h.get(g,0),ht=h.get(g,4),dt=h.get(g,8),pt=h.get(g,12),xt=h.get(g,1),vt=h.get(g,5),bt=h.get(g,9),wt=h.get(g,13),At=h.get(g,2),ct=h.get(g,6),mt=h.get(g,10),gt=h.get(g,14),Tt=h.get(g,3),yt=h.get(g,7),Et=h.get(g,11),Ct=h.get(g,15);f[0]=b*ft+_e*ht+tt*dt+_t*pt,f[1]=b*xt+_e*vt+tt*bt+_t*wt,f[2]=b*At+_e*ct+tt*mt+_t*gt,f[3]=b*Tt+_e*yt+tt*Et+_t*Ct,f[4]=k*ft+et*ht+it*dt+ut*pt,f[5]=k*xt+et*vt+it*bt+ut*wt,f[6]=k*At+et*ct+it*mt+ut*gt,f[7]=k*Tt+et*yt+it*Et+ut*Ct,f[8]=$*ft+nt*ht+st*dt+ot*pt,f[9]=$*xt+nt*vt+st*bt+ot*wt,f[10]=$*At+nt*ct+st*mt+ot*gt,f[11]=$*Tt+nt*yt+st*Et+ot*Ct,f[12]=j*ft+rt*ht+at*dt+lt*pt,f[13]=j*xt+rt*vt+at*bt+lt*wt,f[14]=j*At+rt*ct+at*mt+lt*gt,f[15]=j*Tt+rt*yt+at*Et+lt*Ct},h.appendRotation=function(f,g,b,k){var $=h.__getAxisRotation(f,b.x,b.y,b.z,g);if(k!=null){var j=k;h.appendTranslation($,j.x,j.y,j.z)}h.append(f,$)},h.appendScale=function(f,g,b,k){var $=[g,0,0,0,0,b,0,0,0,0,k,0,0,0,0,1],j;$!=null?j=new Float32Array($):j=null,h.append(f,h._new(j))},h.appendTranslation=function(f,g,b,k){f[12]+=g,f[13]+=b,f[14]+=k},h.clone=function(f){var g=o().default.toArrayBufferView(f),b;return g!=null?b=new Float32Array(g):b=null,h._new(b)},h.copyColumnFrom=function(f,g,b){switch(g){case 0:f[0]=b.x,f[1]=b.y,f[2]=b.z,f[3]=b.w;break;case 1:f[4]=b.x,f[5]=b.y,f[6]=b.z,f[7]=b.w;break;case 2:f[8]=b.x,f[9]=b.y,f[10]=b.z,f[11]=b.w;break;case 3:f[12]=b.x,f[13]=b.y,f[14]=b.z,f[15]=b.w;break;default:c().default.error("Column "+g+" out of bounds [0, ..., 3]",{fileName:"../node_modules/lime/src/lime/math/Matrix4.hx",lineNumber:187,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnFrom"})}},h.copyColumnTo=function(f,g,b){switch(g){case 0:b.x=f[0],b.y=f[1],b.z=f[2],b.w=f[3];break;case 1:b.x=f[4],b.y=f[5],b.z=f[6],b.w=f[7];break;case 2:b.x=f[8],b.y=f[9],b.z=f[10],b.w=f[11];break;case 3:b.x=f[12],b.y=f[13],b.z=f[14],b.w=f[15];break;default:c().default.error("Column "+g+" out of bounds [0, ..., 3]",{fileName:"../node_modules/lime/src/lime/math/Matrix4.hx",lineNumber:225,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyColumnTo"})}},h.copyFrom=function(f,g){f.set(g)},h.copyRowFrom=function(f,g,b){switch(g){case 0:f[0]=b.x,f[4]=b.y,f[8]=b.z,f[12]=b.w;break;case 1:f[1]=b.x,f[5]=b.y,f[9]=b.z,f[13]=b.w;break;case 2:f[2]=b.x,f[6]=b.y,f[10]=b.z,f[14]=b.w;break;case 3:f[3]=b.x,f[7]=b.y,f[11]=b.z,f[15]=b.w;break;default:c().default.error("Row "+g+" out of bounds [0, ..., 3]",{fileName:"../node_modules/lime/src/lime/math/Matrix4.hx",lineNumber:272,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowFrom"})}},h.copyRowTo=function(f,g,b){switch(g){case 0:b.x=f[0],b.y=f[4],b.z=f[8],b.w=f[12];break;case 1:b.x=f[1],b.y=f[5],b.z=f[9],b.w=f[13];break;case 2:b.x=f[2],b.y=f[6],b.z=f[10],b.w=f[14];break;case 3:b.x=f[3],b.y=f[7],b.z=f[11],b.w=f[15];break;default:c().default.error("Row "+g+" out of bounds [0, ..., 3]",{fileName:"../node_modules/lime/src/lime/math/Matrix4.hx",lineNumber:310,className:"lime.math._Matrix4.Matrix4_Impl_",methodName:"copyRowTo"})}},h.create2D=function(f,g,b,k,$,j,_e){_e==null&&(_e=0),j==null&&(j=0),f[0]=g,f[1]=b,f[2]=0,f[3]=0,f[4]=k,f[5]=$,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=j,f[13]=_e,f[14]=0,f[15]=1},h.createOrtho=function(f,g,b,k,$,j,_e){var et=1/(b-g),nt=1/($-k),rt=1/(_e-j);f[0]=2*et,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*nt,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=-2*rt,f[11]=0,f[12]=-(g+b)*et,f[13]=-(k+$)*nt,f[14]=-(j+_e)*rt,f[15]=1},h.deltaTransformVector=function(f,g,b){b==null&&(b=new(s()).default);var k=g.x,$=g.y,j=g.z;return b.x=k*f[0]+$*f[4]+j*f[8]+f[3],b.y=k*f[1]+$*f[5]+j*f[9]+f[7],b.z=k*f[2]+$*f[6]+j*f[10]+f[11],b},h.fromMatrix3=function(f){var g=h._new();return h.create2D(g,f.a,f.b,f.c,f.d,f.tx,f.ty),g},h.identity=function(f){f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1},h.interpolate=function(f,g,b,k){k==null&&(k=h._new());for(var $=0;$<16;){var j=$++;h.set(k,j,h.get(f,j)+(h.get(g,j)-h.get(f,j))*b)}return k},h.interpolateTo=function(f,g,b){for(var k=0;k<16;){var $=k++;f[$]+=(h.get(g,$)-f[$])*b}},h.invert=function(f){var g=h.get_determinant(f),b=Math.abs(g)>1e-11;if(b){g=1/g;var k=f[0],$=f[4],j=f[8],_e=f[12],et=f[1],nt=f[5],rt=f[9],tt=f[13],it=f[2],st=f[6],at=f[10],_t=f[14],ut=f[3],ot=f[7],lt=f[11],ft=f[15];f[0]=g*(nt*(at*ft-_t*lt)-rt*(st*ft-_t*ot)+tt*(st*lt-at*ot)),f[1]=-g*(et*(at*ft-_t*lt)-rt*(it*ft-_t*ut)+tt*(it*lt-at*ut)),f[2]=g*(et*(st*ft-_t*ot)-nt*(it*ft-_t*ut)+tt*(it*ot-st*ut)),f[3]=-g*(et*(st*lt-at*ot)-nt*(it*lt-at*ut)+rt*(it*ot-st*ut)),f[4]=-g*($*(at*ft-_t*lt)-j*(st*ft-_t*ot)+_e*(st*lt-at*ot)),f[5]=g*(k*(at*ft-_t*lt)-j*(it*ft-_t*ut)+_e*(it*lt-at*ut)),f[6]=-g*(k*(st*ft-_t*ot)-$*(it*ft-_t*ut)+_e*(it*ot-st*ut)),f[7]=g*(k*(st*lt-at*ot)-$*(it*lt-at*ut)+j*(it*ot-st*ut)),f[8]=g*($*(rt*ft-tt*lt)-j*(nt*ft-tt*ot)+_e*(nt*lt-rt*ot)),f[9]=-g*(k*(rt*ft-tt*lt)-j*(et*ft-tt*ut)+_e*(et*lt-rt*ut)),f[10]=g*(k*(nt*ft-tt*ot)-$*(et*ft-tt*ut)+_e*(et*ot-nt*ut)),f[11]=-g*(k*(nt*lt-rt*ot)-$*(et*lt-rt*ut)+j*(et*ot-nt*ut)),f[12]=-g*($*(rt*_t-tt*at)-j*(nt*_t-tt*st)+_e*(nt*at-rt*st)),f[13]=g*(k*(rt*_t-tt*at)-j*(et*_t-tt*it)+_e*(et*at-rt*it)),f[14]=-g*(k*(nt*_t-tt*st)-$*(et*_t-tt*it)+_e*(et*st-nt*it)),f[15]=g*(k*(nt*at-rt*st)-$*(et*at-rt*it)+j*(et*st-nt*it))}return b},h.pointAt=function(f,g,b,k){b==null&&(b=new(s()).default(0,0,1)),k==null&&(k=new(s()).default(0,1,0));var $=g.subtract(b),j=k.clone();$.normalize(),j.normalize();var _e=$.clone();_e.scaleBy(j.dotProduct($)),j=j.subtract(_e),j.get_length()>0?j.normalize():$.x!=0?j=new(s()).default(-$.y,$.x,0):j=new(s()).default(1,0,0);var et=j.crossProduct($);et.normalize(),f[0]=et.x,f[4]=et.y,f[8]=et.z,f[12]=0,f[1]=j.x,f[5]=j.y,f[9]=j.z,f[13]=0,f[2]=$.x,f[6]=$.y,f[10]=$.z,f[14]=0,f[3]=g.x,f[7]=g.y,f[11]=g.z,f[15]=1},h.prepend=function(f,g){var b=h.get(g,0),k=h.get(g,4),$=h.get(g,8),j=h.get(g,12),_e=h.get(g,1),et=h.get(g,5),nt=h.get(g,9),rt=h.get(g,13),tt=h.get(g,2),it=h.get(g,6),st=h.get(g,10),at=h.get(g,14),_t=h.get(g,3),ut=h.get(g,7),ot=h.get(g,11),lt=h.get(g,15),ft=f[0],ht=f[4],dt=f[8],pt=f[12],xt=f[1],vt=f[5],bt=f[9],wt=f[13],At=f[2],ct=f[6],mt=f[10],gt=f[14],Tt=f[3],yt=f[7],Et=f[11],Ct=f[15];f[0]=b*ft+_e*ht+tt*dt+_t*pt,f[1]=b*xt+_e*vt+tt*bt+_t*wt,f[2]=b*At+_e*ct+tt*mt+_t*gt,f[3]=b*Tt+_e*yt+tt*Et+_t*Ct,f[4]=k*ft+et*ht+it*dt+ut*pt,f[5]=k*xt+et*vt+it*bt+ut*wt,f[6]=k*At+et*ct+it*mt+ut*gt,f[7]=k*Tt+et*yt+it*Et+ut*Ct,f[8]=$*ft+nt*ht+st*dt+ot*pt,f[9]=$*xt+nt*vt+st*bt+ot*wt,f[10]=$*At+nt*ct+st*mt+ot*gt,f[11]=$*Tt+nt*yt+st*Et+ot*Ct,f[12]=j*ft+rt*ht+at*dt+lt*pt,f[13]=j*xt+rt*vt+at*bt+lt*wt,f[14]=j*At+rt*ct+at*mt+lt*gt,f[15]=j*Tt+rt*yt+at*Et+lt*Ct},h.prependRotation=function(f,g,b,k){var $=h.__getAxisRotation(f,b.x,b.y,b.z,g);if(k!=null){var j=k;h.appendTranslation($,j.x,j.y,j.z)}h.prepend(f,$)},h.prependScale=function(f,g,b,k){var $=[g,0,0,0,0,b,0,0,0,0,k,0,0,0,0,1],j;$!=null?j=new Float32Array($):j=null,h.prepend(f,h._new(j))},h.prependTranslation=function(f,g,b,k){var $=h._new();h.set_position($,new(s()).default(g,b,k)),h.prepend(f,$)},h.transformVector=function(f,g,b){b==null&&(b=new(s()).default);var k=g.x,$=g.y,j=g.z;return b.x=k*f[0]+$*f[4]+j*f[8]+f[12],b.y=k*f[1]+$*f[5]+j*f[9]+f[13],b.z=k*f[2]+$*f[6]+j*f[10]+f[14],b.w=k*f[3]+$*f[7]+j*f[11]+f[15],b},h.transformVectors=function(f,g,b){for(var k=0,$,j,_e;k+3<=g.length;)$=g[k],j=g[k+1],_e=g[k+2],b[k]=$*f[0]+j*f[4]+_e*f[8]+f[12],b[k+1]=$*f[1]+j*f[5]+_e*f[9]+f[13],b[k+2]=$*f[2]+j*f[6]+_e*f[10]+f[14],k+=3},h.transpose=function(f){var g=f[1];f[1]=f[4],f[4]=g;var b=f[2];f[2]=f[8],f[8]=b;var k=f[3];f[3]=f[12],f[12]=k;var $=f[6];f[6]=f[9],f[9]=$;var j=f[7];f[7]=f[13],f[13]=j;var _e=f[11];f[11]=f[14],f[14]=_e},h.__getAxisRotation=function(f,g,b,k,$){var j=h._new(),_e=new(s()).default(g,b,k),et=-$*(Math.PI/180),nt=Math.cos(et),rt=Math.sin(et),tt=1-nt;h.set(j,0,nt+_e.x*_e.x*tt),h.set(j,5,nt+_e.y*_e.y*tt),h.set(j,10,nt+_e.z*_e.z*tt);var it=_e.x*_e.y*tt,st=_e.z*rt;return h.set(j,4,it+st),h.set(j,1,it-st),it=_e.x*_e.z*tt,st=_e.y*rt,h.set(j,8,it-st),h.set(j,2,it+st),it=_e.y*_e.z*tt,st=_e.x*rt,h.set(j,9,it+st),h.set(j,6,it-st),j},h.__swap=function(f,g,b){var k=f[g];f[g]=f[b],f[b]=k},h.get_determinant=function(f){return(f[0]*f[5]-f[4]*f[1])*(f[10]*f[15]-f[14]*f[11])-(f[0]*f[9]-f[8]*f[1])*(f[6]*f[15]-f[14]*f[7])+(f[0]*f[13]-f[12]*f[1])*(f[6]*f[11]-f[10]*f[7])+(f[4]*f[9]-f[8]*f[5])*(f[2]*f[15]-f[14]*f[3])-(f[4]*f[13]-f[12]*f[5])*(f[2]*f[11]-f[10]*f[3])+(f[8]*f[13]-f[12]*f[9])*(f[2]*f[7]-f[6]*f[3])},h.get_position=function(f){return new(s()).default(f[12],f[13],f[14])},h.set_position=function(f,g){return f[12]=g.x,f[13]=g.y,f[14]=g.z,g},h.get=function(f,g){return f[g]},h.set=function(f,g,b){return f[g]=b,b},h.__identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e.default=h}(Matrix4_Impl_)),Matrix4_Impl_}var Context3DBitmapData={},hasRequiredContext3DBitmapData;function requireContext3DBitmapData(){return hasRequiredContext3DBitmapData||(hasRequiredContext3DBitmapData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display._internal.Context3DBitmapData",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.Context3DBitmapData"]=o,o.renderDrawable=function(c,s){var h=s.__context3D;h.gl,s.__setBlendMode("normal");var f=s.__defaultDisplayShader;s.setShader(f),s.applyBitmapData(c,s.__upscaled),s.applyMatrix(s.__getMatrix(c.__worldTransform,"auto")),s.applyAlpha(c.__worldAlpha),s.applyColorTransform(c.__worldColorTransform),s.updateShader();var g=c.getVertexBuffer(h);f.__position!=null&&h.setVertexBufferAt(f.__position.index,g,0,"float3"),f.__textureCoord!=null&&h.setVertexBufferAt(f.__textureCoord.index,g,3,"float2");var b=c.getIndexBuffer(h);h.drawTriangles(b),s.__clearShader()},o.renderDrawableMask=function(c,s){var h=s.__context3D;h.gl;var f=s.__maskShader;s.setShader(f),s.applyBitmapData(c,s.__upscaled),s.applyMatrix(s.__getMatrix(c.__worldTransform,"auto")),s.updateShader();var g=c.getVertexBuffer(h);f.__position!=null&&h.setVertexBufferAt(f.__position.index,g,0,"float3"),f.__textureCoord!=null&&h.setVertexBufferAt(f.__textureCoord.index,g,3,"float2");var b=c.getIndexBuffer(h);h.drawTriangles(b),s.__clearShader()},e.default=o}(Context3DBitmapData)),Context3DBitmapData}var Context3DBitmap={},Context3DDisplayObject={},Context3DShape={},hasRequiredContext3DShape;function requireContext3DShape(){return hasRequiredContext3DShape||(hasRequiredContext3DShape=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireContext3DGraphics()}function c(){return Matrix$2}var s=function(){};s.__name__="openfl.display._internal.Context3DShape",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.Context3DShape"]=s,s.render=function(h,f){if(!(!h.__renderable||h.__worldAlpha<=0)){var g=h.__graphics;if(g!=null){if(f.__setBlendMode(h.__worldBlendMode),f.__pushMaskObject(h),o().default.render(g,f),g.__bitmap!=null&&g.__visible){var b=f.__context3D;h.__worldScale9Grid;var k=f.__initDisplayShader(h.__worldShader);f.setShader(k),f.applyBitmapData(g.__bitmap,!0);var $=c().default.__pool.get();$.scale(1/g.__bitmapScale,1/g.__bitmapScale),$.concat(g.__worldTransform),f.applyMatrix(f.__getMatrix($,"auto")),c().default.__pool.release($),f.applyAlpha(h.__worldAlpha),f.applyColorTransform(h.__worldColorTransform),f.updateShader();var j=g.__bitmap.getVertexBuffer(b);k.__position!=null&&b.setVertexBufferAt(k.__position.index,j,0,"float3"),k.__textureCoord!=null&&b.setVertexBufferAt(k.__textureCoord.index,j,3,"float2");var _e=g.__bitmap.getIndexBuffer(b);b.drawTriangles(_e),f.__clearShader()}f.__popMaskObject(h)}}},s.renderMask=function(h,f){var g=h.__graphics;if(g!=null&&(o().default.renderMask(g,f),g.__bitmap!=null)){var b=f.__context3D,k=f.__maskShader;f.setShader(k),f.applyBitmapData(g.__bitmap,!0),f.applyMatrix(f.__getMatrix(g.__worldTransform,"auto")),f.updateShader();var $=g.__bitmap.getVertexBuffer(b);k.__position!=null&&b.setVertexBufferAt(k.__position.index,$,0,"float3"),k.__textureCoord!=null&&b.setVertexBufferAt(k.__textureCoord.index,$,3,"float2");var j=g.__bitmap.getIndexBuffer(b);b.drawTriangles(j),f.__clearShader()}},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(Context3DShape)),Context3DShape}var hasRequiredContext3DDisplayObject;function requireContext3DDisplayObject(){return hasRequiredContext3DDisplayObject||(hasRequiredContext3DDisplayObject=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}function c(){return requireContext3DShape()}function s(){return requireContext3DBitmap()}var h=function(){};h.__name__="openfl.display._internal.Context3DDisplayObject",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.Context3DDisplayObject"]=h,h.render=function(f,g){if(!(f.opaqueBackground==null&&f.__graphics==null)&&!(!f.__renderable||f.__worldAlpha<=0)){if(f.opaqueBackground!=null&&!f.__isCacheBitmapRender&&f.get_width()>0&&f.get_height()>0){g.__setBlendMode(f.__worldBlendMode),g.__pushMaskObject(f);var b=g.__context3D,k=o().default.__pool.get();k.setTo(0,0,f.get_width(),f.get_height()),g.__pushMaskRect(k,f.__renderTransform);var $=f.opaqueBackground;b.clear(($>>>16&255)/255,($>>>8&255)/255,($&255)/255,1,0,0,1),g.__popMaskRect(),g.__popMaskObject(f),o().default.__pool.release(k)}f.__graphics!=null&&c().default.render(f,g)}},h.renderDrawable=function(f,g){g.__updateCacheBitmap(f,!1),f.__cacheBitmap!=null&&!f.__isCacheBitmapRender?s().default.render(f.__cacheBitmap,g):h.render(f,g),g.__renderEvent(f)},h.renderDrawableMask=function(f,g){f.__graphics!=null&&c().default.renderMask(f,g)},h.renderMask=function(f,g){f.opaqueBackground==null&&f.__graphics==null||(f.opaqueBackground!=null&&!f.__isCacheBitmapRender&&f.get_width()>0&&f.get_height()>0,f.__graphics!=null&&c().default.renderMask(f,g))},h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(Context3DDisplayObject)),Context3DDisplayObject}var Context3DMaskShader={},Shader$1={},ShaderData_Impl_={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display._ShaderData.ShaderData_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display._ShaderData.ShaderData_Impl_"]=o,o._new=function(c){var s={};return s},e.default=o})(ShaderData_Impl_);var ShaderInput$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.channels=0,this.filter="nearest",this.height=0,this.index=0,this.mipFilter="mipnone",this.width=0,this.wrap="clamp"};o.__name__="openfl.display.ShaderInput",o.__isInterface__=!1,o.prototype={__disableGL:function(c,s){s<0||(c.gl,c.setTextureAt(s,null))},__updateGL:function(c,s,h,f,g,b){c.gl;var k=h??this.input,$=f??this.filter,j=g??this.mipFilter,_e=b??this.wrap;if(k!=null){var et=k;c.setTextureAt(s,et.getTexture(c)),c.setSamplerStateAt(s,_e,$,j)}else c.setTextureAt(s,null)}},o.prototype.__class__=o.prototype.constructor=d["openfl.display.ShaderInput"]=o,o.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=o})(ShaderInput$1);var ShaderParameter$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireWebGLRenderContext_Impl_()}function c(){return requireStd()}function s(){return requireStringTools()}var h=function(){this.index=0};h.__name__="openfl.display.ShaderParameter",h.__isInterface__=!1,h.prototype={__disableGL:function(f){if(!(this.index<0)){var g=f.gl;if(!this.__isUniform)for(var b=0,k=this.__arrayLength;b<k;){var $=b++;g.disableVertexAttribArray(this.index+$)}}},__updateGL:function(f,g){if(!(this.index<0)){var b=f.gl,k=g??this.value,$=this.__isBool?k:null,j=this.__isFloat?k:null,_e=this.__isInt?k:null;if(this.__isUniform)if(k!=null&&k.length>=this.__length)switch(this.type){case"bool":b.uniform1i(this.index,$[0]?1:0);break;case"bool2":b.uniform2i(this.index,$[0]?1:0,$[1]?1:0);break;case"bool3":b.uniform3i(this.index,$[0]?1:0,$[1]?1:0,$[2]?1:0);break;case"bool4":b.uniform4i(this.index,$[0]?1:0,$[1]?1:0,$[2]?1:0,$[3]?1:0);break;case"float":b.uniform1f(this.index,j[0]);break;case"float2":b.uniform2f(this.index,j[0],j[1]);break;case"float3":b.uniform3f(this.index,j[0],j[1],j[2]);break;case"float4":b.uniform4f(this.index,j[0],j[1],j[2],j[3]);break;case"int":b.uniform1i(this.index,_e[0]);break;case"int2":b.uniform2i(this.index,_e[0],_e[1]);break;case"int3":b.uniform3i(this.index,_e[0],_e[1],_e[2]);break;case"int4":b.uniform4i(this.index,_e[0],_e[1],_e[2],_e[3]);break;case"matrix2x2":this.__uniformMatrix[0]=j[0],this.__uniformMatrix[1]=j[1],this.__uniformMatrix[2]=j[2],this.__uniformMatrix[3]=j[3],o().default.uniformMatrix2fv(b,this.index,!1,this.__uniformMatrix);break;case"matrix3x3":this.__uniformMatrix[0]=j[0],this.__uniformMatrix[1]=j[1],this.__uniformMatrix[2]=j[2],this.__uniformMatrix[3]=j[3],this.__uniformMatrix[4]=j[4],this.__uniformMatrix[5]=j[5],this.__uniformMatrix[6]=j[6],this.__uniformMatrix[7]=j[7],this.__uniformMatrix[8]=j[8],o().default.uniformMatrix3fv(b,this.index,!1,this.__uniformMatrix);break;case"matrix4x4":this.__uniformMatrix[0]=j[0],this.__uniformMatrix[1]=j[1],this.__uniformMatrix[2]=j[2],this.__uniformMatrix[3]=j[3],this.__uniformMatrix[4]=j[4],this.__uniformMatrix[5]=j[5],this.__uniformMatrix[6]=j[6],this.__uniformMatrix[7]=j[7],this.__uniformMatrix[8]=j[8],this.__uniformMatrix[9]=j[9],this.__uniformMatrix[10]=j[10],this.__uniformMatrix[11]=j[11],this.__uniformMatrix[12]=j[12],this.__uniformMatrix[13]=j[13],this.__uniformMatrix[14]=j[14],this.__uniformMatrix[15]=j[15],o().default.uniformMatrix4fv(b,this.index,!1,this.__uniformMatrix);break}else switch(this.type){case"bool":case"int":b.uniform1i(this.index,0);break;case"bool2":case"int2":b.uniform2i(this.index,0,0);break;case"float":b.uniform1f(this.index,0);break;case"float2":b.uniform2f(this.index,0,0);break;case"float3":b.uniform3f(this.index,0,0,0);break;case"float4":b.uniform4f(this.index,0,0,0,0);break;case"bool3":case"int3":b.uniform3i(this.index,0,0,0);break;case"bool4":case"int4":b.uniform4i(this.index,0,0,0,0);break;case"matrix2x2":this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,o().default.uniformMatrix2fv(b,this.index,!1,this.__uniformMatrix);break;case"matrix3x3":this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,o().default.uniformMatrix3fv(b,this.index,!1,this.__uniformMatrix);break;case"matrix4x4":this.__uniformMatrix[0]=0,this.__uniformMatrix[1]=0,this.__uniformMatrix[2]=0,this.__uniformMatrix[3]=0,this.__uniformMatrix[4]=0,this.__uniformMatrix[5]=0,this.__uniformMatrix[6]=0,this.__uniformMatrix[7]=0,this.__uniformMatrix[8]=0,this.__uniformMatrix[9]=0,this.__uniformMatrix[10]=0,this.__uniformMatrix[11]=0,this.__uniformMatrix[12]=0,this.__uniformMatrix[13]=0,this.__uniformMatrix[14]=0,this.__uniformMatrix[15]=0,o().default.uniformMatrix4fv(b,this.index,!1,this.__uniformMatrix);break}else if(!this.__useArray&&(k==null||k.length==this.__length)){for(var et=0,nt=this.__arrayLength;et<nt;){var rt=et++;b.disableVertexAttribArray(this.index+rt)}if(k!=null)switch(this.type){case"bool":b.vertexAttrib1f(this.index,$[0]?1:0);break;case"bool2":b.vertexAttrib2f(this.index,$[0]?1:0,$[1]?1:0);break;case"bool3":b.vertexAttrib3f(this.index,$[0]?1:0,$[1]?1:0,$[2]?1:0);break;case"bool4":b.vertexAttrib4f(this.index,$[0]?1:0,$[1]?1:0,$[2]?1:0,$[3]?1:0);break;case"float":b.vertexAttrib1f(this.index,j[0]);break;case"float2":b.vertexAttrib2f(this.index,j[0],j[1]);break;case"float3":b.vertexAttrib3f(this.index,j[0],j[1],j[2]);break;case"float4":b.vertexAttrib4f(this.index,j[0],j[1],j[2],j[3]);break;case"int":b.vertexAttrib1f(this.index,_e[0]);break;case"int2":b.vertexAttrib2f(this.index,_e[0],_e[1]);break;case"int3":b.vertexAttrib3f(this.index,_e[0],_e[1],_e[2]);break;case"int4":b.vertexAttrib4f(this.index,_e[0],_e[1],_e[2],_e[3]);break;case"matrix2x2":b.vertexAttrib2f(this.index+0,j[0],j[1]),b.vertexAttrib2f(this.index+1,j[2],j[3]);break;case"matrix3x3":b.vertexAttrib3f(this.index+0,j[0],j[1],j[2]),b.vertexAttrib3f(this.index+1,j[3],j[4],j[5]),b.vertexAttrib3f(this.index+2,j[6],j[7],j[8]);break;case"matrix4x4":b.vertexAttrib4f(this.index+0,j[0],j[1],j[2],j[3]),b.vertexAttrib4f(this.index+1,j[4],j[5],j[6],j[7]),b.vertexAttrib4f(this.index+2,j[8],j[9],j[10],j[11]),b.vertexAttrib4f(this.index+3,j[12],j[13],j[14],j[15]);break}else switch(this.type){case"bool":case"float":case"int":b.vertexAttrib1f(this.index,0);break;case"bool2":case"float2":case"int2":b.vertexAttrib2f(this.index,0,0);break;case"bool3":case"float3":case"int3":b.vertexAttrib3f(this.index,0,0,0);break;case"bool4":case"float4":case"int4":b.vertexAttrib4f(this.index,0,0,0,0);break;case"matrix2x2":b.vertexAttrib2f(this.index+0,0,0),b.vertexAttrib2f(this.index+1,0,0);break;case"matrix3x3":b.vertexAttrib3f(this.index+0,0,0,0),b.vertexAttrib3f(this.index+1,0,0,0),b.vertexAttrib3f(this.index+2,0,0,0);break;case"matrix4x4":b.vertexAttrib4f(this.index+0,0,0,0,0),b.vertexAttrib4f(this.index+1,0,0,0,0),b.vertexAttrib4f(this.index+2,0,0,0,0),b.vertexAttrib4f(this.index+3,0,0,0,0);break}}else for(var tt=0,it=this.__arrayLength;tt<it;){var st=tt++;b.enableVertexAttribArray(this.index+st)}}},__updateGLFromBuffer:function(f,g,b,k,$){if(!(this.index<0)){var j=f.gl;if(this.__isUniform){if(k>=this.__length)switch(this.type){case"bool":case"int":j.uniform1i(this.index,c().default.int(g[b]));break;case"bool2":case"int2":j.uniform2i(this.index,c().default.int(g[b]),c().default.int(g[b+1]));break;case"float":j.uniform1f(this.index,g[b]);break;case"float2":j.uniform2f(this.index,g[b],g[b+1]);break;case"float3":j.uniform3f(this.index,g[b],g[b+1],g[b+2]);break;case"float4":j.uniform4f(this.index,g[b],g[b+1],g[b+2],g[b+3]);break;case"bool3":case"int3":j.uniform3i(this.index,c().default.int(g[b]),c().default.int(g[b+1]),c().default.int(g[b+2]));break;case"bool4":case"int4":j.uniform4i(this.index,c().default.int(g[b]),c().default.int(g[b+1]),c().default.int(g[b+2]),c().default.int(g[b+3]));break;case"matrix2x2":this.__uniformMatrix[0]=g[b],this.__uniformMatrix[1]=g[b+1],this.__uniformMatrix[2]=g[b+2],this.__uniformMatrix[3]=g[b+3],o().default.uniformMatrix2fv(j,this.index,!1,this.__uniformMatrix);break;case"matrix3x3":this.__uniformMatrix[0]=g[b],this.__uniformMatrix[1]=g[b+1],this.__uniformMatrix[2]=g[b+2],this.__uniformMatrix[3]=g[b+3],this.__uniformMatrix[4]=g[b+4],this.__uniformMatrix[5]=g[b+5],this.__uniformMatrix[6]=g[b+6],this.__uniformMatrix[7]=g[b+7],this.__uniformMatrix[8]=g[b+8],o().default.uniformMatrix3fv(j,this.index,!1,this.__uniformMatrix);break;case"matrix4x4":this.__uniformMatrix[0]=g[b],this.__uniformMatrix[1]=g[b+1],this.__uniformMatrix[2]=g[b+2],this.__uniformMatrix[3]=g[b+3],this.__uniformMatrix[4]=g[b+4],this.__uniformMatrix[5]=g[b+5],this.__uniformMatrix[6]=g[b+6],this.__uniformMatrix[7]=g[b+7],this.__uniformMatrix[8]=g[b+8],this.__uniformMatrix[9]=g[b+9],this.__uniformMatrix[10]=g[b+10],this.__uniformMatrix[11]=g[b+11],this.__uniformMatrix[12]=g[b+12],this.__uniformMatrix[13]=g[b+13],this.__uniformMatrix[14]=g[b+14],this.__uniformMatrix[15]=g[b+15],o().default.uniformMatrix4fv(j,this.index,!1,this.__uniformMatrix);break}}else if(!this.__internal&&(k==0||k==this.__length)){for(var _e=0,et=this.__arrayLength;_e<et;){var nt=_e++;j.disableVertexAttribArray(this.index+nt)}if(k>0)switch(this.type){case"bool":case"float":case"int":j.vertexAttrib1f(this.index,g[b]);break;case"bool2":case"float2":case"int2":j.vertexAttrib2f(this.index,g[b],g[b+1]);break;case"bool3":case"float3":case"int3":j.vertexAttrib3f(this.index,g[b],g[b+1],g[b+2]);break;case"bool4":case"float4":case"int4":j.vertexAttrib4f(this.index,g[b],g[b+1],g[b+2],g[b+3]);break;case"matrix2x2":j.vertexAttrib2f(this.index+0,g[b],g[b+1]),j.vertexAttrib2f(this.index+1,g[b+2],g[b+2+1]);break;case"matrix3x3":j.vertexAttrib3f(this.index+0,g[b],g[b+1],g[b+2]),j.vertexAttrib3f(this.index+1,g[b+3],g[b+3+1],g[b+3+2]),j.vertexAttrib3f(this.index+2,g[b+6],g[b+6+1],g[b+6+2]);break;case"matrix4x4":j.vertexAttrib4f(this.index+0,g[b],g[b+1],g[b+2],g[b+3]),j.vertexAttrib4f(this.index+1,g[b+4],g[b+4+1],g[b+4+2],g[b+4+3]),j.vertexAttrib4f(this.index+2,g[b+8],g[b+8+1],g[b+8+2],g[b+8+3]),j.vertexAttrib4f(this.index+3,g[b+12],g[b+12+1],g[b+12+2],g[b+12+3]);break}else switch(this.type){case"bool":case"float":case"int":j.vertexAttrib1f(this.index,0);break;case"bool2":case"float2":case"int2":j.vertexAttrib2f(this.index,0,0);break;case"bool3":case"float3":case"int3":j.vertexAttrib3f(this.index,0,0,0);break;case"bool4":case"float4":case"int4":j.vertexAttrib4f(this.index,0,0,0,0);break;case"matrix2x2":j.vertexAttrib2f(this.index+0,0,0),j.vertexAttrib2f(this.index+1,0,0);break;case"matrix3x3":j.vertexAttrib3f(this.index+0,0,0,0),j.vertexAttrib3f(this.index+1,0,0,0),j.vertexAttrib3f(this.index+2,0,0,0);break;case"matrix4x4":j.vertexAttrib4f(this.index+0,0,0,0,0),j.vertexAttrib4f(this.index+1,0,0,0,0),j.vertexAttrib4f(this.index+2,0,0,0,0),j.vertexAttrib4f(this.index+3,0,0,0,0);break}}else{var rt=j.FLOAT;(this.__isBool||this.__isInt)&&(rt=j.INT);for(var tt=0,it=this.__arrayLength;tt<it;){var st=tt++;j.enableVertexAttribArray(this.index+st)}if(k>0)for(var at=0,_t=this.__arrayLength;at<_t;){var ut=at++;j.vertexAttribPointer(this.index+ut,this.__length,rt,!1,this.__length*4,(b+$*this.__length+ut*this.__arrayLength)*4)}}}},set_name:function(f){return this.__internal=s().default.startsWith(f,"openfl_"),this.name=f}},h.prototype.__class__=h.prototype.constructor=d["openfl.display.ShaderParameter"]=h,h.__meta__={fields:{index:{SuppressWarnings:["checkstyle:Dynamic"]},name:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=h})(ShaderParameter$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringTools()}function c(){return requireLog()}function s(){return ShaderData_Impl_}function h(){return requireEReg()}function f(){return ShaderInput$1}function g(){return require_Reflect()}function b(){return ShaderParameter$1}function k(){return requireWebGLRenderContext_Impl_()}var $=function(j){this.byteCode=j,this.precisionHint="full",this.__glSourceDirty=!0,this.__numPasses=1,this.__data=s().default._new(j)};$.__name__="openfl.display.Shader",$.__isInterface__=!1,$.prototype={__clearUseArray:function(){for(var j=0,_e=this.__paramBool;j<_e.length;){var et=_e[j];++j,et.__useArray=!1}for(var nt=0,rt=this.__paramFloat;nt<rt.length;){var tt=rt[nt];++nt,tt.__useArray=!1}for(var it=0,st=this.__paramInt;it<st.length;){var at=st[it];++it,at.__useArray=!1}},__createGLShader:function(j,_e){var et=this.__context.gl,nt=et.createShader(_e);et.shaderSource(nt,j),et.compileShader(nt);var rt=et.getShaderInfoLog(nt),tt=rt!=null&&o().default.trim(rt)!="",it=et.getShaderParameter(nt,et.COMPILE_STATUS);if(tt||it==0){var st=it==0?"Error":"Info";st+=_e==et.VERTEX_SHADER?" compiling vertex shader":" compiling fragment shader",st+=`
`+rt,st+=`
`+j,it==0?c().default.error(st,{fileName:"../node_modules/openfl-haxelib/src/openfl/display/Shader.hx",lineNumber:334,className:"openfl.display.Shader",methodName:"__createGLShader"}):tt&&c().default.debug(st,{fileName:"../node_modules/openfl-haxelib/src/openfl/display/Shader.hx",lineNumber:335,className:"openfl.display.Shader",methodName:"__createGLShader"})}return nt},__createGLProgram:function(j,_e){for(var et=this.__context.gl,nt=this.__createGLShader(j,et.VERTEX_SHADER),rt=this.__createGLShader(_e,et.FRAGMENT_SHADER),tt=et.createProgram(),it=0,st=this.__paramFloat;it<st.length;){var at=st[it];if(++it,at.name.indexOf("Position")>-1&&o().default.startsWith(at.name,"openfl_")){et.bindAttribLocation(tt,0,at.name);break}}if(et.attachShader(tt,nt),et.attachShader(tt,rt),et.linkProgram(tt),et.getProgramParameter(tt,et.LINK_STATUS)==0){var _t="Unable to initialize the shader program";_t+=`
`+et.getProgramInfoLog(tt),c().default.error(_t,{fileName:"../node_modules/openfl-haxelib/src/openfl/display/Shader.hx",lineNumber:368,className:"openfl.display.Shader",methodName:"__createGLProgram"})}return tt},__disable:function(){this.program!=null&&this.__disableGL()},__disableGL:function(){for(var j=this.__context.gl,_e=0,et=0,nt=this.__inputBitmapData;et<nt.length;){var rt=nt[et];if(++et,rt.__disableGL(this.__context,_e),++_e,_e==j.MAX_TEXTURE_IMAGE_UNITS)break}for(var tt=0,it=this.__paramBool;tt<it.length;){var st=it[tt];++tt,st.__disableGL(this.__context)}for(var at=0,_t=this.__paramFloat;at<_t.length;){var ut=_t[at];++at,ut.__disableGL(this.__context)}for(var ot=0,lt=this.__paramInt;ot<lt.length;){var ft=lt[ot];++ot,ft.__disableGL(this.__context)}this.__context.__bindGLArrayBuffer(null),this.__context.__context.type=="opengl"&&j.disable(j.TEXTURE_2D)},__enable:function(){this.__init(),this.program!=null&&this.__enableGL()},__enableGL:function(){for(var j=0,_e=this.__context.gl,et=0,nt=this.__inputBitmapData;et<nt.length;){var rt=nt[et];++et,_e.uniform1i(rt.index,j),++j}this.__context.__context.type=="opengl"&&j>0&&_e.enable(_e.TEXTURE_2D)},__init:function(){this.__data==null&&(this.__data=s().default._new(null)),this.__glFragmentSource!=null&&this.__glVertexSource!=null&&(this.program==null||this.__glSourceDirty)&&this.__initGL()},__initGL:function(){if((this.__glSourceDirty||this.__paramBool==null)&&(this.__glSourceDirty=!1,this.program=null,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform")),this.__context!=null&&this.program==null){var j=this.__context.gl,_e=this.precisionHint=="full"?`precision mediump float;
`:`precision lowp float;
`,et=_e+this.get_glVertexSource(),nt=_e+this.get_glFragmentSource(),rt=et+nt;if(this.__context.__programs.exists(rt)?this.program=this.__context.__programs.get(rt):(this.program=this.__context.createProgram("glsl"),this.program.__glProgram=this.__createGLProgram(et,nt),this.__context.__programs.set(rt,this.program)),this.program!=null){this.glProgram=this.program.__glProgram;for(var tt=0,it=this.__inputBitmapData;tt<it.length;){var st=it[tt];++tt,st.__isUniform?st.index=j.getUniformLocation(this.glProgram,st.name):st.index=j.getAttribLocation(this.glProgram,st.name)}for(var at=0,_t=this.__paramBool;at<_t.length;){var ut=_t[at];++at,ut.__isUniform?ut.index=j.getUniformLocation(this.glProgram,ut.name):ut.index=j.getAttribLocation(this.glProgram,ut.name)}for(var ot=0,lt=this.__paramFloat;ot<lt.length;){var ft=lt[ot];++ot,ft.__isUniform?ft.index=j.getUniformLocation(this.glProgram,ft.name):ft.index=j.getAttribLocation(this.glProgram,ft.name)}for(var ht=0,dt=this.__paramInt;ht<dt.length;){var pt=dt[ht];++ht,pt.__isUniform?pt.index=j.getUniformLocation(this.glProgram,pt.name):pt.index=j.getAttribLocation(this.glProgram,pt.name)}}}},__processGLData:function(j,_e){var et=0,nt,rt,tt,it;for(_e=="uniform"?rt=new(h()).default("uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)",""):rt=new(h()).default("attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");rt.matchSub(j,et);)if(it=rt.matched(1),tt=rt.matched(2),!o().default.startsWith(tt,"gl_")){var st=_e=="uniform";if(o().default.startsWith(it,"sampler")){var at=new(f()).default;switch(at.name=tt,at.__isUniform=st,this.__inputBitmapData.push(at),tt){case"bitmap":this.__bitmap=at;break;case"openfl_Texture":this.__texture=at;break}g().default.setField(this.__data,tt,at),this.__isGenerated&&g().default.setField(this,tt,at)}else if(!g().default.hasField(this.__data,tt)||g().default.field(this.__data,tt)==null){var _t;switch(it){case"bool":_t="bool";break;case"bvec2":_t="bool2";break;case"bvec3":_t="bool3";break;case"bvec4":_t="bool4";break;case"dvec2":case"vec2":_t="float2";break;case"dvec3":case"vec3":_t="float3";break;case"double":case"float":_t="float";break;case"ivec3":case"uvec3":_t="int3";break;case"ivec4":case"uvec4":_t="int4";break;case"mat2":case"mat2x2":_t="matrix2x2";break;case"mat2x3":_t="matrix2x3";break;case"mat2x4":_t="matrix2x4";break;case"mat3x2":_t="matrix3x2";break;case"mat3":case"mat3x3":_t="matrix3x3";break;case"mat3x4":_t="matrix3x4";break;case"mat4":case"mat4x4":_t="matrix4x4";break;case"mat4x2":_t="matrix4x2";break;case"mat4x3":_t="matrix4x3";break;case"int":case"uint":_t="int";break;case"ivec2":case"uvec2":_t="int2";break;case"dvec4":case"vec4":_t="float4";break;default:_t=null}var ut;switch(_t){case"bool2":case"float2":case"int2":ut=2;break;case"bool3":case"float3":case"int3":ut=3;break;case"bool4":case"float4":case"int4":case"matrix2x2":ut=4;break;case"matrix3x3":ut=9;break;case"matrix4x4":ut=16;break;default:ut=1}var ot;switch(_t){case"matrix2x2":ot=2;break;case"matrix3x3":ot=3;break;case"matrix4x4":ot=4;break;default:ot=1}switch(_t){case"bool":case"bool2":case"bool3":case"bool4":var lt=new(b()).default;lt.set_name(tt),lt.type=_t,lt.__arrayLength=ot,lt.__isBool=!0,lt.__isUniform=st,lt.__length=ut,this.__paramBool.push(lt),tt=="openfl_HasColorTransform"&&(this.__hasColorTransform=lt),g().default.setField(this.__data,tt,lt),this.__isGenerated&&g().default.setField(this,tt,lt);break;case"int":case"int2":case"int3":case"int4":var ft=new(b()).default;ft.set_name(tt),ft.type=_t,ft.__arrayLength=ot,ft.__isInt=!0,ft.__isUniform=st,ft.__length=ut,this.__paramInt.push(ft),g().default.setField(this.__data,tt,ft),this.__isGenerated&&g().default.setField(this,tt,ft);break;default:var ht=new(b()).default;if(ht.set_name(tt),ht.type=_t,ht.__arrayLength=ot,ot>0){var dt=ot*ot,pt=null,xt=null,vt=null,bt=null,wt;dt!=null?wt=new Float32Array(dt):pt!=null?wt=new Float32Array(pt):xt!=null?wt=new Float32Array(xt):vt!=null?bt==null?wt=new Float32Array(vt,0):wt=new Float32Array(vt,0,bt):wt=null,ht.__uniformMatrix=wt}if(ht.__isFloat=!0,ht.__isUniform=st,ht.__length=ut,this.__paramFloat.push(ht),o().default.startsWith(tt,"openfl_"))switch(tt){case"openfl_Alpha":this.__alpha=ht;break;case"openfl_ColorMultiplier":this.__colorMultiplier=ht;break;case"openfl_ColorOffset":this.__colorOffset=ht;break;case"openfl_Matrix":this.__matrix=ht;break;case"openfl_Position":this.__position=ht;break;case"openfl_TextureCoord":this.__textureCoord=ht;break;case"openfl_TextureSize":this.__textureSize=ht;break}g().default.setField(this.__data,tt,ht),this.__isGenerated&&g().default.setField(this,tt,ht)}}nt=rt.matchedPos(),et=nt.pos+nt.len}},__update:function(){this.program!=null&&this.__updateGL()},__updateFromBuffer:function(j,_e){this.program!=null&&this.__updateGLFromBuffer(j,_e)},__updateGL:function(){for(var j=0,_e=0,et=this.__inputBitmapData;_e<et.length;){var nt=et[_e];++_e,nt.__updateGL(this.__context,j),++j}for(var rt=0,tt=this.__paramBool;rt<tt.length;){var it=tt[rt];++rt,it.__updateGL(this.__context)}for(var st=0,at=this.__paramFloat;st<at.length;){var _t=at[st];++st,_t.__updateGL(this.__context)}for(var ut=0,ot=this.__paramInt;ut<ot.length;){var lt=ot[ut];++ut,lt.__updateGL(this.__context)}},__updateGLFromBuffer:function(j,_e){for(var et=0,nt,rt,tt,it,st,at=0,_t=j.inputCount;at<_t;){var ut=at++;nt=j.inputRefs[ut],rt=j.inputs[ut],tt=j.inputFilter[ut],it=j.inputMipFilter[ut],st=j.inputWrap[ut],rt!=null&&(nt.__updateGL(this.__context,et,rt,tt,it,st),++et)}var ot=this.__context.gl;j.paramDataLength>0?(j.paramDataBuffer==null&&(j.paramDataBuffer=ot.createBuffer()),this.__context.__bindGLArrayBuffer(j.paramDataBuffer),k().default.bufferData(ot,ot.ARRAY_BUFFER,j.paramData,ot.DYNAMIC_DRAW)):this.__context.__bindGLArrayBuffer(null);for(var lt=0,ft=0,ht=0,dt=j.paramBoolCount,pt=j.paramFloatCount,xt=j.paramData,vt,bt,wt,At,ct=null,mt=null,gt=null,Tt=0,yt=j.paramCount;Tt<yt;){var Et=Tt++;if(At=!1,Et<dt){vt=j.paramRefs_Bool[lt];for(var Ct=0,It=j.overrideBoolCount;Ct<It;){var Rt=Ct++;if(vt.name==j.overrideBoolNames[Rt]){ct=j.overrideBoolValues[Rt],At=!0;break}}At?vt.__updateGL(this.__context,ct):vt.__updateGLFromBuffer(this.__context,xt,j.paramPositions[Et],j.paramLengths[Et],_e),++lt}else if(Et<dt+pt){bt=j.paramRefs_Float[ft];for(var Ft=0,Lt=j.overrideFloatCount;Ft<Lt;){var Ot=Ft++;if(bt.name==j.overrideFloatNames[Ot]){mt=j.overrideFloatValues[Ot],At=!0;break}}At?bt.__updateGL(this.__context,mt):bt.__updateGLFromBuffer(this.__context,xt,j.paramPositions[Et],j.paramLengths[Et],_e),++ft}else{wt=j.paramRefs_Int[ht];for(var Kt=0,qt=j.overrideIntCount;Kt<qt;){var Ht=Kt++;if(wt.name==j.overrideIntNames[Ht]){gt=j.overrideIntValues[Ht],At=!0;break}}At?wt.__updateGL(this.__context,gt):wt.__updateGLFromBuffer(this.__context,xt,j.paramPositions[Et],j.paramLengths[Et],_e),++ht}}},get_data:function(){return(this.__glSourceDirty||this.__data==null)&&this.__init(),this.__data},set_data:function(j){return this.__data=j},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(j){return j!=this.__glFragmentSource&&(this.__glSourceDirty=!0),this.__glFragmentSource=j},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(j){return j!=this.__glVertexSource&&(this.__glSourceDirty=!0),this.__glVertexSource=j}},$.prototype.__class__=$.prototype.constructor=d["openfl.display.Shader"]=$,Object.defineProperties($.prototype,{data:{get:function(){return this.get_data()},set:function(j){return this.set_data(j)}},glFragmentSource:{get:function(){return this.get_glFragmentSource()},set:function(j){return this.set_glFragmentSource(j)}},glVertexSource:{get:function(){return this.get_glVertexSource()},set:function(j){return this.set_glVertexSource(j)}}}),$.__meta__={fields:{glProgram:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=$})(Shader$1);var hasRequiredContext3DMaskShader;function requireContext3DMaskShader(){return hasRequiredContext3DMaskShader||(hasRequiredContext3DMaskShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Shader$1}function s(){return requireBitmapData()}var h=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying vec2 openfl_TextureCoordv;

		uniform sampler2D openfl_Texture;

		void main(void) {

			vec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);

			if (color.a == 0.0) {

				discard;

			} else {

				gl_FragColor = color;

			}

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		varying vec2 openfl_TextureCoordv;

		uniform mat4 openfl_Matrix;

		void main(void) {

			openfl_TextureCoordv = openfl_TextureCoord;

			gl_Position = openfl_Matrix * openfl_Position;

		}`),c().default.call(this),this.__isGenerated=!0,this.__initGL()};h.__name__="openfl.display._internal.Context3DMaskShader",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{}),h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.Context3DMaskShader"]=h,h.opaqueBitmapData=new(s()).default(1,1,!1,0),e.default=h}(Context3DMaskShader)),Context3DMaskShader}var hasRequiredContext3DBitmap;function requireContext3DBitmap(){return hasRequiredContext3DBitmap||(hasRequiredContext3DBitmap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireContext3DDisplayObject()}function c(){return requireContext3DMaskShader()}var s=function(){};s.__name__="openfl.display._internal.Context3DBitmap",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.Context3DBitmap"]=s,s.render=function(h,f){if(!(!h.__renderable||h.__worldAlpha<=0)&&h.__bitmapData!=null&&h.__bitmapData.__isValid){var g=f.__context3D;f.__setBlendMode(h.__worldBlendMode),f.__pushMaskObject(h);var b=f.__initDisplayShader(h.__worldShader);f.setShader(b),f.applyBitmapData(h.__bitmapData,f.__allowSmoothing&&(h.smoothing||f.__upscaled)),f.applyMatrix(f.__getMatrix(h.__renderTransform,h.pixelSnapping)),f.applyAlpha(h.__worldAlpha),f.applyColorTransform(h.__worldColorTransform),f.updateShader();var k=h.__bitmapData.getVertexBuffer(g);b.__position!=null&&g.setVertexBufferAt(b.__position.index,k,0,"float3"),b.__textureCoord!=null&&g.setVertexBufferAt(b.__textureCoord.index,k,3,"float2");var $=h.__bitmapData.getIndexBuffer(g);g.drawTriangles($),f.__clearShader(),f.__popMaskObject(h)}},s.renderDrawable=function(h,f){f.__updateCacheBitmap(h,!1),h.__bitmapData!=null&&h.__bitmapData.image!=null&&(h.__imageVersion=h.__bitmapData.image.version),h.__cacheBitmap!=null&&!h.__isCacheBitmapRender?s.render(h.__cacheBitmap,f):(o().default.render(h,f),s.render(h,f)),f.__renderEvent(h)},s.renderDrawableMask=function(h,f){s.renderMask(h,f)},s.renderMask=function(h,f){if(h.__bitmapData!=null&&h.__bitmapData.__isValid){var g=f.__context3D,b=f.__maskShader;f.setShader(b),f.applyBitmapData(c().default.opaqueBitmapData,!0),f.applyMatrix(f.__getMatrix(h.__renderTransform,h.pixelSnapping)),f.updateShader();var k=h.__bitmapData.getVertexBuffer(g);b.__position!=null&&g.setVertexBufferAt(b.__position.index,k,0,"float3"),b.__textureCoord!=null&&g.setVertexBufferAt(b.__textureCoord.index,k,3,"float2");var $=h.__bitmapData.getIndexBuffer(g);g.drawTriangles($),f.__clearShader()}},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(Context3DBitmap)),Context3DBitmap}var Context3DDisplayObjectContainer={},hasRequiredContext3DDisplayObjectContainer;function requireContext3DDisplayObjectContainer(){return hasRequiredContext3DDisplayObjectContainer||(hasRequiredContext3DDisplayObjectContainer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireContext3DDisplayObject()}function c(){return requireContext3DShape()}var s=function(){};s.__name__="openfl.display._internal.Context3DDisplayObjectContainer",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.Context3DDisplayObjectContainer"]=s,s.renderDrawable=function(h,f){if(h.__cleanupRemovedChildren(),!(!h.__renderable||h.__worldAlpha<=0)&&(o().default.renderDrawable(h,f),!(h.__cacheBitmap!=null&&!h.__isCacheBitmapRender))){if(h.__children.length>0)if(f.__pushMaskObject(h),f.__stage!=null){for(var g=0,b=h.__children;g<b.length;){var k=b[g];++g,f.__renderDrawable(k),k.__renderDirty=!1}h.__renderDirty=!1}else for(var $=0,j=h.__children;$<j.length;){var _e=j[$];++$,f.__renderDrawable(_e)}h.__children.length>0&&f.__popMaskObject(h)}},s.renderDrawableMask=function(h,f){h.__cleanupRemovedChildren(),h.__graphics!=null&&c().default.renderMask(h,f);for(var g=0,b=h.__children;g<b.length;){var k=b[g];++g,f.__renderDrawableMask(k)}},e.default=s}(Context3DDisplayObjectContainer)),Context3DDisplayObjectContainer}var Context3DSimpleButton={},hasRequiredContext3DSimpleButton;function requireContext3DSimpleButton(){return hasRequiredContext3DSimpleButton||(hasRequiredContext3DSimpleButton=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display._internal.Context3DSimpleButton",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.Context3DSimpleButton"]=o,o.renderDrawable=function(c,s){!c.__renderable||c.__worldAlpha<=0||c.__currentState==null||(s.__pushMaskObject(c),s.__renderDrawable(c.__currentState),s.__popMaskObject(c),s.__renderEvent(c))},o.renderDrawableMask=function(c,s){c.__currentState!=null&&s.__renderDrawableMask(c.__currentState)},e.default=o}(Context3DSimpleButton)),Context3DSimpleButton}var Context3DTextField={},hasRequiredContext3DTextField;function requireContext3DTextField(){return hasRequiredContext3DTextField||(hasRequiredContext3DTextField=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCanvasTextField()}function c(){return requireContext3DBitmap()}function s(){return requireContext3DDisplayObject()}var h=function(){};h.__name__="openfl.display._internal.Context3DTextField",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.Context3DTextField"]=h,h.render=function(f,g){g.__softwareRenderer.__pixelRatio=g.__pixelRatio,o().default.render(f,g.__softwareRenderer,f.__worldTransform),f.__graphics.__hardwareDirty=!1},h.renderDrawable=function(f,g){g.__updateCacheBitmap(f,!1),f.__cacheBitmap!=null&&!f.__isCacheBitmapRender?c().default.render(f.__cacheBitmap,g):(h.render(f,g),s().default.render(f,g)),g.__renderEvent(f)},h.renderDrawableMask=function(f,g){h.renderMask(f,g),s().default.renderDrawableMask(f,g)},h.renderMask=function(f,g){o().default.render(f,g.__softwareRenderer,f.__worldTransform),f.__graphics.__hardwareDirty=!1},h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(Context3DTextField)),Context3DTextField}var Context3DVideo={},hasRequiredContext3DVideo;function requireContext3DVideo(){return hasRequiredContext3DVideo||(hasRequiredContext3DVideo=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireContext3DMaskShader()}var c=function(){};c.__name__="openfl.display._internal.Context3DVideo",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.display._internal.Context3DVideo"]=c,c.render=function(s,h){if(!(!s.__renderable||s.__worldAlpha<=0||s.__stream==null)&&s.__stream.__video!=null){var f=h.__context3D,g=f.gl,b=s.__getTexture(f);if(b==null)return;h.__setBlendMode(s.__worldBlendMode),h.__pushMaskObject(s);var k=h.__initDisplayShader(s.__worldShader);h.setShader(k),h.applyBitmapData(null,!0,!1),h.applyMatrix(h.__getMatrix(s.__renderTransform,"auto")),h.applyAlpha(s.__worldAlpha),h.applyColorTransform(s.__worldColorTransform),k.__textureSize!=null&&(c.__textureSizeValue[0]=s.__stream!=null?s.__stream.__video.videoWidth:0,c.__textureSizeValue[1]=s.__stream!=null?s.__stream.__video.videoHeight:0,k.__textureSize.value=c.__textureSizeValue),h.updateShader(),f.setTextureAt(0,s.__getTexture(f)),f.__flushGLTextures(),g.uniform1i(k.__texture.index,0),s.smoothing?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));var $=s.__getVertexBuffer(f);k.__position!=null&&f.setVertexBufferAt(k.__position.index,$,0,"float3"),k.__textureCoord!=null&&f.setVertexBufferAt(k.__textureCoord.index,$,3,"float2");var j=s.__getIndexBuffer(f);f.drawTriangles(j),h.__clearShader(),h.__popMaskObject(s)}},c.renderDrawable=function(s,h){c.render(s,h),h.__renderEvent(s)},c.renderDrawableMask=function(s,h){c.renderMask(s,h)},c.renderMask=function(s,h){if(s.__stream!=null&&s.__stream.__video!=null){var f=h.__context3D;f.gl;var g=h.__maskShader;h.setShader(g),h.applyBitmapData(o().default.opaqueBitmapData,!0),h.applyMatrix(h.__getMatrix(s.__renderTransform,"auto")),h.updateShader();var b=s.__getVertexBuffer(f);g.__position!=null&&f.setVertexBufferAt(g.__position.index,b,0,"float3"),g.__textureCoord!=null&&f.setVertexBufferAt(g.__textureCoord.index,b,3,"float2");var k=s.__getIndexBuffer(f);f.drawTriangles(k),h.__clearShader()}},c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},c.__textureSizeValue=[0,0],e.default=c}(Context3DVideo)),Context3DVideo}var Context3DTilemap={},hasRequiredContext3DTilemap;function requireContext3DTilemap(){return hasRequiredContext3DTilemap||(hasRequiredContext3DTilemap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}function c(){return Matrix$2}function s(){return ColorTransform$1}function h(){return requireStd()}function f(){return requireContext3DBitmap()}function g(){return requireContext3DDisplayObject()}function b(){return requireContext3DBuffer()}function k(){return requireContext3DElementType()}var $=function(){};$.__name__="openfl.display._internal.Context3DTilemap",$.__isInterface__=!1,$.prototype={},$.prototype.__class__=$.prototype.constructor=d["openfl.display._internal.Context3DTilemap"]=$,$.buildBuffer=function(j,_e){if(!j.__renderable||j.__group.__tiles.length==0||j.__worldAlpha<=0){j.__group.__dirty=!1;return}$.numTiles=0,$.vertexBufferData=j.__buffer!=null?j.__buffer.vertexBufferData:null,$.vertexDataPosition=0;var et=o().default.__pool.get(),nt=c().default.__pool.get(),rt=c().default.__pool.get();$.dataPerVertex=4,j.tileAlphaEnabled&&$.dataPerVertex++,j.tileColorTransformEnabled&&($.dataPerVertex+=8),$.buildBufferTileContainer(j,j.__group,_e,rt,j.__tileset,j.tileAlphaEnabled,j.__worldAlpha,j.tileColorTransformEnabled,j.__worldColorTransform,null,et,nt),j.__buffer.flushVertexBufferData(),o().default.__pool.release(et),c().default.__pool.release(nt),c().default.__pool.release(rt)},$.buildBufferTileContainer=function(j,_e,et,nt,rt,tt,it,st,at,_t,ut,ot,lt){lt==null&&(lt=!0);var ft=c().default.__pool.get(),ht=et.__roundPixels,dt=_e.__tiles;_e.__length;var pt=null;pt=function(tr){for(var sr=tr.__tiles,dr=0,pr=0;pr<sr.length;){var cr=sr[pr];++pr,cr.__length>0?dr+=pt(cr):++dr}return dr},lt&&$.resizeBuffer(j,$.numTiles+pt(_e));for(var xt,vt,bt,wt=null,At,ct,mt,gt,Tt,yt,Et,Ct,It,Rt,Ft,Lt,Ot,Kt,qt,Ht,Zt,or,ir,lr=4,ar=tt?5:4,Mt=0;Mt<dt.length;){var kt=dt[Mt];if(++Mt,ft.setTo(1,0,0,1,-kt.get_originX(),-kt.get_originY()),ft.concat(kt.get_matrix()),ft.concat(nt),ht&&(ft.tx=Math.round(ft.tx),ft.ty=Math.round(ft.ty)),xt=kt.get_tileset()!=null?kt.get_tileset():rt,vt=kt.get_alpha()*it,bt=kt.get_visible(),kt.__dirty=!1,!(!bt||vt<=0))if(st&&(kt.get_colorTransform()!=null?at==null?wt=kt.get_colorTransform():($.cacheColorTransform==null&&($.cacheColorTransform=new(s()).default),wt=$.cacheColorTransform,wt.redMultiplier=at.redMultiplier*kt.get_colorTransform().redMultiplier,wt.greenMultiplier=at.greenMultiplier*kt.get_colorTransform().greenMultiplier,wt.blueMultiplier=at.blueMultiplier*kt.get_colorTransform().blueMultiplier,wt.alphaMultiplier=at.alphaMultiplier*kt.get_colorTransform().alphaMultiplier,wt.redOffset=at.redOffset+kt.get_colorTransform().redOffset,wt.greenOffset=at.greenOffset+kt.get_colorTransform().greenOffset,wt.blueOffset=at.blueOffset+kt.get_colorTransform().blueOffset,wt.alphaOffset=at.alphaOffset+kt.get_colorTransform().alphaOffset):wt=at),tt||(vt=1),kt.__length>0)$.buildBufferTileContainer(j,kt,et,ft,xt,tt,vt,st,wt,_t,ut,ot,!1);else{if(xt==null||(At=kt.get_id(),gt=xt.__bitmapData,gt==null))continue;if(At==-1){if(mt=kt.__rect,mt==null||mt.width<=0||mt.height<=0)continue;Et=mt.x/gt.width,Ct=mt.y/gt.height,Rt=mt.get_right()/gt.width,It=mt.get_bottom()/gt.height}else{if(ct=xt.__data[At],ct==null)continue;ut.setTo(ct.x,ct.y,ct.width,ct.height),mt=ut,Et=ct.__uvX,Ct=ct.__uvY,Rt=ct.__uvWidth,It=ct.__uvHeight}if(Tt=mt.width,yt=mt.height,Lt=ft.__transformX(0,0),Ot=ft.__transformY(0,0),Kt=ft.__transformX(Tt,0),qt=ft.__transformY(Tt,0),Ht=ft.__transformX(0,yt),Zt=ft.__transformY(0,yt),or=ft.__transformX(Tt,yt),ir=ft.__transformY(Tt,yt),Ft=$.vertexDataPosition,$.vertexBufferData[Ft]=Lt,$.vertexBufferData[Ft+1]=Ot,$.vertexBufferData[Ft+2]=Et,$.vertexBufferData[Ft+3]=Ct,$.vertexBufferData[Ft+$.dataPerVertex]=Kt,$.vertexBufferData[Ft+$.dataPerVertex+1]=qt,$.vertexBufferData[Ft+$.dataPerVertex+2]=Rt,$.vertexBufferData[Ft+$.dataPerVertex+3]=Ct,$.vertexBufferData[Ft+$.dataPerVertex*2]=Ht,$.vertexBufferData[Ft+$.dataPerVertex*2+1]=Zt,$.vertexBufferData[Ft+$.dataPerVertex*2+2]=Et,$.vertexBufferData[Ft+$.dataPerVertex*2+3]=It,$.vertexBufferData[Ft+$.dataPerVertex*3]=or,$.vertexBufferData[Ft+$.dataPerVertex*3+1]=ir,$.vertexBufferData[Ft+$.dataPerVertex*3+2]=Rt,$.vertexBufferData[Ft+$.dataPerVertex*3+3]=It,tt&&($.vertexBufferData[Ft+$.dataPerVertex*0+lr]=vt,$.vertexBufferData[Ft+$.dataPerVertex+lr]=vt,$.vertexBufferData[Ft+$.dataPerVertex*2+lr]=vt,$.vertexBufferData[Ft+$.dataPerVertex*3+lr]=vt),st)if(wt!=null)for(var Vt=0;Vt<4;){var Nt=Vt++;$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar]=wt.redMultiplier,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+1]=wt.greenMultiplier,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+2]=wt.blueMultiplier,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+3]=wt.alphaMultiplier,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+4]=wt.redOffset,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+5]=wt.greenOffset,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+6]=wt.blueOffset,$.vertexBufferData[Ft+$.dataPerVertex*Nt+ar+7]=wt.alphaOffset}else for(var Wt=0;Wt<4;){var Qt=Wt++;$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar]=1,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+1]=1,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+2]=1,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+3]=1,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+4]=0,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+5]=0,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+6]=0,$.vertexBufferData[Ft+$.dataPerVertex*Qt+ar+7]=0}$.vertexDataPosition+=$.dataPerVertex*4}}_e.__dirty=!1,c().default.__pool.release(ft)},$.flush=function(j,_e,et){if($.currentShader==null&&($.currentShader=_e.__defaultDisplayShader),$.bufferPosition>$.lastFlushedPosition&&$.currentBitmapData!=null&&$.currentShader!=null){var nt=_e.__initDisplayShader($.currentShader);_e.setShader(nt),_e.applyBitmapData($.currentBitmapData,j.smoothing),_e.applyMatrix(_e.__getMatrix(j.__renderTransform,"auto")),j.tileAlphaEnabled?_e.useAlphaArray():_e.applyAlpha(j.__worldAlpha),j.tileBlendModeEnabled&&_e.__setBlendMode(et),j.tileColorTransformEnabled?(_e.applyHasColorTransform(!0),_e.useColorTransformArray()):_e.applyColorTransform(j.__worldColorTransform),_e.updateShader();for(var rt=j.__buffer.vertexBuffer,tt=$.lastFlushedPosition*$.dataPerVertex*4,it=$.bufferPosition-$.lastFlushedPosition;$.lastFlushedPosition<$.bufferPosition&&(it=h().default.int(Math.min($.bufferPosition-$.lastFlushedPosition,$.context.__quadIndexBufferElements)),!(it<=0));){if(nt.__position!=null&&$.context.setVertexBufferAt(nt.__position.index,rt,tt,"float2"),nt.__textureCoord!=null&&$.context.setVertexBufferAt(nt.__textureCoord.index,rt,tt+2,"float2"),j.tileAlphaEnabled&&nt.__alpha!=null&&$.context.setVertexBufferAt(nt.__alpha.index,rt,tt+4,"float1"),j.tileColorTransformEnabled){var st=j.tileAlphaEnabled?5:4;nt.__colorMultiplier!=null&&$.context.setVertexBufferAt(nt.__colorMultiplier.index,rt,tt+st,"float4"),nt.__colorOffset!=null&&$.context.setVertexBufferAt(nt.__colorOffset.index,rt,tt+st+4,"float4")}$.context.drawTriangles($.context.__quadIndexBuffer,0,it*2),$.lastFlushedPosition+=it}_e.__clearShader()}$.lastUsedBitmapData=$.currentBitmapData,$.lastUsedShader=$.currentShader},$.render=function(j,_e){if(!(!j.__renderable||j.__worldAlpha<=0)&&($.context=_e.__context3D,$.buildBuffer(j,_e),$.numTiles!=0)){$.bufferPosition=0,$.lastFlushedPosition=0,$.lastUsedBitmapData=null,$.lastUsedShader=null,$.currentBitmapData=null,$.currentShader=null,$.currentBlendMode=j.__worldBlendMode,j.tileBlendModeEnabled||_e.__setBlendMode($.currentBlendMode),_e.__pushMaskObject(j);var et=o().default.__pool.get();et.setTo(0,0,j.__width,j.__height),_e.__pushMaskRect(et,j.__renderTransform),$.renderTileContainer(j,_e,j.__group,j.__worldShader,j.__tileset,j.__worldAlpha,j.tileBlendModeEnabled,$.currentBlendMode,null),$.flush(j,_e,$.currentBlendMode),_e.__popMaskRect(),_e.__popMaskObject(j),o().default.__pool.release(et)}},$.renderDrawable=function(j,_e){_e.__updateCacheBitmap(j,!1),j.__cacheBitmap!=null&&!j.__isCacheBitmapRender?f().default.render(j.__cacheBitmap,_e):(g().default.render(j,_e),$.render(j,_e)),_e.__renderEvent(j)},$.renderDrawableMask=function(j,_e){g().default.renderMask(j,_e),$.renderMask(j,_e)},$.renderTileContainer=function(j,_e,et,nt,rt,tt,it,st,at){for(var _t=et.__tiles,ut,ot,lt,ft=null,ht,dt,pt,xt,vt,bt=0;bt<_t.length;){var wt=_t[bt];if(++bt,ut=wt.get_tileset()!=null?wt.get_tileset():rt,ot=wt.get_alpha()*tt,lt=wt.get_visible(),!(!lt||ot<=0))if(xt=wt.get_shader()!=null?wt.get_shader():nt,it&&(ft=wt.__blendMode!=null?wt.__blendMode:st),wt.__length>0)$.renderTileContainer(j,_e,wt,xt,ut,ot,it,ft,at);else{if(ut==null||(ht=wt.get_id(),vt=ut.__bitmapData,vt==null))continue;if(ht==-1){if(pt=wt.__rect,pt==null||pt.width<=0||pt.height<=0)continue}else if(dt=ut.__data[ht],dt==null)continue;(xt!=$.currentShader||vt!=$.currentBitmapData&&$.currentBitmapData!=null||$.currentBlendMode!=ft)&&$.flush(j,_e,$.currentBlendMode),$.currentBitmapData=vt,$.currentShader=xt,$.currentBlendMode=ft,$.bufferPosition++}}},$.renderMask=function(j,_e){},$.resizeBuffer=function(j,_e){$.numTiles=_e,j.__buffer==null?j.__buffer=new(b()).default($.context,k().default.QUADS,$.numTiles,$.dataPerVertex):j.__buffer.resize($.numTiles,$.dataPerVertex),$.vertexBufferData=j.__buffer.vertexBufferData},$.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=$}(Context3DTilemap)),Context3DTilemap}var DisplayObjectShader$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Shader$1}var s=function(h){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying float openfl_Alphav;
		varying vec4 openfl_ColorMultiplierv;
		varying vec4 openfl_ColorOffsetv;
		varying vec2 openfl_TextureCoordv;

		uniform bool openfl_HasColorTransform;
		uniform sampler2D openfl_Texture;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			vec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);

		if (color.a == 0.0) {

			gl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);

		} else if (openfl_HasColorTransform) {

			color = vec4 (color.rgb / color.a, color.a);

			mat4 colorMultiplier = mat4 (0);
			colorMultiplier[0][0] = openfl_ColorMultiplierv.x;
			colorMultiplier[1][1] = openfl_ColorMultiplierv.y;
			colorMultiplier[2][2] = openfl_ColorMultiplierv.z;
			colorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;

			color = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);

			if (color.a > 0.0) {

				gl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);

			} else {

				gl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);

			}

		} else {

			gl_FragColor = color * openfl_Alphav;

		}

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute float openfl_Alpha;
		attribute vec4 openfl_ColorMultiplier;
		attribute vec4 openfl_ColorOffset;
		attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		varying float openfl_Alphav;
		varying vec4 openfl_ColorMultiplierv;
		varying vec4 openfl_ColorOffsetv;
		varying vec2 openfl_TextureCoordv;

		uniform mat4 openfl_Matrix;
		uniform bool openfl_HasColorTransform;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			openfl_Alphav = openfl_Alpha;
		openfl_TextureCoordv = openfl_TextureCoord;

		if (openfl_HasColorTransform) {

			openfl_ColorMultiplierv = openfl_ColorMultiplier;
			openfl_ColorOffsetv = openfl_ColorOffset / 255.0;

		}

		gl_Position = openfl_Matrix * openfl_Position;

		}`),c().default.call(this,h),this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.display.DisplayObjectShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.display.DisplayObjectShader"]=s,e.default=s})(DisplayObjectShader$1);var GraphicsShader$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Shader$1}var s=function(h){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying float openfl_Alphav;
		varying vec4 openfl_ColorMultiplierv;
		varying vec4 openfl_ColorOffsetv;
		varying vec2 openfl_TextureCoordv;

		uniform bool openfl_HasColorTransform;
		uniform vec2 openfl_TextureSize;
		uniform sampler2D bitmap;

		void main(void) {

			vec4 color = texture2D (bitmap, openfl_TextureCoordv);

		if (color.a == 0.0) {

			gl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);

		} else if (openfl_HasColorTransform) {

			color = vec4 (color.rgb / color.a, color.a);

			mat4 colorMultiplier = mat4 (0);
			colorMultiplier[0][0] = openfl_ColorMultiplierv.x;
			colorMultiplier[1][1] = openfl_ColorMultiplierv.y;
			colorMultiplier[2][2] = openfl_ColorMultiplierv.z;
			colorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;

			color = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);

			if (color.a > 0.0) {

				gl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);

			} else {

				gl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);

			}

		} else {

			gl_FragColor = color * openfl_Alphav;

		}

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute float openfl_Alpha;
		attribute vec4 openfl_ColorMultiplier;
		attribute vec4 openfl_ColorOffset;
		attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		varying float openfl_Alphav;
		varying vec4 openfl_ColorMultiplierv;
		varying vec4 openfl_ColorOffsetv;
		varying vec2 openfl_TextureCoordv;

		uniform mat4 openfl_Matrix;
		uniform bool openfl_HasColorTransform;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			openfl_Alphav = openfl_Alpha;
		openfl_TextureCoordv = openfl_TextureCoord;

		if (openfl_HasColorTransform) {

			openfl_ColorMultiplierv = openfl_ColorMultiplier;
			openfl_ColorOffsetv = openfl_ColorOffset / 255.0;

		}

		gl_Position = openfl_Matrix * openfl_Position;

		}`),c().default.call(this,h),this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.display.GraphicsShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsShader"]=s,e.default=s})(GraphicsShader$1);var Shape$9={},hasRequiredShape;function requireShape(){return hasRequiredShape||(hasRequiredShape=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}function s(){return requireGraphics()}var h=function(){c().default.call(this),this.__drawableType=3};h.__name__="openfl.display.Shape",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{get_graphics:function(){return this.__graphics==null&&(this.__graphics=new(s()).default(this)),this.__graphics}}),h.prototype.__class__=h.prototype.constructor=d["openfl.display.Shape"]=h,Object.defineProperty(h.prototype,"graphics",{get:function(){return this.get_graphics()}}),e.default=h}(Shape$9)),Shape$9}var hasRequiredOpenGLRenderer;function requireOpenGLRenderer(){return hasRequiredOpenGLRenderer||(hasRequiredOpenGLRenderer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireDisplayObjectRenderer()}function s(){return requireMatrix4_Impl_()}function h(){return Matrix$2}function f(){return Rectangle$2}function g(){return requireContext3DBitmapData()}function b(){return requireContext3DBitmap()}function k(){return requireContext3DDisplayObject()}function $(){return requireContext3DDisplayObjectContainer()}function j(){return requireContext3DSimpleButton()}function _e(){return requireContext3DTextField()}function et(){return requireContext3DVideo()}function nt(){return requireContext3DTilemap()}function rt(){return requireGraphics()}function tt(){return requireCanvasRenderer()}function it(){return DisplayObjectShader$1}function st(){return GraphicsShader$1}function at(){return requireObjectPool()}function _t(){return requireShape()}function ut(){return requireContext3DMaskShader()}var ot=function(lt,ft){c().default.call(this),this.__context3D=lt,this.__context=lt.__context,this.gl=lt.__context.webgl,this.__gl=this.gl,this.__defaultRenderTarget=ft,this.__flipped=this.__defaultRenderTarget==null,rt().default.maxTextureWidth==null&&(rt().default.maxTextureWidth=rt().default.maxTextureHeight=this.__gl.getParameter(this.__gl.MAX_TEXTURE_SIZE)),this.__matrix=s().default._new(),this.__values=[],this.__softwareRenderer=new(tt()).default(null),this.__type="opengl",this.__setBlendMode("normal"),this.__context3D.__setGLBlend(!0),this.__clipRects=[],this.__maskObjects=[],this.__numClipRects=0,this.__projection=s().default._new(),this.__projectionFlipped=s().default._new(),this.__stencilReference=0,this.__tempRect=new(f()).default,this.__defaultDisplayShader=new(it()).default,this.__defaultGraphicsShader=new(st()).default,this.__defaultShader=this.__defaultDisplayShader,this.__initShader(this.__defaultShader),this.__scrollRectMasks=new(at()).default(function(){return new(_t()).default}),this.__maskShader=new(ut()).default};ot.__name__="openfl.display.OpenGLRenderer",ot.__isInterface__=!1,ot.__super__=c().default,ot.prototype=o(c().default.prototype,{applyAlpha:function(lt){ot.__alphaValue[0]=lt*this.__worldAlpha,this.__currentShaderBuffer!=null?this.__currentShaderBuffer.addFloatOverride("openfl_Alpha",ot.__alphaValue):this.__currentShader!=null&&this.__currentShader.__alpha!=null&&(this.__currentShader.__alpha.value=ot.__alphaValue)},applyBitmapData:function(lt,ft,ht){ht==null&&(ht=!1),this.__currentShaderBuffer!=null?lt!=null&&(ot.__textureSizeValue[0]=lt.__textureWidth,ot.__textureSizeValue[1]=lt.__textureHeight,this.__currentShaderBuffer.addFloatOverride("openfl_TextureSize",ot.__textureSizeValue)):this.__currentShader!=null&&(this.__currentShader.__bitmap!=null&&(this.__currentShader.__bitmap.input=lt,this.__currentShader.__bitmap.filter=ft&&this.__allowSmoothing?"linear":"nearest",this.__currentShader.__bitmap.mipFilter="mipnone",this.__currentShader.__bitmap.wrap=ht?"repeat":"clamp"),this.__currentShader.__texture!=null&&(this.__currentShader.__texture.input=lt,this.__currentShader.__texture.filter=ft&&this.__allowSmoothing?"linear":"nearest",this.__currentShader.__texture.mipFilter="mipnone",this.__currentShader.__texture.wrap=ht?"repeat":"clamp"),this.__currentShader.__textureSize!=null&&(lt!=null?(ot.__textureSizeValue[0]=lt.__textureWidth,ot.__textureSizeValue[1]=lt.__textureHeight,this.__currentShader.__textureSize.value=ot.__textureSizeValue):this.__currentShader.__textureSize.value=null))},applyColorTransform:function(lt){var ft=lt!=null&&!lt.__isDefault(!0);this.applyHasColorTransform(ft),ft?(lt.__setArrays(ot.__colorMultipliersValue,ot.__colorOffsetsValue),this.__currentShaderBuffer!=null?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",ot.__colorMultipliersValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",ot.__colorOffsetsValue)):this.__currentShader!=null&&(this.__currentShader.__colorMultiplier!=null&&(this.__currentShader.__colorMultiplier.value=ot.__colorMultipliersValue),this.__currentShader.__colorOffset!=null&&(this.__currentShader.__colorOffset.value=ot.__colorOffsetsValue))):this.__currentShaderBuffer!=null?(this.__currentShaderBuffer.addFloatOverride("openfl_ColorMultiplier",ot.__emptyColorValue),this.__currentShaderBuffer.addFloatOverride("openfl_ColorOffset",ot.__emptyColorValue)):this.__currentShader!=null&&(this.__currentShader.__colorMultiplier!=null&&(this.__currentShader.__colorMultiplier.value=ot.__emptyColorValue),this.__currentShader.__colorOffset!=null&&(this.__currentShader.__colorOffset.value=ot.__emptyColorValue))},applyHasColorTransform:function(lt){ot.__hasColorTransformValue[0]=lt,this.__currentShaderBuffer!=null?this.__currentShaderBuffer.addBoolOverride("openfl_HasColorTransform",ot.__hasColorTransformValue):this.__currentShader!=null&&this.__currentShader.__hasColorTransform!=null&&(this.__currentShader.__hasColorTransform.value=ot.__hasColorTransformValue)},applyMatrix:function(lt){this.__currentShaderBuffer!=null?this.__currentShaderBuffer.addFloatOverride("openfl_Matrix",lt):this.__currentShader!=null&&this.__currentShader.__matrix!=null&&(this.__currentShader.__matrix.value=lt)},getMatrix:function(lt){if(this.gl!=null){var ft=this.__getMatrix(lt,"auto");return s().default.set(this.__matrix,0,ft[0]),s().default.set(this.__matrix,1,ft[1]),s().default.set(this.__matrix,2,ft[2]),s().default.set(this.__matrix,3,ft[3]),s().default.set(this.__matrix,4,ft[4]),s().default.set(this.__matrix,5,ft[5]),s().default.set(this.__matrix,6,ft[6]),s().default.set(this.__matrix,7,ft[7]),s().default.set(this.__matrix,8,ft[8]),s().default.set(this.__matrix,9,ft[9]),s().default.set(this.__matrix,10,ft[10]),s().default.set(this.__matrix,11,ft[11]),s().default.set(this.__matrix,12,ft[12]),s().default.set(this.__matrix,13,ft[13]),s().default.set(this.__matrix,14,ft[14]),s().default.set(this.__matrix,15,ft[15]),this.__matrix}else return s().default.identity(this.__matrix),s().default.set(this.__matrix,0,lt.a),s().default.set(this.__matrix,1,lt.b),s().default.set(this.__matrix,4,lt.c),s().default.set(this.__matrix,5,lt.d),s().default.set(this.__matrix,12,lt.tx),s().default.set(this.__matrix,13,lt.ty),this.__matrix},setShader:function(lt){if(this.__currentShaderBuffer=null,this.__currentShader!=lt)if(this.__currentShader!=null,lt==null){this.__currentShader=null,this.__context3D.setProgram(null);return}else this.__currentShader=lt,this.__initShader(lt),this.__context3D.setProgram(lt.program),this.__context3D.__flushGLProgram(),this.__currentShader.__enable(),this.__context3D.__state.shader=lt},setViewport:function(){this.__gl.viewport(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight)},updateShader:function(){this.__currentShader!=null&&(this.__currentShader.__position!=null&&(this.__currentShader.__position.__useArray=!0),this.__currentShader.__textureCoord!=null&&(this.__currentShader.__textureCoord.__useArray=!0),this.__context3D.setProgram(this.__currentShader.program),this.__context3D.__flushGLProgram(),this.__context3D.__flushGLTextures(),this.__currentShader.__update())},useAlphaArray:function(){this.__currentShader!=null&&this.__currentShader.__alpha!=null&&(this.__currentShader.__alpha.__useArray=!0)},useColorTransformArray:function(){this.__currentShader!=null&&(this.__currentShader.__colorMultiplier!=null&&(this.__currentShader.__colorMultiplier.__useArray=!0),this.__currentShader.__colorOffset!=null&&(this.__currentShader.__colorOffset.__useArray=!0))},__cleanup:function(){this.__stencilReference>0&&(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0&&(this.__numClipRects=0,this.__scissorRect())},__clear:function(){this.__stage==null||this.__stage.__transparent?this.__context3D.clear(0,0,0,0,0,0,1):this.__context3D.clear(this.__stage.__colorSplit[0],this.__stage.__colorSplit[1],this.__stage.__colorSplit[2],1,0,0,1),this.__cleared=!0},__clearShader:function(){this.__currentShader!=null&&(this.__currentShaderBuffer==null?this.__currentShader.__bitmap!=null&&(this.__currentShader.__bitmap.input=null):this.__currentShaderBuffer.clearOverride(),this.__currentShader.__texture!=null&&(this.__currentShader.__texture.input=null),this.__currentShader.__textureSize!=null&&(this.__currentShader.__textureSize.value=null),this.__currentShader.__hasColorTransform!=null&&(this.__currentShader.__hasColorTransform.value=null),this.__currentShader.__position!=null&&(this.__currentShader.__position.value=null),this.__currentShader.__matrix!=null&&(this.__currentShader.__matrix.value=null),this.__currentShader.__clearUseArray())},__copyShader:function(lt){this.__currentShader=lt.__currentShader,this.__currentShaderBuffer=lt.__currentShaderBuffer,this.__currentDisplayShader=lt.__currentDisplayShader,this.__currentGraphicsShader=lt.__currentGraphicsShader},__getMatrix:function(lt,ft){var ht=h().default.__pool.get();return ht.copyFrom(lt),ht.concat(this.__worldTransform),(ft=="always"||ft=="auto"&&ht.b==0&&ht.c==0&&ht.a<1.001&&ht.a>.999&&ht.d<1.001&&ht.d>.999)&&(ht.tx=Math.round(ht.tx),ht.ty=Math.round(ht.ty)),s().default.identity(this.__matrix),s().default.set(this.__matrix,0,ht.a),s().default.set(this.__matrix,1,ht.b),s().default.set(this.__matrix,4,ht.c),s().default.set(this.__matrix,5,ht.d),s().default.set(this.__matrix,12,ht.tx),s().default.set(this.__matrix,13,ht.ty),s().default.append(this.__matrix,this.__flipped?this.__projectionFlipped:this.__projection),this.__values[0]=s().default.get(this.__matrix,0),this.__values[1]=s().default.get(this.__matrix,1),this.__values[2]=s().default.get(this.__matrix,2),this.__values[3]=s().default.get(this.__matrix,3),this.__values[4]=s().default.get(this.__matrix,4),this.__values[5]=s().default.get(this.__matrix,5),this.__values[6]=s().default.get(this.__matrix,6),this.__values[7]=s().default.get(this.__matrix,7),this.__values[8]=s().default.get(this.__matrix,8),this.__values[9]=s().default.get(this.__matrix,9),this.__values[10]=s().default.get(this.__matrix,10),this.__values[11]=s().default.get(this.__matrix,11),this.__values[12]=s().default.get(this.__matrix,12),this.__values[13]=s().default.get(this.__matrix,13),this.__values[14]=s().default.get(this.__matrix,14),this.__values[15]=s().default.get(this.__matrix,15),h().default.__pool.release(ht),this.__values},__initShader:function(lt){return lt!=null?(lt.__context==null&&(lt.__context=this.__context3D,lt.__init()),lt):this.__defaultShader},__initDisplayShader:function(lt){return lt!=null?(lt.__context==null&&(lt.__context=this.__context3D,lt.__init()),lt):this.__defaultDisplayShader},__initGraphicsShader:function(lt){return lt!=null?(lt.__context==null&&(lt.__context=this.__context3D,lt.__init()),lt):this.__defaultGraphicsShader},__initShaderBuffer:function(lt){return lt!=null?this.__initGraphicsShader(lt.shader):this.__defaultGraphicsShader},__popMask:function(){if(this.__stencilReference!=0){var lt=this.__maskObjects.pop();this.__stencilReference>1?(this.__context3D.setStencilActions("frontAndBack","equal","decrementSaturate","decrementSaturate","keep"),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(lt),this.__stencilReference--,this.__context3D.setStencilActions("frontAndBack","equal","keep","keep","keep"),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)):(this.__stencilReference=0,this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0))}},__popMaskObject:function(lt,ft){ft==null&&(ft=!0),lt.__mask!=null&&this.__popMask(),ft&&lt.__scrollRect!=null&&(lt.__renderTransform.b!=0||lt.__renderTransform.c!=0?(this.__scrollRectMasks.release(this.__maskObjects[this.__maskObjects.length-1]),this.__popMask()):this.__popMaskRect())},__popMaskRect:function(){this.__numClipRects>0&&(this.__numClipRects--,this.__numClipRects>0?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect())},__pushMask:function(lt){this.__stencilReference==0&&(this.__context3D.clear(0,0,0,0,0,0,4),this.__updatedStencil=!0),this.__context3D.setStencilActions("frontAndBack","equal","incrementSaturate","keep","keep"),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,255),this.__context3D.setColorMask(!1,!1,!1,!1),this.__renderDrawableMask(lt),this.__maskObjects.push(lt),this.__stencilReference++,this.__context3D.setStencilActions("frontAndBack","equal","keep","keep","keep"),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0),this.__context3D.setColorMask(!0,!0,!0,!0)},__pushMaskObject:function(lt,ft){if(ft==null&&(ft=!0),ft&&lt.__scrollRect!=null)if(lt.__renderTransform.b!=0||lt.__renderTransform.c!=0){var ht=this.__scrollRectMasks.get();ht.get_graphics().clear(),ht.get_graphics().beginFill(65280),ht.get_graphics().drawRect(lt.__scrollRect.x,lt.__scrollRect.y,lt.__scrollRect.width,lt.__scrollRect.height),ht.__renderTransform.copyFrom(lt.__renderTransform),this.__pushMask(ht)}else this.__pushMaskRect(lt.__scrollRect,lt.__renderTransform);lt.__mask!=null&&this.__pushMask(lt.__mask)},__pushMaskRect:function(lt,ft){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new(f()).default);var ht=h().default.__pool.get();ht.copyFrom(ft),ht.concat(this.__worldTransform);var dt=this.__clipRects[this.__numClipRects];if(lt.__transform(dt,ht),this.__numClipRects>0){var pt=this.__clipRects[this.__numClipRects-1];dt.__contract(pt.x,pt.y,pt.width,pt.height)}dt.height<0&&(dt.height=0),dt.width<0&&(dt.width=0),h().default.__pool.release(ht),this.__scissorRect(dt),this.__numClipRects++},__render:function(lt){if(this.__context3D.setColorMask(!0,!0,!0,!0),this.__context3D.setCulling("none"),this.__context3D.setDepthTest(!1,"always"),this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0),this.__context3D.setScissorRectangle(null),this.__blendMode=null,this.__setBlendMode("normal"),this.__defaultRenderTarget==null)ot.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(ot.__scissorRectangle),this.__upscaled=this.__worldTransform.a!=1||this.__worldTransform.d!=1,this.__renderDrawable(lt),(this.__offsetX>0||this.__offsetY>0)&&(this.__offsetX>0&&(ot.__scissorRectangle.setTo(0,0,this.__offsetX,this.__height),this.__context3D.setScissorRectangle(ot.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),ot.__scissorRectangle.setTo(this.__offsetX+this.__displayWidth,0,this.__width,this.__height),this.__context3D.setScissorRectangle(ot.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.__offsetY>0&&(ot.__scissorRectangle.setTo(0,0,this.__width,this.__offsetY),this.__context3D.setScissorRectangle(ot.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT),ot.__scissorRectangle.setTo(0,this.__offsetY+this.__displayHeight,this.__width,this.__height),this.__context3D.setScissorRectangle(ot.__scissorRectangle),this.__context3D.__flushGL(),this.__gl.clearColor(0,0,0,1),this.__gl.clear(this.__gl.COLOR_BUFFER_BIT)),this.__context3D.setScissorRectangle(null));else{ot.__scissorRectangle.setTo(this.__offsetX,this.__offsetY,this.__displayWidth,this.__displayHeight),this.__context3D.setScissorRectangle(ot.__scissorRectangle);var ft=lt.__mask,ht=lt.__scrollRect;lt.__mask=null,lt.__scrollRect=null,this.__renderDrawable(lt),lt.__mask=ft,lt.__scrollRect=ht}this.__context3D.present()},__renderDrawable:function(lt){if(lt!=null)switch(lt.__drawableType){case 0:g().default.renderDrawable(lt,this);break;case 2:b().default.renderDrawable(lt,this);break;case 3:k().default.renderDrawable(lt,this);break;case 4:case 5:$().default.renderDrawable(lt,this);break;case 6:j().default.renderDrawable(lt,this);break;case 7:_e().default.renderDrawable(lt,this);break;case 8:et().default.renderDrawable(lt,this);break;case 9:nt().default.renderDrawable(lt,this);break}},__renderDrawableMask:function(lt){if(lt!=null)switch(lt.__drawableType){case 0:g().default.renderDrawableMask(lt,this);break;case 2:b().default.renderDrawableMask(lt,this);break;case 3:k().default.renderDrawableMask(lt,this);break;case 4:case 5:$().default.renderDrawableMask(lt,this);break;case 6:j().default.renderDrawableMask(lt,this);break;case 7:_e().default.renderDrawableMask(lt,this);break;case 8:et().default.renderDrawableMask(lt,this);break;case 9:nt().default.renderDrawableMask(lt,this);break}},__renderFilterPass:function(lt,ft,ht,dt){if(dt==null&&(dt=!0),!(lt==null||ft==null)&&this.__defaultRenderTarget!=null){var pt=this.__context3D.__state.renderToTexture,xt=this.__context3D.__state.renderToTextureDepthStencil,vt=this.__context3D.__state.renderToTextureAntiAlias,bt=this.__context3D.__state.renderToTextureSurfaceSelector;this.__context3D.setRenderToTexture(this.__defaultRenderTarget.getTexture(this.__context3D),!1),dt&&this.__context3D.clear(0,0,0,0,0,0,1);var wt=this.__initShader(ft);this.setShader(wt),this.applyAlpha(1),this.applyBitmapData(lt,ht),this.applyColorTransform(null),this.applyMatrix(this.__getMatrix(lt.__renderTransform,"auto")),this.updateShader();var At=lt.getVertexBuffer(this.__context3D);wt.__position!=null&&this.__context3D.setVertexBufferAt(wt.__position.index,At,0,"float3"),wt.__textureCoord!=null&&this.__context3D.setVertexBufferAt(wt.__textureCoord.index,At,3,"float2");var ct=lt.getIndexBuffer(this.__context3D);this.__context3D.drawTriangles(ct),pt!=null?this.__context3D.setRenderToTexture(pt,xt,vt,bt):this.__context3D.setRenderToBackBuffer(),this.__clearShader()}},__resize:function(lt,ft){this.__width=lt,this.__height=ft;var ht=this.__defaultRenderTarget==null?this.__stage.stageWidth:this.__defaultRenderTarget.width,dt=this.__defaultRenderTarget==null?this.__stage.stageHeight:this.__defaultRenderTarget.height;this.__offsetX=this.__defaultRenderTarget==null?Math.round(this.__worldTransform.__transformX(0,0)):0,this.__offsetY=this.__defaultRenderTarget==null?Math.round(this.__worldTransform.__transformY(0,0)):0,this.__displayWidth=this.__defaultRenderTarget==null?Math.round(this.__worldTransform.__transformX(ht,0)-this.__offsetX):ht,this.__displayHeight=this.__defaultRenderTarget==null?Math.round(this.__worldTransform.__transformY(0,dt)-this.__offsetY):dt,s().default.createOrtho(this.__projection,0,this.__displayWidth+this.__offsetX*2,0,this.__displayHeight+this.__offsetY*2,-1e3,1e3),s().default.createOrtho(this.__projectionFlipped,0,this.__displayWidth+this.__offsetX*2,this.__displayHeight+this.__offsetY*2,0,-1e3,1e3)},__resumeClipAndMask:function(lt){this.__stencilReference>0?(this.__context3D.setStencilActions("frontAndBack","equal","keep","keep","keep"),this.__context3D.setStencilReferenceValue(this.__stencilReference,255,0)):(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0?this.__scissorRect(this.__clipRects[this.__numClipRects-1]):this.__scissorRect()},__scissorRect:function(lt){if(lt!=null){var ft=Math.floor(lt.x),ht=Math.floor(lt.y),dt=lt.width>0?Math.ceil(lt.get_right())-ft:0,pt=lt.height>0?Math.ceil(lt.get_bottom())-ht:0;this.__context3D.__backBufferWantsBestResolution&&(ft=Math.floor(lt.x/this.__pixelRatio),ht=Math.floor(lt.y/this.__pixelRatio),dt=lt.width>0?Math.ceil(lt.get_right()/this.__pixelRatio)-ft:0,pt=lt.height>0?Math.ceil(lt.get_bottom()/this.__pixelRatio)-ht:0),dt<0&&(dt=0),pt<0&&(pt=0),ot.__scissorRectangle.setTo(ft,ht,dt,pt),this.__context3D.setScissorRectangle(ot.__scissorRectangle)}else this.__context3D.setScissorRectangle(null)},__setBlendMode:function(lt){if(this.__overrideBlendMode!=null&&(lt=this.__overrideBlendMode),this.__blendMode!=lt)switch(this.__blendMode=lt,lt){case"add":this.__context3D.setBlendFactors("one","one");break;case"multiply":this.__context3D.setBlendFactors("destinationColor","oneMinusSourceAlpha");break;case"screen":this.__context3D.setBlendFactors("one","oneMinusSourceColor");break;case"subtract":this.__context3D.setBlendFactors("one","one"),this.__context3D.__setGLBlendEquation(this.__gl.FUNC_REVERSE_SUBTRACT);break;default:this.__context3D.setBlendFactors("one","oneMinusSourceAlpha")}},__setRenderTarget:function(lt){this.__defaultRenderTarget=lt,this.__flipped=lt==null,lt!=null&&this.__resize(lt.width,lt.height)},__setShaderBuffer:function(lt){this.setShader(lt.shader),this.__currentShaderBuffer=lt},__suspendClipAndMask:function(){this.__stencilReference>0&&(this.__context3D.setStencilActions(),this.__context3D.setStencilReferenceValue(0,0,0)),this.__numClipRects>0&&this.__scissorRect()},__updateShaderBuffer:function(lt){this.__currentShader!=null&&this.__currentShaderBuffer!=null&&this.__currentShader.__updateFromBuffer(this.__currentShaderBuffer,lt)}}),ot.prototype.__class__=ot.prototype.constructor=d["openfl.display.OpenGLRenderer"]=ot,ot.__meta__={fields:{gl:{SuppressWarnings:["checkstyle:Dynamic"]},__gl:{SuppressWarnings:["checkstyle:Dynamic"]},__matrix:{SuppressWarnings:["checkstyle:Dynamic"]},__projection:{SuppressWarnings:["checkstyle:Dynamic"]},__projectionFlipped:{SuppressWarnings:["checkstyle:Dynamic"]},getMatrix:{SuppressWarnings:["checkstyle:Dynamic"]}}},ot.__alphaValue=[1],ot.__colorMultipliersValue=[0,0,0,0],ot.__colorOffsetsValue=[0,0,0,0],ot.__defaultColorMultipliersValue=[1,1,1,1],ot.__emptyColorValue=[0,0,0,0],ot.__emptyAlphaValue=[1],ot.__hasColorTransformValue=[!1],ot.__scissorRectangle=new(f()).default,ot.__textureSizeValue=[0,0],e.default=ot}(OpenGLRenderer$1)),OpenGLRenderer$1}var PNGEncoderOptions$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){c==null&&(c=!1),this.fastCompression=c};o.__name__="openfl.display.PNGEncoderOptions",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.PNGEncoderOptions"]=o,e.default=o})(PNGEncoderOptions$1);var ImageFileFormat={},hasRequiredImageFileFormat;function requireImageFileFormat(){return hasRequiredImageFileFormat||(hasRequiredImageFileFormat=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.graphics.ImageFileFormat"]={__ename__:"lime.graphics.ImageFileFormat",__constructs__:["BMP","JPEG","PNG"],PNG:{_hx_index:2,__enum__:"lime.graphics.ImageFileFormat",toString:d},JPEG:{_hx_index:1,__enum__:"lime.graphics.ImageFileFormat",toString:d},BMP:{_hx_index:0,__enum__:"lime.graphics.ImageFileFormat",toString:d}};e.default=c}(ImageFileFormat)),ImageFileFormat}var JPEGEncoderOptions$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){c==null&&(c=80),this.quality=c};o.__name__="openfl.display.JPEGEncoderOptions",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.JPEGEncoderOptions"]=o,e.default=o})(JPEGEncoderOptions$1);var CairoImageSurface_Impl_={},hasRequiredCairoImageSurface_Impl_;function requireCairoImageSurface_Impl_(){return hasRequiredCairoImageSurface_Impl_||(hasRequiredCairoImageSurface_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDataPointer_Impl_()}var c=function(){};c.__name__="lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["lime.graphics.cairo._CairoImageSurface.CairoImageSurface_Impl_"]=c,c._new=function(s,h,f){var g=0;return g},c.create=function(s,h,f,g,b){return 0},c.fromImage=function(s){return null},c.get_data=function(s){return o().default.fromFloat(0)},c.get_format=function(s){return 0},c.get_height=function(s){return 0},c.get_stride=function(s){return 0},c.get_width=function(s){return 0},e.default=c}(CairoImageSurface_Impl_)),CairoImageSurface_Impl_}var CairoSurface_Impl_={},hasRequiredCairoSurface_Impl_;function requireCairoSurface_Impl_(){return hasRequiredCairoSurface_Impl_||(hasRequiredCairoSurface_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.graphics.cairo._CairoSurface.CairoSurface_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.graphics.cairo._CairoSurface.CairoSurface_Impl_"]=o,o.flush=function(c){},e.default=o}(CairoSurface_Impl_)),CairoSurface_Impl_}var TextureBase$1={},Context3D$1={},CubeTexture$1={},IllegalOperationError$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h,0),this.name="IllegalOperationError"};s.__name__="openfl.errors.IllegalOperationError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.IllegalOperationError"]=s,e.default=s})(IllegalOperationError$1);var ATFReader={},hasRequiredATFReader;function requireATFReader(){return hasRequiredATFReader||(hasRequiredATFReader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return IllegalOperationError$1}function s(){return requireLog()}function h(){return requireUInt_Impl_()}function f(){return requireByteArray_Impl_()}function g(){return requireBytes()}function b(){return requireBoot()}var k=function($,j){this.version=0,$.position=j;var _e=$.readUTFBytes(3);if($.position=j,_e!="ATF")throw new(o()).default(new(c()).default("ATF signature not found"));var et=0;if($.get(j+6)==255?(this.version=$.get(j+7),$.position=j+8,et=this.__readUInt32($)):(this.version=0,$.position=j+3,et=this.__readUInt24($)),h().default.gt(b().default.__cast(j+et,d.Int),f().default.get_length($)))throw new(o()).default(new(c()).default("ATF length exceeds byte array length"));this.data=$};k.__name__="openfl.display3D._internal.ATFReader",k.__isInterface__=!1,k.prototype={readHeader:function($,j,_e){var et=this.data.readUnsignedByte(),nt=et>>>7;if(!_e&&nt!=0)throw new(o()).default(new(c()).default("ATF Cube map not expected"));if(_e&&nt!=1)throw new(o()).default(new(c()).default("ATF Cube map expected"));if(this.cubeMap=_e,this.atfFormat=et&127,this.atfFormat!=3&&this.atfFormat!=5&&s().default.warn("Only ATF block compressed textures without JPEG-XR+LZMA are supported",{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/_internal/ATFReader.hx",lineNumber:96,className:"openfl.display3D._internal.ATFReader",methodName:"readHeader"}),this.width=1<<this.data.readUnsignedByte(),this.height=1<<this.data.readUnsignedByte(),this.width!=$||this.height!=j)throw new(o()).default(new(c()).default("ATF width and height dont match"));return this.mipCount=this.data.readUnsignedByte(),this.atfFormat==5},readTextures:function($){for(var j=this.version<3?3:4,_e=this.cubeMap?6:1,et=0,nt=_e;et<nt;)for(var rt=et++,tt=0,it=this.mipCount;tt<it;)for(var st=tt++,at=0,_t=j;at<_t;){var ut=at++,ot=this.version==0?this.__readUInt24(this.data):this.__readUInt32(this.data);if(h().default.gt(this.data.position+ot,f().default.get_length(this.data)))throw new(o()).default(new(c()).default("Block length exceeds ATF file length"));if(h().default.gt(ot,0)){var lt=g().default.alloc(ot),ft=this.data,ht=f().default.fromBytes(lt),dt=0,pt=ot;pt==null&&(pt=0),dt==null&&(dt=0),ft.readBytes(ht,dt,pt),$(rt,st,ut,this.width>>st,this.height>>st,ot,lt)}}},__readUInt24:function($){var j=$.readUnsignedByte()<<16;return j=j|$.readUnsignedByte()<<8,j=j|$.readUnsignedByte(),j},__readUInt32:function($){var j=$.readUnsignedByte()<<24;return j=j|$.readUnsignedByte()<<16,j=j|$.readUnsignedByte()<<8,j=j|$.readUnsignedByte(),j}},k.prototype.__class__=k.prototype.constructor=d["openfl.display3D._internal.ATFReader"]=k,k.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=k}(ATFReader)),ATFReader}var hasRequiredCubeTexture;function requireCubeTexture(){return hasRequiredCubeTexture||(hasRequiredCubeTexture=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireTextureBase()}function s(){return requireTimer()}function h(){return Event$1}function f(){return requireWebGLRenderContext_Impl_()}function g(){return requireByteArray_Impl_()}function b(){return requireLog()}function k(){return requireContext3D()}function $(){return requireHaxeError()}function j(){return IllegalOperationError$1}function _e(){return requireATFReader()}function et(){return requireStd()}var nt=function(rt,tt,it,st,at){c().default.call(this,rt),this.__size=tt,this.__width=this.__height=this.__size,this.__optimizeForRenderToTexture=st,this.__streamingLevels=at,this.__textureTarget=this.__context.gl.TEXTURE_CUBE_MAP,this.__uploadedSides=0};nt.__name__="openfl.display3D.textures.CubeTexture",nt.__isInterface__=!1,nt.__super__=c().default,nt.prototype=o(c().default.prototype,{uploadCompressedTextureFromByteArray:function(rt,tt,it){it==null&&(it=!1);var st=this;it?s().default.delay(function(){st.__uploadCompressedTextureFromByteArray(rt,tt);var at=null;at=new(h()).default("textureReady"),st.dispatchEvent(at)},1):this.__uploadCompressedTextureFromByteArray(rt,tt)},uploadFromBitmapData:function(rt,tt,it,st){if(it==null&&(it=0),rt!=null){var at=this.__size>>it;if(at!=0){var _t=this.__getImage(rt);if(_t!=null){if(it==0&&_t.buffer!=null&&_t.buffer.data==null&&_t.buffer.get_src()!=null){var ut=this.__context.gl,ot=this.__size>>it;if(ot==0)return;var lt=this.__sideToTarget(tt);this.__context.__bindGLTextureCubeMap(this.__textureID),f().default.texImage2D(ut,lt,it,this.__internalFormat,this.__format,ut.UNSIGNED_BYTE,_t.buffer.get_src()),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<tt;return}this.uploadFromTypedArray(_t.get_data(),tt,it)}}}},uploadFromByteArray:function(rt,tt,it,st){if(st==null&&(st=0),tt==0){this.uploadFromTypedArray(rt.b,it,st);return}var at=g().default.toArrayBuffer(rt),_t=tt;_t==null&&(_t=0);var ut;at!=null?ut=new Uint8Array(at,_t):ut=null,this.uploadFromTypedArray(ut,it,st)},uploadFromTypedArray:function(rt,tt,it){if(it==null&&(it=0),rt!=null){var st=this.__context.gl,at=this.__size>>it;if(at!=0){var _t=this.__sideToTarget(tt);this.__context.__bindGLTextureCubeMap(this.__textureID),f().default.texImage2D(st,_t,it,this.__internalFormat,at,at,0,this.__format,st.UNSIGNED_BYTE,rt),this.__context.__bindGLTextureCubeMap(null),this.__uploadedSides|=1<<tt}}},__getGLFramebuffer:function(rt,tt,it){var st=this.__context.gl;if(this.__glFramebuffer==null&&(this.__glFramebuffer=st.createFramebuffer(),this.__framebufferSurface=-1),this.__framebufferSurface!=it&&(this.__framebufferSurface=it,this.__context.__bindGLFramebuffer(this.__glFramebuffer),st.framebufferTexture2D(st.FRAMEBUFFER,st.COLOR_ATTACHMENT0,st.TEXTURE_CUBE_MAP_POSITIVE_X+it,this.__textureID,0),this.__context.__enableErrorChecking)){var at=st.checkFramebufferStatus(st.FRAMEBUFFER);at!=st.FRAMEBUFFER_COMPLETE&&b().default.error("Error: Context3D.setRenderToTexture status:"+at+" width:"+this.__width+" height:"+this.__height,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/textures/CubeTexture.hx",lineNumber:279,className:"openfl.display3D.textures.CubeTexture",methodName:"__getGLFramebuffer"})}return c().default.prototype.__getGLFramebuffer.call(this,rt,tt,it)},__setSamplerState:function(rt){if(c().default.prototype.__setSamplerState.call(this,rt)){var tt=this.__context.gl;if(rt.mipfilter!="mipnone"&&!this.__samplerState.mipmapGenerated&&(tt.generateMipmap(tt.TEXTURE_CUBE_MAP),this.__samplerState.mipmapGenerated=!0),k().default.__glMaxTextureMaxAnisotropy!=0){var it;switch(rt.filter){case"anisotropic16x":it=16;break;case"anisotropic2x":it=2;break;case"anisotropic4x":it=4;break;case"anisotropic8x":it=8;break;default:it=1}it>k().default.__glMaxTextureMaxAnisotropy&&(it=k().default.__glMaxTextureMaxAnisotropy),tt.texParameterf(tt.TEXTURE_CUBE_MAP,k().default.__glTextureMaxAnisotropy,it)}return!0}return!1},__sideToTarget:function(rt){var tt=this.__context.gl;switch(rt){case 0:return tt.TEXTURE_CUBE_MAP_POSITIVE_X;case 1:return tt.TEXTURE_CUBE_MAP_NEGATIVE_X;case 2:return tt.TEXTURE_CUBE_MAP_POSITIVE_Y;case 3:return tt.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 4:return tt.TEXTURE_CUBE_MAP_POSITIVE_Z;case 5:return tt.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:throw new($()).default(new(j()).default)}},__uploadCompressedTextureFromByteArray:function(rt,tt){var it=this,st=new(_e()).default(rt,tt),at=st.readHeader(this.__size,this.__size,!0),_t=this.__context.gl;this.__context.__bindGLTextureCubeMap(this.__textureID);var ut=!1;if(st.readTextures(function(Gt,zt,$t,er,ur,St,Ut){var Yt=at?c().default.__compressedFormatsAlpha.get($t):c().default.__compressedFormats.get($t);if(Yt!=0){ut=!0;var Dt=it.__sideToTarget(Gt);if(it.__format=Yt,it.__internalFormat=Yt,at&&$t==2){var Pt=et().default.int(St/2),Jt=null,_r=null,hr=null,vr=Ut.b.buffer,gr=0;gr==null&&(gr=0);var br;Jt!=null?br=new Uint8Array(Jt):_r!=null?br=new Uint8Array(_r):hr!=null?br=new Uint8Array(hr):vr!=null?Pt==null?br=new Uint8Array(vr,gr):br=new Uint8Array(vr,gr,Pt):br=null,f().default.compressedTexImage2D(_t,Dt,zt,it.__internalFormat,er,ur,0,br);var wr=new nt(it.__context,it.__size,"compressed",it.__optimizeForRenderToTexture,it.__streamingLevels);wr.__format=Yt,wr.__internalFormat=Yt,it.__context.__bindGLTextureCubeMap(wr.__textureID);var yr=null,xr=null,Tr=null,Cr=Ut.b.buffer,Br=Pt;Br==null&&(Br=0);var Dr;yr!=null?Dr=new Uint8Array(yr):xr!=null?Dr=new Uint8Array(xr):Tr!=null?Dr=new Uint8Array(Tr):Cr!=null?Pt==null?Dr=new Uint8Array(Cr,Br):Dr=new Uint8Array(Cr,Br,Pt):Dr=null,f().default.compressedTexImage2D(_t,Dt,zt,wr.__internalFormat,er,ur,0,Dr),it.__alphaTexture=wr}else{var Sr=null,Ar=null,Mr=null,Ir=Ut.b.buffer,Rr=0;Rr==null&&(Rr=0);var Fr;Sr!=null?Fr=new Uint8Array(Sr):Ar!=null?Fr=new Uint8Array(Ar):Mr!=null?Fr=new Uint8Array(Mr):Ir!=null?St==null?Fr=new Uint8Array(Ir,Rr):Fr=new Uint8Array(Ir,Rr,St):Fr=null,f().default.compressedTexImage2D(_t,Dt,zt,it.__internalFormat,er,ur,0,Fr)}}}),!ut){var ot=this.__size*this.__size*4,lt=null,ft=null,ht=null,dt=null,pt;ot!=null?pt=new Uint8Array(ot):lt!=null?pt=new Uint8Array(lt):ft!=null?pt=new Uint8Array(ft):ht!=null?dt==null?pt=new Uint8Array(ht,0):pt=new Uint8Array(ht,0,dt):pt=null;var xt=pt,vt=this.__sideToTarget(0);f().default.texImage2D(_t,vt,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,xt);var bt=this.__size*this.__size*4,wt=null,At=null,ct=null,mt=null,gt;bt!=null?gt=new Uint8Array(bt):wt!=null?gt=new Uint8Array(wt):At!=null?gt=new Uint8Array(At):ct!=null?mt==null?gt=new Uint8Array(ct,0):gt=new Uint8Array(ct,0,mt):gt=null;var Tt=gt,yt=this.__sideToTarget(1);f().default.texImage2D(_t,yt,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,Tt);var Et=this.__size*this.__size*4,Ct=null,It=null,Rt=null,Ft=null,Lt;Et!=null?Lt=new Uint8Array(Et):Ct!=null?Lt=new Uint8Array(Ct):It!=null?Lt=new Uint8Array(It):Rt!=null?Ft==null?Lt=new Uint8Array(Rt,0):Lt=new Uint8Array(Rt,0,Ft):Lt=null;var Ot=Lt,Kt=this.__sideToTarget(2);f().default.texImage2D(_t,Kt,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,Ot);var qt=this.__size*this.__size*4,Ht=null,Zt=null,or=null,ir=null,lr;qt!=null?lr=new Uint8Array(qt):Ht!=null?lr=new Uint8Array(Ht):Zt!=null?lr=new Uint8Array(Zt):or!=null?ir==null?lr=new Uint8Array(or,0):lr=new Uint8Array(or,0,ir):lr=null;var ar=lr,Mt=this.__sideToTarget(3);f().default.texImage2D(_t,Mt,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,ar);var kt=this.__size*this.__size*4,Vt=null,Nt=null,Wt=null,Qt=null,tr;kt!=null?tr=new Uint8Array(kt):Vt!=null?tr=new Uint8Array(Vt):Nt!=null?tr=new Uint8Array(Nt):Wt!=null?Qt==null?tr=new Uint8Array(Wt,0):tr=new Uint8Array(Wt,0,Qt):tr=null;var sr=tr,dr=this.__sideToTarget(4);f().default.texImage2D(_t,dr,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,sr);var pr=this.__size*this.__size*4,cr=null,mr=null,fr=null,Bt=null,Xt;pr!=null?Xt=new Uint8Array(pr):cr!=null?Xt=new Uint8Array(cr):mr!=null?Xt=new Uint8Array(mr):fr!=null?Bt==null?Xt=new Uint8Array(fr,0):Xt=new Uint8Array(fr,0,Bt):Xt=null;var rr=Xt,nr=this.__sideToTarget(5);f().default.texImage2D(_t,nr,0,this.__internalFormat,this.__size,this.__size,0,this.__format,_t.UNSIGNED_BYTE,rr)}this.__context.__bindGLTextureCubeMap(null)}}),nt.prototype.__class__=nt.prototype.constructor=d["openfl.display3D.textures.CubeTexture"]=nt,e.default=nt}(CubeTexture$1)),CubeTexture$1}var IndexBuffer3D$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireByteArray_Impl_()}function c(){return requireWebGLRenderContext_Impl_()}var s=function(h,f,g){this.__context=h,this.__numIndices=f;var b=this.__context.gl;this.__id=b.createBuffer(),this.__usage=g=="dynamicDraw"?b.DYNAMIC_DRAW:b.STATIC_DRAW};s.__name__="openfl.display3D.IndexBuffer3D",s.__isInterface__=!1,s.prototype={dispose:function(){var h=this.__context.gl;h.deleteBuffer(this.__id)},uploadFromByteArray:function(h,f,g,b){var k=f+g*2,$=o().default.toArrayBuffer(h),j=k;j==null&&(j=0);var _e;$!=null?b==null?_e=new Uint16Array($,j):_e=new Uint16Array($,j,b):_e=null,this.uploadFromTypedArray(_e)},uploadFromTypedArray:function(h,f){if(h!=null){var g=this.__context.gl;this.__context.__bindGLElementArrayBuffer(this.__id),c().default.bufferData(g,g.ELEMENT_ARRAY_BUFFER,h,this.__usage)}},uploadFromVector:function(h,f,g){if(h!=null){this.__context.gl;var b=f+g,k=this.__tempUInt16Array;if(this.__tempUInt16Array==null||this.__tempUInt16Array.length<g){var $=null,j=null,_e=null,et=null,nt;g!=null?nt=new Uint16Array(g):$!=null?nt=new Uint16Array($):j!=null?nt=new Uint16Array(j):_e!=null?et==null?nt=new Uint16Array(_e,0):nt=new Uint16Array(_e,0,et):nt=null,this.__tempUInt16Array=nt,k!=null&&this.__tempUInt16Array.set(k)}for(var rt=f,tt=b;rt<tt;){var it=rt++;this.__tempUInt16Array[it-f]=h[it]}this.uploadFromTypedArray(this.__tempUInt16Array)}}},s.prototype.__class__=s.prototype.constructor=d["openfl.display3D.IndexBuffer3D"]=s,e.default=s})(IndexBuffer3D$1);var Program3D$1={},AGALConverter={},ProgramType={},hasRequiredProgramType;function requireProgramType(){return hasRequiredProgramType||(hasRequiredProgramType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["openfl.display3D._internal._AGALConverter.ProgramType"]={__ename__:"openfl.display3D._internal._AGALConverter.ProgramType",__constructs__:["VERTEX","FRAGMENT"],VERTEX:{_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:d},FRAGMENT:{_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.ProgramType",toString:d}};e.default=c}(ProgramType)),ProgramType}var RegisterMap={},RegisterMapEntry={},hasRequiredRegisterMapEntry;function requireRegisterMapEntry(){return hasRequiredRegisterMapEntry||(hasRequiredRegisterMapEntry=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display3D._internal._AGALConverter.RegisterMapEntry",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display3D._internal._AGALConverter.RegisterMapEntry"]=o,e.default=o}(RegisterMapEntry)),RegisterMapEntry}var RegisterUsage={},hasRequiredRegisterUsage;function requireRegisterUsage(){return hasRequiredRegisterUsage||(hasRequiredRegisterUsage=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["openfl.display3D._internal._AGALConverter.RegisterUsage"]={__ename__:"openfl.display3D._internal._AGALConverter.RegisterUsage",__constructs__:["UNUSED","VECTOR_4","MATRIX_4_4","SAMPLER_2D","SAMPLER_2D_ALPHA","SAMPLER_CUBE","SAMPLER_CUBE_ALPHA","VECTOR_4_ARRAY"],VECTOR_4_ARRAY:{_hx_index:7,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},VECTOR_4:{_hx_index:1,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},UNUSED:{_hx_index:0,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},SAMPLER_CUBE_ALPHA:{_hx_index:6,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},SAMPLER_CUBE:{_hx_index:5,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},SAMPLER_2D_ALPHA:{_hx_index:4,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},SAMPLER_2D:{_hx_index:3,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d},MATRIX_4_4:{_hx_index:2,__enum__:"openfl.display3D._internal._AGALConverter.RegisterUsage",toString:d}};e.default=c}(RegisterUsage)),RegisterUsage}var hasRequiredRegisterMap;function requireRegisterMap(){return hasRequiredRegisterMap||(hasRequiredRegisterMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireHaxeError()}function c(){return IllegalOperationError$1}function s(){return requireRegisterMapEntry()}function h(){return requireAGALConverter()}function f(){return requireRegisterUsage()}function g(){return requireBoot()}function b(){return requireStringBuf()}function k(){return requireLog()}var $=function(){this.mEntries=[]};$.__name__="openfl.display3D._internal.RegisterMap",$.__isInterface__=!1,$.prototype={add:function(j,_e,et,nt){for(var rt=0,tt=this.mEntries;rt<tt.length;){var it=tt[rt];if(++rt,it.type==j&&it.name==_e&&it.number==et){if(it.usage!=nt)throw new(o()).default(new(c()).default("Cannot use register in multiple ways yet (mat4/vec4)"));return}}var st=new(s()).default;st.type=j,st.name=_e,st.number=et,st.usage=nt,this.mEntries.push(st)},addDR:function(j,_e){this.add(j.type,j.toGLSL(!1),j.n,_e)},addSaR:function(j,_e){this.add(j.type,j.toGLSL(),j.n,_e)},addSR:function(j,_e,et){if(et==null&&(et=0),j.d!=0){this.add(j.itype,h().default.prefixFromType(j.itype,j.programType)+j.n,j.n,f().default.VECTOR_4),this.add(j.type,h().default.prefixFromType(j.type,j.programType)+j.o,j.o,f().default.VECTOR_4_ARRAY);return}this.add(j.type,j.toGLSL(!1,et),j.n+et,_e)},getRegisterUsage:function(j){return j.d!=0?f().default.VECTOR_4_ARRAY:this.getUsage(j.type,j.toGLSL(!1),j.n)},getUsage:function(j,_e,et){for(var nt=0,rt=this.mEntries;nt<rt.length;){var tt=rt[nt];if(++nt,tt.type==j&&tt.name==_e&&tt.number==et)return tt.usage}return f().default.UNUSED},toGLSL:function(j){this.mEntries.sort(function(it,st){return it.number-st.number});var _e;this.mEntries.sort(function(it,st){return g().default.__cast(it.type,d.Int)-g().default.__cast(st.type,d.Int)});for(var et=new(b()).default,nt=0,rt=this.mEntries.length;nt<rt;){var tt=nt++;if(_e=this.mEntries[tt],!(j&&_e.type!=2||!j&&_e.type==2)&&_e.type!=3){switch(_e.type){case 0:et.add("attribute ");break;case 1:et.add("uniform ");break;case 2:et.add("	");break;case 3:break;case 4:et.add("varying ");break;case 5:et.add("uniform ");break;default:throw new(o()).default(new(c()).default)}switch(_e.usage._hx_index){case 0:k().default.info("Missing switch patten: RegisterUsage.UNUSED",{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/_internal/AGALConverter.hx",lineNumber:750,className:"openfl.display3D._internal.RegisterMap",methodName:"toGLSL"});break;case 1:et.add("vec4 ");break;case 2:et.add("mat4 ");break;case 3:et.add("sampler2D ");break;case 4:break;case 5:et.add("samplerCube ");break;case 6:break;case 7:et.add("vec4 ");break}_e.usage==f().default.SAMPLER_2D_ALPHA?(et.add("sampler2D "),et.add(_e.name),et.add(`;
`),et.add("uniform "),et.add("sampler2D "),et.add(_e.name+"_alpha"),et.add(`;
`),et.add("uniform "),et.add("bool "),et.add(_e.name+"_alphaEnabled"),et.add(`;
`)):_e.usage==f().default.SAMPLER_CUBE_ALPHA?(et.add("samplerCube "),et.add(_e.name),et.add(`;
`),et.add("uniform "),et.add("samplerCube "),et.add(_e.name+"_alpha"),et.add(`;
`),et.add("uniform "),et.add("bool "),et.add(_e.name+"_alphaEnabled"),et.add(`;
`)):_e.usage==f().default.VECTOR_4_ARRAY?(et.add(_e.name+"[128]"),et.add(`;
`)):(et.add(_e.name),et.add(`;
`))}}return et.toString()}},$.prototype.__class__=$.prototype.constructor=d["openfl.display3D._internal.RegisterMap"]=$,$.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=$}(RegisterMap)),RegisterMap}var DestRegister={},hasRequiredDestRegister;function requireDestRegister(){return hasRequiredDestRegister||(hasRequiredDestRegister=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireProgramType()}function c(){return requireAGALConverter()}var s=function(){};s.__name__="openfl.display3D._internal._AGALConverter.DestRegister",s.__isInterface__=!1,s.prototype={getWriteMask:function(){var h=".";return this.mask&1&&(h+="x"),this.mask&2&&(h+="y"),this.mask&4&&(h+="z"),this.mask&8&&(h+="w"),h},toGLSL:function(h){h==null&&(h=!0);var f;return this.type==3?f=this.programType==o().default.VERTEX?"gl_Position":"gl_FragColor":f=c().default.prefixFromType(this.type,this.programType)+this.n,h&&this.mask!=15&&(f+=this.getWriteMask()),f}},s.prototype.__class__=s.prototype.constructor=d["openfl.display3D._internal._AGALConverter.DestRegister"]=s,s.parse=function(h,f){var g=new s;return g.programType=f,g.type=h>>>24&15,g.mask=h>>>16&15,g.n=h&65535,g},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(DestRegister)),DestRegister}var SourceRegister={},hasRequiredSourceRegister;function requireSourceRegister(){return hasRequiredSourceRegister||(hasRequiredSourceRegister=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireProgramType()}function c(){return requireAGALConverter()}function s(){return require___Int64()}var h=function(){};h.__name__="openfl.display3D._internal._AGALConverter.SourceRegister",h.__isInterface__=!1,h.prototype={toGLSL:function(f,g){if(g==null&&(g=0),f==null&&(f=!0),this.type==3)return this.programType==o().default.VERTEX?"gl_Position":"gl_FragColor";var b=this.s==228&&this.sourceMask==15,k="";if(this.type!=5&&!b){if(this.sourceMask&1)switch(this.s&3){case 0:k+="x";break;case 1:k+="y";break;case 2:k+="z";break;case 3:k+="w";break}if(this.sourceMask&2)switch(this.s>>2&3){case 0:k+="x";break;case 1:k+="y";break;case 2:k+="z";break;case 3:k+="w";break}if(this.sourceMask&4)switch(this.s>>4&3){case 0:k+="x";break;case 1:k+="y";break;case 2:k+="z";break;case 3:k+="w";break}if(this.sourceMask&8)switch(this.s>>6&3){case 0:k+="x";break;case 1:k+="y";break;case 2:k+="z";break;case 3:k+="w";break}}var $=c().default.prefixFromType(this.type,this.programType);if(this.d==0)$+=this.n+g;else{$+=this.o;var j="";switch(this.q){case 0:j="x";break;case 1:j="y";break;case 2:j="z";break;case 3:j="w";break}var _e=c().default.prefixFromType(this.itype,this.programType)+this.n+"."+j;$+="[ int("+_e+") +"+g+"]"}return f&&k!=""&&($+="."+k),$}},h.prototype.__class__=h.prototype.constructor=d["openfl.display3D._internal._AGALConverter.SourceRegister"]=h,h.parse=function(f,g,b){var k=new h;k.programType=g;var $=63;$&=63;var j;if($==0){var _e=new(s()).default(f.high,f.low);j=_e}else if($<32){var et=new(s()).default(f.high>>$,f.high<<32-$|f.low>>>$);j=et}else{var nt=new(s()).default(f.high>>31,f.high>>$-32);j=nt}var rt=new(s()).default(0,1),tt=rt,it=new(s()).default(j.high&tt.high,j.low&tt.low);k.d=it.low;var st=48;st&=63;var at;if(st==0){var _t=new(s()).default(f.high,f.low);at=_t}else if(st<32){var ut=new(s()).default(f.high>>st,f.high<<32-st|f.low>>>st);at=ut}else{var ot=new(s()).default(f.high>>31,f.high>>st-32);at=ot}var lt=new(s()).default(0,3),ft=lt,ht=new(s()).default(at.high&ft.high,at.low&ft.low);k.q=ht.low;var dt=40;dt&=63;var pt;if(dt==0){var xt=new(s()).default(f.high,f.low);pt=xt}else if(dt<32){var vt=new(s()).default(f.high>>dt,f.high<<32-dt|f.low>>>dt);pt=vt}else{var bt=new(s()).default(f.high>>31,f.high>>dt-32);pt=bt}var wt=new(s()).default(0,15),At=wt,ct=new(s()).default(pt.high&At.high,pt.low&At.low);k.itype=ct.low;var mt=32;mt&=63;var gt;if(mt==0){var Tt=new(s()).default(f.high,f.low);gt=Tt}else if(mt<32){var yt=new(s()).default(f.high>>mt,f.high<<32-mt|f.low>>>mt);gt=yt}else{var Et=new(s()).default(f.high>>31,f.high>>mt-32);gt=Et}var Ct=new(s()).default(0,15),It=Ct,Rt=new(s()).default(gt.high&It.high,gt.low&It.low);k.type=Rt.low;var Ft=24;Ft&=63;var Lt;if(Ft==0){var Ot=new(s()).default(f.high,f.low);Lt=Ot}else if(Ft<32){var Kt=new(s()).default(f.high>>Ft,f.high<<32-Ft|f.low>>>Ft);Lt=Kt}else{var qt=new(s()).default(f.high>>31,f.high>>Ft-32);Lt=qt}var Ht=new(s()).default(0,255),Zt=Ht,or=new(s()).default(Lt.high&Zt.high,Lt.low&Zt.low);k.s=or.low;var ir=16;ir&=63;var lr;if(ir==0){var ar=new(s()).default(f.high,f.low);lr=ar}else if(ir<32){var Mt=new(s()).default(f.high>>ir,f.high<<32-ir|f.low>>>ir);lr=Mt}else{var kt=new(s()).default(f.high>>31,f.high>>ir-32);lr=kt}var Vt=new(s()).default(0,255),Nt=Vt,Wt=new(s()).default(lr.high&Nt.high,lr.low&Nt.low);k.o=Wt.low;var Qt=new(s()).default(0,65535),tr=Qt,sr=new(s()).default(f.high&tr.high,f.low&tr.low);return k.n=sr.low,k.sourceMask=b,k},h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(SourceRegister)),SourceRegister}var SamplerRegister={},SamplerState={},hasRequiredSamplerState;function requireSamplerState(){return hasRequiredSamplerState||(hasRequiredSamplerState=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f,g,b,k){k==null&&(k=!1),b==null&&(b=!1),g==null&&(g=!1),f==null&&(f=0),h==null&&(h="mipnone"),s==null&&(s="nearest"),c==null&&(c="clamp"),this.wrap=c,this.filter=s,this.mipfilter=h,this.lodBias=f,this.ignoreSampler=g,this.centroid=b,this.textureAlpha=k};o.__name__="openfl.display._internal.SamplerState",o.__isInterface__=!1,o.prototype={clone:function(){var c=new o(this.wrap,this.filter,this.mipfilter,this.lodBias,this.ignoreSampler,this.centroid,this.textureAlpha);return c.mipmapGenerated=this.mipmapGenerated,c},copyFrom:function(c){c==null||c.ignoreSampler||(this.wrap=c.wrap,this.filter=c.filter,this.mipfilter=c.mipfilter,this.lodBias=c.lodBias,this.centroid=c.centroid,this.textureAlpha=c.textureAlpha)},equals:function(c){return c==null?!1:this.wrap==c.wrap&&this.filter==c.filter&&this.mipfilter==c.mipfilter&&this.lodBias==c.lodBias?this.textureAlpha==c.textureAlpha:!1}},o.prototype.__class__=o.prototype.constructor=d["openfl.display._internal.SamplerState"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(SamplerState)),SamplerState}var hasRequiredSamplerRegister;function requireSamplerRegister(){return hasRequiredSamplerRegister||(hasRequiredSamplerRegister=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireAGALConverter()}function c(){return requireHaxeError()}function s(){return IllegalOperationError$1}function h(){return requireSamplerState()}function f(){return require___Int64()}var g=function(){};g.__name__="openfl.display3D._internal._AGALConverter.SamplerRegister",g.__isInterface__=!1,g.prototype={toGLSL:function(){var b=o().default.prefixFromType(this.type,this.programType)+this.n;return b},toSamplerState:function(){var b,k,$;switch(this.f){case 0:k="nearest";break;case 1:k="linear";break;default:throw new(c()).default(new(s()).default)}switch(this.m){case 0:$="mipnone";break;case 1:$="mipnearest";break;case 2:$="miplinear";break;default:throw new(c()).default(new(s()).default)}switch(this.w){case 0:b="clamp";break;case 1:b="repeat";break;default:throw new(c()).default(new(s()).default)}var j=(this.s&4)==4,_e=(this.s&1)==1,et=this.t==2,nt=(this.b<<24>>24)/8;return new(h()).default(b,k,$,nt,j,_e,et)}},g.prototype.__class__=g.prototype.constructor=d["openfl.display3D._internal._AGALConverter.SamplerRegister"]=g,g.parse=function(b,k){var $=new g;$.programType=k;var j=60;j&=63;var _e;if(j==0){var et=new(f()).default(b.high,b.low);_e=et}else if(j<32){var nt=new(f()).default(b.high>>j,b.high<<32-j|b.low>>>j);_e=nt}else{var rt=new(f()).default(b.high>>31,b.high>>j-32);_e=rt}var tt=new(f()).default(0,15),it=tt,st=new(f()).default(_e.high&it.high,_e.low&it.low);$.f=st.low;var at=56;at&=63;var _t;if(at==0){var ut=new(f()).default(b.high,b.low);_t=ut}else if(at<32){var ot=new(f()).default(b.high>>at,b.high<<32-at|b.low>>>at);_t=ot}else{var lt=new(f()).default(b.high>>31,b.high>>at-32);_t=lt}var ft=new(f()).default(0,15),ht=ft,dt=new(f()).default(_t.high&ht.high,_t.low&ht.low);$.m=dt.low;var pt=52;pt&=63;var xt;if(pt==0){var vt=new(f()).default(b.high,b.low);xt=vt}else if(pt<32){var bt=new(f()).default(b.high>>pt,b.high<<32-pt|b.low>>>pt);xt=bt}else{var wt=new(f()).default(b.high>>31,b.high>>pt-32);xt=wt}var At=new(f()).default(0,15),ct=At,mt=new(f()).default(xt.high&ct.high,xt.low&ct.low);$.w=mt.low;var gt=48;gt&=63;var Tt;if(gt==0){var yt=new(f()).default(b.high,b.low);Tt=yt}else if(gt<32){var Et=new(f()).default(b.high>>gt,b.high<<32-gt|b.low>>>gt);Tt=Et}else{var Ct=new(f()).default(b.high>>31,b.high>>gt-32);Tt=Ct}var It=new(f()).default(0,15),Rt=It,Ft=new(f()).default(Tt.high&Rt.high,Tt.low&Rt.low);$.s=Ft.low;var Lt=44;Lt&=63;var Ot;if(Lt==0){var Kt=new(f()).default(b.high,b.low);Ot=Kt}else if(Lt<32){var qt=new(f()).default(b.high>>Lt,b.high<<32-Lt|b.low>>>Lt);Ot=qt}else{var Ht=new(f()).default(b.high>>31,b.high>>Lt-32);Ot=Ht}var Zt=new(f()).default(0,15),or=Zt,ir=new(f()).default(Ot.high&or.high,Ot.low&or.low);$.d=ir.low;var lr=40;lr&=63;var ar;if(lr==0){var Mt=new(f()).default(b.high,b.low);ar=Mt}else if(lr<32){var kt=new(f()).default(b.high>>lr,b.high<<32-lr|b.low>>>lr);ar=kt}else{var Vt=new(f()).default(b.high>>31,b.high>>lr-32);ar=Vt}var Nt=new(f()).default(0,15),Wt=Nt,Qt=new(f()).default(ar.high&Wt.high,ar.low&Wt.low);$.t=Qt.low;var tr=32;tr&=63;var sr;if(tr==0){var dr=new(f()).default(b.high,b.low);sr=dr}else if(tr<32){var pr=new(f()).default(b.high>>tr,b.high<<32-tr|b.low>>>tr);sr=pr}else{var cr=new(f()).default(b.high>>31,b.high>>tr-32);sr=cr}var mr=new(f()).default(0,15),fr=mr,Bt=new(f()).default(sr.high&fr.high,sr.low&fr.low);$.type=Bt.low;var Xt=16;Xt&=63;var rr;if(Xt==0){var nr=new(f()).default(b.high,b.low);rr=nr}else if(Xt<32){var Gt=new(f()).default(b.high>>Xt,b.high<<32-Xt|b.low>>>Xt);rr=Gt}else{var zt=new(f()).default(b.high>>31,b.high>>Xt-32);rr=zt}var $t=new(f()).default(0,255),er=$t,ur=new(f()).default(rr.high&er.high,rr.low&er.low);$.b=ur.low;var St=new(f()).default(0,65535),Ut=St,Yt=new(f()).default(b.high&Ut.high,b.low&Ut.low);return $.n=Yt.low,$},g.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=g}(SamplerRegister)),SamplerRegister}var hasRequiredAGALConverter;function requireAGALConverter(){return hasRequiredAGALConverter||(hasRequiredAGALConverter=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireProgramType()}function c(){return requireHaxeError()}function s(){return IllegalOperationError$1}function h(){return require___Int64()}function f(){return requireRegisterMap()}function g(){return requireStringBuf()}function b(){return requireUInt_Impl_()}function k(){return requireByteArray_Impl_()}function $(){return requireDestRegister()}function j(){return requireSourceRegister()}function _e(){return requireRegisterUsage()}function et(){return requireSamplerRegister()}function nt(){return requireGL()}var rt=function(){};rt.__name__="openfl.display3D._internal.AGALConverter",rt.__isInterface__=!1,rt.prototype={},rt.prototype.__class__=rt.prototype.constructor=d["openfl.display3D._internal.AGALConverter"]=rt,rt.prefixFromType=function(tt,it){switch(tt){case 0:return"va";case 1:return it==o().default.VERTEX?"vc":"fc";case 2:return it==o().default.VERTEX?"vt":"ft";case 3:return"output_";case 4:return"v";case 5:return"sampler";default:throw new(c()).default(new(s()).default("Invalid data!"))}},rt.readUInt64=function(tt){var it=tt.readInt(),st=tt.readInt(),at=new(h()).default(st,it);return at},rt.convertToGLSL=function(tt,it){tt.position=0,tt.set_endian("littleEndian");var st=tt.readByte()&255;if(st==176)return tt.readUTF();if(st!=160)throw new(c()).default(new(s()).default("Magic value must be 0xA0, may not be AGAL"));var at=tt.readInt();if(at!=1)throw new(c()).default(new(s()).default("Version must be 1"));var _t=tt.readByte()&255;if(_t!=161)throw new(c()).default(new(s()).default("Shader type ID must be 0xA1"));for(var ut=tt.readByte()&255?o().default.FRAGMENT:o().default.VERTEX,ot=new(f()).default,lt=new(g()).default;;){var ft=tt.position;if(!b().default.gt(k().default.get_length(tt),ft))break;var ht=tt.readInt(),dt=tt.readUnsignedInt(),pt=rt.readUInt64(tt),xt=rt.readUInt64(tt),vt=$().default.parse(dt,ut),bt=j().default.parse(pt,ut,vt.mask),wt=j().default.parse(xt,ut,vt.mask);switch(lt.add("	"),ht){case 0:lt.add(vt.toGLSL()+" = "+bt.toGLSL()+"; // mov"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 1:lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" + "+wt.toGLSL()+"; // add"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 2:lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" - "+wt.toGLSL()+"; // sub"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 3:lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" * "+wt.toGLSL()+"; // mul"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 4:lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" / "+wt.toGLSL()+"; // div"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 5:var At=bt.toGLSL();At.indexOf(".")>-1?lt.add(vt.toGLSL()+" = 1.0 / "+bt.toGLSL()+"; // rcp"):lt.add(vt.toGLSL()+" = vec4(1) / "+bt.toGLSL()+"; // rcp"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 6:lt.add(vt.toGLSL()+" = min("+bt.toGLSL()+", "+wt.toGLSL()+"); // min"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 7:lt.add(vt.toGLSL()+" = max("+bt.toGLSL()+", "+wt.toGLSL()+"); // max"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 8:lt.add(vt.toGLSL()+" = fract("+bt.toGLSL()+"); // frc"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 9:lt.add(vt.toGLSL()+" = sqrt("+bt.toGLSL()+"); // sqrt"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 10:lt.add(vt.toGLSL()+" = inversesqrt("+bt.toGLSL()+"); // rsq"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 11:lt.add(vt.toGLSL()+" = pow("+bt.toGLSL()+", "+wt.toGLSL()+"); // pow"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 12:lt.add(vt.toGLSL()+" = log2("+bt.toGLSL()+"); // log"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 13:lt.add(vt.toGLSL()+" = exp2("+bt.toGLSL()+"); // exp"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 14:lt.add(vt.toGLSL()+" = normalize("+bt.toGLSL()+"); // normalize"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 15:lt.add(vt.toGLSL()+" = sin("+bt.toGLSL()+"); // sin"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 16:lt.add(vt.toGLSL()+" = cos("+bt.toGLSL()+"); // cos"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 17:bt.sourceMask=wt.sourceMask=7,lt.add(vt.toGLSL()+" = cross(vec3("+bt.toGLSL()+"), vec3("+wt.toGLSL()+")); // crs"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 18:bt.sourceMask=wt.sourceMask=7,lt.add(vt.toGLSL()+" = vec4(dot(vec3("+bt.toGLSL()+"), vec3("+wt.toGLSL()+")))"+vt.getWriteMask()+"; // dp3"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 19:bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(dot(vec4("+bt.toGLSL()+"), vec4("+wt.toGLSL()+")))"+vt.getWriteMask()+"; // dp4"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 20:lt.add(vt.toGLSL()+" = abs("+bt.toGLSL()+"); // abs"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 21:lt.add(vt.toGLSL()+" = -"+bt.toGLSL()+"; // neg"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 22:lt.add(vt.toGLSL()+" = clamp("+bt.toGLSL()+", 0.0, 1.0); // saturate"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4);break;case 23:var ct=ot.getRegisterUsage(wt);ct!=_e().default.VECTOR_4&&ct!=_e().default.VECTOR_4_ARRAY?(lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" * mat3("+wt.toGLSL(!1)+"); // m33"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.MATRIX_4_4)):(bt.sourceMask=wt.sourceMask=7,lt.add(vt.toGLSL()+" = vec3(dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,0)+"), dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,1)+"),dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,2)+")); // m33"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4,0),ot.addSR(wt,_e().default.VECTOR_4,1),ot.addSR(wt,_e().default.VECTOR_4,2));break;case 24:var mt=ot.getRegisterUsage(wt);mt!=_e().default.VECTOR_4&&mt!=_e().default.VECTOR_4_ARRAY?(lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" * "+wt.toGLSL(!1)+"; // m44"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.MATRIX_4_4)):(bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,0)+"), dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,1)+"), dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,2)+"), dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,3)+")); // m44"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4,0),ot.addSR(wt,_e().default.VECTOR_4,1),ot.addSR(wt,_e().default.VECTOR_4,2),ot.addSR(wt,_e().default.VECTOR_4,3));break;case 25:vt.mask&=7;var gt=ot.getRegisterUsage(wt);gt!=_e().default.VECTOR_4&&gt!=_e().default.VECTOR_4_ARRAY?(lt.add(vt.toGLSL()+" = "+bt.toGLSL()+" * "+wt.toGLSL(!1)+"; // m34"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.MATRIX_4_4)):(bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec3(dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,0)+"), dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,1)+"),dot("+bt.toGLSL(!0)+","+wt.toGLSL(!0,2)+")); // m34"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4,0),ot.addSR(wt,_e().default.VECTOR_4,1),ot.addSR(wt,_e().default.VECTOR_4,2));break;case 39:bt.sourceMask=15,lt.add("if (any(lessThan("+bt.toGLSL()+", vec4(0)))) discard;"),ot.addSR(bt,_e().default.VECTOR_4);break;case 40:var Tt=et().default.parse(xt,ut);switch(Tt.d){case 0:Tt.t==2?(bt.sourceMask=3,ot.addSaR(Tt,_e().default.SAMPLER_2D_ALPHA),lt.add("if ("+Tt.toGLSL()+`_alphaEnabled) {
`),lt.add("		"+vt.toGLSL()+" = vec4(texture2D("+Tt.toGLSL()+", "+bt.toGLSL()+").xyz, texture2D("+Tt.toGLSL()+"_alpha, "+bt.toGLSL()+`).x); // tex + alpha
`),lt.add(`	} else {
`),lt.add("		"+vt.toGLSL()+" = texture2D("+Tt.toGLSL()+", "+bt.toGLSL()+`); // tex
`),lt.add("	}")):(bt.sourceMask=3,ot.addSaR(Tt,_e().default.SAMPLER_2D),lt.add(vt.toGLSL()+" = texture2D("+Tt.toGLSL()+", "+bt.toGLSL()+"); // tex"));break;case 1:Tt.t==2?(bt.sourceMask=7,ot.addSaR(Tt,_e().default.SAMPLER_CUBE_ALPHA),lt.add("if ("+Tt.toGLSL()+`_alphaEnabled) {
`),lt.add("		"+vt.toGLSL()+" = vec4(textureCube("+Tt.toGLSL()+", "+bt.toGLSL()+").xyz, textureCube("+Tt.toGLSL()+"_alpha, "+bt.toGLSL()+`).x); // tex + alpha
`),lt.add(`	} else {
`),lt.add("		"+vt.toGLSL()+" = textureCube("+Tt.toGLSL()+", "+bt.toGLSL()+"); // tex"),lt.add("	}")):(bt.sourceMask=7,lt.add(vt.toGLSL()+" = textureCube("+Tt.toGLSL()+", "+bt.toGLSL()+"); // tex"),ot.addSaR(Tt,_e().default.SAMPLER_CUBE));break}ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),it!=null&&(it[Tt.n]=Tt.toSamplerState());break;case 41:bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(greaterThanEqual("+bt.toGLSL()+", "+wt.toGLSL()+"))"+vt.getWriteMask()+"; // ste"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 42:bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(lessThan("+bt.toGLSL()+", "+wt.toGLSL()+"))"+vt.getWriteMask()+"; // slt"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 44:bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(equal("+bt.toGLSL()+", "+wt.toGLSL()+"))"+vt.getWriteMask()+"; // seq"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;case 45:bt.sourceMask=wt.sourceMask=15,lt.add(vt.toGLSL()+" = vec4(notEqual("+bt.toGLSL()+", "+wt.toGLSL()+"))"+vt.getWriteMask()+"; // sne"),ot.addDR(vt,_e().default.VECTOR_4),ot.addSR(bt,_e().default.VECTOR_4),ot.addSR(wt,_e().default.VECTOR_4);break;default:throw new(c()).default(new(s()).default("Opcode "+ht))}lt.add(`
`)}if(rt.limitedProfile==null){var yt=nt().default.getParameter(7938);rt.limitedProfile=yt.indexOf("OpenGL ES")>-1||yt.indexOf("WebGL")>-1}var Et=new(g()).default;return Et.add("// AGAL "+(ut==o().default.VERTEX?"vertex":"fragment")+` shader
`),rt.limitedProfile?(Et.add(`#version 100
`),Et.add(`#ifdef GL_FRAGMENT_PRECISION_HIGH
`),Et.add(`precision highp float;
`),Et.add(`#else
`),Et.add(`precision mediump float;
`),Et.add(`#endif
`)):Et.add(`#version 120
`),Et.add(ot.toGLSL(!1)),ut==o().default.VERTEX&&Et.add(`uniform vec4 vcPositionScale;
`),Et.add(`void main() {
`),Et.add(ot.toGLSL(!0)),Et.add(lt.toString()),ut==o().default.VERTEX&&Et.add(`	gl_Position *= vcPositionScale;
`),Et.add(`}
`),Et.toString()},rt.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},rt.limitedProfile=!0,e.default=rt}(AGALConverter)),AGALConverter}var Uniform={},hasRequiredUniform;function requireUniform(){return hasRequiredUniform||(hasRequiredUniform=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireWebGL2RenderContext_Impl_()}function c(){return requireWebGLRenderContext_Impl_()}function s(){return requireBytePointerData()}var h=function(f){this.context=f,this.isDirty=!0;var g=new(s()).default(null,0);this.regDataPointer=g};h.__name__="openfl.display3D.Uniform",h.__isInterface__=!1,h.prototype={flush:function(){var f=this.context.gl,g=this.regIndex*4;switch(this.type){case 35664:o().default.uniform2fv(f,this.location,this.__getUniformRegisters(g,this.regCount*2));break;case 35665:var b=this.location,k=this.__getUniformRegisters(g,this.regCount*3),$=null;$!=null?f.uniform3fv(b,k,$,null):f.uniform3fv(b,k);break;case 35666:var j=this.location,_e=this.__getUniformRegisters(g,this.regCount*4),et=null;et!=null?f.uniform4fv(j,_e,et,null):f.uniform4fv(j,_e);break;case 35674:c().default.uniformMatrix2fv(f,this.location,!1,this.__getUniformRegisters(g,this.size*2*2));break;case 35675:c().default.uniformMatrix3fv(f,this.location,!1,this.__getUniformRegisters(g,this.size*3*3));break;case 35676:c().default.uniformMatrix4fv(f,this.location,!1,this.__getUniformRegisters(g,this.size*4*4));break;default:var nt=this.location,rt=this.__getUniformRegisters(g,this.regCount*4),tt=null;tt!=null?f.uniform4fv(nt,rt,tt,null):f.uniform4fv(nt,rt)}},__getUniformRegisters:function(f,g){return this.regData.subarray(f,f+g)}},h.prototype.__class__=h.prototype.constructor=d["openfl.display3D.Uniform"]=h,h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(Uniform)),Uniform}var UniformMap={},hasRequiredUniformMap;function requireUniformMap(){return hasRequiredUniformMap||(hasRequiredUniformMap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}function c(){return requireVector_Impl_()}var s=function(h){this.__uniforms=h,this.__uniforms.sort(function(tt,it){return o().default.compare(tt.regIndex,it.regIndex)});for(var f=0,g=0,b=this.__uniforms;g<b.length;){var k=b[g];++g,k.regIndex+k.regCount>f&&(f=k.regIndex+k.regCount)}this.__registerLookup=c().default._new(f);for(var $=0,j=this.__uniforms;$<j.length;){var _e=j[$];++$;for(var et=0,nt=_e.regCount;et<nt;){var rt=et++;c().default.set(this.__registerLookup,_e.regIndex+rt,_e)}}this.__anyDirty=this.__allDirty=!0};s.__name__="openfl.display3D.UniformMap",s.__isInterface__=!1,s.prototype={flush:function(){if(this.__anyDirty){for(var h=0,f=this.__uniforms;h<f.length;){var g=f[h];++h,(this.__allDirty||g.isDirty)&&(g.flush(),g.isDirty=!1)}this.__anyDirty=this.__allDirty=!1}},markAllDirty:function(){this.__allDirty=!0,this.__anyDirty=!0},markDirty:function(h,f){if(!this.__allDirty){var g=h+f;g>this.__registerLookup.get_length()&&(g=this.__registerLookup.get_length());for(var b=h;b<g;){var k=this.__registerLookup[b];k!=null?(k.isDirty=!0,this.__anyDirty=!0,b=k.regIndex+k.regCount):++b}}}},s.prototype.__class__=s.prototype.constructor=d["openfl.display3D.UniformMap"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(UniformMap)),UniformMap}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStringTools()}function c(){return requireStd()}function s(){return requireAGALConverter()}function h(){return requireLog()}function f(){return requireList()}function g(){return requireUniform()}function b(){return requireUniformMap()}function k(){return requireLambda()}function $(){return requireHaxeError()}function j(){return IllegalOperationError$1}function _e(){return requireEReg()}var et=function(nt,rt){this.__context=nt,this.__format=rt,this.__format=="agal"?(this.__agalSamplerUsageMask=0,this.__agalUniforms=new(f()).default,this.__agalSamplerUniforms=new(f()).default,this.__agalAlphaSamplerUniforms=new(f()).default,this.__agalAlphaSamplerEnabled=[]):(this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslSamplerNames=[],this.__glslUniformLocations=[],this.__glslUniformNames=[],this.__glslUniformTypes=[]),this.__samplerStates=[]};et.__name__="openfl.display3D.Program3D",et.__isInterface__=!1,et.prototype={dispose:function(){this.__deleteShaders()},getAttributeIndex:function(nt){if(this.__format=="agal")return o().default.startsWith(nt,"va")?c().default.parseInt(nt.substring(2)):-1;for(var rt=0,tt=this.__glslAttribNames.length;rt<tt;){var it=rt++;if(this.__glslAttribNames[it]==nt)return it}return-1},getConstantIndex:function(nt){if(this.__format=="agal")return o().default.startsWith(nt,"vc")||o().default.startsWith(nt,"fc")?c().default.parseInt(nt.substring(2)):-1;for(var rt=0,tt=this.__glslUniformNames.length;rt<tt;){var it=rt++;if(this.__glslUniformNames[it]==nt)return this.__glslUniformLocations[it]}return-1},upload:function(nt,rt){if(this.__format=="agal"){var tt=[],it=s().default.convertToGLSL(nt,null),st=s().default.convertToGLSL(rt,tt);h().default.level==5&&(h().default.info(it,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:399,className:"openfl.display3D.Program3D",methodName:"upload"}),h().default.info(st,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:400,className:"openfl.display3D.Program3D",methodName:"upload"})),this.__deleteShaders(),this.__uploadFromGLSL(it,st),this.__buildAGALUniformList();for(var at=0,_t=tt.length;at<_t;){var ut=at++;this.__samplerStates[ut]=tt[ut]}}},uploadSources:function(nt,rt){if(this.__format=="glsl"){var tt=`#ifdef GL_ES
			#ifdef GL_FRAGMENT_PRECISION_HIGH
			precision highp float;
			#else
			precision mediump float;
			#endif
			#endif
			`,it=tt+nt,st=tt+rt;if(!(it==this.__glVertexSource&&st==this.__glFragmentSource)){this.__processGLSLData(nt,"attribute"),this.__processGLSLData(nt,"uniform"),this.__processGLSLData(rt,"uniform"),this.__deleteShaders(),this.__uploadFromGLSL(it,st);var at=this.__glslSamplerNames,_t=this.__glslAttribNames,ut=this.__glslAttribTypes,ot=this.__glslUniformNames;this.__glslSamplerNames=[],this.__glslAttribNames=[],this.__glslAttribTypes=[],this.__glslUniformLocations=[];for(var lt=this.__context.gl,ft,ht,dt=0;dt<at.length;){var pt=at[dt];++dt,ft=lt.getUniformLocation(this.__glProgram,pt),this.__glslSamplerNames[ft]=pt}for(var xt=0,vt=_t.length;xt<vt;){var bt=xt++;ft=lt.getAttribLocation(this.__glProgram,_t[bt]),this.__glslAttribNames[ft]=_t[bt],this.__glslAttribTypes[ft]=ut[bt]}for(var wt=0,At=ot.length;wt<At;){var ct=wt++;ht=lt.getUniformLocation(this.__glProgram,ot[ct]),this.__glslUniformLocations[ct]=ht}}}},__buildAGALUniformList:function(){if(this.__format!="glsl"){var nt=this.__context.gl;this.__agalUniforms.clear(),this.__agalSamplerUniforms.clear(),this.__agalAlphaSamplerUniforms.clear(),this.__agalAlphaSamplerEnabled=[],this.__agalSamplerUsageMask=0;var rt=0;rt=nt.getProgramParameter(this.__glProgram,nt.ACTIVE_UNIFORMS);for(var tt=new(f()).default,it=new(f()).default,st=0,at=rt;st<at;){var _t=st++,ut=nt.getActiveUniform(this.__glProgram,_t),ot=ut.name,lt=ut.size,ft=ut.type,ht=new(g()).default(this.__context);ht.name=ot,ht.size=lt,ht.type=ft,ht.location=nt.getUniformLocation(this.__glProgram,ht.name);var dt=ht.name.indexOf("[");switch(dt>=0&&(ht.name=ht.name.substring(0,dt)),ht.type){case 35674:ht.regCount=2;break;case 35675:ht.regCount=3;break;case 35676:ht.regCount=4;break;default:ht.regCount=1}if(ht.regCount*=ht.size,this.__agalUniforms.add(ht),ht.name=="vcPositionScale")this.__agalPositionScale=ht;else if(o().default.startsWith(ht.name,"vc"))ht.regIndex=c().default.parseInt(ht.name.substring(2)),ht.regData=this.__context.__vertexConstants,tt.add(ht);else if(o().default.startsWith(ht.name,"fc"))ht.regIndex=c().default.parseInt(ht.name.substring(2)),ht.regData=this.__context.__fragmentConstants,it.add(ht);else if(o().default.startsWith(ht.name,"sampler")&&ht.name.indexOf("alpha")==-1){ht.regIndex=c().default.parseInt(ht.name.substring(7)),this.__agalSamplerUniforms.add(ht);for(var pt=0,xt=ht.regCount;pt<xt;){var vt=pt++;this.__agalSamplerUsageMask|=1<<ht.regIndex+vt}}else if(o().default.startsWith(ht.name,"sampler")&&o().default.endsWith(ht.name,"_alpha")){var bt=ht.name.indexOf("_")-7;ht.regIndex=c().default.parseInt(ht.name.substring(7,7+bt))+4,this.__agalAlphaSamplerUniforms.add(ht)}else o().default.startsWith(ht.name,"sampler")&&o().default.endsWith(ht.name,"_alphaEnabled")&&(ht.regIndex=c().default.parseInt(ht.name.substring(7)),this.__agalAlphaSamplerEnabled[ht.regIndex]=ht);h().default.level==5&&h().default.verbose(""+_t+" name:"+ht.name+" type:"+ht.type+" size:"+ht.size+" location:"+c().default.string(ht.location),{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:577,className:"openfl.display3D.Program3D",methodName:"__buildAGALUniformList"})}this.__agalVertexUniformMap=new(b()).default(k().default.array(tt)),this.__agalFragmentUniformMap=new(b()).default(k().default.array(it))}},__deleteShaders:function(){var nt=this.__context.gl;this.__glProgram!=null&&(this.__glProgram=null),this.__glVertexShader!=null&&(nt.deleteShader(this.__glVertexShader),this.__glVertexShader=null),this.__glFragmentShader!=null&&(nt.deleteShader(this.__glFragmentShader),this.__glFragmentShader=null)},__disable:function(){this.__format=="glsl"},__enable:function(){var nt=this.__context.gl;if(nt.useProgram(this.__glProgram),this.__format=="agal"){this.__agalVertexUniformMap.markAllDirty(),this.__agalFragmentUniformMap.markAllDirty();for(var rt=this.__agalSamplerUniforms.iterator();rt.hasNext();){var tt=rt.next();if(tt.regCount==1)nt.uniform1i(tt.location,tt.regIndex);else throw new($()).default(new(j()).default("!!! TODO: uniform location on webgl"))}for(var it=this.__agalAlphaSamplerUniforms.iterator();it.hasNext();){var st=it.next();if(st.regCount==1)nt.uniform1i(st.location,st.regIndex);else throw new($()).default(new(j()).default("!!! TODO: uniform location on webgl"))}}},__flush:function(){if(this.__format=="agal")this.__agalVertexUniformMap.flush(),this.__agalFragmentUniformMap.flush();else return},__getSamplerState:function(nt){return this.__samplerStates[nt]},__markDirty:function(nt,rt,tt){this.__format!="glsl"&&(nt?this.__agalVertexUniformMap.markDirty(rt,tt):this.__agalFragmentUniformMap.markDirty(rt,tt))},__processGLSLData:function(nt,rt){var tt=0,it,st,at,_t;for(rt=="uniform"?st=new(_e()).default("uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)",""):st=new(_e()).default("attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");st.matchSub(nt,tt);)if(_t=st.matched(1),at=st.matched(2),!o().default.startsWith(at,"gl_")){if(o().default.startsWith(_t,"sampler"))this.__glslSamplerNames.push(at);else{var ut;switch(_t){case"bool":ut="bool";break;case"bvec2":ut="bool2";break;case"bvec3":ut="bool3";break;case"bvec4":ut="bool4";break;case"dvec2":case"vec2":ut="float2";break;case"dvec3":case"vec3":ut="float3";break;case"double":case"float":ut="float";break;case"ivec3":case"uvec3":ut="int3";break;case"ivec4":case"uvec4":ut="int4";break;case"mat2":case"mat2x2":ut="matrix2x2";break;case"mat2x3":ut="matrix2x3";break;case"mat2x4":ut="matrix2x4";break;case"mat3x2":ut="matrix3x2";break;case"mat3":case"mat3x3":ut="matrix3x3";break;case"mat3x4":ut="matrix3x4";break;case"mat4":case"mat4x4":ut="matrix4x4";break;case"mat4x2":ut="matrix4x2";break;case"mat4x3":ut="matrix4x3";break;case"int":case"uint":ut="int";break;case"ivec2":case"uvec2":ut="int2";break;case"dvec4":case"vec4":ut="float4";break;default:ut=null}rt=="uniform"?(this.__glslUniformNames.push(at),this.__glslUniformTypes.push(ut)):(this.__glslAttribNames.push(at),this.__glslAttribTypes.push(ut))}it=st.matchedPos(),tt=it.pos+it.len}},__setPositionScale:function(nt){if(this.__format!="glsl"&&this.__agalPositionScale!=null){var rt=this.__context.gl,tt=this.__agalPositionScale.location,it=nt,st=null;st!=null?rt.uniform4fv(tt,it,st,null):rt.uniform4fv(tt,it)}},__setSamplerState:function(nt,rt){this.__samplerStates[nt]=rt},__uploadFromGLSL:function(nt,rt){var tt=this.__context.gl;if(this.__glVertexSource=nt,this.__glFragmentSource=rt,this.__glVertexShader=tt.createShader(tt.VERTEX_SHADER),tt.shaderSource(this.__glVertexShader,nt),tt.compileShader(this.__glVertexShader),tt.getShaderParameter(this.__glVertexShader,tt.COMPILE_STATUS)==0){var it="Error compiling vertex shader";it+=`
`+tt.getShaderInfoLog(this.__glVertexShader),it+=`
`+nt,h().default.error(it,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:869,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glFragmentShader=tt.createShader(tt.FRAGMENT_SHADER),tt.shaderSource(this.__glFragmentShader,rt),tt.compileShader(this.__glFragmentShader),tt.getShaderParameter(this.__glFragmentShader,tt.COMPILE_STATUS)==0){var st="Error compiling fragment shader";st+=`
`+tt.getShaderInfoLog(this.__glFragmentShader),st+=`
`+rt,h().default.error(st,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:881,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}if(this.__glProgram=tt.createProgram(),this.__format=="agal")for(var at=0;at<16;){var _t=at++,ut="va"+_t;nt.indexOf(" "+ut)!=-1&&tt.bindAttribLocation(this.__glProgram,_t,ut)}else for(var ot=0,lt=this.__glslAttribNames;ot<lt.length;){var ft=lt[ot];if(++ot,ft.indexOf("Position")>-1&&o().default.startsWith(ft,"openfl_")){tt.bindAttribLocation(this.__glProgram,0,ft);break}}if(tt.attachShader(this.__glProgram,this.__glVertexShader),tt.attachShader(this.__glProgram,this.__glFragmentShader),tt.linkProgram(this.__glProgram),tt.getProgramParameter(this.__glProgram,tt.LINK_STATUS)==0){var ht="Unable to initialize the shader program";ht+=`
`+tt.getProgramInfoLog(this.__glProgram),h().default.error(ht,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/Program3D.hx",lineNumber:922,className:"openfl.display3D.Program3D",methodName:"__uploadFromGLSL"})}}},et.prototype.__class__=et.prototype.constructor=d["openfl.display3D.Program3D"]=et,e.default=et})(Program3D$1);var RectangleTexture$1={},hasRequiredRectangleTexture;function requireRectangleTexture(){return hasRequiredRectangleTexture||(hasRequiredRectangleTexture=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireTextureBase()}function s(){return requireWebGLRenderContext_Impl_()}function h(){return requireByteArray_Impl_()}function f(){return requireContext3D()}var g=function(b,k,$,j,_e){c().default.call(this,b),this.__width=k,this.__height=$,this.__optimizeForRenderToTexture=_e,this.__textureTarget=this.__context.gl.TEXTURE_2D,this.uploadFromTypedArray(null),_e&&this.__getGLFramebuffer(!0,0,0)};g.__name__="openfl.display3D.textures.RectangleTexture",g.__isInterface__=!1,g.__super__=c().default,g.prototype=o(c().default.prototype,{uploadFromBitmapData:function(b){if(b!=null){var k=this.__getImage(b);if(k!=null){if(k.buffer!=null&&k.buffer.data==null&&k.buffer.get_src()!=null){var $=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),s().default.texImage2D($,this.__textureTarget,0,this.__internalFormat,this.__format,$.UNSIGNED_BYTE,k.buffer.get_src()),this.__context.__bindGLTexture2D(null);return}this.uploadFromTypedArray(k.get_data())}}},uploadFromByteArray:function(b,k){if(k==0){this.uploadFromTypedArray(b.b);return}var $=h().default.toArrayBuffer(b),j=k;j==null&&(j=0);var _e;$!=null?_e=new Uint8Array($,j):_e=null,this.uploadFromTypedArray(_e)},uploadFromTypedArray:function(b){var k=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),s().default.texImage2D(k,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,k.UNSIGNED_BYTE,b),this.__context.__bindGLTexture2D(null)},__setSamplerState:function(b){if(c().default.prototype.__setSamplerState.call(this,b)){var k=this.__context.gl;if(f().default.__glMaxTextureMaxAnisotropy!=0){var $;switch(b.filter){case"anisotropic16x":$=16;break;case"anisotropic2x":$=2;break;case"anisotropic4x":$=4;break;case"anisotropic8x":$=8;break;default:$=1}$>f().default.__glMaxTextureMaxAnisotropy&&($=f().default.__glMaxTextureMaxAnisotropy),k.texParameterf(k.TEXTURE_2D,f().default.__glTextureMaxAnisotropy,$)}return!0}return!1}}),g.prototype.__class__=g.prototype.constructor=d["openfl.display3D.textures.RectangleTexture"]=g,e.default=g}(RectangleTexture$1)),RectangleTexture$1}var Texture$1={},hasRequiredTexture;function requireTexture(){return hasRequiredTexture||(hasRequiredTexture=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireTextureBase()}function s(){return requireTimer()}function h(){return Event$1}function f(){return requireBitmapData()}function g(){return requireWebGLRenderContext_Impl_()}function b(){return requireByteArray_Impl_()}function k(){return requireContext3D()}function $(){return requireATFReader()}function j(){return requireStd()}var _e=function(et,nt,rt,tt,it,st){c().default.call(this,et),this.__width=nt,this.__height=rt,this.__optimizeForRenderToTexture=it,this.__streamingLevels=st;var at=this.__context.gl;this.__textureTarget=at.TEXTURE_2D,this.__context.__bindGLTexture2D(this.__textureID),g().default.texImage2D(at,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,at.UNSIGNED_BYTE,null),this.__context.__bindGLTexture2D(null),it&&this.__getGLFramebuffer(!0,0,0)};_e.__name__="openfl.display3D.textures.Texture",_e.__isInterface__=!1,_e.__super__=c().default,_e.prototype=o(c().default.prototype,{uploadCompressedTextureFromByteArray:function(et,nt,rt){rt==null&&(rt=!1);var tt=this;rt?s().default.delay(function(){tt.__uploadCompressedTextureFromByteArray(et,nt);var it=null;it=new(h()).default("textureReady"),tt.dispatchEvent(it)},1):this.__uploadCompressedTextureFromByteArray(et,nt)},uploadFromBitmapData:function(et,nt,rt){if(nt==null&&(nt=0),et!=null){var tt=this.__width>>nt,it=this.__height>>nt;if(!(tt==0&&it==0)){if(tt==0&&(tt=1),it==0&&(it=1),et.width!=tt||et.height!=it){var st=new(f()).default(tt,it,!0,0);st.draw(et),et=st}var at=this.__getImage(et);if(at!=null){if(nt==0&&at.buffer!=null&&at.buffer.data==null&&at.buffer.get_src()!=null){var _t=this.__context.gl,ut=this.__width>>nt,ot=this.__height>>nt;if(ut==0&&ot==0)return;ut==0&&(ut=1),ot==0&&(ot=1),this.__context.__bindGLTexture2D(this.__textureID),g().default.texImage2D(_t,this.__textureTarget,nt,this.__internalFormat,this.__format,_t.UNSIGNED_BYTE,at.buffer.get_src()),this.__context.__bindGLTexture2D(null);return}this.uploadFromTypedArray(at.get_data(),nt)}}}},uploadFromByteArray:function(et,nt,rt){if(rt==null&&(rt=0),nt==0){this.uploadFromTypedArray(et.b,rt);return}var tt=b().default.toArrayBuffer(et),it=nt;it==null&&(it=0);var st;tt!=null?st=new Uint8Array(tt,it):st=null,this.uploadFromTypedArray(st,rt)},uploadFromTypedArray:function(et,nt){if(nt==null&&(nt=0),et!=null){var rt=this.__context.gl,tt=this.__width>>nt,it=this.__height>>nt;tt==0&&it==0||(tt==0&&(tt=1),it==0&&(it=1),this.__context.__bindGLTexture2D(this.__textureID),g().default.texImage2D(rt,this.__textureTarget,nt,this.__internalFormat,tt,it,0,this.__format,rt.UNSIGNED_BYTE,et),this.__context.__bindGLTexture2D(null))}},__setSamplerState:function(et){if(c().default.prototype.__setSamplerState.call(this,et)){var nt=this.__context.gl;if(et.mipfilter!="mipnone"&&!this.__samplerState.mipmapGenerated&&(nt.generateMipmap(nt.TEXTURE_2D),this.__samplerState.mipmapGenerated=!0),k().default.__glMaxTextureMaxAnisotropy!=0){var rt;switch(et.filter){case"anisotropic16x":rt=16;break;case"anisotropic2x":rt=2;break;case"anisotropic4x":rt=4;break;case"anisotropic8x":rt=8;break;default:rt=1}rt>k().default.__glMaxTextureMaxAnisotropy&&(rt=k().default.__glMaxTextureMaxAnisotropy),nt.texParameterf(nt.TEXTURE_2D,k().default.__glTextureMaxAnisotropy,rt)}return!0}return!1},__uploadCompressedTextureFromByteArray:function(et,nt){var rt=this,tt=new($()).default(et,nt),it=tt.readHeader(this.__width,this.__height,!1),st=this.__context,at=st.gl;this.__context.__bindGLTexture2D(this.__textureID);var _t=!1;if(tt.readTextures(function(xt,vt,bt,wt,At,ct,mt){var gt=it?c().default.__compressedFormatsAlpha.get(bt):c().default.__compressedFormats.get(bt);if(gt!=0)if(_t=!0,rt.__format=gt,rt.__internalFormat=gt,it&&bt==2){var Tt=j().default.int(ct/2),yt=null,Et=null,Ct=null,It=mt.b.buffer,Rt=0;Rt==null&&(Rt=0);var Ft;yt!=null?Ft=new Uint8Array(yt):Et!=null?Ft=new Uint8Array(Et):Ct!=null?Ft=new Uint8Array(Ct):It!=null?Tt==null?Ft=new Uint8Array(It,Rt):Ft=new Uint8Array(It,Rt,Tt):Ft=null,g().default.compressedTexImage2D(at,rt.__textureTarget,vt,rt.__internalFormat,wt,At,0,Ft);var Lt=new _e(rt.__context,rt.__width,rt.__height,"compressed",rt.__optimizeForRenderToTexture,rt.__streamingLevels);Lt.__format=gt,Lt.__internalFormat=gt,rt.__context.__bindGLTexture2D(Lt.__textureID);var Ot=null,Kt=null,qt=null,Ht=mt.b.buffer,Zt=Tt;Zt==null&&(Zt=0);var or;Ot!=null?or=new Uint8Array(Ot):Kt!=null?or=new Uint8Array(Kt):qt!=null?or=new Uint8Array(qt):Ht!=null?Tt==null?or=new Uint8Array(Ht,Zt):or=new Uint8Array(Ht,Zt,Tt):or=null,g().default.compressedTexImage2D(at,Lt.__textureTarget,vt,Lt.__internalFormat,wt,At,0,or),rt.__alphaTexture=Lt}else{var ir=null,lr=null,ar=null,Mt=mt.b.buffer,kt=0;kt==null&&(kt=0);var Vt;ir!=null?Vt=new Uint8Array(ir):lr!=null?Vt=new Uint8Array(lr):ar!=null?Vt=new Uint8Array(ar):Mt!=null?ct==null?Vt=new Uint8Array(Mt,kt):Vt=new Uint8Array(Mt,kt,ct):Vt=null,g().default.compressedTexImage2D(at,rt.__textureTarget,vt,rt.__internalFormat,wt,At,0,Vt)}}),!_t){var ut=this.__width*this.__height*4,ot=null,lt=null,ft=null,ht=null,dt;ut!=null?dt=new Uint8Array(ut):ot!=null?dt=new Uint8Array(ot):lt!=null?dt=new Uint8Array(lt):ft!=null?ht==null?dt=new Uint8Array(ft,0):dt=new Uint8Array(ft,0,ht):dt=null;var pt=dt;g().default.texImage2D(at,this.__textureTarget,0,this.__internalFormat,this.__width,this.__height,0,this.__format,at.UNSIGNED_BYTE,pt)}this.__context.__bindGLTexture2D(null)}}),_e.prototype.__class__=_e.prototype.constructor=d["openfl.display3D.textures.Texture"]=_e,_e.__lowMemoryMode=!1,e.default=_e}(Texture$1)),Texture$1}var VertexBuffer3D$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireByteArray_Impl_()}function c(){return requireFloat32Array_Impl_$1()}function s(){return requireWebGLRenderContext_Impl_()}var h=function(f,g,b,k){this.__context=f,this.__numVertices=g,this.__vertexSize=b;var $=this.__context.gl;this.__id=$.createBuffer(),this.__stride=this.__vertexSize*4,this.__usage=k=="dynamicDraw"?$.DYNAMIC_DRAW:$.STATIC_DRAW};h.__name__="openfl.display3D.VertexBuffer3D",h.__isInterface__=!1,h.prototype={dispose:function(){var f=this.__context.gl;f.deleteBuffer(this.__id)},uploadFromByteArray:function(f,g,b,k){var $=g+b*this.__stride,j=k*this.__vertexSize,_e=o().default.toArrayBuffer(f),et=$;et==null&&(et=0);var nt;_e!=null?j==null?nt=new Float32Array(_e,et):nt=new Float32Array(_e,et,j):nt=null,this.uploadFromTypedArray(c().default.toArrayBufferView(nt))},uploadFromTypedArray:function(f,g){if(f!=null){var b=this.__context.gl;this.__context.__bindGLArrayBuffer(this.__id),s().default.bufferData(b,b.ARRAY_BUFFER,f,this.__usage)}},uploadFromVector:function(f,g,b){if(f!=null){this.__context.gl;var k=g*this.__vertexSize,$=b*this.__vertexSize,j=k+$,_e=this.__tempFloat32Array;if(this.__tempFloat32Array==null||this.__tempFloat32Array.length<$){var et=null,nt=null,rt=null,tt=null,it;$!=null?it=new Float32Array($):et!=null?it=new Float32Array(et):nt!=null?it=new Float32Array(nt):rt!=null?tt==null?it=new Float32Array(rt,0):it=new Float32Array(rt,0,tt):it=null,this.__tempFloat32Array=it,_e!=null&&this.__tempFloat32Array.set(_e)}for(var st=k,at=j;st<at;){var _t=st++;this.__tempFloat32Array[_t-k]=f[_t]}this.uploadFromTypedArray(c().default.toArrayBufferView(this.__tempFloat32Array))}}},h.prototype.__class__=h.prototype.constructor=d["openfl.display3D.VertexBuffer3D"]=h,e.default=h})(VertexBuffer3D$1);var VideoTexture$1={},hasRequiredVideoTexture;function requireVideoTexture(){return hasRequiredVideoTexture||(hasRequiredVideoTexture=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireTextureBase()}function h(){return requireTimer()}function f(){return requireWebGLRenderContext_Impl_()}function g(){return Event$1}var b=function(k){s().default.call(this,k),this.__textureTarget=this.__context.gl.TEXTURE_2D};b.__name__="openfl.display3D.textures.VideoTexture",b.__isInterface__=!1,b.__super__=s().default,b.prototype=c(s().default.prototype,{attachNetStream:function(k){var $=this;this.__netStream!=null&&this.__netStream.__video.removeEventListener("canplay",o(this,this.__onCanPlay),!1),this.__cacheTime=-1,this.__netStream=k,this.__netStream!=null&&(this.__netStream.__video.readyState>=2?h().default.delay(function(){$.__textureReady()},0):this.__netStream.__video.addEventListener("canplay",o(this,this.__onCanPlay),!1))},dispose:function(){s().default.prototype.dispose.call(this)},__onCanPlay:function(k){this.__netStream.__video.addEventListener("timeupdate",o(this,this.__onTimeUpdate)),this.__textureReady()},__onTimeUpdate:function(k){this.__netStream!=null&&this.__netStream.__video.currentTime!=this.__cacheTime&&this.__netStream.__video.readyState>=2&&this.__textureReady()},__getTexture:function(){if(this.__netStream.__video.currentTime!=this.__cacheTime&&this.__netStream.__video.readyState>=2){var k=this.__context.gl;this.__context.__bindGLTexture2D(this.__textureID),f().default.texImage2D(k,k.TEXTURE_2D,0,k.RGBA,k.RGBA,k.UNSIGNED_BYTE,this.__netStream.__video),this.__cacheTime=this.__netStream.__video.currentTime}return this.__textureID},__textureReady:function(){this.videoWidth=this.__netStream.__video.videoWidth,this.videoHeight=this.__netStream.__video.videoHeight;var k=null;k=new(g()).default("textureReady"),this.dispatchEvent(k)}}),b.prototype.__class__=b.prototype.constructor=d["openfl.display3D.textures.VideoTexture"]=b,e.default=b}(VideoTexture$1)),VideoTexture$1}var AGALMiniAssembler$1={},Register={},hasRequiredRegister;function requireRegister(){return hasRequiredRegister||(hasRequiredRegister=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireUInt_Impl_()}var s=function(h,f,g,b,k){this.name=h,this.longName=f,this.emitCode=g,this.range=b,this.flags=k};s.__name__="openfl.utils._AGALMiniAssembler.Register",s.__isInterface__=!1,s.prototype={toString:function(){var h=this.emitCode,f='[Register name="'+this.name+'", longName="'+this.longName+'", emitCode='+o().default.string(h==null?null:c().default.toFloat(h))+", range=",g=this.range,b=f+o().default.string(g==null?null:c().default.toFloat(g))+", flags=",k=this.flags;return b+o().default.string(k==null?null:c().default.toFloat(k))+"]"}},s.prototype.__class__=s.prototype.constructor=d["openfl.utils._AGALMiniAssembler.Register"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(Register)),Register}var OpCode={},hasRequiredOpCode;function requireOpCode(){return hasRequiredOpCode||(hasRequiredOpCode=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f){this.name=c,this.numRegister=s,this.emitCode=h,this.flags=f};o.__name__="openfl.utils._AGALMiniAssembler.OpCode",o.__isInterface__=!1,o.prototype={toString:function(){return'[OpCode name="'+this.name+'", numRegister='+this.numRegister+", emitCode="+this.emitCode+", flags="+this.flags+"]"}},o.prototype.__class__=o.prototype.constructor=d["openfl.utils._AGALMiniAssembler.OpCode"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=o}(OpCode)),OpCode}var Sampler={},hasRequiredSampler;function requireSampler(){return hasRequiredSampler||(hasRequiredSampler=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}function c(){return requireUInt_Impl_()}var s=function(h,f,g){this.name=h,this.flag=f,this.mask=g};s.__name__="openfl.utils._AGALMiniAssembler.Sampler",s.__isInterface__=!1,s.prototype={toString:function(){var h=this.flag,f='[Sampler name="'+this.name+'", flag="'+o().default.string(h==null?null:c().default.toFloat(h))+'", mask=',g=this.mask;return f+o().default.string(g==null?null:c().default.toFloat(g))+"]"}},s.prototype.__class__=s.prototype.constructor=d["openfl.utils._AGALMiniAssembler.Sampler"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(Sampler)),Sampler}var hasRequiredAGALMiniAssembler;function requireAGALMiniAssembler(){return hasRequiredAGALMiniAssembler||(hasRequiredAGALMiniAssembler=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireLib()}function c(){return requireByteArrayData()}function s(){return requireStringTools()}function h(){return requireEReg()}function f(){return requireHxOverrides()}function g(){return requireLog()}function b(){return requireStd()}function k(){return requireUInt_Impl_()}function $(){return requireByteArray_Impl_()}function j(){return requireRegister()}function _e(){return requireStringMap()}function et(){return requireOpCode()}function nt(){return requireSampler()}var rt=function(tt){tt==null&&(tt=!1),this.debugEnabled=!1,this.debugEnabled=tt,rt.initialized||rt.init()};rt.__name__="openfl.utils.AGALMiniAssembler",rt.__isInterface__=!1,rt.prototype={assemble2:function(tt,it,st,at){var _t=this.assemble("vertex",st,it),ut=this.assemble("fragment",at,it),ot=tt.createProgram();return ot.upload(_t,ut),ot},assemble:function(tt,it,st,at){at==null&&(at=!1),st==null&&(st=1);var _t=o().default.getTimer(),ut=new(c()).default(0);this.agalcode=ut,this.error="";var ot=!1;tt=="fragment"?ot=!0:tt!="vertex"&&(this.error='ERROR: mode needs to be "fragment" or "vertex" but is "'+tt+'".'),this.agalcode.set_endian("littleEndian"),this.agalcode.writeByte(160),this.agalcode.writeUnsignedInt(st),this.agalcode.writeByte(161),this.agalcode.writeByte(ot?1:0),this.initregmap(st,at);for(var lt=s().default.replace(it,"\r",`
`).split(`
`),ft=0,ht=lt.length,dt=new(h()).default("<.*>","g"),pt=new(h()).default("([\\w\\.\\-\\+]+)","gi"),xt=new(h()).default("^\\w{3}","ig"),vt=new(h()).default("vc\\[([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw](\\+\\d{1,3})?)?\\](\\.[xyzw]{1,4})?|([vofi][acostdip]?[d]?)(\\d*)?(\\.[xyzw]{1,4})?","gi"),bt=new(h()).default("\\[.*\\]","ig"),wt=new(h()).default("^\\b[A-Za-z]{1,3}","ig"),At=new(h()).default("\\d+",""),ct=new(h()).default("(\\.[xyzw]{1,4})",""),mt=new(h()).default("[A-Za-z]{1,3}","ig"),gt=new(h()).default("(\\.[xyzw]{1,1})",""),Tt=new(h()).default("\\+\\d{1,3}","ig"),yt=0;yt<ht&&this.error=="";){var Et=s().default.trim(lt[yt]),Ct=Et.indexOf("//");Ct!=-1&&(Et=f().default.substr(Et,0,Ct));var It=dt.match(Et)?dt.matchedPos().pos:-1,Rt=null;It!=-1&&(Rt=this.match(f().default.substr(Et,It,null),pt),Et=f().default.substr(Et,0,It));var Ft=null,Lt=null;if(xt.match(Et)&&(Ft=xt.matched(0),Lt=rt.OPMAP.get(Ft)),Lt==null){Et.length>=3&&g().default.warn("warning: bad line "+yt+": "+lt[yt],{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:262,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),++yt;continue}if(this.debugEnabled&&g().default.info(Lt,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:272,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),Lt==null){Et.length>=3&&g().default.warn("warning: bad line "+yt+": "+lt[yt],{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:279,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),++yt;continue}if(Et=f().default.substr(Et,Et.indexOf(Lt.name)+Lt.name.length,null),Lt.flags&256&&st<2){this.error="error: opcode requires version 2.";break}if(Lt.flags&64&&ot){this.error="error: opcode is only allowed in vertex programs.";break}if(Lt.flags&32&&!ot){this.error="error: opcode is only allowed in fragment programs.";break}if(this.verbose&&g().default.info("emit opcode="+b().default.string(Lt),{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:308,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode.writeUnsignedInt(Lt.emitCode),++ft,ft>4096){this.error="error: too many opcodes. maximum is 4096.";break}var Ot=this.match(Et,vt);if(Ot.length!=Lt.numRegister){this.error="error: wrong number of operands. found "+Ot.length+" but expected "+Lt.numRegister+".";break}for(var Kt=!1,qt=160,Ht=Ot.length,Zt=0,or=Ht;Zt<or;){var ir=Zt++,lr=!1,ar=this.match(Ot[ir],bt);ar.length>0&&(Ot[ir]=s().default.replace(Ot[ir],ar[0],"0"),this.verbose&&g().default.info("IS REL",{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:344,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),lr=!0);var Mt=this.match(Ot[ir],wt);if(Mt.length==0){this.error="error: could not parse operand "+ir+" ("+Ot[ir]+").",Kt=!0;break}var kt=rt.REGMAP.get(Mt[0]);if(this.debugEnabled&&g().default.info(kt,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:363,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),kt==null){this.error="error: could not find register name for operand "+ir+" ("+Ot[ir]+").",Kt=!0;break}if(ot){if(!(kt.flags&32)){this.error="error: register operand "+ir+" ("+Ot[ir]+") only allowed in vertex programs.",Kt=!0;break}if(lr){this.error="error: register operand "+ir+" ("+Ot[ir]+") relative adressing not allowed in fragment programs.",Kt=!0;break}}else if(!(kt.flags&64)){this.error="error: register operand "+ir+" ("+Ot[ir]+") only allowed in fragment programs.",Kt=!0;break}Ot[ir]=f().default.substr(Ot[ir],Ot[ir].indexOf(kt.name)+kt.name.length,null);var Vt=lr?this.match(ar[0],At):this.match(Ot[ir],At),Nt=0;if(Vt.length>0&&(Nt=b().default.parseInt(Vt[0])),k().default.gt(Nt,kt.range)){var Wt=kt.range+1;this.error="error: register operand "+ir+" ("+Ot[ir]+") index exceeds limit of "+b().default.string(Wt==null?null:k().default.toFloat(Wt))+".",Kt=!0;break}var Qt=0,tr=this.match(Ot[ir],ct),sr=ir==0&&(Lt.flags&128)==0,dr=ir==2&&(Lt.flags&8)!=0,pr=0,cr=0,mr=0;if(sr&&lr){this.error="error: relative can not be destination",Kt=!0;break}if(tr.length>0){Qt=0;for(var fr=0,Bt=tr[0].length,Xt=1;Xt<Bt;)fr=f().default.cca(tr[0],Xt)-120,k().default.gt(fr,2)&&(fr=3),sr?Qt|=1<<fr:Qt=Qt|fr<<(Xt-1<<1),++Xt;if(!sr)for(;Xt<=4;)Qt=Qt|fr<<(Xt-1<<1),++Xt}else Qt=sr?15:228;if(lr){var rr=this.match(ar[0],mt),nr=rt.REGMAP.get(rr[0]);if(nr==null){this.error="error: bad index register",Kt=!0;break}pr=nr.emitCode;var Gt=this.match(ar[0],gt);if(Gt.length==0){this.error="error: bad index register select",Kt=!0;break}cr=f().default.cca(Gt[0],1)-120,k().default.gt(cr,2)&&(cr=3);var zt=this.match(ar[0],Tt);if(zt.length>0&&(mr=b().default.parseInt(zt[0])),mr<0||mr>255){this.error="error: index offset "+mr+" out of bounds. [0..255]",Kt=!0;break}this.verbose&&g().default.info("RELATIVE: type="+pr+"=="+rr[0]+" sel="+b().default.string(cr==null?null:k().default.toFloat(cr))+"=="+Gt[0]+" idx="+b().default.string(Nt==null?null:k().default.toFloat(Nt))+" offset="+mr,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:518,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}if(this.verbose&&g().default.info("  emit argcode="+b().default.string(kt)+"["+b().default.string(Nt==null?null:k().default.toFloat(Nt))+"]["+Qt+"]",{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:525,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),sr)this.agalcode.writeShort(Nt),this.agalcode.writeByte(Qt),this.agalcode.writeByte(kt.emitCode),qt-=32;else if(dr){this.verbose&&g().default.info("  emit sampler",{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:541,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});for(var $t=5,er=Rt==null?0:Rt.length,ur=0,St=0,Ut=er;St<Ut;){var Yt=St++;this.verbose&&g().default.info("    opt: "+Rt[Yt],{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:552,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"});var Dt=rt.SAMPLEMAP.get(Rt[Yt]);Dt==null?(ur=b().default.parseFloat(Rt[Yt]),this.verbose&&g().default.info("    bias: "+ur,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:565,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})):(Dt.flag!=16&&($t&=~(15<<Dt.flag)),$t=$t|Dt.mask<<Dt.flag)}this.agalcode.writeShort(Nt),this.agalcode.writeByte(b().default.int(ur*8)),this.agalcode.writeByte(0),this.agalcode.writeUnsignedInt($t),this.verbose&&g().default.info("    bits: "+($t-5),{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:586,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),qt-=64}else ir==0&&(this.agalcode.writeUnsignedInt(0),qt-=32),this.agalcode.writeShort(Nt),this.agalcode.writeByte(mr),this.agalcode.writeByte(Qt),this.agalcode.writeByte(kt.emitCode),this.agalcode.writeByte(pr),this.agalcode.writeShort(lr?cr|32768:0),qt-=64}for(var Pt=0;Pt<qt;)this.agalcode.writeByte(0),Pt+=8;if(Kt)break;++yt}if(this.error!=""&&(this.error+=`
  at line `+yt+" "+lt[yt],$().default.set_length(this.agalcode,0),g().default.info(this.error,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:631,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})),this.debugEnabled){for(var Jt="generated bytecode:",_r=$().default.get_length(this.agalcode),hr=0,vr=_r;hr<vr;){var gr=hr++;gr%16==0&&(Jt+=`
`),gr%4==0&&(Jt+=" ");var br=s().default.hex(this.agalcode.get(gr),2);br.length<2&&(br="0"+br),Jt+=br}g().default.info(Jt,{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:662,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"})}return this.verbose&&g().default.info("AGALMiniAssembler.assemble time: "+(o().default.getTimer()-_t)/1e3+"s",{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/AGALMiniAssembler.hx",lineNumber:667,className:"openfl.utils.AGALMiniAssembler",methodName:"assemble"}),this.agalcode},initregmap:function(tt,it){var st=rt.REGMAP,at=new(j()).default("va","vertex attribute",0,it?1024:tt==1||tt==2?7:15,66);st.set("va",at);var _t=rt.REGMAP,ut=new(j()).default("vc","vertex constant",1,it?1024:tt==1?127:249,66);_t.set("vc",ut);var ot=rt.REGMAP,lt=new(j()).default("vt","vertex temporary",2,it?1024:tt==1?7:25,67);ot.set("vt",lt);var ft=rt.REGMAP,ht=new(j()).default("vo","vertex output",3,it?1024:0,65);ft.set("vo",ht);var dt=rt.REGMAP,pt=new(j()).default("vi","varying",4,it?1024:tt==1?7:9,99);dt.set("vi",pt);var xt=rt.REGMAP,vt=new(j()).default("fc","fragment constant",1,it?1024:tt==1?27:tt==2?63:199,34);xt.set("fc",vt);var bt=rt.REGMAP,wt=new(j()).default("ft","fragment temporary",2,it?1024:tt==1?7:25,35);bt.set("ft",wt);var At=rt.REGMAP,ct=new(j()).default("fs","texture sampler",5,it?1024:7,34);At.set("fs",ct);var mt=rt.REGMAP,gt=new(j()).default("fo","fragment output",3,it?1024:tt==1?0:3,33);mt.set("fo",gt);var Tt=rt.REGMAP,yt=new(j()).default("fd","fragment depth output",6,it?1024:tt==1?-1:0,33);Tt.set("fd",yt);var Et=rt.REGMAP,Ct=new(j()).default("iid","instance id",7,it?1024:0,66);Et.set("iid",Ct);var It=rt.REGMAP,Rt=rt.REGMAP.get("vo");It.set("op",Rt);var Ft=rt.REGMAP,Lt=rt.REGMAP.get("vi");Ft.set("i",Lt);var Ot=rt.REGMAP,Kt=rt.REGMAP.get("vi");Ot.set("v",Kt);var qt=rt.REGMAP,Ht=rt.REGMAP.get("fo");qt.set("oc",Ht);var Zt=rt.REGMAP,or=rt.REGMAP.get("fd");Zt.set("od",or);var ir=rt.REGMAP,lr=rt.REGMAP.get("vi");ir.set("fi",lr)},match:function(tt,it){for(var st=[],at=0,_t;it.matchSub(tt,at);)_t=it.matched(0),st.push(_t),at=it.matchedPos().pos+_t.length;return st}},rt.prototype.__class__=rt.prototype.constructor=d["openfl.utils.AGALMiniAssembler"]=rt,rt.init=function(){rt.initialized=!0;var tt=rt.OPMAP,it=new(et()).default("mov",2,0,0);tt.set("mov",it);var st=rt.OPMAP,at=new(et()).default("add",3,1,0);st.set("add",at);var _t=rt.OPMAP,ut=new(et()).default("sub",3,2,0);_t.set("sub",ut);var ot=rt.OPMAP,lt=new(et()).default("mul",3,3,0);ot.set("mul",lt);var ft=rt.OPMAP,ht=new(et()).default("div",3,4,0);ft.set("div",ht);var dt=rt.OPMAP,pt=new(et()).default("rcp",2,5,0);dt.set("rcp",pt);var xt=rt.OPMAP,vt=new(et()).default("min",3,6,0);xt.set("min",vt);var bt=rt.OPMAP,wt=new(et()).default("max",3,7,0);bt.set("max",wt);var At=rt.OPMAP,ct=new(et()).default("frc",2,8,0);At.set("frc",ct);var mt=rt.OPMAP,gt=new(et()).default("sqt",2,9,0);mt.set("sqt",gt);var Tt=rt.OPMAP,yt=new(et()).default("rsq",2,10,0);Tt.set("rsq",yt);var Et=rt.OPMAP,Ct=new(et()).default("pow",3,11,0);Et.set("pow",Ct);var It=rt.OPMAP,Rt=new(et()).default("log",2,12,0);It.set("log",Rt);var Ft=rt.OPMAP,Lt=new(et()).default("exp",2,13,0);Ft.set("exp",Lt);var Ot=rt.OPMAP,Kt=new(et()).default("nrm",2,14,0);Ot.set("nrm",Kt);var qt=rt.OPMAP,Ht=new(et()).default("sin",2,15,0);qt.set("sin",Ht);var Zt=rt.OPMAP,or=new(et()).default("cos",2,16,0);Zt.set("cos",or);var ir=rt.OPMAP,lr=new(et()).default("crs",3,17,0);ir.set("crs",lr);var ar=rt.OPMAP,Mt=new(et()).default("dp3",3,18,0);ar.set("dp3",Mt);var kt=rt.OPMAP,Vt=new(et()).default("dp4",3,19,0);kt.set("dp4",Vt);var Nt=rt.OPMAP,Wt=new(et()).default("abs",2,20,0);Nt.set("abs",Wt);var Qt=rt.OPMAP,tr=new(et()).default("neg",2,21,0);Qt.set("neg",tr);var sr=rt.OPMAP,dr=new(et()).default("sat",2,22,0);sr.set("sat",dr);var pr=rt.OPMAP,cr=new(et()).default("m33",3,23,16);pr.set("m33",cr);var mr=rt.OPMAP,fr=new(et()).default("m44",3,24,16);mr.set("m44",fr);var Bt=rt.OPMAP,Xt=new(et()).default("m34",3,25,16);Bt.set("m34",Xt);var rr=rt.OPMAP,nr=new(et()).default("ddx",2,26,288);rr.set("ddx",nr);var Gt=rt.OPMAP,zt=new(et()).default("ddy",2,27,288);Gt.set("ddy",zt);var $t=rt.OPMAP,er=new(et()).default("ife",2,28,897);$t.set("ife",er);var ur=rt.OPMAP,St=new(et()).default("ine",2,29,897);ur.set("ine",St);var Ut=rt.OPMAP,Yt=new(et()).default("ifg",2,30,897);Ut.set("ifg",Yt);var Dt=rt.OPMAP,Pt=new(et()).default("ifl",2,31,897);Dt.set("ifl",Pt);var Jt=rt.OPMAP,_r=new(et()).default("els",0,32,1921);Jt.set("els",_r);var hr=rt.OPMAP,vr=new(et()).default("eif",0,33,1409);hr.set("eif",vr);var gr=rt.OPMAP,br=new(et()).default("kil",1,39,160);gr.set("kil",br);var wr=rt.OPMAP,yr=new(et()).default("tex",3,40,40);wr.set("tex",yr);var xr=rt.OPMAP,Tr=new(et()).default("sge",3,41,0);xr.set("sge",Tr);var Cr=rt.OPMAP,Br=new(et()).default("slt",3,42,0);Cr.set("slt",Br);var Dr=rt.OPMAP,Sr=new(et()).default("sgn",2,43,0);Dr.set("sgn",Sr);var Ar=rt.OPMAP,Mr=new(et()).default("seq",3,44,0);Ar.set("seq",Mr);var Ir=rt.OPMAP,Rr=new(et()).default("sne",3,45,0);Ir.set("sne",Rr);var Fr=rt.SAMPLEMAP,Yr=new(nt()).default("rgba",8,0);Fr.set("rgba",Yr);var Zr=rt.SAMPLEMAP,Kr=new(nt()).default("compressed",8,1);Zr.set("compressed",Kr);var kr=rt.SAMPLEMAP,_n=new(nt()).default("compressedalpha",8,2);kr.set("compressedalpha",_n);var Qr=rt.SAMPLEMAP,en=new(nt()).default("dxt1",8,1);Qr.set("dxt1",en);var tn=rt.SAMPLEMAP,rn=new(nt()).default("dxt5",8,2);tn.set("dxt5",rn);var nn=rt.SAMPLEMAP,an=new(nt()).default("video",8,3);nn.set("video",an);var sn=rt.SAMPLEMAP,on=new(nt()).default("2d",12,0);sn.set("2d",on);var ln=rt.SAMPLEMAP,Ur=new(nt()).default("3d",12,2);ln.set("3d",Ur);var zr=rt.SAMPLEMAP,Gr=new(nt()).default("cube",12,1);zr.set("cube",Gr);var Vr=rt.SAMPLEMAP,Or=new(nt()).default("mipnearest",24,1);Vr.set("mipnearest",Or);var qr=rt.SAMPLEMAP,Wr=new(nt()).default("miplinear",24,2);qr.set("miplinear",Wr);var Hr=rt.SAMPLEMAP,jr=new(nt()).default("mipnone",24,0);Hr.set("mipnone",jr);var Nr=rt.SAMPLEMAP,Er=new(nt()).default("nomip",24,0);Nr.set("nomip",Er);var $r=rt.SAMPLEMAP,Lr=new(nt()).default("nearest",28,0);$r.set("nearest",Lr);var hn=rt.SAMPLEMAP,dn=new(nt()).default("linear",28,1);hn.set("linear",dn);var cn=rt.SAMPLEMAP,pn=new(nt()).default("anisotropic2x",28,2);cn.set("anisotropic2x",pn);var mn=rt.SAMPLEMAP,vn=new(nt()).default("anisotropic4x",28,3);mn.set("anisotropic4x",vn);var fn=rt.SAMPLEMAP,gn=new(nt()).default("anisotropic8x",28,4);fn.set("anisotropic8x",gn);var yn=rt.SAMPLEMAP,Xr=new(nt()).default("anisotropic16x",28,5);yn.set("anisotropic16x",Xr);var xn=rt.SAMPLEMAP,bn=new(nt()).default("centroid",16,1);xn.set("centroid",bn);var wn=rt.SAMPLEMAP,Sn=new(nt()).default("single",16,2);wn.set("single",Sn);var En=rt.SAMPLEMAP,Tn=new(nt()).default("ignoresampler",16,4);En.set("ignoresampler",Tn);var An=rt.SAMPLEMAP,Pr=new(nt()).default("repeat",20,1);An.set("repeat",Pr);var Cn=rt.SAMPLEMAP,$n=new(nt()).default("wrap",20,1);Cn.set("wrap",$n);var Mn=rt.SAMPLEMAP,Bn=new(nt()).default("clamp",20,0);Mn.set("clamp",Bn);var Dn=rt.SAMPLEMAP,un=new(nt()).default("clamp_u_repeat_v",20,2);Dn.set("clamp_u_repeat_v",un);var Jr=rt.SAMPLEMAP,Rn=new(nt()).default("repeat_u_clamp_v",20,3);Jr.set("repeat_u_clamp_v",Rn)},rt.__meta__={obj:{SuppressWarnings:[["checkstyle:ConstantName","checkstyle:FieldDocComment"]]}},rt.OPMAP=new(_e()).default,rt.REGMAP=new(_e()).default,rt.SAMPLEMAP=new(_e()).default,rt.MAX_NESTING=4,rt.MAX_OPCODES=4096,rt.FRAGMENT="fragment",rt.VERTEX="vertex",rt.SAMPLER_TYPE_SHIFT=8,rt.SAMPLER_DIM_SHIFT=12,rt.SAMPLER_SPECIAL_SHIFT=16,rt.SAMPLER_REPEAT_SHIFT=20,rt.SAMPLER_MIPMAP_SHIFT=24,rt.SAMPLER_FILTER_SHIFT=28,rt.REG_WRITE=1,rt.REG_READ=2,rt.REG_FRAG=32,rt.REG_VERT=64,rt.OP_SCALAR=1,rt.OP_SPECIAL_TEX=8,rt.OP_SPECIAL_MATRIX=16,rt.OP_FRAG_ONLY=32,rt.OP_VERT_ONLY=64,rt.OP_NO_DEST=128,rt.OP_VERSION2=256,rt.OP_INCNEST=512,rt.OP_DECNEST=1024,rt.MOV="mov",rt.ADD="add",rt.SUB="sub",rt.MUL="mul",rt.DIV="div",rt.RCP="rcp",rt.MIN="min",rt.MAX="max",rt.FRC="frc",rt.SQT="sqt",rt.RSQ="rsq",rt.POW="pow",rt.LOG="log",rt.EXP="exp",rt.NRM="nrm",rt.SIN="sin",rt.COS="cos",rt.CRS="crs",rt.DP3="dp3",rt.DP4="dp4",rt.ABS="abs",rt.NEG="neg",rt.SAT="sat",rt.M33="m33",rt.M44="m44",rt.M34="m34",rt.DDX="ddx",rt.DDY="ddy",rt.IFE="ife",rt.INE="ine",rt.IFG="ifg",rt.IFL="ifl",rt.IEG="ieg",rt.IEL="iel",rt.ELS="els",rt.EIF="eif",rt.TED="ted",rt.KIL="kil",rt.TEX="tex",rt.SGE="sge",rt.SLT="slt",rt.SGN="sgn",rt.SEQ="seq",rt.SNE="sne",rt.VA="va",rt.VC="vc",rt.VT="vt",rt.VO="vo",rt.VI="vi",rt.FC="fc",rt.FT="ft",rt.FS="fs",rt.FO="fo",rt.FD="fd",rt.IID="iid",rt.D2="2d",rt.D3="3d",rt.CUBE="cube",rt.MIPNEAREST="mipnearest",rt.MIPLINEAR="miplinear",rt.MIPNONE="mipnone",rt.NOMIP="nomip",rt.NEAREST="nearest",rt.LINEAR="linear",rt.ANISOTROPIC2X="anisotropic2x",rt.ANISOTROPIC4X="anisotropic4x",rt.ANISOTROPIC8X="anisotropic8x",rt.ANISOTROPIC16X="anisotropic16x",rt.CENTROID="centroid",rt.SINGLE="single",rt.IGNORESAMPLER="ignoresampler",rt.REPEAT="repeat",rt.WRAP="wrap",rt.CLAMP="clamp",rt.REPEAT_U_CLAMP_V="repeat_u_clamp_v",rt.CLAMP_U_REPEAT_V="clamp_u_repeat_v",rt.RGBA="rgba",rt.COMPRESSED="compressed",rt.COMPRESSEDALPHA="compressedalpha",rt.DXT1="dxt1",rt.DXT5="dxt5",rt.VIDEO="video",rt.initialized=!1,e.default=rt}(AGALMiniAssembler$1)),AGALMiniAssembler$1}var Context3DState={},hasRequiredContext3DState;function requireContext3DState(){return hasRequiredContext3DState||(hasRequiredContext3DState=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}var c=function(){this.backBufferEnableDepthAndStencil=!1,this.blendDestinationAlphaFactor="zero",this.blendSourceAlphaFactor="one",this.blendDestinationRGBFactor="zero",this.blendSourceRGBFactor="one",this.colorMaskRed=!0,this.colorMaskGreen=!0,this.colorMaskBlue=!0,this.colorMaskAlpha=!0,this.culling="none",this.depthCompareMode="less",this.depthMask=!0,this.samplerStates=[],this.scissorRectangle=new(o()).default,this.stencilCompareMode="always",this.stencilDepthFail="keep",this.stencilFail="keep",this.stencilPass="keep",this.stencilReadMask=255,this.stencilReferenceValue=0,this.stencilTriangleFace="frontAndBack",this.stencilWriteMask=255,this.textures=[],this.__frontFaceGLCCW=!0,this.__glBlendEquation=32774};c.__name__="openfl.display3D._internal.Context3DState",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.display3D._internal.Context3DState"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c}(Context3DState)),Context3DState}var hasRequiredContext3D;function requireContext3D(){return hasRequiredContext3D||(hasRequiredContext3D=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return requireStd()}function h(){return requireVector_Impl_()}function f(){return requireCubeTexture()}function g(){return IndexBuffer3D$1}function b(){return Program3D$1}function k(){return requireRectangleTexture()}function $(){return requireTexture()}function j(){return VertexBuffer3D$1}function _e(){return requireVideoTexture()}function et(){return requireRectangle()}function nt(){return requireVector2()}function rt(){return requireImage()}function tt(){return requireImageBuffer()}function it(){return requireByteArray_Impl_()}function st(){return requireUInt_Impl_()}function at(){return requireWebGLRenderContext_Impl_()}function _t(){return requireSamplerState()}function ut(){return requireHaxeError()}function ot(){return IllegalOperationError$1}function lt(){return _Error$1}function ft(){return requireAGALMiniAssembler()}function ht(){return requireContext3DState()}function dt(){return requireStringMap()}function pt(){return require_Reflect()}var xt=function(vt,bt,wt){this.profile="standard",this.driverInfo="OpenGL (Direct blitting)",this.backBufferWidth=0,this.backBufferHeight=0,c().default.call(this),this.__stage=vt,this.__contextState=bt,this.__stage3D=wt,this.__context=vt.window.context,this.gl=this.__context.webgl,this.__contextState==null&&(this.__contextState=new(ht()).default),this.__state=new(ht()).default;var At=new Float32Array(512);this.__vertexConstants=At;var ct=new Float32Array(512);this.__fragmentConstants=ct;var mt=[1,1,1,1],gt;if(mt!=null?gt=new Float32Array(mt):gt=null,this.__positionScale=gt,this.__programs=new(dt()).default,xt.__glMaxViewportDims==-1&&(xt.__glMaxViewportDims=this.gl.getParameter(this.gl.MAX_VIEWPORT_DIMS)),this.maxBackBufferWidth=xt.__glMaxViewportDims,this.maxBackBufferHeight=xt.__glMaxViewportDims,xt.__glMaxTextureMaxAnisotropy==-1){var Tt=this.gl.getExtension("EXT_texture_filter_anisotropic");(Tt==null||!pt().default.hasField(Tt,"MAX_TEXTURE_MAX_ANISOTROPY_EXT"))&&(Tt=this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),(Tt==null||!pt().default.hasField(Tt,"MAX_TEXTURE_MAX_ANISOTROPY_EXT"))&&(Tt=this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")),Tt!=null?(xt.__glTextureMaxAnisotropy=Tt.TEXTURE_MAX_ANISOTROPY_EXT,xt.__glMaxTextureMaxAnisotropy=this.gl.getParameter(Tt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):(xt.__glTextureMaxAnisotropy=0,xt.__glMaxTextureMaxAnisotropy=0)}if(xt.__glDepthStencil==-1&&(xt.__glDepthStencil=this.gl.DEPTH_STENCIL),xt.__glMemoryTotalAvailable==-1){var yt=this.gl.getExtension("NVX_gpu_memory_info");yt!=null&&(xt.__glMemoryTotalAvailable=yt.GPU_MEMORY_INFO_DEDICATED_VIDMEM_NVX,xt.__glMemoryCurrentAvailable=yt.GPU_MEMORY_INFO_CURRENT_AVAILABLE_VIDMEM_NVX)}if(xt.__driverInfo==null){var Et=this.gl.getParameter(this.gl.VENDOR),Ct=this.gl.getParameter(this.gl.VERSION),It=this.gl.getParameter(this.gl.RENDERER),Rt=this.gl.getParameter(this.gl.SHADING_LANGUAGE_VERSION);xt.__driverInfo="OpenGL Vendor="+Et+" Version="+Ct+" Renderer="+It+" GLSL="+Rt}this.driverInfo=xt.__driverInfo,this.__quadIndexBufferElements=16383,this.__quadIndexBufferCount=this.__quadIndexBufferElements*6;var Ft=this.__quadIndexBufferCount,Lt;Ft!=null?Lt=new Uint16Array(Ft):Lt=null;for(var Ot=Lt,Kt=0,qt=0,Ht=0,Zt=this.__quadIndexBufferElements;Ht<Zt;)Ht++,Ot[Kt]=qt,Ot[Kt+1]=qt+1,Ot[Kt+2]=qt+2,Ot[Kt+3]=qt+2,Ot[Kt+4]=qt+1,Ot[Kt+5]=qt+3,Kt=Kt+6,qt=qt+4;this.__quadIndexBuffer=this.createIndexBuffer(this.__quadIndexBufferCount),this.__quadIndexBuffer.uploadFromTypedArray(Ot)};xt.__name__="openfl.display3D.Context3D",xt.__isInterface__=!1,xt.__super__=c().default,xt.prototype=o(c().default.prototype,{clear:function(vt,bt,wt,At,ct,mt,gt){gt==null&&(gt=7),mt==null&&(mt=0),ct==null&&(ct=1),At==null&&(At=1),wt==null&&(wt=0),bt==null&&(bt=0),vt==null&&(vt=0),this.__flushGLFramebuffer(),this.__flushGLViewport();var Tt=0;gt&1&&(this.__state.renderToTexture==null&&(this.__stage.context3D==this&&!this.__stage.__renderer.__cleared&&(this.__stage.__renderer.__cleared=!0),this.__cleared=!0),Tt|=this.gl.COLOR_BUFFER_BIT,(this.__contextState.colorMaskRed!=!0||this.__contextState.colorMaskGreen!=!0||this.__contextState.colorMaskBlue!=!0||this.__contextState.colorMaskAlpha!=!0)&&(this.gl.colorMask(!0,!0,!0,!0),this.__contextState.colorMaskRed=!0,this.__contextState.colorMaskGreen=!0,this.__contextState.colorMaskBlue=!0,this.__contextState.colorMaskAlpha=!0),this.gl.clearColor(vt,bt,wt,At)),gt&2&&(Tt|=this.gl.DEPTH_BUFFER_BIT,this.__contextState.depthMask!=!0&&(this.gl.depthMask(!0),this.__contextState.depthMask=!0),this.gl.clearDepth(ct)),gt&4&&(Tt|=this.gl.STENCIL_BUFFER_BIT,this.__contextState.stencilWriteMask!=255&&(this.gl.stencilMask(255),this.__contextState.stencilWriteMask=255),this.gl.clearStencil(mt),this.__contextState.stencilWriteMask=255),Tt!=0&&(this.__setGLScissorTest(!1),this.gl.clear(Tt))},configureBackBuffer:function(vt,bt,wt,At,ct,mt){if(mt==null&&(mt=!1),ct==null&&(ct=!1),At==null&&(At=!0),ct&&(vt=s().default.int(vt*this.__stage.window.get_scale()),bt=s().default.int(bt*this.__stage.window.get_scale())),this.__stage3D==null)this.backBufferWidth=vt,this.backBufferHeight=bt,this.__backBufferAntiAlias=wt,this.__state.backBufferEnableDepthAndStencil=At,this.__backBufferWantsBestResolution=ct,this.__backBufferWantsBestResolutionOnBrowserZoom=mt;else{if(this.__backBufferTexture==null||this.backBufferWidth!=vt||this.backBufferHeight!=bt){this.__backBufferTexture!=null&&this.__backBufferTexture.dispose(),this.__frontBufferTexture!=null&&this.__frontBufferTexture.dispose(),this.__backBufferTexture=this.createRectangleTexture(vt,bt,"bgra",!0),this.__frontBufferTexture=this.createRectangleTexture(vt,bt,"bgra",!0),this.__stage3D.__vertexBuffer==null&&(this.__stage3D.__vertexBuffer=this.createVertexBuffer(4,5));var gt=ct?vt:s().default.int(vt*this.__stage.window.get_scale()),Tt=ct?bt:s().default.int(bt*this.__stage.window.get_scale()),yt=h().default._new(null,null,[gt,Tt,0,1,1,0,Tt,0,0,1,gt,0,0,1,0,0,0,0,0,0]);if(this.__stage3D.__vertexBuffer.uploadFromVector(yt,0,20),this.__stage3D.__indexBuffer==null){this.__stage3D.__indexBuffer=this.createIndexBuffer(6);var Et=h().default._new(null,null,[0,1,2,2,1,3]);this.__stage3D.__indexBuffer.uploadFromVector(Et,0,6)}}this.backBufferWidth=vt,this.backBufferHeight=bt,this.__backBufferAntiAlias=wt,this.__state.backBufferEnableDepthAndStencil=At,this.__backBufferWantsBestResolution=ct,this.__backBufferWantsBestResolutionOnBrowserZoom=mt,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(At,wt,0),this.__frontBufferTexture.__getGLFramebuffer(At,wt,0)}},createCubeTexture:function(vt,bt,wt,At){return At==null&&(At=0),new(f()).default(this,vt,bt,wt,At)},createIndexBuffer:function(vt,bt){return bt==null&&(bt="staticDraw"),new(g()).default(this,vt,bt)},createProgram:function(vt){return vt==null&&(vt="agal"),new(b()).default(this,vt)},createRectangleTexture:function(vt,bt,wt,At){return new(k()).default(this,vt,bt,wt,At)},createTexture:function(vt,bt,wt,At,ct){return ct==null&&(ct=0),new($()).default(this,vt,bt,wt,At,ct)},createVertexBuffer:function(vt,bt,wt){return wt==null&&(wt="staticDraw"),new(j()).default(this,vt,bt,wt)},createVideoTexture:function(){return new(_e()).default(this)},dispose:function(vt){this.gl=null,this.__dispose()},drawToBitmapData:function(vt,bt,wt){if(vt!=null){var At=bt!=null?bt.__toLimeRectangle():new(et()).default(0,0,this.backBufferWidth,this.backBufferHeight),ct=wt!=null?wt.__toLimeVector2():new(nt()).default;if(this.__stage.context3D==this){if(this.__stage.window!=null){this.__stage3D!=null&&ct.setTo(s().default.int(-this.__stage3D.get_x()),s().default.int(-this.__stage3D.get_y()));var mt=this.__stage.window.readPixels();vt.image.copyPixels(mt,At,ct)}}else if(this.__backBufferTexture!=null){var gt=this.__state.renderToTexture;this.setRenderToBackBuffer(),this.__flushGLFramebuffer(),this.__flushGLViewport();var Tt=this.backBufferWidth*this.backBufferHeight*4,yt=null,Et=null,Ct=null,It=null,Rt;Tt!=null?Rt=new Uint8Array(Tt):yt!=null?Rt=new Uint8Array(yt):Et!=null?Rt=new Uint8Array(Et):Ct!=null?It==null?Rt=new Uint8Array(Ct,0):Rt=new Uint8Array(Ct,0,It):Rt=null;var Ft=Rt,Lt=this.gl,Ot=this.backBufferWidth,Kt=this.backBufferHeight,qt=this.__backBufferTexture.__format,Ht=this.gl.UNSIGNED_BYTE,Zt=Ft,or=null;or!=null?Lt.readPixels(0,0,Ot,Kt,qt,Ht,Zt,or):Lt.readPixels(0,0,Ot,Kt,qt,Ht,Zt);var ir=new(rt()).default(new(tt()).default(Ft,this.backBufferWidth,this.backBufferHeight,32,2));vt.image.copyPixels(ir,At,ct),gt!=null&&this.setRenderToTexture(gt,this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector)}}},drawTriangles:function(vt,bt,wt){wt==null&&(wt=-1),bt==null&&(bt=0),this.__state.renderToTexture==null&&(this.__stage.context3D==this&&!this.__stage.__renderer.__cleared?this.__stage.__renderer.__clear():this.__cleared||this.clear(0,0,0,0,1,0,1)),this.__flushGL(),this.__state.program!=null&&this.__state.program.__flush();var At=wt==-1?vt.__numIndices:wt*3;this.__bindGLElementArrayBuffer(vt.__id),this.gl.drawElements(this.gl.TRIANGLES,At,this.gl.UNSIGNED_SHORT,bt*2)},present:function(){if(this.setRenderToBackBuffer(),this.__stage3D!=null&&this.__backBufferTexture!=null){this.__cleared||this.clear(0,0,0,0,1,0,1);var vt=this.__backBufferTexture;this.__backBufferTexture=this.__frontBufferTexture,this.__frontBufferTexture=vt,this.__state.__primaryGLFramebuffer=this.__backBufferTexture.__getGLFramebuffer(this.__state.backBufferEnableDepthAndStencil,this.__backBufferAntiAlias,0),this.__cleared=!1}this.__present=!0},setBlendFactors:function(vt,bt){this.setBlendFactorsSeparate(vt,bt,vt,bt)},setBlendFactorsSeparate:function(vt,bt,wt,At){this.__state.blendSourceRGBFactor=vt,this.__state.blendDestinationRGBFactor=bt,this.__state.blendSourceAlphaFactor=wt,this.__state.blendDestinationAlphaFactor=At,this.__setGLBlendEquation(this.gl.FUNC_ADD)},setColorMask:function(vt,bt,wt,At){this.__state.colorMaskRed=vt,this.__state.colorMaskGreen=bt,this.__state.colorMaskBlue=wt,this.__state.colorMaskAlpha=At},setCulling:function(vt){this.__state.culling=vt},setDepthTest:function(vt,bt){this.__state.depthMask=vt,this.__state.depthCompareMode=bt},setProgram:function(vt){if(this.__state.program=vt,this.__state.shader=null,vt!=null)for(var bt=0,wt=vt.__samplerStates.length;bt<wt;){var At=bt++;this.__state.samplerStates[At]==null?this.__state.samplerStates[At]=vt.__samplerStates[At].clone():this.__state.samplerStates[At].copyFrom(vt.__samplerStates[At])}},setProgramConstantsFromByteArray:function(vt,bt,wt,At,ct){if(!(wt==0||this.__state.program==null)&&!(this.__state.program!=null&&this.__state.program.__format=="glsl")){wt==-1&&(wt=(it().default.get_length(At)>>>2)-ct);var mt=vt=="vertex",gt=mt?this.__vertexConstants:this.__fragmentConstants,Tt=it().default.toBytes(At),yt=0,Et=null;yt==null&&(yt=0);for(var Ct=yt==null?new Float32Array(Tt.getData()):Et==null?new Float32Array(Tt.getData(),yt):new Float32Array(Tt.getData(),yt,Et),It=bt*4,Rt=s().default.int(st().default.toFloat(ct)/st().default.toFloat(4)),Ft=0,Lt=wt*4;Ft<Lt;){var Ot=Ft++;gt[It+Ot]=Ct[Rt+Ot]}this.__state.program!=null&&this.__state.program.__markDirty(mt,bt,wt)}},setProgramConstantsFromMatrix:function(vt,bt,wt,At){if(At==null&&(At=!1),this.__state.program!=null&&this.__state.program.__format=="glsl"){this.__flushGLProgram();var ct=new Float32Array(16),mt=ct;mt[0]=wt.rawData[0],mt[1]=wt.rawData[1],mt[2]=wt.rawData[2],mt[3]=wt.rawData[3],mt[4]=wt.rawData[4],mt[5]=wt.rawData[5],mt[6]=wt.rawData[6],mt[7]=wt.rawData[7],mt[8]=wt.rawData[8],mt[9]=wt.rawData[9],mt[10]=wt.rawData[10],mt[11]=wt.rawData[11],mt[12]=wt.rawData[12],mt[13]=wt.rawData[13],mt[14]=wt.rawData[14],mt[15]=wt.rawData[15],at().default.uniformMatrix4fv(this.gl,bt,At,mt)}else{var gt=vt=="vertex",Tt=gt?this.__vertexConstants:this.__fragmentConstants,yt=wt.rawData,Et=bt*4;At?(Tt[Et++]=yt[0],Tt[Et++]=yt[4],Tt[Et++]=yt[8],Tt[Et++]=yt[12],Tt[Et++]=yt[1],Tt[Et++]=yt[5],Tt[Et++]=yt[9],Tt[Et++]=yt[13],Tt[Et++]=yt[2],Tt[Et++]=yt[6],Tt[Et++]=yt[10],Tt[Et++]=yt[14],Tt[Et++]=yt[3],Tt[Et++]=yt[7],Tt[Et++]=yt[11],Tt[Et++]=yt[15]):(Tt[Et++]=yt[0],Tt[Et++]=yt[1],Tt[Et++]=yt[2],Tt[Et++]=yt[3],Tt[Et++]=yt[4],Tt[Et++]=yt[5],Tt[Et++]=yt[6],Tt[Et++]=yt[7],Tt[Et++]=yt[8],Tt[Et++]=yt[9],Tt[Et++]=yt[10],Tt[Et++]=yt[11],Tt[Et++]=yt[12],Tt[Et++]=yt[13],Tt[Et++]=yt[14],Tt[Et++]=yt[15]),this.__state.program!=null&&this.__state.program.__markDirty(gt,bt,4)}},setProgramConstantsFromVector:function(vt,bt,wt,At){if(At==null&&(At=-1),At!=0&&!(this.__state.program!=null&&this.__state.program.__format=="glsl")){At==-1&&(At=wt.get_length()>>2);for(var ct=vt=="vertex",mt=ct?this.__vertexConstants:this.__fragmentConstants,gt=wt,Tt=0,yt=bt*4,Et=0,Ct=At;Et<Ct;)Et++,mt[yt++]=gt[Tt++],mt[yt++]=gt[Tt++],mt[yt++]=gt[Tt++],mt[yt++]=gt[Tt++];this.__state.program!=null&&this.__state.program.__markDirty(ct,bt,At)}},setRenderToBackBuffer:function(){this.__state.renderToTexture=null},setRenderToTexture:function(vt,bt,wt,At){At==null&&(At=0),wt==null&&(wt=0),bt==null&&(bt=!1),this.__state.renderToTexture=vt,this.__state.renderToTextureDepthStencil=bt,this.__state.renderToTextureAntiAlias=wt,this.__state.renderToTextureSurfaceSelector=At},setSamplerStateAt:function(vt,bt,wt,At){this.__state.samplerStates[vt]==null&&(this.__state.samplerStates[vt]=new(_t()).default);var ct=this.__state.samplerStates[vt];ct.wrap=bt,ct.filter=wt,ct.mipfilter=At},setScissorRectangle:function(vt){vt!=null?(this.__state.scissorEnabled=!0,this.__state.scissorRectangle.copyFrom(vt)):this.__state.scissorEnabled=!1},setStencilActions:function(vt,bt,wt,At,ct){ct==null&&(ct="keep"),At==null&&(At="keep"),wt==null&&(wt="keep"),bt==null&&(bt="always"),vt==null&&(vt="frontAndBack"),this.__state.stencilTriangleFace=vt,this.__state.stencilCompareMode=bt,this.__state.stencilPass=wt,this.__state.stencilDepthFail=At,this.__state.stencilFail=ct},setStencilReferenceValue:function(vt,bt,wt){wt==null&&(wt=255),bt==null&&(bt=255),this.__state.stencilReferenceValue=vt,this.__state.stencilReadMask=bt,this.__state.stencilWriteMask=wt},setTextureAt:function(vt,bt){this.__state.textures[vt]=bt},setVertexBufferAt:function(vt,bt,wt,At){if(At==null&&(At="float4"),wt==null&&(wt=0),!(vt<0)){if(bt==null){this.gl.disableVertexAttribArray(vt),this.__bindGLArrayBuffer(null);return}this.__bindGLArrayBuffer(bt.__id),this.gl.enableVertexAttribArray(vt);var ct=wt*4;switch(At){case"bytes4":this.gl.vertexAttribPointer(vt,4,this.gl.UNSIGNED_BYTE,!0,bt.__stride,ct);break;case"float1":this.gl.vertexAttribPointer(vt,1,this.gl.FLOAT,!1,bt.__stride,ct);break;case"float2":this.gl.vertexAttribPointer(vt,2,this.gl.FLOAT,!1,bt.__stride,ct);break;case"float3":this.gl.vertexAttribPointer(vt,3,this.gl.FLOAT,!1,bt.__stride,ct);break;case"float4":this.gl.vertexAttribPointer(vt,4,this.gl.FLOAT,!1,bt.__stride,ct);break;default:throw new(ut()).default(new(ot()).default)}}},__bindGLArrayBuffer:function(vt){this.__contextState.__currentGLArrayBuffer!=vt&&(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,vt),this.__contextState.__currentGLArrayBuffer=vt)},__bindGLElementArrayBuffer:function(vt){this.__contextState.__currentGLElementArrayBuffer!=vt&&(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,vt),this.__contextState.__currentGLElementArrayBuffer=vt)},__bindGLFramebuffer:function(vt){this.__contextState.__currentGLFramebuffer!=vt&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,vt),this.__contextState.__currentGLFramebuffer=vt)},__bindGLTexture2D:function(vt){this.gl.bindTexture(this.gl.TEXTURE_2D,vt),this.__contextState.__currentGLTexture2D=vt},__bindGLTextureCubeMap:function(vt){this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,vt),this.__contextState.__currentGLTextureCubeMap=vt},__dispose:function(){this.driverInfo+=" (Disposed)",this.__stage3D!=null&&(this.__stage3D.__indexBuffer=null,this.__stage3D.__vertexBuffer=null,this.__stage3D.context3D=null,this.__stage3D=null),this.__backBufferTexture=null,this.__context=null,this.__renderStage3DProgram=null,this.__fragmentConstants=null,this.__frontBufferTexture=null,this.__positionScale=null,this.__present=!1,this.__quadIndexBuffer=null,this.__stage=null,this.__vertexConstants=null},__drawTriangles:function(vt,bt){vt==null&&(vt=0),this.__state.renderToTexture==null&&(this.__stage.context3D==this&&!this.__stage.__renderer.__cleared?this.__stage.__renderer.__clear():this.__cleared||this.clear(0,0,0,0,1,0,1)),this.__flushGL(),this.__state.program!=null&&this.__state.program.__flush(),this.gl.drawArrays(this.gl.TRIANGLES,vt,bt)},__flushGL:function(){this.__flushGLProgram(),this.__flushGLFramebuffer(),this.__flushGLViewport(),this.__flushGLBlend(),this.__flushGLColor(),this.__flushGLCulling(),this.__flushGLDepth(),this.__flushGLScissor(),this.__flushGLStencil(),this.__flushGLTextures()},__flushGLBlend:function(){(this.__contextState.blendDestinationRGBFactor!=this.__state.blendDestinationRGBFactor||this.__contextState.blendSourceRGBFactor!=this.__state.blendSourceRGBFactor||this.__contextState.blendDestinationAlphaFactor!=this.__state.blendDestinationAlphaFactor||this.__contextState.blendSourceAlphaFactor!=this.__state.blendSourceAlphaFactor)&&(this.__setGLBlend(!0),this.__state.blendDestinationRGBFactor==this.__state.blendDestinationAlphaFactor&&this.__state.blendSourceRGBFactor==this.__state.blendSourceAlphaFactor?this.gl.blendFunc(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor)):this.gl.blendFuncSeparate(this.__getGLBlend(this.__state.blendSourceRGBFactor),this.__getGLBlend(this.__state.blendDestinationRGBFactor),this.__getGLBlend(this.__state.blendSourceAlphaFactor),this.__getGLBlend(this.__state.blendDestinationAlphaFactor)),this.__contextState.blendDestinationRGBFactor=this.__state.blendDestinationRGBFactor,this.__contextState.blendSourceRGBFactor=this.__state.blendSourceRGBFactor,this.__contextState.blendDestinationAlphaFactor=this.__state.blendDestinationAlphaFactor,this.__contextState.blendSourceAlphaFactor=this.__state.blendSourceAlphaFactor)},__flushGLColor:function(){(this.__contextState.colorMaskRed!=this.__state.colorMaskRed||this.__contextState.colorMaskGreen!=this.__state.colorMaskGreen||this.__contextState.colorMaskBlue!=this.__state.colorMaskBlue||this.__contextState.colorMaskAlpha!=this.__state.colorMaskAlpha)&&(this.gl.colorMask(this.__state.colorMaskRed,this.__state.colorMaskGreen,this.__state.colorMaskBlue,this.__state.colorMaskAlpha),this.__contextState.colorMaskRed=this.__state.colorMaskRed,this.__contextState.colorMaskGreen=this.__state.colorMaskGreen,this.__contextState.colorMaskBlue=this.__state.colorMaskBlue,this.__contextState.colorMaskAlpha=this.__state.colorMaskAlpha)},__flushGLCulling:function(){if(this.__contextState.culling!=this.__state.culling){if(this.__state.culling=="none")this.__setGLCullFace(!1);else switch(this.__setGLCullFace(!0),this.__state.culling){case"back":this.gl.cullFace(this.gl.BACK);break;case"front":this.gl.cullFace(this.gl.FRONT);break;case"frontAndBack":this.gl.cullFace(this.gl.FRONT_AND_BACK);break;case"none":break;default:throw new(ut()).default(new(ot()).default)}this.__contextState.culling=this.__state.culling}},__flushGLDepth:function(){var vt=this.__state.depthMask&&(this.__state.renderToTexture!=null?this.__state.renderToTextureDepthStencil:this.__state.backBufferEnableDepthAndStencil);if(this.__contextState.depthMask!=vt&&(this.gl.depthMask(vt),this.__contextState.depthMask=vt),this.__contextState.depthCompareMode!=this.__state.depthCompareMode){switch(this.__state.depthCompareMode){case"always":this.gl.depthFunc(this.gl.ALWAYS);break;case"equal":this.gl.depthFunc(this.gl.EQUAL);break;case"greater":this.gl.depthFunc(this.gl.GREATER);break;case"greaterEqual":this.gl.depthFunc(this.gl.GEQUAL);break;case"less":this.gl.depthFunc(this.gl.LESS);break;case"lessEqual":this.gl.depthFunc(this.gl.LEQUAL);break;case"never":this.gl.depthFunc(this.gl.NEVER);break;case"notEqual":this.gl.depthFunc(this.gl.NOTEQUAL);break;default:throw new(ut()).default(new(ot()).default)}this.__contextState.depthCompareMode=this.__state.depthCompareMode}},__flushGLFramebuffer:function(){if(this.__state.renderToTexture!=null){if(this.__contextState.renderToTexture!=this.__state.renderToTexture||this.__contextState.renderToTextureSurfaceSelector!=this.__state.renderToTextureSurfaceSelector){var vt=this.__state.renderToTexture.__getGLFramebuffer(this.__state.renderToTextureDepthStencil,this.__state.renderToTextureAntiAlias,this.__state.renderToTextureSurfaceSelector);this.__bindGLFramebuffer(vt),this.__contextState.renderToTexture=this.__state.renderToTexture,this.__contextState.renderToTextureAntiAlias=this.__state.renderToTextureAntiAlias,this.__contextState.renderToTextureDepthStencil=this.__state.renderToTextureDepthStencil,this.__contextState.renderToTextureSurfaceSelector=this.__state.renderToTextureSurfaceSelector}this.__setGLDepthTest(this.__state.renderToTextureDepthStencil),this.__setGLStencilTest(this.__state.renderToTextureDepthStencil),this.__setGLFrontFace(!0)}else{if(this.__stage==null&&this.backBufferWidth==0&&this.backBufferHeight==0)throw new(ut()).default(new(lt()).default("Context3D backbuffer has not been configured"));(this.__contextState.renderToTexture!=null||this.__contextState.__currentGLFramebuffer!=this.__state.__primaryGLFramebuffer||this.__contextState.backBufferEnableDepthAndStencil!=this.__state.backBufferEnableDepthAndStencil)&&(this.__bindGLFramebuffer(this.__state.__primaryGLFramebuffer),this.__contextState.renderToTexture=null,this.__contextState.backBufferEnableDepthAndStencil=this.__state.backBufferEnableDepthAndStencil),this.__setGLDepthTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLStencilTest(this.__state.backBufferEnableDepthAndStencil),this.__setGLFrontFace(this.__stage.context3D!=this)}},__flushGLProgram:function(){var vt=this.__state.shader,bt=this.__state.program;this.__contextState.shader!=vt&&(this.__contextState.shader!=null&&this.__contextState.shader.__disable(),vt!=null&&vt.__enable(),this.__contextState.shader=vt),this.__contextState.program!=bt&&(this.__contextState.program!=null&&this.__contextState.program.__disable(),bt!=null&&bt.__enable(),this.__contextState.program=bt),bt!=null&&bt.__format=="agal"&&(this.__positionScale[1]=this.__stage.context3D==this&&this.__state.renderToTexture==null?1:-1,bt.__setPositionScale(this.__positionScale))},__flushGLScissor:function(){if(!this.__state.scissorEnabled)this.__contextState.scissorEnabled!=this.__state.scissorEnabled&&(this.__setGLScissorTest(!1),this.__contextState.scissorEnabled=!1);else{this.__setGLScissorTest(!0),this.__contextState.scissorEnabled=!0;var vt=s().default.int(this.__state.scissorRectangle.x),bt=s().default.int(this.__state.scissorRectangle.y),wt=s().default.int(this.__state.scissorRectangle.width),At=s().default.int(this.__state.scissorRectangle.height);if(this.__backBufferWantsBestResolution&&(vt=s().default.int(this.__state.scissorRectangle.x*this.__stage.window.get_scale()),bt=s().default.int(this.__state.scissorRectangle.y*this.__stage.window.get_scale()),wt=s().default.int(this.__state.scissorRectangle.width*this.__stage.window.get_scale()),At=s().default.int(this.__state.scissorRectangle.height*this.__stage.window.get_scale())),this.__state.renderToTexture==null&&this.__stage3D==null){var ct=s().default.int(this.__stage.window.get_height()*this.__stage.window.get_scale());bt=ct-At-bt}(this.__contextState.scissorRectangle.x!=vt||this.__contextState.scissorRectangle.y!=bt||this.__contextState.scissorRectangle.width!=wt||this.__contextState.scissorRectangle.height!=At)&&(this.gl.scissor(vt,bt,wt,At),this.__contextState.scissorRectangle.setTo(vt,bt,wt,At))}},__flushGLStencil:function(){(this.__contextState.stencilTriangleFace!=this.__state.stencilTriangleFace||this.__contextState.stencilPass!=this.__state.stencilPass||this.__contextState.stencilDepthFail!=this.__state.stencilDepthFail||this.__contextState.stencilFail!=this.__state.stencilFail)&&(this.gl.stencilOpSeparate(this.__getGLTriangleFace(this.__state.stencilTriangleFace),this.__getGLStencilAction(this.__state.stencilFail),this.__getGLStencilAction(this.__state.stencilDepthFail),this.__getGLStencilAction(this.__state.stencilPass)),this.__contextState.stencilTriangleFace=this.__state.stencilTriangleFace,this.__contextState.stencilPass=this.__state.stencilPass,this.__contextState.stencilDepthFail=this.__state.stencilDepthFail,this.__contextState.stencilFail=this.__state.stencilFail),this.__contextState.stencilWriteMask!=this.__state.stencilWriteMask&&(this.gl.stencilMask(this.__state.stencilWriteMask),this.__contextState.stencilWriteMask=this.__state.stencilWriteMask),(this.__contextState.stencilCompareMode!=this.__state.stencilCompareMode||this.__contextState.stencilReferenceValue!=this.__state.stencilReferenceValue||this.__contextState.stencilReadMask!=this.__state.stencilReadMask)&&(this.gl.stencilFunc(this.__getGLCompareMode(this.__state.stencilCompareMode),this.__state.stencilReferenceValue,this.__state.stencilReadMask),this.__contextState.stencilCompareMode=this.__state.stencilCompareMode,this.__contextState.stencilReferenceValue=this.__state.stencilReferenceValue,this.__contextState.stencilReadMask=this.__state.stencilReadMask)},__flushGLTextures:function(){for(var vt=0,bt,wt,At=0,ct=this.__state.textures.length;At<ct;){var mt=At++;bt=this.__state.textures[mt],wt=this.__state.samplerStates[mt],wt==null&&(this.__state.samplerStates[mt]=new(_t()).default,wt=this.__state.samplerStates[mt]),this.gl.activeTexture(this.gl.TEXTURE0+vt),bt!=null?(bt.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(bt.__getTexture()):this.__bindGLTextureCubeMap(bt.__getTexture()),this.__contextState.textures[mt]=bt,bt.__setSamplerState(wt)):this.__bindGLTexture2D(null),this.__state.program!=null&&this.__state.program.__format=="agal"&&wt.textureAlpha&&(this.gl.activeTexture(this.gl.TEXTURE0+vt+4),bt!=null&&bt.__alphaTexture!=null?(bt.__alphaTexture.__textureTarget==this.gl.TEXTURE_2D?this.__bindGLTexture2D(bt.__alphaTexture.__getTexture()):this.__bindGLTextureCubeMap(bt.__alphaTexture.__getTexture()),bt.__alphaTexture.__setSamplerState(wt),this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[vt].location,1)):(this.__bindGLTexture2D(null),this.__state.program.__agalAlphaSamplerEnabled[vt]!=null&&this.gl.uniform1i(this.__state.program.__agalAlphaSamplerEnabled[vt].location,0))),++vt}},__flushGLViewport:function(){if(this.__state.renderToTexture==null)if(this.__stage.context3D==this){var vt=this.backBufferWidth,bt=this.backBufferHeight;this.__stage3D==null&&!this.__backBufferWantsBestResolution&&(vt=s().default.int(this.backBufferWidth*this.__stage.window.get_scale()),bt=s().default.int(this.backBufferHeight*this.__stage.window.get_scale()));var wt=this.__stage3D==null?0:s().default.int(this.__stage3D.get_x()),At=s().default.int(this.__stage.window.get_height()*this.__stage.window.get_scale()-bt-(this.__stage3D==null?0:this.__stage3D.get_y()));this.gl.viewport(wt,At,vt,bt)}else this.gl.viewport(0,0,this.backBufferWidth,this.backBufferHeight);else{var ct=0,mt=0;if(this.__state.renderToTexture instanceof $().default){var gt=this.__state.renderToTexture;ct=gt.__width,mt=gt.__height}else if(this.__state.renderToTexture instanceof k().default){var Tt=this.__state.renderToTexture;ct=Tt.__width,mt=Tt.__height}else if(this.__state.renderToTexture instanceof f().default){var yt=this.__state.renderToTexture;ct=yt.__size,mt=yt.__size}this.gl.viewport(0,0,ct,mt)}},__getGLBlend:function(vt){switch(vt){case"destinationAlpha":return this.gl.DST_ALPHA;case"destinationColor":return this.gl.DST_COLOR;case"one":return this.gl.ONE;case"oneMinusDestinationAlpha":return this.gl.ONE_MINUS_DST_ALPHA;case"oneMinusDestinationColor":return this.gl.ONE_MINUS_DST_COLOR;case"oneMinusSourceAlpha":return this.gl.ONE_MINUS_SRC_ALPHA;case"oneMinusSourceColor":return this.gl.ONE_MINUS_SRC_COLOR;case"sourceAlpha":return this.gl.SRC_ALPHA;case"sourceColor":return this.gl.SRC_COLOR;case"zero":return this.gl.ZERO;default:throw new(ut()).default(new(ot()).default)}},__getGLCompareMode:function(vt){switch(vt){case"always":return this.gl.ALWAYS;case"equal":return this.gl.EQUAL;case"greater":return this.gl.GREATER;case"greaterEqual":return this.gl.GEQUAL;case"less":return this.gl.LESS;case"lessEqual":return this.gl.LEQUAL;case"never":return this.gl.NEVER;case"notEqual":return this.gl.NOTEQUAL;default:return this.gl.EQUAL}},__getGLStencilAction:function(vt){switch(vt){case"decrementSaturate":return this.gl.DECR;case"decrementWrap":return this.gl.DECR_WRAP;case"incrementSaturate":return this.gl.INCR;case"incrementWrap":return this.gl.INCR_WRAP;case"invert":return this.gl.INVERT;case"keep":return this.gl.KEEP;case"set":return this.gl.REPLACE;case"zero":return this.gl.ZERO;default:return this.gl.KEEP}},__getGLTriangleFace:function(vt){switch(vt){case"back":return this.gl.BACK;case"front":return this.gl.FRONT;case"frontAndBack":return this.gl.FRONT_AND_BACK;case"none":return this.gl.NONE;default:return this.gl.FRONT_AND_BACK}},__renderStage3D:function(vt){var bt=vt.context3D;if(bt!=null&&bt!=this&&bt.__frontBufferTexture!=null&&vt.visible&&this.backBufferHeight>0&&this.backBufferWidth>0){if(this.__renderStage3DProgram==null){var wt=new(ft()).default;wt.assemble("vertex",`m44 op, va0, vc0
mov v0, va1`);var At=new(ft()).default;At.assemble("fragment",`tex ft1, v0, fs0 <2d,nearest,nomip>
mov oc, ft1`),this.__renderStage3DProgram=this.createProgram(),this.__renderStage3DProgram.upload(wt.agalcode,At.agalcode)}this.setProgram(this.__renderStage3DProgram),this.setBlendFactors("one","zero"),this.setColorMask(!0,!0,!0,!0),this.setCulling("none"),this.setDepthTest(!1,"always"),this.setStencilActions(),this.setStencilReferenceValue(0,0,0),this.setScissorRectangle(null),this.setTextureAt(0,bt.__frontBufferTexture),this.setVertexBufferAt(0,vt.__vertexBuffer,0,"float3"),this.setVertexBufferAt(1,vt.__vertexBuffer,3,"float2"),this.setProgramConstantsFromMatrix("vertex",0,vt.__renderTransform,!0),this.drawTriangles(vt.__indexBuffer),this.__present=!0}},__setGLBlend:function(vt){this.__contextState.__enableGLBlend!=vt&&(vt?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this.__contextState.__enableGLBlend=vt)},__setGLBlendEquation:function(vt){this.__contextState.__glBlendEquation!=vt&&(this.gl.blendEquation(vt),this.__contextState.__glBlendEquation=vt)},__setGLCullFace:function(vt){this.__contextState.__enableGLCullFace!=vt&&(vt?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.__contextState.__enableGLCullFace=vt)},__setGLDepthTest:function(vt){this.__contextState.__enableGLDepthTest!=vt&&(vt?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this.__contextState.__enableGLDepthTest=vt)},__setGLFrontFace:function(vt){this.__contextState.__frontFaceGLCCW!=vt&&(this.gl.frontFace(vt?this.gl.CCW:this.gl.CW),this.__contextState.__frontFaceGLCCW=vt)},__setGLScissorTest:function(vt){this.__contextState.__enableGLScissorTest!=vt&&(vt?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.__contextState.__enableGLScissorTest=vt)},__setGLStencilTest:function(vt){this.__contextState.__enableGLStencilTest!=vt&&(vt?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this.__contextState.__enableGLStencilTest=vt)},get_enableErrorChecking:function(){return this.__enableErrorChecking},set_enableErrorChecking:function(vt){return this.__enableErrorChecking=vt},get_totalGPUMemory:function(){if(xt.__glMemoryCurrentAvailable!=-1){var vt=this.gl.getParameter(xt.__glMemoryCurrentAvailable),bt=this.gl.getParameter(xt.__glMemoryTotalAvailable);if(bt>0)return(bt-vt)*1024}return 0}}),xt.prototype.__class__=xt.prototype.constructor=d["openfl.display3D.Context3D"]=xt,xt.supportsVideoTexture=!0,xt.__glDepthStencil=-1,xt.__glMaxTextureMaxAnisotropy=-1,xt.__glMaxViewportDims=-1,xt.__glMemoryCurrentAvailable=-1,xt.__glMemoryTotalAvailable=-1,xt.__glTextureMaxAnisotropy=-1,e.default=xt}(Context3D$1)),Context3D$1}var hasRequiredTextureBase;function requireTextureBase(){return hasRequiredTextureBase||(hasRequiredTextureBase=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return requireLog()}function h(){return requireContext3D()}function f(){return requireImageCanvasUtil()}function g(){return requireImageType()}function b(){return requireHaxeError()}function k(){return _Error$1}function $(){return requireWebGLRenderContext_Impl_()}function j(){return requireIntMap()}var _e=function(et){c().default.call(this),this.__context=et;var nt=this.__context.gl;if(this.__textureID=nt.createTexture(),this.__textureContext=this.__context.__context,_e.__supportsBGRA==null){_e.__textureInternalFormat=nt.RGBA;var rt=null;rt!=null?(_e.__supportsBGRA=!0,_e.__textureFormat=rt.BGRA_EXT,et.__context.type=="opengles"&&(_e.__textureInternalFormat=rt.BGRA_EXT)):(_e.__supportsBGRA=!1,_e.__textureFormat=nt.RGBA),_e.__compressedFormats=new(j()).default,_e.__compressedFormatsAlpha=new(j()).default;var tt=nt.getExtension("WEBGL_compressed_texture_s3tc"),it=nt.getExtension("WEBGL_compressed_texture_etc1"),st=nt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");if(tt!=null){var at=tt.COMPRESSED_RGBA_S3TC_DXT1_EXT;_e.__compressedFormats.set(0,at);var _t=tt.COMPRESSED_RGBA_S3TC_DXT5_EXT;_e.__compressedFormatsAlpha.set(0,_t)}if(it!=null){var ut=it.COMPRESSED_RGB_ETC1_WEBGL;_e.__compressedFormats.set(2,ut);var ot=it.COMPRESSED_RGB_ETC1_WEBGL;_e.__compressedFormatsAlpha.set(2,ot)}if(st!=null){var lt=st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;_e.__compressedFormats.set(1,lt);var ft=st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;_e.__compressedFormatsAlpha.set(1,ft)}}this.__internalFormat=_e.__textureInternalFormat,this.__format=_e.__textureFormat};_e.__name__="openfl.display3D.textures.TextureBase",_e.__isInterface__=!1,_e.__super__=c().default,_e.prototype=o(c().default.prototype,{dispose:function(){var et=this.__context.gl;this.__alphaTexture!=null&&(this.__alphaTexture.dispose(),this.__alphaTexture=null),this.__textureID!=null&&(et.deleteTexture(this.__textureID),this.__textureID=null),this.__glFramebuffer!=null&&(et.deleteFramebuffer(this.__glFramebuffer),this.__glFramebuffer=null),this.__glDepthRenderbuffer!=null&&(et.deleteRenderbuffer(this.__glDepthRenderbuffer),this.__glDepthRenderbuffer=null),this.__glStencilRenderbuffer!=null&&(et.deleteRenderbuffer(this.__glStencilRenderbuffer),this.__glStencilRenderbuffer=null)},__getGLFramebuffer:function(et,nt,rt){var tt=this.__context.gl;if(this.__glFramebuffer==null&&(this.__glFramebuffer=tt.createFramebuffer(),this.__context.__bindGLFramebuffer(this.__glFramebuffer),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,this.__textureID,0),this.__context.__enableErrorChecking)){var it=tt.checkFramebufferStatus(tt.FRAMEBUFFER);it!=tt.FRAMEBUFFER_COMPLETE&&s().default.warn("Error: Context3D.setRenderToTexture status:"+it+" width:"+this.__width+" height:"+this.__height,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/textures/TextureBase.hx",lineNumber:201,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"})}if(et&&this.__glDepthRenderbuffer==null){if(this.__context.__bindGLFramebuffer(this.__glFramebuffer),h().default.__glDepthStencil!=0?(this.__glDepthRenderbuffer=tt.createRenderbuffer(),this.__glStencilRenderbuffer=this.__glDepthRenderbuffer,tt.bindRenderbuffer(tt.RENDERBUFFER,this.__glDepthRenderbuffer),tt.renderbufferStorage(tt.RENDERBUFFER,h().default.__glDepthStencil,this.__width,this.__height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.DEPTH_STENCIL_ATTACHMENT,tt.RENDERBUFFER,this.__glDepthRenderbuffer)):(this.__glDepthRenderbuffer=tt.createRenderbuffer(),this.__glStencilRenderbuffer=tt.createRenderbuffer(),tt.bindRenderbuffer(tt.RENDERBUFFER,this.__glDepthRenderbuffer),tt.renderbufferStorage(tt.RENDERBUFFER,tt.DEPTH_COMPONENT16,this.__width,this.__height),tt.bindRenderbuffer(tt.RENDERBUFFER,this.__glStencilRenderbuffer),tt.renderbufferStorage(tt.RENDERBUFFER,tt.STENCIL_INDEX8,this.__width,this.__height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.DEPTH_ATTACHMENT,tt.RENDERBUFFER,this.__glDepthRenderbuffer),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.STENCIL_ATTACHMENT,tt.RENDERBUFFER,this.__glStencilRenderbuffer)),this.__context.__enableErrorChecking){var st=tt.checkFramebufferStatus(tt.FRAMEBUFFER);st!=tt.FRAMEBUFFER_COMPLETE&&s().default.warn("Error: Context3D.setRenderToTexture status:"+st+" width:"+this.__width+" height:"+this.__height,{fileName:"../node_modules/openfl-haxelib/src/openfl/display3D/textures/TextureBase.hx",lineNumber:239,className:"openfl.display3D.textures.TextureBase",methodName:"__getGLFramebuffer"})}tt.bindRenderbuffer(tt.RENDERBUFFER,null)}return this.__glFramebuffer},__getImage:function(et){var nt=et.image;if(!et.__isValid||nt==null)return null;f().default.sync(nt,!1);var rt=this.__context.gl;return nt.type!=g().default.DATA&&!nt.get_premultiplied()?rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1):!nt.get_premultiplied()&&nt.get_transparent()&&(rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),nt=nt.clone(),nt.set_premultiplied(!0)),nt.get_format()!=0&&(nt=nt.clone(),nt.set_format(0),nt.buffer.premultiplied=!0),nt},__getTexture:function(){return this.__textureID},__setSamplerState:function(et){if(!et.equals(this.__samplerState)){var nt=this.__context.gl;this.__textureTarget==this.__context.gl.TEXTURE_CUBE_MAP?this.__context.__bindGLTextureCubeMap(this.__textureID):this.__context.__bindGLTexture2D(this.__textureID);var rt=0,tt=0;switch(et.wrap){case"clamp":rt=nt.CLAMP_TO_EDGE,tt=nt.CLAMP_TO_EDGE;break;case"clamp_u_repeat_v":rt=nt.CLAMP_TO_EDGE,tt=nt.REPEAT;break;case"repeat":rt=nt.REPEAT,tt=nt.REPEAT;break;case"repeat_u_clamp_v":rt=nt.REPEAT,tt=nt.CLAMP_TO_EDGE;break;default:throw new(b()).default(new(k()).default("wrap bad enum"))}var it=0,st=0;switch(et.filter=="nearest"?it=nt.NEAREST:it=nt.LINEAR,et.mipfilter){case"miplinear":st=et.filter=="nearest"?nt.NEAREST_MIPMAP_LINEAR:nt.LINEAR_MIPMAP_LINEAR;break;case"mipnearest":st=et.filter=="nearest"?nt.NEAREST_MIPMAP_NEAREST:nt.LINEAR_MIPMAP_NEAREST;break;case"mipnone":st=et.filter=="nearest"?nt.NEAREST:nt.LINEAR;break;default:throw new(b()).default(new(k()).default("mipfiter bad enum"))}return nt.texParameteri(this.__textureTarget,nt.TEXTURE_MIN_FILTER,st),nt.texParameteri(this.__textureTarget,nt.TEXTURE_MAG_FILTER,it),nt.texParameteri(this.__textureTarget,nt.TEXTURE_WRAP_S,rt),nt.texParameteri(this.__textureTarget,nt.TEXTURE_WRAP_T,tt),et.lodBias!=0,this.__samplerState==null&&(this.__samplerState=et.clone()),this.__samplerState.copyFrom(et),!0}return!1},__uploadFromImage:function(et){var nt=this.__context.gl,rt,tt;this.__textureTarget==nt.TEXTURE_2D&&(et.buffer.bitsPerPixel==1?(rt=nt.ALPHA,tt=nt.ALPHA):(rt=_e.__textureInternalFormat,tt=_e.__textureFormat),this.__context.__bindGLTexture2D(this.__textureID),(et.type!=g().default.DATA&&!et.get_premultiplied()||!et.get_premultiplied()&&et.get_transparent())&&nt.pixelStorei(nt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),et.type==g().default.DATA?$().default.texImage2D(nt,nt.TEXTURE_2D,0,rt,et.buffer.width,et.buffer.height,0,tt,nt.UNSIGNED_BYTE,et.get_data()):$().default.texImage2D(nt,nt.TEXTURE_2D,0,rt,tt,nt.UNSIGNED_BYTE,et.get_src()),this.__context.__bindGLTexture2D(null))}}),_e.prototype.__class__=_e.prototype.constructor=d["openfl.display3D.textures.TextureBase"]=_e,_e.__meta__={fields:{__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__getGLFramebuffer:{SuppressWarnings:["checkstyle:Dynamic"]}}},_e.__supportsBGRA=null,e.default=_e}(TextureBase$1)),TextureBase$1}var PerlinNoise={},AbstractNoise={},hasRequiredAbstractNoise;function requireAbstractNoise(){return hasRequiredAbstractNoise||(hasRequiredAbstractNoise=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}var c=function(s,h,f,g,b,k,$){$==null&&($=.05),k==null&&(k=!1),this.stitch=k,this.stitch_threshold=$,this.octaves=h,this.channels=f,this.grayscale=g,this.calculateOctaves(b)};c.__name__="openfl.display._internal.AbstractNoise",c.__isInterface__=!1,c.prototype={fill:function(s,h,f,g){},stitching:function(s,h,f,g,b,k,$,j){var _e=h>>16&255,et=h>>8&255,nt=h&255;if($-b<f){var rt=s.getPixel32($-f,g),tt=rt>>16&255,it=rt>>8&255,st=rt&255,at=($-f)/b;_e=this.mixI(tt,_e,at),et=this.mixI(it,et,at),nt=this.mixI(st,nt,at)}if(j-k<g){var _t=s.getPixel32(f,j-g),ut=_t>>16&255,ot=_t>>8&255,lt=_t&255,ft=(j-g)/k;_e=this.mixI(ut,_e,ft),et=this.mixI(ot,et,ft),nt=this.mixI(lt,nt,ft)}return-16777216|_e<<16|et<<8|nt},color:function(s,h,f){var g=0,b=0,k=0;return s!=null&&(g=this.noiseToColor(s)),h!=null&&(b=this.noiseToColor(h)),f!=null&&(k=this.noiseToColor(f)),-16777216|g<<16|b<<8|k},noiseToColor:function(s){return o().default.int((s*this.persistence_max+1)*128)},fade:function(s){return s*s*s*(s*(s*6-15)+10)},mixI:function(s,h,f){return o().default.int((1-f)*s+f*h)},mix:function(s,h,f){return(1-f)*s+f*h},fastfloor:function(s){return s>0?o().default.int(s):o().default.int(s-1)},dot2d:function(s,h,f){return s[0]*h+s[1]*f},dot:function(s,h,f,g){return s[0]*h+s[1]*f+s[2]*g},calculateOctaves:function(s){var h,f;this.octaves_frequencies=[],this.octaves_persistences=[],this.persistence_max=0;for(var g=0,b=this.octaves;g<b;){var k=g++;h=Math.pow(2,k),f=Math.pow(s,k),this.persistence_max+=f,this.octaves_frequencies.push(h),this.octaves_persistences.push(f)}this.persistence_max=1/this.persistence_max}},c.prototype.__class__=c.prototype.constructor=d["openfl.display._internal.AbstractNoise"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c}(AbstractNoise)),AbstractNoise}var hasRequiredPerlinNoise;function requirePerlinNoise(){return hasRequiredPerlinNoise||(hasRequiredPerlinNoise=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireAbstractNoise()}function s(){return requireStd()}var h=function(f,g,b,k,$,j,_e){_e==null&&(_e=.05),j==null&&(j=!1),c().default.call(this,f,g,b,k,$,j,_e),this.p_perm=[];for(var et=0;et<512;){var nt=et++;this.p_perm[nt]=h.P[nt&255]}this.base_factor=.03125,this.setSeed(f)};h.__name__="openfl.display._internal.PerlinNoise",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{fill:function(f,g,b,k){var $=f.width,j=f.height,_e=this.octaves,et=this.octaves_frequencies,nt=this.octaves_persistences,rt=(1&this.channels)==1,tt=(2&this.channels)==2,it=(4&this.channels)==4,st=0;rt&&++st,tt&&++st,it&&++st;var at=this.grayscale,_t=s().default.int(this.stitch_threshold*$),ut=s().default.int(this.stitch_threshold*j),ot=g*this.base_factor+this.x_offset;b=b*this.base_factor+this.y_offset,k=k*this.base_factor+this.z_offset;for(var lt=1,ft=2,ht=0,dt=j;ht<dt;){var pt=ht++;g=ot;for(var xt=0,vt=$;xt<vt;){for(var bt=xt++,wt=0,At=0,ct=0,mt=0,gt=_e;mt<gt;){var Tt=mt++,yt=et[Tt],Et=nt[Tt];wt+=this.noise(g*yt,b*yt,k*yt)*Et,at||(1<st&&(At+=this.noise((g+lt)*yt,(b+lt)*yt,k*yt)*Et),2<st&&(ct+=this.noise((g+ft)*yt,(b+ft)*yt,k*yt)*Et))}var Ct=0;at?Ct=this.color(wt,wt,wt):rt&&tt&&it?Ct=this.color(wt,At,ct):rt&&tt?Ct=this.color(wt,At,null):rt&&it?Ct=this.color(wt,null,At):tt&&it?Ct=this.color(null,wt,At):rt?Ct=this.color(wt,null,null):tt?Ct=this.color(null,wt,null):it&&(Ct=this.color(null,null,wt)),this.stitch&&(Ct=this.stitching(f,Ct,bt,pt,_t,ut,$,j)),f.setPixel32(bt,pt,Ct),g+=this.base_factor}b+=this.base_factor}},noise:function(f,g,b){var k=f-f%1,$=g-g%1,j=b-b%1;f-=k,g-=$,b-=j;var _e=s().default.int(k)&255,et=s().default.int($)&255,nt=s().default.int(j)&255,rt=this.fade(f),tt=this.fade(g),it=this.fade(b),st=this.p_perm[_e]+et,at=this.p_perm[st]+nt,_t=this.p_perm[st+1]+nt,ut=this.p_perm[_e+1]+et,ot=this.p_perm[ut]+nt,lt=this.p_perm[ut+1]+nt,ft=f-1,ht=g-1,dt=b-1,pt=this.p_perm[lt+1]&15,xt=(pt&1?pt<8?-ft:-ht:pt<8?ft:ht)+(pt&2?pt<4?-ht:pt==14?-ft:-dt:pt<4?ht:pt==12?ft:dt);pt=this.p_perm[_t+1]&15;var vt=(pt&1?pt<8?-f:-ht:pt<8?f:ht)+(pt&2?pt<4?-ht:pt==14?-f:-dt:pt<4?ht:pt==12?f:dt);pt=this.p_perm[ot+1]&15;var bt=(pt&1?pt<8?-ft:-g:pt<8?ft:g)+(pt&2?pt<4?-g:pt==14?-ft:-dt:pt<4?g:pt==12?ft:dt);pt=this.p_perm[at+1]&15;var wt=(pt&1?pt<8?-f:-g:pt<8?f:g)+(pt&2?pt<4?-g:pt==14?-f:-dt:pt<4?g:pt==12?f:dt);pt=this.p_perm[lt]&15;var At=(pt&1?pt<8?-ft:-ht:pt<8?ft:ht)+(pt&2?pt<4?-ht:pt==14?-ft:-b:pt<4?ht:pt==12?ft:b);pt=this.p_perm[_t]&15;var ct=(pt&1?pt<8?-f:-ht:pt<8?f:ht)+(pt&2?pt<4?-ht:pt==14?-f:-b:pt<4?ht:pt==12?f:b);pt=this.p_perm[ot]&15;var mt=(pt&1?pt<8?-ft:-g:pt<8?ft:g)+(pt&2?pt<4?-g:pt==14?-ft:-b:pt<4?g:pt==12?ft:b);pt=this.p_perm[at]&15;var gt=(pt&1?pt<8?-f:-g:pt<8?f:g)+(pt&2?pt<4?-g:pt==14?-f:-b:pt<4?g:pt==12?f:b);return vt+=rt*(xt-vt),wt+=rt*(bt-wt),ct+=rt*(At-ct),gt+=rt*(mt-gt),wt+=tt*(vt-wt),gt+=tt*(ct-gt),gt+it*(wt-gt)},setSeed:function(f){f=s().default.int(f*16807%2147483647),this.x_offset=f,f=s().default.int(f*16807%2147483647),this.y_offset=f,f=s().default.int(f*16807%2147483647),this.z_offset=f}}),h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.PerlinNoise"]=h,h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{P:{SuppressWarnings:["checkstyle:ConstantName"]}}},h.P=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],e.default=h}(PerlinNoise)),PerlinNoise}var Endian_Impl_={},hasRequiredEndian_Impl_;function requireEndian_Impl_(){return hasRequiredEndian_Impl_||(hasRequiredEndian_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireEndian()}var c=function(){};c.__name__="openfl.utils._Endian.Endian_Impl_",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.utils._Endian.Endian_Impl_"]=c,c.fromLimeEndian=function(s){switch(s._hx_index){case 0:return"littleEndian";case 1:return"bigEndian"}},c.toLimeEndian=function(s){switch(s){case"bigEndian":return o().default.BIG_ENDIAN;case"littleEndian":return o().default.LITTLE_ENDIAN;default:return null}},c.BIG_ENDIAN="bigEndian",c.LITTLE_ENDIAN="littleEndian",e.default=c}(Endian_Impl_)),Endian_Impl_}var hasRequiredBitmapData;function requireBitmapData(){return hasRequiredBitmapData||(hasRequiredBitmapData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IBitmapDrawable$1}function c(){return requireImageChannel()}function s(){return DisplayObject$1}function h(){return requireBoot()}function f(){return Matrix$2}function g(){return ColorTransform$1}function b(){return requireLib()}function k(){return requireApplication$1()}function $(){return requireOpenGLRenderer()}function j(){return Rectangle$2}function _e(){return requireImageCanvasUtil()}function et(){return requireCanvasRenderer()}function nt(){return requireByteArrayData()}function rt(){return PNGEncoderOptions$1}function tt(){return requireByteArray_Impl_()}function it(){return requireImageFileFormat()}function st(){return JPEGEncoderOptions$1}function at(){return requireFloat32Array_Impl_$1()}function _t(){return requireCairoImageSurface_Impl_()}function ut(){return requireCairoSurface_Impl_()}function ot(){return requireTextureBase()}function lt(){return requireStd()}function ft(){return requireUInt_Impl_()}function ht(){return requireVector_Impl_()}function dt(){return Bitmap$2}function pt(){return Point$2}function xt(){return requirePerlinNoise()}function vt(){return requireHaxeError()}function bt(){return _Error$1}function wt(){return requireEndian_Impl_()}function At(){return requireVectorIterator()}function ct(){return requireImage()}function mt(){return requireFuture()}function gt(){return requireVector2()}var Tt=function(yt,Et,Ct,It){It==null&&(It=-1),Ct==null&&(Ct=!0),this.__drawableType=0,this.transparent=Ct,yt=yt??0,Et=Et??0,yt=yt<0?0:yt,Et=Et<0?0:Et,this.width=yt,this.height=Et,this.rect=new(j()).default(0,0,yt,Et),this.__textureWidth=yt,this.__textureHeight=Et,yt>0&&Et>0&&(Ct?It&-16777216||(It=0):It=-16777216|It&16777215,It=It<<8|It>>>24&255,this.image=new(ct()).default(null,0,0,yt,Et,It),this.image.set_transparent(Ct),this.__isValid=!0,this.readable=!0),this.__renderTransform=new(f()).default,this.__worldAlpha=1,this.__worldTransform=new(f()).default,this.__worldColorTransform=new(g()).default,this.__renderable=!0};Tt.__name__="openfl.display.BitmapData",Tt.__isInterface__=!1,Tt.__interfaces__=[o().default],Tt.prototype={applyFilter:function(yt,Et,Ct,It){if(!(!this.readable||yt==null||!yt.readable)){var Rt=It.__needSecondBitmapData,Ft=It.__preserveObject,Lt=null,Ot=null;Rt?Lt=new Tt(this.width,this.height,!0,0):Lt=this,Ft&&(Ot=new Tt(this.width,this.height,!0,0)),It.__preserveObject&&Ot.copyPixels(this,this.rect,Ct);var Kt=It.__applyFilter(Lt,this,Et,Ct);It.__preserveObject&&Kt.draw(Ot,null,null),Rt&&Kt==Lt&&(Lt.image.version=this.image.version,this.image=Lt.image),this.image.dirty=!0,this.image.version++}},clone:function(){var yt;return this.__isValid?!this.readable&&this.image==null?(yt=new Tt(0,0,this.transparent,0),yt.width=this.width,yt.height=this.height,yt.__textureWidth=this.__textureWidth,yt.__textureHeight=this.__textureHeight,yt.rect.copyFrom(this.rect),yt.__framebuffer=this.__framebuffer,yt.__framebufferContext=this.__framebufferContext,yt.__texture=this.__texture,yt.__textureContext=this.__textureContext,yt.__isValid=!0):yt=Tt.fromImage(this.image.clone(),this.transparent):yt=new Tt(this.width,this.height,this.transparent,0),yt.__worldTransform.copyFrom(this.__worldTransform),yt.__renderTransform.copyFrom(this.__renderTransform),yt},colorTransform:function(yt,Et){this.readable&&this.image.colorTransform(yt.__toLimeRectangle(),Et.__toLimeColorMatrix())},compare:function(yt){if(yt==this)return 0;if(yt==null)return-1;if(this.readable==!1||yt.readable==!1)return-2;if(this.width!=yt.width)return-3;if(this.height!=yt.height)return-4;if(this.image!=null&&yt.image!=null&&this.image.get_format()==yt.image.get_format()){for(var Et=this.image.get_data(),Ct=yt.image.get_data(),It=!0,Rt=0,Ft=Et.length;Rt<Ft;){var Lt=Rt++;if(Et[Lt]!=Ct[Lt]){It=!1;break}}if(It)return 0}for(var Ot=null,Kt,qt,Ht,Zt,or,ir,lr,ar,Mt=0,kt=this.height;Mt<kt;)for(var Vt=Mt++,Nt=0,Wt=this.width;Nt<Wt;){var Qt=Nt++;Kt=!1,qt=this.getPixel32(Qt,Vt),Ht=yt.getPixel32(Qt,Vt),Zt=0,qt!=Ht&&(or=(qt>>>16&255)-(Ht>>>16&255),ir=(qt>>>8&255)-(Ht>>>8&255),lr=(qt&255)-(Ht&255),or<0&&(or*=-1),ir<0&&(ir*=-1),lr<0&&(lr*=-1),or==0&&ir==0&&lr==0?(ar=(qt>>>24&255)-(Ht>>>24&255),ar!=0&&(Zt=(Zt>>>24&255&255)<<24|16711680|(Zt>>>8&255&255)<<8|Zt&255&255,Zt=(Zt>>>24&255&255)<<24|(Zt>>>16&255&255)<<16|65280|Zt&255&255,Zt=(Zt>>>24&255&255)<<24|(Zt>>>16&255&255)<<16|(Zt>>>8&255&255)<<8|255,Zt=(ar&255)<<24|(Zt>>>16&255&255)<<16|(Zt>>>8&255&255)<<8|Zt&255&255,Kt=!0)):(Zt=(Zt>>>24&255&255)<<24|(or&255)<<16|(Zt>>>8&255&255)<<8|Zt&255&255,Zt=(Zt>>>24&255&255)<<24|(Zt>>>16&255&255)<<16|(ir&255)<<8|Zt&255&255,Zt=(Zt>>>24&255&255)<<24|(Zt>>>16&255&255)<<16|(Zt>>>8&255&255)<<8|lr&255,Zt=-16777216|(Zt>>>16&255&255)<<16|(Zt>>>8&255&255)<<8|Zt&255&255,Kt=!0)),Kt&&(Ot==null&&(Ot=new Tt(this.width,this.height,this.transparent||yt.transparent,0)),Ot.setPixel32(Qt,Vt,Zt))}return Ot??0},copyChannel:function(yt,Et,Ct,It,Rt){if(this.readable){var Ft;switch(It){case 1:Ft=c().default.RED;break;case 2:Ft=c().default.GREEN;break;case 4:Ft=c().default.BLUE;break;case 8:Ft=c().default.ALPHA;break;default:return}var Lt;switch(Rt){case 1:Lt=c().default.RED;break;case 2:Lt=c().default.GREEN;break;case 4:Lt=c().default.BLUE;break;case 8:Lt=c().default.ALPHA;break;default:return}this.image.copyChannel(yt.image,Et.__toLimeRectangle(),Ct.__toLimeVector2(),Ft,Lt)}},copyPixels:function(yt,Et,Ct,It,Rt,Ft){Ft==null&&(Ft=!1),!(!this.readable||yt==null)&&(Rt!=null&&(Tt.__tempVector.x=Rt.x,Tt.__tempVector.y=Rt.y),this.image.copyPixels(yt.image,Et.__toLimeRectangle(),Ct.__toLimeVector2(),It!=null?It.image:null,Rt!=null?Tt.__tempVector:null,Ft))},dispose:function(){this.image=null,this.width=0,this.height=0,this.rect=null,this.__isValid=!1,this.readable=!1,this.__surface=null,this.__vertexBuffer=null,this.__framebuffer=null,this.__framebufferContext=null,this.__texture=null,this.__textureContext=null},disposeImage:function(){this.readable=!1},draw:function(yt,Et,Ct,It,Rt,Ft){if(Ft==null&&(Ft=!1),yt!=null){var Lt=!0,Ot=null;yt instanceof s().default&&(Ot=h().default.__cast(yt,s().default),Ot.get_visible()||(Lt=!1,Ot.set_visible(!0))),yt.__update(!1,!0);var Kt=f().default.__pool.get();Kt.copyFrom(yt.__renderTransform),Kt.invert(),Et!=null&&Kt.concat(Et);var qt=null;Rt!=null&&(qt=f().default.__pool.get(),qt.copyFrom(Kt),qt.invert());var Ht=new(g()).default;if(Ht.__copyFrom(yt.__worldColorTransform),Ht.__invert(),!this.readable&&b().default.get_current().stage.context3D!=null){this.__textureContext==null&&(this.__textureContext=k().default.current.get_window().context),Ct!=null&&Ht.__combine(Ct);var Zt=new($()).default(b().default.get_current().stage.context3D,this);Zt.__allowSmoothing=Ft,Zt.__pixelRatio=b().default.get_current().stage.window.get_scale(),Zt.__overrideBlendMode=It,Zt.__worldTransform=Kt,Zt.__worldAlpha=1/yt.__worldAlpha,Zt.__worldColorTransform=Ht,Zt.__resize(this.width,this.height),Rt!=null&&Zt.__pushMaskRect(Rt,qt),this.__drawGL(yt,Zt),Rt!=null&&(Zt.__popMaskRect(),f().default.__pool.release(qt))}else{if(Ct!=null){var or=j().default.__pool.get(),ir=f().default.__pool.get();yt.__getBounds(or,ir);var lr=Math.ceil(or.width),ar=Math.ceil(or.height);ir.tx=-or.x,ir.ty=-or.y;var Mt=new Tt(lr,ar,!0,0);Mt.draw(yt,ir),Mt.colorTransform(Mt.rect,Ct),Mt.__renderTransform.identity(),Mt.__renderTransform.tx=or.x,Mt.__renderTransform.ty=or.y,Mt.__renderTransform.concat(yt.__renderTransform),Mt.__worldAlpha=yt.__worldAlpha,Mt.__worldColorTransform.__copyFrom(yt.__worldColorTransform),yt=Mt,j().default.__pool.release(or),f().default.__pool.release(ir)}_e().default.convertToCanvas(this.image);var kt=new(et()).default(this.image.buffer.__srcContext);kt.__allowSmoothing=Ft,kt.__overrideBlendMode=It,kt.__worldTransform=Kt,kt.__worldAlpha=1/yt.__worldAlpha,kt.__worldColorTransform=Ht,Rt!=null&&kt.__pushMaskRect(Rt,qt),this.__drawCanvas(yt,kt),Rt!=null&&(kt.__popMaskRect(),f().default.__pool.release(qt))}f().default.__pool.release(Kt),Ot!=null&&!Lt&&Ot.set_visible(!1)}},drawWithQuality:function(yt,Et,Ct,It,Rt,Ft,Lt){Ft==null&&(Ft=!1),this.draw(yt,Et,Ct,It,Rt,Lt!="low"&&Ft)},encode:function(yt,Et,Ct){if(!this.readable||yt==null)return Ct=null,Ct;if(Ct==null){var It=new(nt()).default(0);Ct=It}var Rt=this.image;if(!yt.equals(this.rect)){var Ft=f().default.__pool.get();Ft.tx=Math.round(-yt.x),Ft.ty=Math.round(-yt.y);var Lt=new Tt(Math.ceil(yt.width),Math.ceil(yt.height),!0,0);Lt.draw(this,Ft),Rt=Lt.image,f().default.__pool.release(Ft)}return Et instanceof rt().default?(Ct.writeBytes(tt().default.fromBytes(Rt.encode(it().default.PNG)),0,0),Ct):Et instanceof st().default?(Ct.writeBytes(tt().default.fromBytes(Rt.encode(it().default.JPEG,h().default.__cast(Et,st().default).quality)),0,0),Ct):(Ct=null,Ct)},fillRect:function(yt,Et){this.__fillRect(yt,Et,!0)},floodFill:function(yt,Et,Ct){this.readable&&this.image.floodFill(yt,Et,Ct,1)},generateFilterRect:function(yt,Et){return yt.clone()},getIndexBuffer:function(yt,Et){if(yt.gl,this.__indexBuffer==null||this.__indexBufferContext!=yt.__context||Et!=null&&this.__indexBufferGrid==null||this.__indexBufferGrid!=null&&!this.__indexBufferGrid.equals(Et)){if(this.__indexBufferContext=yt.__context,this.__indexBuffer=null,Et!=null){this.__indexBufferGrid==null&&(this.__indexBufferGrid=new(j()).default),this.__indexBufferGrid.copyFrom(Et);var Ct=Et.width,It=Et.height;if(Ct!=0&&It!=0){var Rt=new Uint16Array(54);this.__indexBufferData=Rt,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBufferData[18]=8,this.__indexBufferData[19]=9,this.__indexBufferData[20]=0,this.__indexBufferData[21]=0,this.__indexBufferData[22]=9,this.__indexBufferData[23]=1,this.__indexBufferData[24]=10,this.__indexBufferData[25]=8,this.__indexBufferData[26]=4,this.__indexBufferData[27]=4,this.__indexBufferData[28]=8,this.__indexBufferData[29]=0,this.__indexBufferData[30]=11,this.__indexBufferData[31]=10,this.__indexBufferData[32]=6,this.__indexBufferData[33]=6,this.__indexBufferData[34]=10,this.__indexBufferData[35]=4,this.__indexBufferData[36]=12,this.__indexBufferData[37]=13,this.__indexBufferData[38]=8,this.__indexBufferData[39]=8,this.__indexBufferData[40]=13,this.__indexBufferData[41]=9,this.__indexBufferData[42]=14,this.__indexBufferData[43]=12,this.__indexBufferData[44]=10,this.__indexBufferData[45]=10,this.__indexBufferData[46]=12,this.__indexBufferData[47]=8,this.__indexBufferData[48]=15,this.__indexBufferData[49]=14,this.__indexBufferData[50]=11,this.__indexBufferData[51]=11,this.__indexBufferData[52]=14,this.__indexBufferData[53]=10,this.__indexBuffer=yt.createIndexBuffer(54)}else if(Ct==0&&It!=0){var Ft=new Uint16Array(18);this.__indexBufferData=Ft,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=5,this.__indexBufferData[8]=0,this.__indexBufferData[9]=0,this.__indexBufferData[10]=5,this.__indexBufferData[11]=1,this.__indexBufferData[12]=6,this.__indexBufferData[13]=7,this.__indexBufferData[14]=4,this.__indexBufferData[15]=4,this.__indexBufferData[16]=7,this.__indexBufferData[17]=5,this.__indexBuffer=yt.createIndexBuffer(18)}else if(Ct!=0&&It==0){var Lt=new Uint16Array(18);this.__indexBufferData=Lt,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferData[6]=4,this.__indexBufferData[7]=0,this.__indexBufferData[8]=5,this.__indexBufferData[9]=5,this.__indexBufferData[10]=0,this.__indexBufferData[11]=2,this.__indexBufferData[12]=6,this.__indexBufferData[13]=4,this.__indexBufferData[14]=7,this.__indexBufferData[15]=7,this.__indexBufferData[16]=4,this.__indexBufferData[17]=5,this.__indexBuffer=yt.createIndexBuffer(18)}}else this.__indexBufferGrid=null;if(this.__indexBuffer==null){var Ot=new Uint16Array(6);this.__indexBufferData=Ot,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBuffer=yt.createIndexBuffer(6)}this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},getVertexBuffer:function(yt,Et,Ct){if(yt.gl,this.__vertexBuffer==null||this.__vertexBufferContext!=yt.__context||Et!=null&&this.__vertexBufferGrid==null||this.__vertexBufferGrid!=null&&!this.__vertexBufferGrid.equals(Et)||Ct!=null&&(this.__vertexBufferWidth!=Ct.get_width()||this.__vertexBufferHeight!=Ct.get_height()||this.__vertexBufferScaleX!=Ct.get_scaleX()||this.__vertexBufferScaleY!=Ct.get_scaleY())){this.__uvRect=new(j()).default(0,0,this.width,this.height);var It=1,Rt=1;if(this.__vertexBufferContext=yt.__context,this.__vertexBuffer=null,Ct!=null&&(this.__vertexBufferWidth=Ct.get_width(),this.__vertexBufferHeight=Ct.get_height(),this.__vertexBufferScaleX=Ct.get_scaleX(),this.__vertexBufferScaleY=Ct.get_scaleY()),Et!=null&&Ct!=null){this.__vertexBufferGrid==null&&(this.__vertexBufferGrid=new(j()).default),this.__vertexBufferGrid.copyFrom(Et),this.__vertexBufferWidth=Ct.get_width(),this.__vertexBufferHeight=Ct.get_height(),this.__vertexBufferScaleX=Ct.get_scaleX(),this.__vertexBufferScaleY=Ct.get_scaleY();var Ft=Et.width,Lt=Et.height;if(Ft!=0&&Lt!=0){var Ot=new Float32Array(224);this.__vertexBufferData=Ot;var Kt=Et.x,qt=Et.y,Ht=this.width-Ft-Kt,Zt=this.height-Lt-qt,or=Kt/this.width,ir=qt/this.height,lr=Ft/this.width,ar=Lt/this.height;Ht/this.width,Zt/this.height;var Mt=Kt/Ct.get_scaleX(),kt=qt/Ct.get_scaleY(),Vt=Ht/Ct.get_scaleX(),Nt=Zt/Ct.get_scaleY(),Wt=Ct.get_width()/Ct.get_scaleX()-Mt-Vt,Qt=Ct.get_height()/Ct.get_scaleY()-kt-Nt;this.__vertexBufferData[0]=Mt,this.__vertexBufferData[1]=kt,this.__vertexBufferData[3]=It*or,this.__vertexBufferData[4]=Rt*ir,this.__vertexBufferData[15]=kt,this.__vertexBufferData[18]=Rt*ir,this.__vertexBufferData[28]=Mt,this.__vertexBufferData[31]=It*or,this.__vertexBufferData[56]=Mt+Wt,this.__vertexBufferData[57]=kt,this.__vertexBufferData[59]=It*(or+lr),this.__vertexBufferData[60]=Rt*ir,this.__vertexBufferData[70]=Mt+Wt,this.__vertexBufferData[73]=It*(or+lr),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=kt,this.__vertexBufferData[87]=It,this.__vertexBufferData[88]=Rt*ir,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=It,this.__vertexBufferData[112]=Mt,this.__vertexBufferData[113]=kt+Qt,this.__vertexBufferData[115]=It*or,this.__vertexBufferData[116]=Rt*(ir+ar),this.__vertexBufferData[127]=kt+Qt,this.__vertexBufferData[130]=Rt*(ir+ar),this.__vertexBufferData[140]=Mt+Wt,this.__vertexBufferData[141]=kt+Qt,this.__vertexBufferData[143]=It*(or+lr),this.__vertexBufferData[144]=Rt*(ir+ar),this.__vertexBufferData[154]=this.width,this.__vertexBufferData[155]=kt+Qt,this.__vertexBufferData[157]=It,this.__vertexBufferData[158]=Rt*(ir+ar),this.__vertexBufferData[168]=Mt,this.__vertexBufferData[169]=this.height,this.__vertexBufferData[171]=It*or,this.__vertexBufferData[172]=Rt,this.__vertexBufferData[183]=this.height,this.__vertexBufferData[186]=Rt,this.__vertexBufferData[196]=Mt+Wt,this.__vertexBufferData[197]=this.height,this.__vertexBufferData[199]=It*(or+lr),this.__vertexBufferData[200]=Rt,this.__vertexBufferData[210]=this.width,this.__vertexBufferData[211]=this.height,this.__vertexBufferData[213]=It,this.__vertexBufferData[214]=Rt,this.__vertexBuffer=yt.createVertexBuffer(16,14)}else if(Ft==0&&Lt!=0){var tr=new Float32Array(112);this.__vertexBufferData=tr;var sr=Et.y,dr=this.height-Lt-sr,pr=sr/this.height,cr=Lt/this.height;dr/this.height;var mr=sr/Ct.get_scaleY(),fr=dr/Ct.get_scaleY(),Bt=Ct.get_height()/Ct.get_scaleY()-mr-fr,Xt=Ct.get_width()/Ct.get_scaleX();this.__vertexBufferData[0]=Xt,this.__vertexBufferData[1]=mr,this.__vertexBufferData[3]=It,this.__vertexBufferData[4]=Rt*pr,this.__vertexBufferData[15]=mr,this.__vertexBufferData[18]=Rt*pr,this.__vertexBufferData[28]=Xt,this.__vertexBufferData[31]=It,this.__vertexBufferData[56]=Xt,this.__vertexBufferData[57]=mr+Bt,this.__vertexBufferData[59]=It,this.__vertexBufferData[60]=Rt*(pr+cr),this.__vertexBufferData[71]=mr+Bt,this.__vertexBufferData[74]=Rt*(pr+cr),this.__vertexBufferData[84]=Xt,this.__vertexBufferData[85]=this.height,this.__vertexBufferData[87]=It,this.__vertexBufferData[88]=Rt,this.__vertexBufferData[99]=this.height,this.__vertexBufferData[102]=Rt,this.__vertexBuffer=yt.createVertexBuffer(8,14)}else if(Lt==0&&Ft!=0){var rr=new Float32Array(112);this.__vertexBufferData=rr;var nr=Et.x,Gt=this.width-Ft-nr,zt=nr/this.width,$t=Ft/this.width;Gt/this.width;var er=nr/Ct.get_scaleX(),ur=Gt/Ct.get_scaleX(),St=Ct.get_width()/Ct.get_scaleX()-er-ur,Ut=Ct.get_height()/Ct.get_scaleY();this.__vertexBufferData[0]=er,this.__vertexBufferData[1]=Ut,this.__vertexBufferData[3]=It*zt,this.__vertexBufferData[4]=Rt,this.__vertexBufferData[15]=Ut,this.__vertexBufferData[18]=Rt,this.__vertexBufferData[28]=er,this.__vertexBufferData[31]=It*zt,this.__vertexBufferData[56]=er+St,this.__vertexBufferData[57]=Ut,this.__vertexBufferData[59]=It*(zt+$t),this.__vertexBufferData[60]=Rt,this.__vertexBufferData[70]=er+St,this.__vertexBufferData[73]=It*(zt+$t),this.__vertexBufferData[84]=this.width,this.__vertexBufferData[85]=Ut,this.__vertexBufferData[87]=It,this.__vertexBufferData[88]=Rt,this.__vertexBufferData[98]=this.width,this.__vertexBufferData[101]=It,this.__vertexBuffer=yt.createVertexBuffer(8,14)}}else this.__vertexBufferGrid=null;if(this.__vertexBuffer==null){var Yt=new Float32Array(56);this.__vertexBufferData=Yt,this.__vertexBufferData[0]=this.width,this.__vertexBufferData[1]=this.height,this.__vertexBufferData[3]=It,this.__vertexBufferData[4]=Rt,this.__vertexBufferData[15]=this.height,this.__vertexBufferData[18]=Rt,this.__vertexBufferData[28]=this.width,this.__vertexBufferData[31]=It,this.__vertexBuffer=yt.createVertexBuffer(3,14)}this.__vertexBuffer.uploadFromTypedArray(at().default.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},getColorBoundsRect:function(yt,Et,Ct){if(Ct==null&&(Ct=!0),!this.readable)return new(j()).default(0,0,this.width,this.height);!this.transparent||(yt>>24&255)>0;var It=this.image.getColorBoundsRect(yt,Et,Ct,1);return new(j()).default(It.x,It.y,It.width,It.height)},getPixel:function(yt,Et){return this.readable?this.image.getPixel(yt,Et,1):0},getPixel32:function(yt,Et){return this.readable?this.image.getPixel32(yt,Et,1):0},getPixels:function(yt){if(!this.readable)return null;yt==null&&(yt=this.rect);var Et=tt().default.fromBytes(this.image.getPixels(yt.__toLimeRectangle(),1));return Et.set_endian("bigEndian"),Et},getSurface:function(){return this.readable?(this.__surface==null&&(this.__surface=_t().default.fromImage(this.image)),this.__surface):null},getTexture:function(yt){if(!this.__isValid)return null;if((this.__texture==null||this.__textureContext!=yt.__context)&&(this.__textureContext=yt.__context,this.__texture=yt.createRectangleTexture(this.width,this.height,"bgra",!1),this.__textureVersion=-1),_e().default.sync(this.image,!1),this.image!=null&&this.image.version>this.__textureVersion){this.__surface!=null&&ut().default.flush(this.__surface);var Et=this.image;!ot().default.__supportsBGRA&&Et.get_format()!=0&&(Et=Et.clone(),Et.set_format(0)),this.__texture.__uploadFromImage(Et),this.__textureVersion=this.image.version,this.__textureWidth=Et.buffer.width,this.__textureHeight=Et.buffer.height}return!this.readable&&this.image!=null&&(this.__surface=null,this.image=null),this.__texture},getVector:function(yt){for(var Et=this.getPixels(yt),Ct=lt().default.int(ft().default.toFloat(tt().default.get_length(Et))/ft().default.toFloat(4)),It=ht().default._new(Ct,!0),Rt=0,Ft=Ct;Rt<Ft;){var Lt=Rt++;ht().default.set(It,Lt,Et.readUnsignedInt())}return It},histogram:function(yt){for(var Et=yt??new(j()).default(0,0,this.width,this.height),Ct=this.getPixels(Et),It=[],Rt=[],Ft=0;Ft<256;)Ft++,Rt.push(0);It.push(Rt);for(var Lt=[],Ot=0;Ot<256;)Ot++,Lt.push(0);It.push(Lt);for(var Kt=[],qt=0;qt<256;)qt++,Kt.push(0);It.push(Kt);for(var Ht=[],Zt=0;Zt<256;)Zt++,Ht.push(0);It.push(Ht);for(var or=It,ir=0,lr=tt().default.get_length(Ct);ir<lr;){var ar=ir++,Mt=or[ar%4];++Mt[Ct.readUnsignedByte()]}return or},hitTest:function(yt,Et,Ct,It,Rt){if(Rt==null&&(Rt=1),!this.readable)return!1;if(Ct instanceof dt().default&&(Ct=h().default.__cast(Ct,dt().default).__bitmapData),Ct instanceof pt().default){var Ft=Ct,Lt=lt().default.int(Ft.x-yt.x),Ot=lt().default.int(Ft.y-yt.y);if(this.rect.contains(Lt,Ot)){var Kt=this.getPixel32(Lt,Ot);if((Kt>>24&255)>Et)return!0}}else if(Ct instanceof Tt){var qt=Ct,Ht,Zt;It==null?(Ht=0,Zt=0):(Ht=Math.round(It.x-yt.x),Zt=Math.round(It.y-yt.y));var or=j().default.__pool.get();if(or.setTo(Ht,Zt,qt.width,qt.height),this.rect.intersects(or)){Ht<0?(or.x=0,or.width=Math.min(qt.width+Ht,this.width)):or.width=Math.min(qt.width,this.width-Ht),Zt<0?(or.y=0,or.height=Math.min(qt.height+Zt,this.height)):or.height=Math.min(qt.height,this.height-Zt);var ir=this.getPixels(or);or.x=Ht<0?-Ht:0,or.y=Zt<0?-Zt:0;for(var lr=qt.getPixels(or),ar=lt().default.int(or.width*or.height),Mt,kt,Vt=0,Nt=ar;Vt<Nt;)if(Vt++,Mt=ir.readUnsignedInt(),kt=lr.readUnsignedInt(),ft().default.gt(Mt>>>24&255,Et)&&ft().default.gt(kt>>>24&255,Rt))return j().default.__pool.release(or),!0}j().default.__pool.release(or)}else if(Ct instanceof j().default){var Wt=j().default.__pool.get();if(Wt.copyFrom(Ct),Wt.offset(-yt.x,-yt.y),Wt.__contract(0,0,this.width,this.height),Wt.width>0&&Wt.height>0){for(var Qt=this.getPixels(Wt),tr=lt().default.int(ft().default.toFloat(tt().default.get_length(Qt))/ft().default.toFloat(4)),sr,dr=0,pr=tr;dr<pr;)if(dr++,sr=Qt.readUnsignedInt(),ft().default.gt(sr>>>24&255,Et))return j().default.__pool.release(Wt),!0}j().default.__pool.release(Wt)}return!1},lock:function(){},merge:function(yt,Et,Ct,It,Rt,Ft,Lt){!this.readable||yt==null||!yt.readable||Et==null||Ct==null||this.image.merge(yt.image,Et.__toLimeRectangle(),Ct.__toLimeVector2(),It,Rt,Ft,Lt)},noise:function(yt,Et,Ct,It,Rt){if(Rt==null&&(Rt=!1),It==null&&(It=7),Ct==null&&(Ct=255),Et==null&&(Et=0),!!this.readable){var Ft=function(){return yt=yt*1103515245+12345,lt().default.int(Math.abs(yt/65536))%32768},Lt=Ft;Lt();for(var Ot=Ct-Et,Kt=(It&1)==1,qt=(It&2)>>1==1,Ht=(It&4)>>2==1,Zt=(It&8)>>3==1,or=0,ir=this.height;or<ir;)for(var lr=or++,ar=0,Mt=this.width;ar<Mt;){var kt=ar++,Vt=0,Nt=0,Wt=0,Qt=255;Rt?(Nt=Et+Lt()%Ot,Wt=Nt,Vt=Wt,Qt=255):(Kt&&(Vt=Et+Lt()%Ot),qt&&(Wt=Et+Lt()%Ot),Ht&&(Nt=Et+Lt()%Ot),Zt&&(Qt=Et+Lt()%Ot));var tr=Qt;tr=(tr<<8)+Vt,tr=(tr<<8)+Wt,tr=(tr<<8)+Nt,this.setPixel32(kt,lr,tr)}}},paletteMap:function(yt,Et,Ct,It,Rt,Ft,Lt){for(var Ot=lt().default.int(Et.width),Kt=lt().default.int(Et.height),qt=yt.getPixels(Et),Ht,Zt,or,ir,lr,ar,Mt=0,kt=Kt*Ot;Mt<kt;){var Vt=Mt++;Ht=qt.readUnsignedInt(),lr=Lt==null?Ht&-16777216:Lt[Ht>>24&255],Zt=It==null?Ht&16711680:It[Ht>>16&255],or=Rt==null?Ht&65280:Rt[Ht>>8&255],ir=Ft==null?Ht&255:Ft[Ht&255],ar=lr+Zt+or+ir,qt.position=Vt*4,qt.writeUnsignedInt(ar)}qt.position=0;var Nt=j().default.__pool.get();Nt.setTo(Ct.x,Ct.y,Ot,Kt),this.setPixels(Nt,qt),j().default.__pool.release(Nt)},perlinNoise:function(yt,Et,Ct,It,Rt,Ft,Lt,Ot,Kt){if(Ot==null&&(Ot=!1),Lt==null&&(Lt=7),!!this.readable){var qt=new(xt()).default(It,Ct,Lt,Ot,.5,Rt,.15);qt.fill(this,yt,Et,0)}},scroll:function(yt,Et){this.readable&&this.image.scroll(yt,Et)},setPixel:function(yt,Et,Ct){this.readable&&this.image.setPixel(yt,Et,Ct,1)},setPixel32:function(yt,Et,Ct){this.readable&&this.image.setPixel32(yt,Et,Ct,1)},setPixels:function(yt,Et){if(!(!this.readable||yt==null)){var Ct=yt.width*yt.height*4;if(ft().default.toFloat(Et.get_bytesAvailable())<Ct)throw new(vt()).default(new(bt()).default("End of file was encountered.",2030));this.image.setPixels(yt.__toLimeRectangle(),tt().default.toBytePointer(Et),1,wt().default.toLimeEndian(Et.get_endian()))}},setVector:function(yt,Et){var Ct=new(nt()).default(0),It=Ct;tt().default.set_length(It,Et.get_length()*4);for(var Rt=new(At()).default(Et);Rt.hasNext();){var Ft=Rt.next();It.writeUnsignedInt(Ft)}It.position=0,this.setPixels(yt,It)},threshold:function(yt,Et,Ct,It,Rt,Ft,Lt,Ot){return Ot==null&&(Ot=!1),Lt==null&&(Lt=-1),Ft==null&&(Ft=0),yt==null||Et==null||Ct==null||Et.x>yt.width||Et.y>yt.height||Ct.x>this.width||Ct.y>this.height?0:this.image.threshold(yt.image,Et.__toLimeRectangle(),Ct.__toLimeVector2(),It,Rt,Ft,Lt,Ot,1)},unlock:function(yt){},__applyAlpha:function(yt){_e().default.convertToCanvas(this.image),_e().default.createImageData(this.image);for(var Et=this.image.buffer.data,Ct=0,It=tt().default.get_length(yt);Ct<It;){var Rt=Ct++;Et[Rt*4+3]=yt.readUnsignedByte()}this.image.version++},__drawCairo:function(yt,Et){},__drawCanvas:function(yt,Et){var Ct=this.image.buffer;Et.__allowSmoothing||Et.applySmoothing(Ct.__srcContext,!1),Et.__render(yt),Et.__allowSmoothing||Et.applySmoothing(Ct.__srcContext,!0),Ct.__srcContext.setTransform(1,0,0,1,0,0),Ct.__srcImageData=null,Ct.data=null,this.image.dirty=!0,this.image.version++},__drawGL:function(yt,Et){var Ct=Et.__context3D,It=Ct.__state.renderToTexture,Rt=Ct.__state.renderToTextureDepthStencil,Ft=Ct.__state.renderToTextureAntiAlias,Lt=Ct.__state.renderToTextureSurfaceSelector;Ct.setRenderToTexture(this.getTexture(Ct),!0),Et.__render(yt),It!=null?Ct.setRenderToTexture(It,Rt,Ft,Lt):Ct.setRenderToBackBuffer()},__fillRect:function(yt,Et,Ct){if(yt!=null)if(this.transparent&&!(Et&-16777216)&&(Et=0),Ct&&this.__texture!=null&&this.__texture.__glFramebuffer!=null&&b().default.get_current().stage.__renderer.__type=="opengl"){var It=b().default.get_current().stage.__renderer,Rt=It.__context3D,Ft=Et,Lt=!this.rect.equals(yt),Ot=Rt.__state.renderToTexture,Kt=Rt.__state.renderToTextureDepthStencil,qt=Rt.__state.renderToTextureAntiAlias,Ht=Rt.__state.renderToTextureSurfaceSelector;Rt.setRenderToTexture(this.__texture),Lt&&Rt.setScissorRectangle(yt),Rt.clear((Ft>>>16&255)/255,(Ft>>>8&255)/255,(Ft&255)/255,this.transparent?(Ft>>>24&255)/255:1,0,0,1),Lt&&Rt.setScissorRectangle(null),Ot!=null?Rt.setRenderToTexture(Ot,Kt,qt,Ht):Rt.setRenderToBackBuffer()}else this.readable&&this.image.fillRect(yt.__toLimeRectangle(),Et,1)},__fromBase64:function(yt,Et){var Ct=ct().default.fromBase64(yt,Et);this.__fromImage(Ct)},__fromBytes:function(yt,Et){var Ct=ct().default.fromBytes(tt().default.toBytes(yt));this.__fromImage(Ct),Et!=null&&this.__applyAlpha(Et)},__fromFile:function(yt){var Et=ct().default.fromFile(yt);this.__fromImage(Et)},__fromImage:function(yt){yt!=null&&yt.buffer!=null&&(this.image=yt,this.width=yt.width,this.height=yt.height,this.rect=new(j()).default(0,0,yt.width,yt.height),this.__textureWidth=this.width,this.__textureHeight=this.height,this.readable=!0,this.__isValid=!0)},__getBounds:function(yt,Et){var Ct=j().default.__pool.get();this.rect.__transform(Ct,Et),yt.__expand(Ct.x,Ct.y,Ct.width,Ct.height),j().default.__pool.release(Ct)},__loadFromBase64:function(yt,Et){var Ct=this;return ct().default.loadFromBase64(yt,Et).then(function(It){return Ct.__fromImage(It),mt().default.withValue(Ct)})},__loadFromBytes:function(yt,Et){var Ct=this;return ct().default.loadFromBytes(tt().default.toBytes(yt)).then(function(It){return Ct.__fromImage(It),Et!=null&&Ct.__applyAlpha(Et),mt().default.withValue(Ct)})},__loadFromFile:function(yt){var Et=this;return ct().default.loadFromFile(yt).then(function(Ct){return Et.__fromImage(Ct),mt().default.withValue(Et)})},__resize:function(yt,Et){this.width=yt,this.height=Et,this.rect.width=yt,this.rect.height=Et,this.__textureWidth=yt,this.__textureHeight=Et},__setUVRect:function(yt,Et,Ct,It,Rt){var Ft=this.getVertexBuffer(yt);if(Ft!=null&&(It!=this.__uvRect.width||Rt!=this.__uvRect.height||Et!=this.__uvRect.x||Ct!=this.__uvRect.y)){yt.gl,this.__uvRect==null&&(this.__uvRect=new(j()).default),this.__uvRect.setTo(Et,Ct,It,Rt);var Lt=this.__textureWidth>0?Et/this.__textureWidth:0,Ot=this.__textureHeight>0?Ct/this.__textureHeight:0,Kt=this.__textureWidth>0?It/this.__textureWidth:0,qt=this.__textureHeight>0?Rt/this.__textureHeight:0;this.__vertexBufferData[0]=It,this.__vertexBufferData[1]=Rt,this.__vertexBufferData[3]=Lt+Kt,this.__vertexBufferData[4]=Ot+qt,this.__vertexBufferData[15]=Rt,this.__vertexBufferData[17]=Lt,this.__vertexBufferData[18]=Ot+qt,this.__vertexBufferData[28]=It,this.__vertexBufferData[31]=Lt+Kt,this.__vertexBufferData[32]=Ot,this.__vertexBufferData[45]=Lt,this.__vertexBufferData[46]=Ot,this.__vertexBuffer.uploadFromTypedArray(at().default.toArrayBufferView(this.__vertexBufferData))}},__sync:function(){_e().default.sync(this.image,!1)},__update:function(yt,Et){this.__updateTransforms()},__updateTransforms:function(yt){yt==null?this.__worldTransform.identity():this.__worldTransform.copyFrom(yt),this.__renderTransform.copyFrom(this.__worldTransform)}},Tt.prototype.__class__=Tt.prototype.constructor=d["openfl.display.BitmapData"]=Tt,Tt.fromBase64=function(yt,Et){return null},Tt.fromBytes=function(yt,Et){return null},Tt.fromCanvas=function(yt,Et){if(Et==null&&(Et=!0),yt==null)return null;var Ct=new Tt(0,0,Et,0);return Ct.__fromImage(ct().default.fromCanvas(yt)),Ct.image.set_transparent(Et),Ct},Tt.fromFile=function(yt){return null},Tt.fromImage=function(yt,Et){if(Et==null&&(Et=!0),yt==null||yt.buffer==null)return null;var Ct=new Tt(0,0,Et,0);return Ct.__fromImage(yt),Ct.image.set_transparent(Et),Ct.image!=null?Ct:null},Tt.fromTexture=function(yt){if(yt==null)return null;var Et=new Tt(yt.__width,yt.__height,!0,0);return Et.readable=!1,Et.__texture=yt,Et.__textureContext=yt.__textureContext,Et.image=null,Et},Tt.loadFromBase64=function(yt,Et){return ct().default.loadFromBase64(yt,Et).then(function(Ct){return mt().default.withValue(Tt.fromImage(Ct))})},Tt.loadFromBytes=function(yt,Et){return ct().default.loadFromBytes(tt().default.toBytes(yt)).then(function(Ct){var It=Tt.fromImage(Ct);return Et!=null&&It.__applyAlpha(Et),mt().default.withValue(It)})},Tt.loadFromFile=function(yt){return ct().default.loadFromFile(yt).then(function(Et){return mt().default.withValue(Tt.fromImage(Et))})},Tt.__meta__={fields:{image:{SuppressWarnings:["checkstyle:Dynamic"]},__framebufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__indexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},__surface:{SuppressWarnings:["checkstyle:Dynamic"]},__textureContext:{SuppressWarnings:["checkstyle:Dynamic"]},__vertexBufferContext:{SuppressWarnings:["checkstyle:Dynamic"]},compare:{SuppressWarnings:["checkstyle:Dynamic"]},getSurface:{SuppressWarnings:["checkstyle:Dynamic"]},__fromImage:{SuppressWarnings:["checkstyle:Dynamic"]}}},Tt.VERTEX_BUFFER_STRIDE=14,Tt.__supportsBGRA=null,Tt.__tempVector=new(gt()).default,e.default=Tt}(BitmapData$2)),BitmapData$2}var BitmapData=requireBitmapData();const BitmapData$1=getDefaultExportFromCjs(BitmapData);var BitmapDataChannel={exports:{}};(function(e){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BitmapDataChannel=e.exports.default={ALPHA:8,BLUE:4,GREEN:2,RED:1}})(BitmapDataChannel);var BitmapDataChannelExports=BitmapDataChannel.exports,BlendMode={exports:{}};(function(e){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlendMode=e.exports.default={ADD:"add",ALPHA:"alpha",DARKEN:"darken",DIFFERENCE:"difference",ERASE:"erase",HARDLIGHT:"hardlight",INVERT:"invert",LAYER:"layer",LIGHTEN:"lighten",MULTIPLY:"multiply",NORMAL:"normal",OVERLAY:"overlay",SCREEN:"screen",SHADER:"shader",SUBTRACT:"subtract"}})(BlendMode);var BlendModeExports=BlendMode.exports,CanvasRenderer=requireCanvasRenderer(),CapsStyle={};Object.defineProperty(CapsStyle,"__esModule",{value:!0});CapsStyle.CapsStyle=CapsStyle.default={NONE:"none",ROUND:"round",SQUARE:"square"};var DisplayObject=DisplayObject$1,DisplayObjectContainer=DisplayObjectContainer$1,DisplayObjectRenderer=requireDisplayObjectRenderer(),DisplayObjectShader=DisplayObjectShader$1,DOMElement$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}var s=function(h){c().default.call(this),this.__drawableType=10,this.__element=h};s.__name__="openfl.display.DOMElement",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.display.DOMElement"]=s,s.__meta__={fields:{__element:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=s})(DOMElement$1);var DOMElement=DOMElement$1,DOMRenderer$1={},DOMBitmap={},DOMDisplayObject={},DOMShape={},hasRequiredDOMShape;function requireDOMShape(){return hasRequiredDOMShape||(hasRequiredDOMShape=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireCanvasGraphics()}var c=function(){};c.__name__="openfl.display._internal.DOMShape",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.display._internal.DOMShape"]=c,c.clear=function(s,h){s.__canvas!=null&&(h.element.removeChild(s.__canvas),s.__canvas=null,s.__style=null)},c.render=function(s,h){var f=s.__graphics;if(s.stage!=null&&s.__worldVisible&&s.__renderable&&f!=null){if(o().default.render(f,h.__canvasRenderer),(f.__softwareDirty||s.__worldAlphaChanged||s.__canvas!=f.__canvas)&&(f.__canvas!=null?s.__canvas!=f.__canvas&&(s.__canvas!=null&&h.element.removeChild(s.__canvas),s.__canvas=f.__canvas,s.__context=f.__context,h.__initializeElement(s,s.__canvas)):c.clear(s,h)),s.__canvas!=null){h.__pushMaskObject(s);var g=s.__renderTransform;s.__renderTransform=f.__worldTransform,f.__transformDirty&&(f.__transformDirty=!1,s.__renderTransformChanged=!0),h.__updateClip(s),h.__applyStyle(s,!0,!0,!0),s.__renderTransform=g,h.__popMaskObject(s)}}else c.clear(s,h)},c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c}(DOMShape)),DOMShape}var hasRequiredDOMDisplayObject;function requireDOMDisplayObject(){return hasRequiredDOMDisplayObject||(hasRequiredDOMDisplayObject=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDOMBitmap()}function c(){return requireDOMShape()}var s=function(){};s.__name__="openfl.display._internal.DOMDisplayObject",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.DOMDisplayObject"]=s,s.clear=function(h,f){h.__cacheBitmap!=null&&o().default.clear(h.__cacheBitmap,f),c().default.clear(h,f)},s.render=function(h,f){h.opaqueBackground!=null&&!h.__isCacheBitmapRender&&h.get_width()>0&&h.get_height()>0,c().default.render(h,f)},s.renderDrawable=function(h,f){f.__updateCacheBitmap(h,!1),h.__cacheBitmap!=null&&!h.__isCacheBitmapRender?(f.__renderDrawableClear(h),h.__cacheBitmap.stage=h.stage,o().default.render(h.__cacheBitmap,f)):s.render(h,f),f.__renderEvent(h)},s.renderDrawableClear=function(h,f){s.clear(h,f)},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(DOMDisplayObject)),DOMDisplayObject}var hasRequiredDOMBitmap;function requireDOMBitmap(){return hasRequiredDOMBitmap||(hasRequiredDOMBitmap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDOMDisplayObject()}function c(){return requireStringTools()}function s(){return requireImageCanvasUtil()}var h=function(){};h.__name__="openfl.display._internal.DOMBitmap",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.DOMBitmap"]=h,h.clear=function(f,g){o().default.clear(f,g),f.__image!=null&&(g.element.removeChild(f.__image),f.__image=null,f.__style=null),f.__canvas!=null&&(g.element.removeChild(f.__canvas),f.__canvas=null,f.__style=null)},h.render=function(f,g){if(f.stage!=null&&f.__worldVisible&&f.__renderable&&f.__bitmapData!=null&&f.__bitmapData.__isValid&&f.__bitmapData.readable){if(g.__pushMaskObject(f),f.__bitmapData.image.buffer.__srcImage!=null){var b=f.__bitmapData.image.buffer.__srcImage.src;c().default.startsWith(b,"data:")||c().default.startsWith(b,"blob:")?h.renderCanvas(f,g):h.renderImage(f,g)}else h.renderCanvas(f,g);g.__popMaskObject(f)}else h.clear(f,g)},h.renderCanvas=function(f,g){f.__image!=null&&(g.element.removeChild(f.__image),f.__image=null),f.__canvas==null&&(f.__canvas=window.document.createElement("canvas"),f.__context=f.__canvas.getContext("2d"),f.__imageVersion=-1,(!g.__allowSmoothing||!f.smoothing)&&(f.__context.imageSmoothingEnabled=!1),g.__initializeElement(f,f.__canvas)),f.__imageVersion!=f.__bitmapData.image.version&&(s().default.convertToCanvas(f.__bitmapData.image),f.__canvas.width=f.__bitmapData.width+1,f.__canvas.width=f.__bitmapData.width,f.__canvas.height=f.__bitmapData.height,f.__context.drawImage(f.__bitmapData.image.buffer.__srcCanvas,0,0),f.__imageVersion=f.__bitmapData.image.version),g.__updateClip(f),g.__applyStyle(f,!0,!0,!0)},h.renderDrawable=function(f,g){g.__updateCacheBitmap(f,!1),f.__cacheBitmap!=null&&!f.__isCacheBitmapRender?(g.__renderDrawableClear(f),f.__cacheBitmap.stage=f.stage,h.render(f.__cacheBitmap,g)):(o().default.render(f,g),h.render(f,g)),g.__renderEvent(f)},h.renderDrawableClear=function(f,g){h.clear(f,g)},h.renderImage=function(f,g){f.__canvas!=null&&(g.element.removeChild(f.__canvas),f.__canvas=null),f.__image==null&&(f.__image=window.document.createElement("img"),f.__image.crossOrigin="Anonymous",f.__image.src=f.__bitmapData.image.buffer.__srcImage.src,g.__initializeElement(f,f.__image)),g.__updateClip(f),g.__applyStyle(f,!0,!0,!0)},h.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=h}(DOMBitmap)),DOMBitmap}var DOMDisplayObjectContainer={},hasRequiredDOMDisplayObjectContainer;function requireDOMDisplayObjectContainer(){return hasRequiredDOMDisplayObjectContainer||(hasRequiredDOMDisplayObjectContainer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVectorIterator()}function c(){return requireDOMDisplayObject()}function s(){return requireDOMShape()}var h=function(){};h.__name__="openfl.display._internal.DOMDisplayObjectContainer",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.display._internal.DOMDisplayObjectContainer"]=h,h.renderDrawable=function(f,g){for(var b=new(o()).default(f.__removedChildren);b.hasNext();){var k=b.next();k.stage==null&&g.__renderDrawable(k)}if(f.__cleanupRemovedChildren(),c().default.renderDrawable(f,g),f.__cacheBitmap!=null&&!f.__isCacheBitmapRender){for(var $=0,j=f.__children;$<j.length;){var _e=j[$];++$,g.__renderDrawableClear(_e)}s().default.clear(f,g),f.__cacheBitmap.stage=f.stage;return}if(g.__pushMaskObject(f),g.__stage!=null){for(var et=0,nt=f.__children;et<nt.length;){var rt=nt[et];++et,g.__renderDrawable(rt),rt.__renderDirty=!1}f.__renderDirty=!1}else for(var tt=0,it=f.__children;tt<it.length;){var st=it[tt];++tt,g.__renderDrawable(st)}g.__popMaskObject(f)},h.renderDrawableClear=function(f,g){for(var b=new(o()).default(f.__removedChildren);b.hasNext();){var k=b.next();k.stage==null&&g.__renderDrawableClear(k)}f.__cleanupRemovedChildren();for(var $=0,j=f.__children;$<j.length;){var _e=j[$];++$,g.__renderDrawableClear(_e)}c().default.clear(f,g)},e.default=h}(DOMDisplayObjectContainer)),DOMDisplayObjectContainer}var DOMSimpleButton={},hasRequiredDOMSimpleButton;function requireDOMSimpleButton(){return hasRequiredDOMSimpleButton||(hasRequiredDOMSimpleButton=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVectorIterator()}function c(){return requireDOMDisplayObject()}var s=function(){};s.__name__="openfl.display._internal.DOMSimpleButton",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.DOMSimpleButton"]=s,s.renderDrawable=function(h,f){f.__pushMaskObject(h);for(var g=new(o()).default(h.__previousStates);g.hasNext();){var b=g.next();f.__renderDrawable(b)}h.__previousStates.set_length(0),h.__currentState!=null&&(h.__currentState.stage!=h.stage&&h.__currentState.__setStageReference(h.stage),f.__renderDrawable(h.__currentState)),f.__popMaskObject(h),f.__renderEvent(h)},s.renderDrawableClear=function(h,f){c().default.renderDrawableClear(h,f)},e.default=s}(DOMSimpleButton)),DOMSimpleButton}var DOMTextField={},hasRequiredDOMTextField;function requireDOMTextField(){return hasRequiredDOMTextField||(hasRequiredDOMTextField=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireEReg()}function c(){return requireDOMDisplayObject()}function s(){return requireTextEngine()}function h(){return requireStd()}function f(){return TextEvent$1}function g(){return requireStringTools()}function b(){return requireHTMLParser()}function k(){return requireVectorIterator()}function $(){return requireDOMBitmap()}var j=function(){};j.__name__="openfl.display._internal.DOMTextField",j.__isInterface__=!1,j.prototype={},j.prototype.__class__=j.prototype.constructor=d["openfl.display._internal.DOMTextField"]=j,j.clear=function(_e,et){c().default.clear(_e,et),_e.__div!=null&&(et.element.removeChild(_e.__div),_e.__div=null,_e.__style=null)},j.measureText=function(_e){var et=_e.__textEngine,nt=_e.__div;nt==null&&(nt=window.document.createElement("div"),nt.innerHTML=new(o()).default(`
`,"g").replace(et.text,"<br>"),nt.style.setProperty("font",s().default.getFont(_e.__textFormat),null),nt.style.setProperty("pointer-events","none",null),nt.style.position="absolute",nt.style.top="110%",window.document.body.appendChild(nt)),et.__measuredWidth=nt.clientWidth,_e.__div==null&&(nt.style.width=h().default.string(et.width-4)+"px"),et.__measuredHeight=nt.clientHeight,_e.__div==null&&window.document.body.removeChild(nt)},j.render=function(_e,et){var nt=_e.__textEngine;if(_e.stage!=null&&_e.__worldVisible&&_e.__renderable){if(_e.__dirty||_e.__renderTransformChanged||_e.__div==null)if(nt.text!=""||nt.background||nt.border||nt.type=="input"){_e.__updateLayout(),_e.__div==null&&(_e.__div=window.document.createElement("div"),et.__initializeElement(_e,_e.__div),_e.__style.setProperty("outline","none",null),_e.__div.addEventListener("input",function(wt){if(wt.preventDefault(),_e.get_htmlText()!=_e.__div.innerHTML){_e.set_htmlText(_e.__div.innerHTML),_e.__displayAsPassword,_e.__dirty=!1;var At=_e.get_htmlText();_e.dispatchEvent(new(f()).default("textInput",!1,!1,At))}},!0)),nt.wordWrap?_e.__style.setProperty("word-wrap","break-word",null):_e.__style.setProperty("white-space","nowrap",null),_e.__style.setProperty("overflow","hidden",null),nt.selectable?(_e.__style.setProperty("cursor","text",null),_e.__style.setProperty("-webkit-user-select","text",null),_e.__style.setProperty("-moz-user-select","text",null),_e.__style.setProperty("-ms-user-select","text",null),_e.__style.setProperty("-o-user-select","text",null)):_e.__style.setProperty("cursor","inherit",null);var rt=_e.__div;rt.contentEditable=nt.type=="input";var tt=_e.__style;nt.background?tt.setProperty("background-color","#"+g().default.hex(nt.backgroundColor&16777215,6),null):tt.removeProperty("background-color");var it=nt.width,st=nt.height,at=1,_t="";if(_e.__isHTML){var ut=b().default.parse(_e.__text,_e.get_multiline(),_e.__styleSheet,_e.__textFormat,_e.__textEngine.textFormatRanges);_e.__updateText(ut)}var ot=!(nt.background||nt.border);ot?nt.textBounds:nt.bounds;for(var lt=-_e.get_scrollH(),ft=0,ht=new(k()).default(nt.layoutGroups);ht.hasNext();){var dt=ht.next();if(!(dt.lineIndex<_e.get_scrollV()-1)){if(dt.lineIndex>nt.get_bottomScrollV()-1)break;if(_t+='<div style="',dt.format.font!=null&&(_t+="font: "+s().default.getFont(dt.format)+"; "),dt.format.color!=null&&(_t+="color: #"+g().default.hex(dt.format.color&16777215,6)+"; "),dt.format.underline==!0&&(_t+="text-decoration: underline; "),dt.format.align!=null)switch(dt.format.align){case"center":_t+="text-align: center; ";break;case"justify":_t+="text-align: justify; ";break;case"right":_t+="text-align: right; ";break;default:_t+="text-align: left; "}dt.format.leftMargin!=null&&(_t+="padding-left: "+dt.format.leftMargin*at+"px; "),dt.format.rightMargin!=null&&(_t+="padding-right: "+dt.format.rightMargin*at+"px; "),dt.format.indent!=null&&(_t+="text-indent: "+dt.format.indent*at+"px; "),dt.format.leading!=null;var pt=dt.offsetX+lt,xt=dt.offsetY+ft+3;if(_t+="left: "+pt+"px; top: "+xt+'px; vertical-align: top; position: absolute;">',dt.format.url!=null&&dt.format.url!=""){var vt="text-decoration: underline; ";dt.format.color!=null&&(vt+="color: #"+g().default.hex(dt.format.color&16777215,6)+"; "),_t+="<a style='"+vt+"' href='"+dt.format.url+"' target='"+dt.format.target+"'>"}_e.__isHTML?_t+=g().default.replace(nt.text.substring(dt.startIndex,dt.endIndex)," ","&nbsp;"):_t+=g().default.replace(g().default.htmlEscape(nt.text.substring(dt.startIndex,dt.endIndex))," ","&nbsp;"),dt.format.url!=null&&dt.format.url!=""&&(_t+="</a>"),_t+="</div>"}}nt.border?(tt.setProperty("border","solid 1px #"+g().default.hex(nt.borderColor&16777215,6),null),_e.__renderTransform.translate(-1,-1),_e.__renderTransformChanged=!0,_e.__transformDirty=!0):tt.border!=""&&(tt.removeProperty("border"),_e.__renderTransformChanged=!0),tt.setProperty("width",it+"px",null),tt.setProperty("height",st+"px",null),_e.__div.innerHTML=_t,_e.__dirty=!1}else _e.__div!=null&&(et.element.removeChild(_e.__div),_e.__div=null);if(_e.__div!=null){var bt=et.__roundPixels;et.__roundPixels=!0,et.__updateClip(_e),et.__applyStyle(_e,!0,!0,!0),et.__roundPixels=bt}}else j.clear(_e,et)},j.renderDrawable=function(_e,et){_e.__domRender=!0,et.__updateCacheBitmap(_e,_e.__forceCachedBitmapUpdate),_e.__forceCachedBitmapUpdate=!1,_e.__domRender=!1,_e.__cacheBitmap!=null&&!_e.__isCacheBitmapRender?(et.__renderDrawableClear(_e),_e.__cacheBitmap.stage=_e.stage,$().default.render(_e.__cacheBitmap,et)):(_e.__renderedOnCanvasWhileOnDOM&&(_e.__renderedOnCanvasWhileOnDOM=!1,_e.__isHTML&&_e.__htmlText!=null&&(_e.__updateText(_e.__htmlText),_e.__dirty=!0,_e.__layoutDirty=!0,_e.__setRenderDirty())),j.render(_e,et)),et.__renderEvent(_e)},j.renderDrawableClear=function(_e,et){j.clear(_e,et)},j.__getAttributeMatch=function(_e){return _e.matched(2)!=null?_e.matched(2):_e.matched(3)},j.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},j.__regexColor=new(o()).default(`color=("#([^"]+)"|'#([^']+)')`,"i"),j.__regexFace=new(o()).default(`face=("([^"]+)"|'([^']+)')`,"i"),j.__regexFont=new(o()).default("<font ([^>]+)>","gi"),j.__regexCloseFont=new(o()).default("</font>","gi"),j.__regexSize=new(o()).default(`size=("([^"]+)"|'([^']+)')`,"i"),e.default=j}(DOMTextField)),DOMTextField}var DOMVideo={},hasRequiredDOMVideo;function requireDOMVideo(){return hasRequiredDOMVideo||(hasRequiredDOMVideo=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDOMDisplayObject()}function c(){return requireStd()}var s=function(){};s.__name__="openfl.display._internal.DOMVideo",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display._internal.DOMVideo"]=s,s.clear=function(h,f){o().default.clear(h,f),h.__active&&(f.element.removeChild(h.__stream.__video),h.__active=!1)},s.render=function(h,f){h.stage!=null&&h.__stream!=null&&h.__worldVisible&&h.__renderable?(h.__active||(f.__initializeElement(h,h.__stream.__video),h.__active=!0,h.__dirty=!0),h.__dirty&&(h.__stream.__video.width=c().default.int(h.__width),h.__stream.__video.height=c().default.int(h.__height),h.__dirty=!1),f.__updateClip(h),f.__applyStyle(h,!0,!0,!0)):s.clear(h,f)},s.renderDrawable=function(h,f){s.render(h,f),f.__renderEvent(h)},s.renderDrawableClear=function(h,f){o().default.renderDrawableClear(h,f)},s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(DOMVideo)),DOMVideo}var DOMTilemap={},hasRequiredDOMTilemap;function requireDOMTilemap(){return hasRequiredDOMTilemap||(hasRequiredDOMTilemap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireDOMDisplayObject()}function c(){return Matrix$2}function s(){return requireCanvasDisplayObject()}function h(){return requireCanvasTilemap()}function f(){return requireDOMBitmap()}var g=function(){};g.__name__="openfl.display._internal.DOMTilemap",g.__isInterface__=!1,g.prototype={},g.prototype.__class__=g.prototype.constructor=d["openfl.display._internal.DOMTilemap"]=g,g.clear=function(b,k){o().default.clear(b,k),b.__canvas!=null&&(k.element.removeChild(b.__canvas),b.__canvas=null,b.__style=null)},g.render=function(b,k){if(b.stage!=null&&b.__worldVisible&&b.__renderable&&b.__group.__tiles.length>0){b.__canvas==null&&(b.__canvas=window.document.createElement("canvas"),b.__context=b.__canvas.getContext("2d"),k.__initializeElement(b,b.__canvas)),b.__canvas.width=b.__width,b.__canvas.height=b.__height,k.__canvasRenderer.context=b.__context;var $=b.__renderTransform;b.__renderTransform=c().default.__identity,s().default.render(b,k.__canvasRenderer),h().default.render(b,k.__canvasRenderer),b.__renderTransform=$,k.__canvasRenderer.context=null,k.__updateClip(b),k.__applyStyle(b,!0,!1,!0)}else g.clear(b,k)},g.renderDrawable=function(b,k){k.__updateCacheBitmap(b,!1),b.__cacheBitmap!=null&&!b.__isCacheBitmapRender?(k.__renderDrawableClear(b),b.__cacheBitmap.stage=b.stage,f().default.render(b.__cacheBitmap,k)):g.render(b,k),k.__renderEvent(b)},g.renderDrawableClear=function(b,k){g.clear(b,k)},g.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=g}(DOMTilemap)),DOMTilemap}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireDisplayObjectRenderer()}function s(){return Rectangle$2}function h(){return requireDOMBitmap()}function f(){return requireDOMDisplayObject()}function g(){return requireDOMDisplayObjectContainer()}function b(){return requireDOMSimpleButton()}function k(){return requireDOMTextField()}function $(){return requireDOMVideo()}function j(){return requireDOMTilemap()}function _e(){return Matrix$2}function et(){return DisplayObject$1}function nt(){return requireCanvasRenderer()}var rt=function(tt){c().default.call(this),this.element=tt,et().default.__supportDOM=!0;var it=function(){var st=window.getComputedStyle(document.documentElement,""),at=(Array.prototype.slice.call(st).join("").match(/-(moz|webkit|ms)-/)||st.OLink===""&&["","o"])[1],_t="WebKit|Moz|MS|O".match(new RegExp("("+at+")","i"))[1];return{dom:_t,lowercase:at,css:"-"+at+"-",js:at[0].toUpperCase()+at.substr(1)}}();this.__vendorPrefix=it.lowercase,this.__transformProperty=it.lowercase=="webkit"?"-webkit-transform":"transform",this.__transformOriginProperty=it.lowercase=="webkit"?"-webkit-transform-origin":"transform-origin",this.__clipRects=[],this.__numClipRects=0,this.__z=0,this.__type="dom",this.__canvasRenderer=new(nt()).default(null),this.__canvasRenderer.__isDOM=!0};rt.__name__="openfl.display.DOMRenderer",rt.__isInterface__=!1,rt.__super__=c().default,rt.prototype=o(c().default.prototype,{applyStyle:function(tt,it){tt!=null&&it!=null&&((tt.__style==null||it.parentElement!=this.element)&&this.__initializeElement(tt,it),tt.__style=it.style,this.__updateClip(tt),this.__applyStyle(tt,!0,!0,!0))},clearStyle:function(tt){tt!=null&&tt.parentElement==this.element&&this.element.removeChild(tt)},__applyStyle:function(tt,it,st,at){var _t=tt.__style;if(it&&tt.__renderTransformChanged&&_t.setProperty(this.__transformProperty,tt.__renderTransform.to3DString(this.__roundPixels),null),tt.__worldZ!=++this.__z&&(tt.__worldZ=this.__z,_t.setProperty("z-index",tt.__worldZ==null?"null":""+tt.__worldZ,null)),st&&tt.__worldAlphaChanged&&(tt.__worldAlpha<1?_t.setProperty("opacity",tt.__worldAlpha==null?"null":""+tt.__worldAlpha,null):_t.removeProperty("opacity")),at&&tt.__worldClipChanged)if(tt.__worldClip==null)_t.removeProperty("clip");else{var ut=tt.__worldClip;_t.setProperty("clip","rect("+ut.y+"px, "+ut.get_right()+"px, "+ut.get_bottom()+"px, "+ut.x+"px)",null)}},__initializeElement:function(tt,it){var st=tt.__style=it.style;st.setProperty("position","absolute",null),st.setProperty("top","0",null),st.setProperty("left","0",null),st.setProperty(this.__transformOriginProperty,"0 0 0",null),this.element.appendChild(it),tt.__worldAlphaChanged=!0,tt.__renderTransformChanged=!0,tt.__worldVisibleChanged=!0,tt.__worldClipChanged=!0,tt.__worldClip=null,tt.__worldZ=-1},__popMask:function(){this.__popMaskRect()},__popMaskObject:function(tt,it){it==null&&(it=!0),tt.__mask!=null&&this.__popMask(),it&&tt.__scrollRect!=null&&this.__popMaskRect()},__popMaskRect:function(){this.__numClipRects>0&&(this.__numClipRects--,this.__numClipRects>0?this.__currentClipRect=this.__clipRects[this.__numClipRects-1]:this.__currentClipRect=null)},__pushMask:function(tt){this.__pushMaskRect(tt.getBounds(tt),tt.__renderTransform)},__pushMaskObject:function(tt,it){it==null&&(it=!0),it&&tt.__scrollRect!=null&&this.__pushMaskRect(tt.__scrollRect,tt.__renderTransform),tt.__mask!=null&&this.__pushMask(tt.__mask)},__pushMaskRect:function(tt,it){this.__numClipRects==this.__clipRects.length&&(this.__clipRects[this.__numClipRects]=new(s()).default);var st=this.__clipRects[this.__numClipRects];if(tt.__transform(st,it),this.__numClipRects>0){var at=this.__clipRects[this.__numClipRects-1];st.__contract(at.x,at.y,at.width,at.height)}st.height<0&&(st.height=0),st.width<0&&(st.width=0),this.__currentClipRect=st,this.__numClipRects++},__render:function(tt){this.__stage.__transparent?this.element.style.background="none":this.element.style.background=this.__stage.__colorString,this.__z=1,this.__renderDrawable(tt)},__renderDrawable:function(tt){if(tt!=null)switch(tt.__drawableType){case 0:break;case 2:h().default.renderDrawable(tt,this);break;case 3:f().default.renderDrawable(tt,this);break;case 4:case 5:g().default.renderDrawable(tt,this);break;case 6:b().default.renderDrawable(tt,this);break;case 7:k().default.renderDrawable(tt,this);break;case 8:$().default.renderDrawable(tt,this);break;case 9:j().default.renderDrawable(tt,this);break;case 10:var it=tt;it.stage!=null&&it.__worldVisible&&it.__renderable?(it.__active||(this.__initializeElement(it,it.__element),it.__active=!0),this.__updateClip(it),this.__applyStyle(it,!0,!0,!0)):it.__active&&(this.element.removeChild(it.__element),it.__active=!1),f().default.renderDrawable(it,this);break}},__renderDrawableClear:function(tt){if(tt!=null)switch(tt.__drawableType){case 0:break;case 2:h().default.renderDrawableClear(tt,this);break;case 3:f().default.renderDrawableClear(tt,this);break;case 4:case 5:g().default.renderDrawableClear(tt,this);break;case 6:b().default.renderDrawableClear(tt,this);break;case 7:k().default.renderDrawableClear(tt,this);break;case 8:$().default.renderDrawableClear(tt,this);break;case 9:j().default.renderDrawableClear(tt,this);break}},__setBlendMode:function(tt){this.__overrideBlendMode!=null&&(tt=this.__overrideBlendMode),this.__blendMode!=tt&&(this.__blendMode=tt)},__updateClip:function(tt){if(this.__currentClipRect==null)tt.__worldClipChanged=tt.__worldClip!=null,tt.__worldClip=null;else{tt.__worldClip==null&&(tt.__worldClip=new(s()).default);var it=s().default.__pool.get(),st=_e().default.__pool.get();st.copyFrom(tt.__renderTransform),st.invert(),this.__currentClipRect.__transform(it,st),it.equals(tt.__worldClip)?tt.__worldClipChanged=!1:(tt.__worldClip.copyFrom(it),tt.__worldClipChanged=!0),s().default.__pool.release(it),_e().default.__pool.release(st)}}}),rt.prototype.__class__=rt.prototype.constructor=d["openfl.display.DOMRenderer"]=rt,rt.__meta__={fields:{element:{SuppressWarnings:["checkstyle:Dynamic"]},applyStyle:{SuppressWarnings:["checkstyle:Dynamic"]},clearStyle:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=rt})(DOMRenderer$1);var DOMRenderer=DOMRenderer$1,FPS$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireTextField()}function s(){return TextFormat$2}var h=function(f,g,b){b==null&&(b=0),g==null&&(g=10),f==null&&(f=10),c().default.call(this),this.set_x(f),this.set_y(g),this.currentFPS=0,this.set_selectable(!1),this.mouseEnabled=!1,this.set_defaultTextFormat(new(s()).default("_sans",12,b)),this.set_text("FPS: "),this.cacheCount=0,this.currentTime=0,this.times=[]};h.__name__="openfl.display.FPS",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{__enterFrame:function(f){for(this.currentTime+=f,this.times.push(this.currentTime);this.times[0]<this.currentTime-1e3;)this.times.shift();var g=this.times.length;this.currentFPS=Math.round((g+this.cacheCount)/2),g!=this.cacheCount&&this.set_text("FPS: "+this.currentFPS),this.cacheCount=g}}),h.prototype.__class__=h.prototype.constructor=d["openfl.display.FPS"]=h,e.default=h})(FPS$1);var FPS=FPS$1,FrameLabel$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}var s=function(h,f){c().default.call(this),this.name=h,this.frame=f};s.__name__="openfl.display.FrameLabel",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.display.FrameLabel"]=s,e.default=s})(FrameLabel$1);var FrameLabel=FrameLabel$1,GradientType={};Object.defineProperty(GradientType,"__esModule",{value:!0});GradientType.GradientType=GradientType.default={LINEAR:"linear",RADIAL:"radial"};var Graphics=requireGraphics(),GraphicsBitmapFill=GraphicsBitmapFill$1,GraphicsEndFill=GraphicsEndFill$1,GraphicsGradientFill=GraphicsGradientFill$1,GraphicsPath=GraphicsPath$1,GraphicsPathCommand={};Object.defineProperty(GraphicsPathCommand,"__esModule",{value:!0});GraphicsPathCommand.GraphicsPathCommand=GraphicsPathCommand.default={CUBIC_CURVE_TO:6,CURVE_TO:3,LINE_TO:2,MOVE_TO:1,NO_OP:0,WIDE_LINE_TO:5,WIDE_MOVE_TO:4};var GraphicsPathWinding={};Object.defineProperty(GraphicsPathWinding,"__esModule",{value:!0});GraphicsPathWinding.GraphicsPathWinding=GraphicsPathWinding.default={EVEN_ODD:"evenOdd",NON_ZERO:"nonZero"};var GraphicsQuadPath$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsPath$1}function c(){return IGraphicsData$1}var s=function(h,f,g){this.rects=h,this.indices=f,this.transforms=g,this.__graphicsDataType=6};s.__name__="openfl.display.GraphicsQuadPath",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsQuadPath"]=s,e.default=s})(GraphicsQuadPath$1);var GraphicsQuadPath=GraphicsQuadPath$1,GraphicsShader=GraphicsShader$1,GraphicsShaderFill$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsFill$1}function c(){return IGraphicsData$1}var s=function(h,f){this.shader=h,this.matrix=f,this.__graphicsDataType=8,this.__graphicsFillType=4};s.__name__="openfl.display.GraphicsShaderFill",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsShaderFill"]=s,e.default=s})(GraphicsShaderFill$1);var GraphicsShaderFill=GraphicsShaderFill$1,GraphicsSolidFill=GraphicsSolidFill$1,GraphicsStroke=GraphicsStroke$1,GraphicsTrianglePath$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IGraphicsPath$1}function c(){return IGraphicsData$1}var s=function(h,f,g,b){b==null&&(b="none"),this.vertices=h,this.indices=f,this.uvtData=g,this.culling=b,this.__graphicsDataType=7};s.__name__="openfl.display.GraphicsTrianglePath",s.__isInterface__=!1,s.__interfaces__=[o().default,c().default],s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.display.GraphicsTrianglePath"]=s,e.default=s})(GraphicsTrianglePath$1);var GraphicsTrianglePath=GraphicsTrianglePath$1,IBitmapDrawable=IBitmapDrawable$1,IGraphicsData=IGraphicsData$1,IGraphicsFill=IGraphicsFill$1,IGraphicsPath=IGraphicsPath$1,IGraphicsStroke=IGraphicsStroke$1,InteractiveObject=InteractiveObject$1,InterpolationMethod={};Object.defineProperty(InterpolationMethod,"__esModule",{value:!0});InterpolationMethod.InterpolationMethod=InterpolationMethod.default={LINEAR_RGB:"linearRGB",RGB:"rgb"};var ITileContainer$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.display.ITileContainer",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.ITileContainer"]=o,e.default=o})(ITileContainer$1);var ITileContainer=ITileContainer$1,JointStyle={};Object.defineProperty(JointStyle,"__esModule",{value:!0});JointStyle.JointStyle=JointStyle.default={BEVEL:"bevel",MITER:"miter",ROUND:"round"};var JPEGEncoderOptions=JPEGEncoderOptions$1,LineScaleMode={};Object.defineProperty(LineScaleMode,"__esModule",{value:!0});LineScaleMode.LineScaleMode=LineScaleMode.default={HORIZONTAL:"horizontal",NONE:"none",NORMAL:"normal",VERTICAL:"vertical"};var Loader$1={},Assets$2={},AssetCache$1={},IAssetCache$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.utils.IAssetCache",o.__isInterface__=!0,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.utils.IAssetCache"]=o,e.default=o})(IAssetCache$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return IAssetCache$1}function c(){return requireStringMap()}function s(){return requireStringTools()}function h(){return requireAssets()}var f=function(){this.__enabled=!0,this.bitmapData=new(c()).default,this.font=new(c()).default,this.sound=new(c()).default};f.__name__="openfl.utils.AssetCache",f.__isInterface__=!1,f.__interfaces__=[o().default],f.prototype={clear:function($){if($==null)this.bitmapData=new(c()).default,this.font=new(c()).default,this.sound=new(c()).default;else{for(var j=this.bitmapData.keys(),_e=j;_e.hasNext();){var et=_e.next();s().default.startsWith(et,$)&&this.removeBitmapData(et)}for(var nt=this.font.keys(),rt=nt;rt.hasNext();){var tt=rt.next();s().default.startsWith(tt,$)&&this.removeFont(tt)}for(var it=this.sound.keys(),st=it;st.hasNext();){var at=st.next();s().default.startsWith(at,$)&&this.removeSound(at)}}},getBitmapData:function($){return this.bitmapData.get($)},getFont:function($){return this.font.get($)},getSound:function($){return this.sound.get($)},hasBitmapData:function($){return this.bitmapData.exists($)},hasFont:function($){return this.font.exists($)},hasSound:function($){return this.sound.exists($)},removeBitmapData:function($){return h().default.cache.image.remove($),this.bitmapData.remove($)},removeFont:function($){return h().default.cache.font.remove($),this.font.remove($)},removeSound:function($){return h().default.cache.audio.remove($),this.sound.remove($)},setBitmapData:function($,j){this.bitmapData.set($,j)},setFont:function($,j){this.font.set($,j)},setSound:function($,j){this.sound.set($,j)},get_enabled:function(){return this.__enabled},set_enabled:function($){return this.__enabled=$}},f.prototype.__class__=f.prototype.constructor=d["openfl.utils.AssetCache"]=f;{var g=f.prototype,b=function(){return this.get_enabled()},k=function($){return this.set_enabled($)};commonjsGlobal.Object.defineProperty(g,"enabled",{get:b,set:k})}e.default=f})(AssetCache$1);var AssetLibrary$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireAssetLibrary()}function s(){return requireFuture()}function h(){return requireAssetManifest()}function f(){return requireByteArray_Impl_()}var g=function(){c().default.call(this)};g.__name__="openfl.utils.AssetLibrary",g.__isInterface__=!1,g.__super__=c().default,g.prototype=o(c().default.prototype,{bind:function(b,k){return!1},exists:function(b,k){return this.__proxy!=null?this.__proxy.exists(b,k):c().default.prototype.exists.call(this,b,k)},getAsset:function(b,k){return this.__proxy!=null?this.__proxy.getAsset(b,k):c().default.prototype.getAsset.call(this,b,k)},getAudioBuffer:function(b){return this.__proxy!=null?this.__proxy.getAudioBuffer(b):c().default.prototype.getAudioBuffer.call(this,b)},getBytes:function(b){return this.__proxy!=null?this.__proxy.getBytes(b):c().default.prototype.getBytes.call(this,b)},getFont:function(b){return this.__proxy!=null?this.__proxy.getFont(b):c().default.prototype.getFont.call(this,b)},getImage:function(b){return this.__proxy!=null?this.__proxy.getImage(b):c().default.prototype.getImage.call(this,b)},getMovieClip:function(b){return null},getPath:function(b){return this.__proxy!=null?this.__proxy.getPath(b):c().default.prototype.getPath.call(this,b)},getText:function(b){return this.__proxy!=null?this.__proxy.getText(b):c().default.prototype.getText.call(this,b)},isLocal:function(b,k){return this.__proxy!=null?this.__proxy.isLocal(b,k):c().default.prototype.isLocal.call(this,b,k)},list:function(b){return this.__proxy!=null?this.__proxy.list(b):c().default.prototype.list.call(this,b)},loadAsset:function(b,k){return this.__proxy!=null?this.__proxy.loadAsset(b,k):c().default.prototype.loadAsset.call(this,b,k)},load:function(){return this.__proxy!=null?this.__proxy.load():c().default.prototype.load.call(this)},loadAudioBuffer:function(b){return this.__proxy!=null?this.__proxy.loadAudioBuffer(b):c().default.prototype.loadAudioBuffer.call(this,b)},loadBytes:function(b){return this.__proxy!=null?this.__proxy.loadBytes(b):c().default.prototype.loadBytes.call(this,b)},loadFont:function(b){return this.__proxy!=null?this.__proxy.loadFont(b):c().default.prototype.loadFont.call(this,b)},loadImage:function(b){return this.__proxy!=null?this.__proxy.loadImage(b):c().default.prototype.loadImage.call(this,b)},loadMovieClip:function(b){return s().default.withValue(this.getMovieClip(b))},loadText:function(b){return this.__proxy!=null?this.__proxy.loadText(b):c().default.prototype.loadText.call(this,b)},unload:function(){if(this.__proxy!=null){this.__proxy.unload();return}else{c().default.prototype.unload.call(this);return}}}),g.prototype.__class__=g.prototype.constructor=d["openfl.utils.AssetLibrary"]=g,g.fromBundle=function(b){var k=c().default.fromBundle(b);if(k!=null){if(k instanceof g)return k;var $=new g;return $.__proxy=k,$}else return null},g.fromBytes=function(b,k){return g.fromManifest(h().default.fromBytes(f().default.toBytes(b),k))},g.fromFile=function(b,k){return g.fromManifest(h().default.fromFile(b,k))},g.fromManifest=function(b){var k=c().default.fromManifest(b);if(k!=null){if(k instanceof g)return k;var $=new g;return $.__proxy=k,$}else return null},g.loadFromBytes=function(b,k){return h().default.loadFromBytes(f().default.toBytes(b),k).then(function($){return g.loadFromManifest($)})},g.loadFromFile=function(b,k){return h().default.loadFromFile(b,k).then(function($){return g.loadFromManifest($)})},g.loadFromManifest=function(b){var k=g.fromManifest(b);return k!=null?k.load().then(function($){return s().default.withValue($)}):s().default.withError("Could not load asset manifest")},e.default=g})(AssetLibrary$1);var Sound$2={},SoundMixer$1={},SoundTransform$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){s==null&&(s=0),c==null&&(c=1),this.volume=c,this.pan=s,this.leftToLeft=0,this.leftToRight=0,this.rightToLeft=0,this.rightToRight=0};o.__name__="openfl.media.SoundTransform",o.__isInterface__=!1,o.prototype={clone:function(){return new o(this.volume,this.pan)}},o.prototype.__class__=o.prototype.constructor=d["openfl.media.SoundTransform"]=o,o.__meta__={fields:{clone:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=o})(SoundTransform$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return SoundTransform$1}function c(){return requireHxOverrides()}var s=function(){};s.__name__="openfl.media.SoundMixer",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.media.SoundMixer"]=s,Object.defineProperty(s,"soundTransform",{get:function(){return s.get_soundTransform()},set:function(h){return s.set_soundTransform(h)}}),s.areSoundsInaccessible=function(){return!1},s.stopAll=function(){for(var h=0,f=s.__soundChannels;h<f.length;){var g=f[h];++h,g.stop()}},s.__registerSoundChannel=function(h){s.__soundChannels.push(h)},s.__unregisterSoundChannel=function(h){c().default.remove(s.__soundChannels,h)},s.get_soundTransform=function(){return s.__soundTransform},s.set_soundTransform=function(h){s.__soundTransform=h.clone();for(var f=0,g=s.__soundChannels;f<g.length;){var b=g[f];++f,b.__updateTransform()}return h},s.MAX_ACTIVE_CHANNELS=32,s.__soundChannels=[],s.__soundTransform=new(o()).default,e.default=s})(SoundMixer$1);var AudioSource={},HTML5AudioSource={},hasRequiredHTML5AudioSource;function requireHTML5AudioSource(){return hasRequiredHTML5AudioSource||(hasRequiredHTML5AudioSource=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireStd()}function s(){return requireVector4()}var h=function(f){this.parent=f,this.id=-1,this.gain=1,this.position=new(s()).default};h.__name__="lime._internal.backend.html5.HTML5AudioSource",h.__isInterface__=!1,h.prototype={dispose:function(){},init:function(){},play:function(){if(!(this.playing||this.parent.buffer==null||this.parent.buffer.__srcHowl==null)){this.playing=!0;var f=this.getCurrentTime();this.completed=!1;var g=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain(),this.id=this.parent.buffer.__srcHowl.play(),this.parent.buffer.__srcHowl._volume=g,this.setPosition(this.parent.get_position()),this.parent.buffer.__srcHowl.on("end",o(this,this.howl_onEnd),this.id),this.setCurrentTime(f)}},pause:function(){this.playing=!1,this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1,this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",o(this,this.howl_onEnd),this.id))},howl_onEnd:function(){if(this.playing=!1,this.loops>0){this.loops--,this.stop(),this.play();return}else this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",o(this,this.howl_onEnd),this.id));this.completed=!0,this.parent.onComplete.dispatch()},getCurrentTime:function(){if(this.id==-1)return 0;if(this.completed)return this.getLength();if(this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null){var f=c().default.int(this.parent.buffer.__srcHowl.seek(this.id)*1e3)-this.parent.offset;return f<0?0:f}return 0},setCurrentTime:function(f){if(this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null){var g=(f+this.parent.offset)/1e3;g<0&&(g=0),this.parent.buffer.__srcHowl.seek(g,this.id)}return f},getGain:function(){return this.gain},setGain:function(f){return this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null&&this.id!=-1&&this.parent.buffer.__srcHowl.volume(f,this.id),this.gain=f},getLength:function(){return this.length!=0?this.length:this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null?c().default.int(this.parent.buffer.__srcHowl.duration()*1e3):0},setLength:function(f){return this.length=f},getLoops:function(){return this.loops},setLoops:function(f){return this.loops=f},getPitch:function(){return this.parent.buffer.__srcHowl.rate()},setPitch:function(f){return this.parent.buffer.__srcHowl.rate(f),this.getPitch()},getPosition:function(){return this.position},setPosition:function(f){return this.position.x=f.x,this.position.y=f.y,this.position.z=f.z,this.position.w=f.w,this.parent.buffer!=null&&this.parent.buffer.__srcHowl!=null&&this.parent.buffer.__srcHowl.pos!=null&&this.parent.buffer.__srcHowl.pos(this.position.x,this.position.y,this.position.z,this.id),this.position}},h.prototype.__class__=h.prototype.constructor=d["lime._internal.backend.html5.HTML5AudioSource"]=h,e.default=h}(HTML5AudioSource)),HTML5AudioSource}var hasRequiredAudioSource;function requireAudioSource(){return hasRequiredAudioSource||(hasRequiredAudioSource=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Event_Void_Void()}function c(){return requireHTML5AudioSource()}var s=function(h,f,g,b){b==null&&(b=0),f==null&&(f=0),this.onComplete=new(o()).default,this.buffer=h,this.offset=f,this.__backend=new(c()).default(this),g!=null&&g!=0&&this.set_length(g),this.set_loops(b),h!=null&&this.init()};s.__name__="lime.media.AudioSource",s.__isInterface__=!1,s.prototype={dispose:function(){this.__backend.dispose()},init:function(){this.__backend.init()},play:function(){this.__backend.play()},pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},get_currentTime:function(){return this.__backend.getCurrentTime()},set_currentTime:function(h){return this.__backend.setCurrentTime(h)},get_gain:function(){return this.__backend.getGain()},set_gain:function(h){return this.__backend.setGain(h)},get_length:function(){return this.__backend.getLength()},set_length:function(h){return this.__backend.setLength(h)},get_loops:function(){return this.__backend.getLoops()},set_loops:function(h){return this.__backend.setLoops(h)},get_pitch:function(){return this.__backend.getPitch()},set_pitch:function(h){return this.__backend.setPitch(h)},get_position:function(){return this.__backend.getPosition()},set_position:function(h){return this.__backend.setPosition(h)}},s.prototype.__class__=s.prototype.constructor=d["lime.media.AudioSource"]=s,e.default=s}(AudioSource)),AudioSource}var SoundChannel$1={},SampleDataEvent$1={},Float32Array_Impl_={},hasRequiredFloat32Array_Impl_;function requireFloat32Array_Impl_(){return hasRequiredFloat32Array_Impl_||(hasRequiredFloat32Array_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe.io._Float32Array.Float32Array_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.io._Float32Array.Float32Array_Impl_"]=o,o.fromBytes=function(c,s,h){return s==null&&(s=0),h==null&&(h=c.get_length()-s>>2),new Float32Array(c.getData(),s,h)},e.default=o}(Float32Array_Impl_)),Float32Array_Impl_}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}function s(){return requireByteArrayData()}function h(){return requireStd()}function f(){return requireUInt_Impl_()}function g(){return requireByteArray_Impl_()}function b(){return requireHaxeError()}function k(){return _Error$1}function $(){return requireFloat32Array_Impl_()}var j=function(_e,et,nt){nt==null&&(nt=!1),et==null&&(et=!1),c().default.call(this,_e,et,nt);var rt=new(s()).default(0);this.data=rt,this.data.set_endian("littleEndian"),this.position=0};j.__name__="openfl.events.SampleDataEvent",j.__isInterface__=!1,j.__super__=c().default,j.prototype=o(c().default.prototype,{clone:function(){var _e=new j(this.type,this.bubbles,this.cancelable);return _e.target=this.target,_e.currentTarget=this.currentTarget,_e.eventPhase=this.eventPhase,_e.data=this.data,_e.position=this.position,_e},toString:function(){return this.__formatToString("SampleDataEvent",["type","bubbles","cancelable"])},__init:function(){c().default.prototype.__init.call(this);var _e=new(s()).default(0);this.data=_e,this.data.set_endian("littleEndian"),this.position=0},getBufferSize:function(){var _e=h().default.int(f().default.toFloat(g().default.get_length(this.data))/f().default.toFloat(4)/2);if(_e>0)if(_e!=0&&!(_e&_e-1)&&_e>=2048&&_e<=8192){var et=new Float32Array(_e*2);return this.tempBuffer=et,_e}else throw new(b()).default(new(k()).default("To be consistent with flash the listener function registered to SampleDataEvent has to provide 2048, 4096 or 8192 samples if targeting HTML5."));return 0},getSamples:function(_e){this.data.position=0,this.tempBuffer=$().default.fromBytes(g().default.toBytes(this.data)),this.leftChannel=_e.outputBuffer.getChannelData(0),this.rightChannel=_e.outputBuffer.getChannelData(1);for(var et=0,nt=h().default.int(f().default.toFloat(g().default.get_length(this.data))/f().default.toFloat(2)),rt=0,tt=nt;rt<tt;){var it=rt++;this.leftChannel[it]=this.tempBuffer[et++],this.rightChannel[it]=this.tempBuffer[et++]}}}),j.prototype.__class__=j.prototype.constructor=d["openfl.events.SampleDataEvent"]=j,j.SAMPLE_DATA="sampleData",e.default=j})(SampleDataEvent$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return SoundMixer$1}function f(){return SampleDataEvent$1}function g(){return requireLib()}function b(){return Event$1}function k(){return require_Reflect()}function $(){return requireStd()}function j(){return requireByteArray_Impl_()}function _e(){return requireUInt_Impl_()}function et(){return SoundTransform$1}var nt=function(rt,tt,it){this.__firstRun=!0,s().default.call(this,this),this.__sound=rt,this.leftPeak=1,this.rightPeak=1,it!=null?this.__soundTransform=it:this.__soundTransform=new(et()).default,this.__initAudioSource(tt),h().default.__registerSoundChannel(this)};nt.__name__="openfl.media.SoundChannel",nt.__isInterface__=!1,nt.__super__=s().default,nt.prototype=c(s().default.prototype,{stop:function(){h().default.__unregisterSoundChannel(this),this.__isValid&&(this.__processor!=null&&(this.__processor.disconnect(),this.__processor.onaudioprocess=null,this.__processor=null),this.__audioSource.stop(),this.__dispose())},__dispose:function(){this.__isValid&&(this.__audioSource.onComplete.remove(o(this,this.audioSource_onComplete)),this.__audioSource.dispose(),this.__audioSource=null,this.__isValid=!1)},__startSampleData:function(){var rt=this,tt=this.__sound.__webAudioContext;if(tt!=null){this.__sampleDataEvent=new(f()).default("sampleData"),this.__sound.dispatchEvent(this.__sampleDataEvent);var it=this.__sampleDataEvent.getBufferSize();it==0?g().default.setTimeout(function(){rt.stop(),rt.dispatchEvent(new(b()).default("soundComplete"))},1):(this.__processor=tt.createScriptProcessor(it,0,2),this.__processor.connect(tt.destination),this.__processor.onaudioprocess=o(this,this.onSample),k().default.callMethod(tt,k().default.field(tt,"resume"),[]))}},__updateTransform:function(){this.set_soundTransform(this.get_soundTransform())},__initAudioSource:function(rt){this.__audioSource=rt,this.__audioSource!=null&&(this.__audioSource.onComplete.add(o(this,this.audioSource_onComplete)),this.__isValid=!0,this.__audioSource.play())},get_position:function(){return this.__isValid?this.__audioSource.get_currentTime()+this.__audioSource.offset:0},set_position:function(rt){return this.__isValid?(this.__audioSource.set_currentTime($().default.int(rt)-this.__audioSource.offset),rt):0},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(rt){if(rt!=null){this.__soundTransform.pan=rt.pan,this.__soundTransform.volume=rt.volume;var tt=h().default.__soundTransform.pan+this.__soundTransform.pan;tt<-1&&(tt=-1),tt>1&&(tt=1);var it=h().default.__soundTransform.volume*this.__soundTransform.volume;if(this.__isValid){this.__audioSource.set_gain(it);var st=this.__audioSource.get_position();return st.x=tt,st.z=-1*Math.sqrt(1-Math.pow(tt,2)),this.__audioSource.set_position(st),rt}}return rt},audioSource_onComplete:function(){h().default.__unregisterSoundChannel(this),this.__dispose(),this.dispatchEvent(new(b()).default("soundComplete"))},onSample:function(rt){var tt=!1;this.__firstRun?(tt=!0,this.__firstRun=!1):(j().default.set_length(this.__sampleDataEvent.data,0),this.__sound.dispatchEvent(this.__sampleDataEvent),tt=_e().default.gt(j().default.get_length(this.__sampleDataEvent.data),0)),tt?this.__sampleDataEvent.getSamples(rt):(this.stop(),this.dispatchEvent(new(b()).default("soundComplete")))}}),nt.prototype.__class__=nt.prototype.constructor=d["openfl.media.SoundChannel"]=nt,Object.defineProperties(nt.prototype,{position:{get:function(){return this.get_position()},set:function(rt){return this.set_position(rt)}},soundTransform:{get:function(){return this.get_soundTransform()},set:function(rt){return this.set_soundTransform(rt)}}}),e.default=nt})(SoundChannel$1);var ID3Info$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.media.ID3Info",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.media.ID3Info"]=o,e.default=o})(ID3Info$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return requireAssets()}function f(){return requireAudioBuffer()}function g(){return IOErrorEvent$1}function b(){return requireUInt_Impl_()}function k(){return requireByteArray_Impl_()}function $(){return requireByteArrayData()}function j(){return Event$1}function _e(){return requireStd()}function et(){return SoundMixer$1}function nt(){return SoundTransform$1}function rt(){return requireAudioSource()}function tt(){return SoundChannel$1}function it(){return ID3Info$1}function st(){return requireHaxeError()}function at(){return IOError$1}function _t(){return requireFuture()}function ut(){return requireAudioManager()}var ot=function(lt,ft){this.__webAudioContext=null,this.__urlLoading=!1,s().default.call(this,this),this.bytesLoaded=0,this.bytesTotal=0,this.isBuffering=!1,this.url=null,lt!=null&&this.load(lt,ft),lt==null&&ut().default.context!=null&&ut().default.context.type=="web"&&(this.__webAudioContext=ut().default.context.web)};ot.__name__="openfl.media.Sound",ot.__isInterface__=!1,ot.__super__=s().default,ot.prototype=c(s().default.prototype,{close:function(){this.__buffer!=null&&(this.__buffer.dispose(),this.__buffer=null)},load:function(lt,ft){var ht=this;this.url=lt.url,this.__urlLoading=!0;var dt=h().default.getLibrary("default");dt!=null&&dt.cachedAudioBuffers.exists(this.url)?this.AudioBuffer_onURLLoad(dt.cachedAudioBuffers.get(this.url)):f().default.loadFromFile(this.url).onComplete(o(this,this.AudioBuffer_onURLLoad)).onError(function(pt){ht.AudioBuffer_onURLLoad(null)})},loadCompressedDataFromByteArray:function(lt,ft){if(lt==null||ft<=0){this.dispatchEvent(new(g()).default("ioError"));return}if(b().default.gt(lt.position,0)||b().default.gt(k().default.get_length(lt),ft)){var ht=ft;ht==null&&(ht=0);var dt=new($()).default(ht),pt=dt,xt=lt.position,vt=ft;vt==null&&(vt=0),xt==null&&(xt=0),pt.writeBytes(lt,xt,vt),lt=pt}this.__buffer=f().default.fromBytes(k().default.toBytes(lt)),this.__buffer==null?this.dispatchEvent(new(g()).default("ioError")):this.dispatchEvent(new(j()).default("complete"))},loadPCMFromByteArray:function(lt,ft,ht,dt,pt){if(pt==null&&(pt=44100),dt==null&&(dt=!0),ht==null&&(ht="float"),lt==null){this.dispatchEvent(new(g()).default("ioError"));return}var xt=ht=="float"?32:16,vt=dt?2:1,bt=_e().default.int(ft*vt*(xt/8));if(b().default.gt(lt.position,0)||b().default.gt(k().default.get_length(lt),bt)){var wt=bt;wt==null&&(wt=0);var At=new($()).default(wt),ct=At,mt=lt.position,gt=bt;gt==null&&(gt=0),mt==null&&(mt=0),ct.writeBytes(lt,mt,gt),lt=ct}var Tt=new(f()).default;Tt.bitsPerSample=xt,Tt.channels=vt;var yt=k().default.toArrayBuffer(lt),Et;yt!=null?Et=new Uint8Array(yt,0):Et=null,Tt.data=Et,Tt.sampleRate=_e().default.int(pt),this.__buffer=Tt,this.dispatchEvent(new(j()).default("complete"))},play:function(lt,ft,ht){if(ft==null&&(ft=0),lt==null&&(lt=0),et().default.__soundChannels.length>=32)return null;ht==null?ht=new(nt()).default:ht=ht.clone();var dt=et().default.__soundTransform.pan+ht.pan;dt>1&&(dt=1),dt<-1&&(dt=-1);var pt=et().default.__soundTransform.volume*ht.volume,xt=new(rt()).default(this.__buffer);xt.offset=_e().default.int(lt),ft>1&&xt.set_loops(ft-1),xt.set_gain(pt);var vt=xt.get_position();vt.x=dt,vt.z=-1*Math.sqrt(1-Math.pow(dt,2)),xt.set_position(vt);var bt=new(tt()).default(this,this.__urlLoading?null:xt,ht);return this.__urlLoading?(this.__pendingAudioSource=xt,this.__pendingSoundChannel=bt):this.__buffer==null&&this.__webAudioContext!=null&&bt.__startSampleData(),bt},get_sampleRate:function(){return _e().default.int(this.__webAudioContext.sampleRate)},get_id3:function(){return new(it()).default},get_length:function(){return this.__buffer!=null?_e().default.int(this.__buffer.get_src().duration()*1e3):0},AudioBuffer_onURLLoad:function(lt){this.__urlLoading=!1,lt==null?this.dispatchEvent(new(g()).default("ioError")):(this.__buffer=lt,this.dispatchEvent(new(j()).default("complete")),this.__pendingSoundChannel!=null&&(this.__pendingAudioSource.buffer=this.__buffer,this.__pendingAudioSource.init(),this.__pendingSoundChannel.__initAudioSource(this.__pendingAudioSource))),this.__pendingSoundChannel=null,this.__pendingAudioSource=null}}),ot.prototype.__class__=ot.prototype.constructor=d["openfl.media.Sound"]=ot,Object.defineProperties(ot.prototype,{id3:{get:function(){return this.get_id3()}},length:{get:function(){return this.get_length()}}}),ot.fromAudioBuffer=function(lt){var ft=new ot;return ft.__buffer=lt,ft},ot.fromFile=function(lt){var ft=f().default.fromFile(lt);if(ft==null)throw new(st()).default(new(at()).default("Error loading sound from file: "+lt));return ot.fromAudioBuffer(ft)},ot.loadFromFile=function(lt){return f().default.loadFromFile(lt).then(function(ft){return _t().default.withValue(ot.fromAudioBuffer(ft))})},ot.loadFromFiles=function(lt){return f().default.loadFromFiles(lt).then(function(ft){return _t().default.withValue(ot.fromAudioBuffer(ft))})},e.default=ot})(Sound$2);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return AssetCache$1}function s(){return EventDispatcher$1}function h(){return requireStringMap()}function f(){return requireAssets()}function g(){return requireBitmapData()}function b(){return requireByteArray_Impl_()}function k(){return Font$2}function $(){return requireHxOverrides()}function j(){return AssetLibrary$1}function _e(){return requireLog()}function et(){return Sound$2}function nt(){return requireSprite()}function rt(){return require_Promise()}function tt(){return requireFuture()}function it(){return requireType()}function st(){return Event$1}var at=function(){};at.__name__="openfl.utils.Assets",at.__isInterface__=!1,at.prototype={},at.prototype.__class__=at.prototype.constructor=d["openfl.utils.Assets"]=at,at.addEventListener=function(_t,ut,ot,lt,ft){ft==null&&(ft=!1),lt==null&&(lt=0),ot==null&&(ot=!1),f().default.onChange.has(at.LimeAssets_onChange)||f().default.onChange.add(at.LimeAssets_onChange),at.dispatcher.addEventListener(_t,ut,ot,lt,ft)},at.dispatchEvent=function(_t){return at.dispatcher.dispatchEvent(_t)},at.exists=function(_t,ut){return f().default.exists(_t,ut)},at.getBitmapData=function(_t,ut){if(ut==null&&(ut=!0),ut&&at.cache.get_enabled()&&at.cache.hasBitmapData(_t)){var ot=at.cache.getBitmapData(_t);if(at.isValidBitmapData(ot))return ot}var lt=f().default.getImage(_t,!1);if(lt!=null){var ft=g().default.fromImage(lt);return ut&&at.cache.get_enabled()&&at.cache.setBitmapData(_t,ft),ft}return null},at.getBytes=function(_t){return b().default.fromBytes(f().default.getBytes(_t))},at.getFont=function(_t,ut){if(ut==null&&(ut=!0),ut&&at.cache.get_enabled()&&at.cache.hasFont(_t))return at.cache.getFont(_t);var ot=f().default.getFont(_t,!1);if(ot!=null){var lt=new(k()).default;return lt.__fromLimeFont(ot),ut&&at.cache.get_enabled()&&at.cache.setFont(_t,lt),lt}return new(k()).default},at.getLibrary=function(_t){return f().default.getLibrary(_t)},at.getMovieClip=function(_t){var ut=_t.substring(0,_t.indexOf(":")),ot=$().default.substr(_t,_t.indexOf(":")+1,null),lt=at.getLibrary(ut);if(lt!=null){if(lt instanceof j().default){var ft=lt;if(ft.exists(ot,"MOVIE_CLIP"))return ft.isLocal(ot,"MOVIE_CLIP")?ft.getMovieClip(ot):(_e().default.error('MovieClip asset "'+_t+'" exists, but only asynchronously',{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/Assets.hx",lineNumber:215,className:"openfl.utils.Assets",methodName:"getMovieClip"}),null)}_e().default.error('There is no MovieClip asset with an ID of "'+_t+'"',{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/Assets.hx",lineNumber:221,className:"openfl.utils.Assets",methodName:"getMovieClip"})}else _e().default.error('There is no asset library named "'+ut+'"',{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/Assets.hx",lineNumber:225,className:"openfl.utils.Assets",methodName:"getMovieClip"});return null},at.getMusic=function(_t,ut){return ut==null&&(ut=!0),at.getSound(_t,ut)},at.getPath=function(_t){return f().default.getPath(_t)},at.getSound=function(_t,ut){if(ut==null&&(ut=!0),ut&&at.cache.get_enabled()&&at.cache.hasSound(_t)){var ot=at.cache.getSound(_t);if(at.isValidSound(ot))return ot}var lt=f().default.getAudioBuffer(_t,!1);if(lt!=null){var ft=et().default.fromAudioBuffer(lt);return ut&&at.cache.get_enabled()&&at.cache.setSound(_t,ft),ft}return null},at.getText=function(_t){return f().default.getText(_t)},at.hasEventListener=function(_t){return at.dispatcher.hasEventListener(_t)},at.hasLibrary=function(_t){return f().default.hasLibrary(_t)},at.initBinding=function(_t,ut){if(at.libraryBindings.exists(_t)){var ot=at.libraryBindings.get(_t);ut==null?nt().default.__constructor=function(lt){lt.__bind(ot,_t)}:(nt().default.__constructor=null,ut.__bind(ot,_t))}else _e().default.warn('No asset is registered as "'+_t+'"',{fileName:"../node_modules/openfl-haxelib/src/openfl/utils/Assets.hx",lineNumber:367,className:"openfl.utils.Assets",methodName:"initBinding"})},at.isLocal=function(_t,ut,ot){if(ot==null&&(ot=!0),ot&&at.cache.get_enabled()&&((ut=="IMAGE"||ut==null)&&at.cache.hasBitmapData(_t)||(ut=="FONT"||ut==null)&&at.cache.hasFont(_t)||(ut=="SOUND"||ut=="MUSIC"||ut==null)&&at.cache.hasSound(_t)))return!0;var lt=_t.substring(0,_t.indexOf(":")),ft=$().default.substr(_t,_t.indexOf(":")+1,null),ht=at.getLibrary(lt);return ht!=null?ht.isLocal(ft,ut):!1},at.isValidBitmapData=function(_t){return _t!=null&&_t.image!=null},at.isValidSound=function(_t){return!0},at.list=function(_t){return f().default.list(_t)},at.loadBitmapData=function(_t,ut){ut==null&&(ut=!0),ut==null&&(ut=!0);var ot=new(rt()).default;if(ut&&at.cache.get_enabled()&&at.cache.hasBitmapData(_t)){var lt=at.cache.getBitmapData(_t);if(at.isValidBitmapData(lt))return ot.complete(lt),ot.future}return f().default.loadImage(_t,!1).onComplete(function(ft){if(ft!=null){var ht=g().default.fromImage(ft);ut&&at.cache.get_enabled()&&at.cache.setBitmapData(_t,ht),ot.complete(ht)}else ot.error('[Assets] Could not load Image "'+_t+'"')}).onError(o(ot,ot.error)).onProgress(o(ot,ot.progress)),ot.future},at.loadBytes=function(_t){var ut=new(rt()).default,ot=f().default.loadBytes(_t);return ot.onComplete(function(lt){ut.complete(b().default.fromBytes(lt))}),ot.onProgress(function(lt,ft){ut.progress(lt,ft)}),ot.onError(function(lt){ut.error(lt)}),ut.future},at.loadFont=function(_t,ut){ut==null&&(ut=!0),ut==null&&(ut=!0);var ot=new(rt()).default;if(ut&&at.cache.get_enabled()&&at.cache.hasFont(_t)){var lt=at.cache.getFont(_t);return ot.complete(lt),ot.future}return f().default.loadFont(_t).onComplete(function(ft){var ht=new(k()).default;ht.__fromLimeFont(ft),ut&&at.cache.get_enabled()&&at.cache.setFont(_t,ht),ot.complete(ht)}).onError(o(ot,ot.error)).onProgress(o(ot,ot.progress)),ot.future},at.loadLibrary=function(_t){return f().default.loadLibrary(_t).then(function(ut){var ot=null;return ut!=null&&(ut instanceof j().default?ot=ut:(f().default.libraries.remove(_t),ot=new(j()).default,ot.__proxy=ut,f().default.registerLibrary(_t,ot))),tt().default.withValue(ot)})},at.loadMusic=function(_t,ut){ut==null&&(ut=!0),ut==null&&(ut=!0);var ot=new(tt()).default(function(){return at.getMusic(_t,ut)});return ot},at.loadMovieClip=function(_t){var ut=new(rt()).default,ot=_t.substring(0,_t.indexOf(":")),lt=$().default.substr(_t,_t.indexOf(":")+1,null),ft=at.getLibrary(ot);if(ft!=null){if(ft instanceof j().default){var ht=ft;if(ht.exists(lt,"MOVIE_CLIP"))return ut.completeWith(ht.loadMovieClip(lt)),ut.future}ut.error('[Assets] There is no MovieClip asset with an ID of "'+_t+'"')}else ut.error('[Assets] There is no asset library named "'+ot+'"');return ut.future},at.loadSound=function(_t,ut){ut==null&&(ut=!0),ut==null&&(ut=!0);var ot=new(rt()).default;return f().default.loadAudioBuffer(_t,ut).onComplete(function(lt){if(lt!=null){var ft=et().default.fromAudioBuffer(lt);ut&&at.cache.get_enabled()&&at.cache.setSound(_t,ft),ot.complete(ft)}else ot.error('[Assets] Could not load Sound "'+_t+'"')}).onError(o(ot,ot.error)).onProgress(o(ot,ot.progress)),ot.future},at.loadText=function(_t){var ut=f().default.loadText(_t);return ut},at.registerBinding=function(_t,ut){at.libraryBindings.set(_t,ut)},at.registerLibrary=function(_t,ut){f().default.registerLibrary(_t,ut)},at.removeEventListener=function(_t,ut,ot){ot==null&&(ot=!1),at.dispatcher.removeEventListener(_t,ut,ot)},at.resolveClass=function(_t){return it().default.resolveClass(_t)},at.resolveEnum=function(_t){var ut=it().default.resolveEnum(_t);return ut},at.unloadLibrary=function(_t){f().default.unloadLibrary(_t)},at.unregisterBinding=function(_t,ut){at.libraryBindings.exists(_t)&&at.libraryBindings.get(_t)==ut&&at.libraryBindings.remove(_t)},at.LimeAssets_onChange=function(){at.dispatchEvent(new(st()).default("change"))},at.cache=new(c()).default,at.dispatcher=new(s()).default,at.libraryBindings=new(h()).default,e.default=at})(Assets$2);var LoaderInfo$1={},UncaughtErrorEvents$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}var s=function(){c().default.call(this)};s.__name__="openfl.events.UncaughtErrorEvents",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{addEventListener:function(h,f,g,b,k){k==null&&(k=!1),b==null&&(b=0),g==null&&(g=!1),c().default.prototype.addEventListener.call(this,h,f,g,b,k),this.__eventMap.exists("uncaughtError")&&(this.__enabled=!0)},removeEventListener:function(h,f,g){g==null&&(g=!1),c().default.prototype.removeEventListener.call(this,h,f,g),this.__eventMap.exists("uncaughtError")||(this.__enabled=!1)}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.UncaughtErrorEvents"]=s,e.default=s})(UncaughtErrorEvents$1);var ApplicationDomain$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireType()}var c=function(s){s!=null?this.parentDomain=s:this.parentDomain=c.currentDomain};c.__name__="openfl.system.ApplicationDomain",c.__isInterface__=!1,c.prototype={getDefinition:function(s){return o().default.resolveClass(s)},hasDefinition:function(s){return o().default.resolveClass(s)!=null}},c.prototype.__class__=c.prototype.constructor=d["openfl.system.ApplicationDomain"]=c,c.currentDomain=new c(null),e.default=c})(ApplicationDomain$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return Event$1}function h(){return ProgressEvent$1}function f(){return UncaughtErrorEvents$1}function g(){return ApplicationDomain$1}var b=function(){c().default.call(this),this.applicationDomain=g().default.currentDomain,this.bytesLoaded=0,this.bytesTotal=0,this.childAllowsParent=!0,this.parameters={}};b.__name__="openfl.display.LoaderInfo",b.__isInterface__=!1,b.__super__=c().default,b.prototype=o(c().default.prototype,{__complete:function(){this.__completed||(this.bytesLoaded<this.bytesTotal&&(this.bytesLoaded=this.bytesTotal),this.__update(this.bytesLoaded,this.bytesTotal),this.__completed=!0,this.dispatchEvent(new(s()).default("complete")))},__update:function(k,$){this.bytesLoaded=k,this.bytesTotal=$,this.dispatchEvent(new(h()).default("progress",!1,!1,k,$))}}),b.prototype.__class__=b.prototype.constructor=d["openfl.display.LoaderInfo"]=b,b.create=function(k){var $=new b;return $.uncaughtErrorEvents=new(f()).default,k!=null?$.loader=k:$.url=b.__rootURL,$},b.__meta__={statics:{create:{SuppressWarnings:["checkstyle:FieldDocComment"]}},fields:{parameters:{SuppressWarnings:["checkstyle:Dynamic"]}}},b.__rootURL=typeof window<"u"?window.document.URL:"",e.default=b})(LoaderInfo$1);(function(exports){var $global=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;$global.Object.defineProperty(exports,"__esModule",{value:!0});var $hxClasses=hxClasses_stub.default;hxEnums_stub.default;var $bind=bind_stub.default,$extend=extend_stub.default;function openfl_display_DisplayObjectContainer(){return DisplayObjectContainer$1}function js__$Boot_HaxeError(){return requireHaxeError()}function openfl_errors_Error(){return _Error$1}function openfl_utils__$internal_Lib(){return requireLib$1()}function openfl_events_Event(){return Event$1}function openfl_Lib(){return requireLib()}function StringTools(){return requireStringTools()}function openfl_display_BitmapData(){return requireBitmapData()}function openfl_net_URLLoader(){return URLLoader$1}function openfl_utils_Assets(){return Assets$2}function openfl_events_IOErrorEvent(){return IOErrorEvent$1}function Std(){return requireStd()}function openfl_display_Bitmap(){return Bitmap$2}function openfl_events_ProgressEvent(){return ProgressEvent$1}function lime_utils_AssetManifest(){return requireAssetManifest()}function haxe_io_Path(){return requirePath()}function lime_utils_AssetLibrary(){return requireAssetLibrary()}function openfl_utils_AssetLibrary(){return AssetLibrary$1}function openfl_display_Sprite(){return requireSprite()}function openfl_display_LoaderInfo(){return LoaderInfo$1}var Loader=function(){openfl_display_DisplayObjectContainer().default.call(this),this.__drawableType=4,this.contentLoaderInfo=openfl_display_LoaderInfo().default.create(this),this.uncaughtErrorEvents=this.contentLoaderInfo.uncaughtErrorEvents,this.__unloaded=!0};Loader.__name__="openfl.display.Loader",Loader.__isInterface__=!1,Loader.__super__=openfl_display_DisplayObjectContainer().default,Loader.prototype=$extend(openfl_display_DisplayObjectContainer().default.prototype,{addChild:function(e){throw new(js__$Boot_HaxeError()).default(new(openfl_errors_Error()).default("Error #2069: The Loader class does not implement this method.",2069))},addChildAt:function(e,_){throw new(js__$Boot_HaxeError()).default(new(openfl_errors_Error()).default("Error #2069: The Loader class does not implement this method.",2069))},close:function(){openfl_utils__$internal_Lib().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/display/Loader.hx",lineNumber:228,className:"openfl.display.Loader",methodName:"close"})},load:function(e,_){this.unload();var d=new(openfl_events_Event()).default("open");if(this.contentLoaderInfo.dispatchEvent(d),this.contentLoaderInfo.loaderURL=openfl_Lib().default.get_current().get_loaderInfo().url,this.contentLoaderInfo.url=e.url,this.__unloaded=!1,e.contentType==null||e.contentType==""){var o="";this.__path=e.url;var c=this.__path.indexOf("?");for(c>-1&&(this.__path=this.__path.substring(0,c));StringTools().default.endsWith(this.__path,"/");)this.__path=this.__path.substring(0,this.__path.length-1);StringTools().default.endsWith(this.__path,".bundle")&&(this.__path+="/library.json",c>-1?e.url=this.__path+e.url.substring(c):e.url=this.__path);var s=this.__path.lastIndexOf(".");s>-1&&(o=this.__path.substring(s+1));var h;switch(o){case"gif":h="image/gif";break;case"jpeg":case"jpg":h="image/jpeg";break;case"js":h="application/javascript";break;case"json":h="application/json";break;case"png":h="image/png";break;case"swf":h="application/x-shockwave-flash";break;default:h="application/x-www-form-urlencoded"}this.contentLoaderInfo.contentType=h}else this.contentLoaderInfo.contentType=e.contentType;if(this.contentLoaderInfo.contentType.indexOf("image/")>-1&&e.method=="GET"&&(e.requestHeaders==null||e.requestHeaders.length==0)&&e.userAgent==null){openfl_display_BitmapData().default.loadFromFile(e.url).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError)).onProgress($bind(this,this.BitmapData_onProgress));return}var f=new(openfl_net_URLLoader()).default;f.dataFormat="binary",(this.contentLoaderInfo.contentType.indexOf("/json")>-1||this.contentLoaderInfo.contentType.indexOf("/javascript")>-1||this.contentLoaderInfo.contentType.indexOf("/ecmascript")>-1)&&(f.dataFormat="text"),f.addEventListener("complete",$bind(this,this.loader_onComplete)),f.addEventListener("ioError",$bind(this,this.loader_onError)),f.addEventListener("progress",$bind(this,this.loader_onProgress)),f.load(e)},loadBytes:function(e,_){openfl_display_BitmapData().default.loadFromBytes(e).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError))},removeChild:function(e){if(e==this.content)return openfl_display_DisplayObjectContainer().default.prototype.removeChild.call(this,this.content);throw new(js__$Boot_HaxeError()).default(new(openfl_errors_Error()).default("Error #2069: The Loader class does not implement this method.",2069))},removeChildAt:function(e){throw new(js__$Boot_HaxeError()).default(new(openfl_errors_Error()).default("Error #2069: The Loader class does not implement this method.",2069))},setChildIndex:function(e,_){throw new(js__$Boot_HaxeError()).default(new(openfl_errors_Error()).default("Error #2069: The Loader class does not implement this method.",2069))},unload:function(){this.__unloaded||(this.content!=null&&this.content.parent==this&&openfl_display_DisplayObjectContainer().default.prototype.removeChild.call(this,this.content),this.__library!=null&&(openfl_utils_Assets().default.unloadLibrary(this.contentLoaderInfo.url),this.__library=null),this.content=null,this.contentLoaderInfo.url=null,this.contentLoaderInfo.contentType=null,this.contentLoaderInfo.content=null,this.contentLoaderInfo.bytesLoaded=0,this.contentLoaderInfo.bytesTotal=0,this.contentLoaderInfo.width=0,this.contentLoaderInfo.height=0,this.__unloaded=!0,this.contentLoaderInfo.dispatchEvent(new(openfl_events_Event()).default("unload")))},unloadAndStop:function(e){this.content!=null&&this.content.__stopAllMovieClips();for(var _=0,d=this.get_numChildren();_<d;){var o=_++;this.getChildAt(o).__stopAllMovieClips()}this.unload()},__dispatchError:function(e){var _=new(openfl_events_IOErrorEvent()).default("ioError");_.text=e,this.contentLoaderInfo.dispatchEvent(_)},__setContent:function(e,_,d){this.content=e,this.contentLoaderInfo.content=e,this.contentLoaderInfo.width=_,this.contentLoaderInfo.height=d,e!=null&&openfl_display_DisplayObjectContainer().default.prototype.addChildAt.call(this,e,0)},BitmapData_onError:function(e){this.__dispatchError(Std().default.string(e))},BitmapData_onLoad:function(e){if(e==null){this.__dispatchError("Unknown error");return}this.__setContent(new(openfl_display_Bitmap()).default(e),e.width,e.height),this.contentLoaderInfo.dispatchEvent(new(openfl_events_Event()).default("complete"))},BitmapData_onProgress:function(e,_){var d=new(openfl_events_ProgressEvent()).default("progress");d.bytesLoaded=e,d.bytesTotal=_,this.contentLoaderInfo.dispatchEvent(d)},loader_onComplete:function(event){var _gthis=this,loader=event.target;if(this.contentLoaderInfo.contentType!=null&&this.contentLoaderInfo.contentType.indexOf("/json")>-1){var manifest=lime_utils_AssetManifest().default.parse(loader.data,haxe_io_Path().default.directory(this.__path));if(manifest==null){this.__dispatchError("Cannot parse asset manifest");return}var library=lime_utils_AssetLibrary().default.fromManifest(manifest);if(library==null){this.__dispatchError("Cannot open library");return}library instanceof openfl_utils_AssetLibrary().default&&library.load().onComplete(function(e){_gthis.__library=library,openfl_utils_Assets().default.registerLibrary(_gthis.contentLoaderInfo.url,_gthis.__library),manifest.name!=null&&!openfl_utils_Assets().default.hasLibrary(manifest.name)&&openfl_utils_Assets().default.registerLibrary(manifest.name,_gthis.__library);var _=_gthis.__library.getMovieClip(""),d=Std().default.int(_.get_width()),o=Std().default.int(_.get_height());_gthis.__setContent(_,d,o),_gthis.contentLoaderInfo.dispatchEvent(new(openfl_events_Event()).default("complete"))}).onError(function(e){_gthis.__dispatchError(e)})}else this.contentLoaderInfo.contentType!=null&&(this.contentLoaderInfo.contentType.indexOf("/javascript")>-1||this.contentLoaderInfo.contentType.indexOf("/ecmascript")>-1)?(this.__setContent(new(openfl_display_Sprite()).default,0,0),eval("(function () {"+Std().default.string(loader.data)+"})()"),this.contentLoaderInfo.dispatchEvent(new(openfl_events_Event()).default("complete"))):(this.contentLoaderInfo.bytes=loader.data,openfl_display_BitmapData().default.loadFromBytes(loader.data).onComplete($bind(this,this.BitmapData_onLoad)).onError($bind(this,this.BitmapData_onError)))},loader_onError:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)},loader_onProgress:function(e){e.target=this.contentLoaderInfo,this.contentLoaderInfo.dispatchEvent(e)}}),Loader.prototype.__class__=Loader.prototype.constructor=$hxClasses["openfl.display.Loader"]=Loader,Loader.__meta__={fields:{BitmapData_onError:{SuppressWarnings:["checkstyle:Dynamic"]}}},exports.default=Loader})(Loader$1);var Loader=Loader$1,LoaderInfo=LoaderInfo$1,MovieClip=requireMovieClip(),OpenGLRenderer=requireOpenGLRenderer(),PixelSnapping={},_default$2;Object.defineProperty(PixelSnapping,"__esModule",{value:!0});PixelSnapping.PixelSnapping=_default$2=PixelSnapping.default={ALWAYS:"always",AUTO:"auto",NEVER:"never"};var PNGEncoderOptions=PNGEncoderOptions$1,Preloader$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default;function c(){return requireLib()}function s(){return Event$1}function h(){return ProgressEvent$1}function f(){return require_Event_Void_Void()}var g=function(b){this.onComplete=new(f()).default,this.display=b,b!=null&&(b.addEventListener("unload",o(this,this.display_onUnload)),c().default.get_current().addChild(b))};g.__name__="openfl.display.Preloader",g.__isInterface__=!1,g.prototype={start:function(){if(this.ready=!0,c().default.get_current().get_loaderInfo().__complete(),this.display!=null){var b=new(s()).default("complete",!0,!0);this.display.dispatchEvent(b),b.isDefaultPrevented()||this.display.dispatchEvent(new(s()).default("unload"))}else this.complete||(this.complete=!0,this.onComplete.dispatch())},update:function(b,k){c().default.get_current().get_loaderInfo().__update(b,k),this.display!=null&&this.display.dispatchEvent(new(h()).default("progress",!0,!0,b,k))},display_onUnload:function(b){this.display!=null&&(this.display.removeEventListener("unload",o(this,this.display_onUnload)),this.display.parent==c().default.get_current()&&c().default.get_current().removeChild(this.display),c().default.get_current().stage.set_focus(null),this.display=null),this.ready&&(this.complete||(this.complete=!0,this.onComplete.dispatch()))}},g.prototype.__class__=g.prototype.constructor=d["openfl.display.Preloader"]=g,g.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{onComplete:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=g})(Preloader$1);var Preloader=Preloader$1,Shader=Shader$1,ShaderData=ShaderData_Impl_,ShaderInput=ShaderInput$1,ShaderJob$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}var s=function(h,f,g,b){b==null&&(b=0),c().default.call(this),this.height=b,this.width=0,this.progress=0};s.__name__="openfl.display.ShaderJob",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{cancel:function(){},start:function(h){}}),s.prototype.__class__=s.prototype.constructor=d["openfl.display.ShaderJob"]=s,s.__meta__={fields:{target:{SuppressWarnings:["checkstyle:Dynamic"]},_:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=s})(ShaderJob$1);var ShaderJob=ShaderJob$1,ShaderParameter=ShaderParameter$1,ShaderParameterType={};Object.defineProperty(ShaderParameterType,"__esModule",{value:!0});ShaderParameterType.ShaderParameterType=ShaderParameterType.default={BOOL:"bool",BOOL2:"bool2",BOOL3:"bool3",BOOL4:"bool4",FLOAT:"float",FLOAT2:"float2",FLOAT3:"float3",FLOAT4:"float4",INT:"int",INT2:"int2",INT3:"int3",INT4:"int4",MATRIX2X2:"matrix2x2",MATRIX2X3:"matrix2x3",MATRIX2X4:"matrix2x4",MATRIX3X2:"matrix3x2",MATRIX3X3:"matrix3x3",MATRIX3X4:"matrix3x4",MATRIX4X2:"matrix4x2",MATRIX4X3:"matrix4x3",MATRIX4X4:"matrix4x4"};var ShaderPrecision={};Object.defineProperty(ShaderPrecision,"__esModule",{value:!0});ShaderPrecision.ClipboardFormats=ShaderPrecision.default={FAST:"fast",FULL:"full"};var Shape$7=requireShape();const Shape$8=getDefaultExportFromCjs(Shape$7);var SimpleButton$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return InteractiveObject$1}function h(){return Matrix$2}function f(){return DisplayObject$1}function g(){return SoundTransform$1}function b(){return requireVector_Impl_()}function k(){return VectorData}var $=function(j,_e,et,nt){if(s().default.call(this),this.__drawableType=6,this.enabled=!0,this.trackAsMenu=!1,this.useHandCursor=!0,this.__upState=j??new(f()).default,this.__overState=_e,this.__downState=et,this.set_hitTestState(nt??new(f()).default),this.addEventListener("mouseDown",o(this,this.__this_onMouseDown)),this.addEventListener("mouseOut",o(this,this.__this_onMouseOut)),this.addEventListener("mouseOver",o(this,this.__this_onMouseOver)),this.addEventListener("mouseUp",o(this,this.__this_onMouseUp)),this.__tabEnabled=!0,this.set___currentState(this.__upState),$.__constructor!=null){var rt=$.__constructor;$.__constructor=null,rt(this)}};$.__name__="openfl.display.SimpleButton",$.__isInterface__=!1,$.__super__=s().default,$.prototype=c(s().default.prototype,{__getBounds:function(j,_e){s().default.prototype.__getBounds.call(this,j,_e);var et=h().default.__pool.get();f().default.__calculateAbsoluteTransform(this.__currentState.__transform,_e,et),this.__currentState.__getBounds(j,et),h().default.__pool.release(et)},__getRenderBounds:function(j,_e){if(this.__scrollRect!=null){s().default.prototype.__getRenderBounds.call(this,j,_e);return}else s().default.prototype.__getBounds.call(this,j,_e);var et=h().default.__pool.get();f().default.__calculateAbsoluteTransform(this.__currentState.__transform,_e,et),this.__currentState.__getRenderBounds(j,et),h().default.__pool.release(et)},__getCursor:function(){return this.useHandCursor&&!this.__ignoreEvent&&this.enabled?"button":null},__hitTest:function(j,_e,et,nt,rt,tt){var it=!1;if(this.get_hitTestState()!=null?this.get_hitTestState().__hitTest(j,_e,et,nt,rt,tt)&&(nt!=null&&(nt.length==0?nt[0]=tt:nt[nt.length-1]=tt),it=!rt||this.mouseEnabled):this.__currentState!=null&&(!tt.get_visible()||this.__isMask||rt&&!this.mouseEnabled||this.get_mask()!=null&&!this.get_mask().__hitTestMask(j,_e)?it=!1:this.__currentState.__hitTest(j,_e,et,nt,rt,tt)&&(it=rt)),nt!=null)for(;nt.length>1&&nt[nt.length-1]==nt[nt.length-2];)nt.pop();return it},__hitTestMask:function(j,_e){var et=!1;return this.__currentState.__hitTestMask(j,_e)&&(et=!0),et},__setStageReference:function(j){s().default.prototype.__setStageReference.call(this,j),this.__currentState!=null&&this.__currentState.__setStageReference(j),this.get_hitTestState()!=null&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setStageReference(j)},__setTransformDirty:function(){s().default.prototype.__setTransformDirty.call(this),this.__currentState!=null&&this.__currentState.__setTransformDirty(),this.get_hitTestState()!=null&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__setTransformDirty()},__update:function(j,_e){s().default.prototype.__update.call(this,j,_e),_e&&(this.__currentState!=null&&this.__currentState.__update(j,!0),this.get_hitTestState()!=null&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__update(j,!0))},__updateTransforms:function(j){s().default.prototype.__updateTransforms.call(this,j),this.__currentState!=null&&this.__currentState.__updateTransforms(),this.get_hitTestState()!=null&&this.get_hitTestState()!=this.__currentState&&this.get_hitTestState().__updateTransforms()},get_downState:function(){return this.__downState},set_downState:function(j){return this.__downState!=null&&this.__currentState==this.__downState&&this.set___currentState(this.__downState),this.__downState=j},get_hitTestState:function(){return this.__hitTestState},set_hitTestState:function(j){return this.__hitTestState!=null&&this.__hitTestState!=j&&this.__hitTestState!=this.get_downState()&&this.__hitTestState!=this.get_upState()&&this.__hitTestState!=this.get_overState()&&(this.__hitTestState.__renderParent=null),j!=null&&(j.__renderParent=this,j.__setRenderDirty()),this.__hitTestState=j},get_overState:function(){return this.__overState},set_overState:function(j){return this.__overState!=null&&this.__currentState==this.__overState&&this.set___currentState(j),this.__overState=j},get_soundTransform:function(){return this.__soundTransform==null&&(this.__soundTransform=new(g()).default),new(g()).default(this.__soundTransform.volume,this.__soundTransform.pan)},set_soundTransform:function(j){return this.__soundTransform=new(g()).default(j.volume,j.pan),j},get_upState:function(){return this.__upState},set_upState:function(j){return this.__upState!=null&&this.__currentState==this.__upState&&this.set___currentState(j),this.__upState=j},set___currentState:function(j){if(this.__currentState!=null&&this.__currentState!=this.get_hitTestState()&&(this.__currentState.__renderParent=null),j!=null&&j.parent!=null&&j.parent.removeChild(j),f().default.__supportDOM&&this.__previousStates==null&&(this.__previousStates=b().default._new()),j!=this.__currentState){if(f().default.__supportDOM){this.__currentState!=null&&(this.__currentState.__setStageReference(null),b().default.push(this.__previousStates,this.__currentState));var _e=this.__previousStates,et=Array.prototype.indexOf.call(_e,j,0);if(et>-1){var nt=this.__previousStates;k().default.ofArray(Array.prototype.splice.call(nt,et,1))}}j!=null&&(j.__renderParent=this,j.__setRenderDirty()),this.__setRenderDirty()}return this.__currentState=j,j},__this_onMouseDown:function(j){this.enabled&&this.set___currentState(this.get_downState())},__this_onMouseOut:function(j){this.__ignoreEvent=!1,this.get_upState()!=this.__currentState&&this.set___currentState(this.get_upState())},__this_onMouseOver:function(j){j.buttonDown&&(this.__ignoreEvent=!0),this.get_overState()!=this.__currentState&&this.get_overState()!=null&&!this.__ignoreEvent&&this.enabled&&this.set___currentState(this.get_overState())},__this_onMouseUp:function(j){this.__ignoreEvent=!1,this.enabled&&this.get_overState()!=null?this.set___currentState(this.get_overState()):this.set___currentState(this.get_upState())}}),$.prototype.__class__=$.prototype.constructor=d["openfl.display.SimpleButton"]=$,Object.defineProperties($.prototype,{downState:{get:function(){return this.get_downState()},set:function(j){return this.set_downState(j)}},hitTestState:{get:function(){return this.get_hitTestState()},set:function(j){return this.set_hitTestState(j)}},overState:{get:function(){return this.get_overState()},set:function(j){return this.set_overState(j)}},soundTransform:{get:function(){return this.get_soundTransform()},set:function(j){return this.set_soundTransform(j)}},upState:{get:function(){return this.get_upState()},set:function(j){return this.set_upState(j)}}}),e.default=$})(SimpleButton$1);var SimpleButton=SimpleButton$1,SpreadMethod={};Object.defineProperty(SpreadMethod,"__esModule",{value:!0});SpreadMethod.SpreadMethod=SpreadMethod.default={PAD:"pad",REFLECT:"reflect",REPEAT:"repeat"};var Sprite=requireSprite();const Sprite$1=getDefaultExportFromCjs(Sprite);var Stage$1={},UncaughtErrorEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ErrorEvent$1}var s=function(h,f,g,b){g==null&&(g=!0),f==null&&(f=!0),c().default.call(this,h,f,g),this.error=b};s.__name__="openfl.events.UncaughtErrorEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.error);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("UncaughtErrorEvent",["type","bubbles","cancelable","error"])},__init:function(){c().default.prototype.__init.call(this),this.error=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.UncaughtErrorEvent"]=s,s.UNCAUGHT_ERROR="uncaughtError",e.default=s})(UncaughtErrorEvent$1);var Keyboard$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.ui.Keyboard",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.ui.Keyboard"]=o,o.isAccessible=function(){return!1},o.__convertKeyCode=function(c){switch(c){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 33:return 49;case 34:return 222;case 35:return 51;case 36:return 52;case 37:return 53;case 38:return 55;case 39:return 222;case 40:return 57;case 41:return 48;case 42:return 56;case 44:return 188;case 45:return 189;case 46:return 190;case 47:return 191;case 48:return 48;case 49:return 49;case 50:return 50;case 51:return 51;case 52:return 52;case 53:return 53;case 54:return 54;case 55:return 55;case 56:return 56;case 57:return 57;case 58:return 186;case 59:return 186;case 60:return 60;case 61:return 187;case 62:return 190;case 63:return 191;case 64:return 50;case 91:return 219;case 92:return 220;case 93:return 221;case 94:return 54;case 95:return 189;case 96:return 192;case 97:return 65;case 98:return 66;case 99:return 67;case 100:return 68;case 101:return 69;case 102:return 70;case 103:return 71;case 104:return 72;case 105:return 73;case 106:return 74;case 107:return 75;case 108:return 76;case 109:return 77;case 110:return 78;case 111:return 79;case 112:return 80;case 113:return 81;case 114:return 82;case 115:return 83;case 116:return 84;case 117:return 85;case 118:return 86;case 119:return 87;case 120:return 88;case 121:return 89;case 122:return 90;case 127:return 46;case 1073741881:return 20;case 1073741882:return 112;case 1073741883:return 113;case 1073741884:return 114;case 1073741885:return 115;case 1073741886:return 116;case 1073741887:return 117;case 1073741888:return 118;case 1073741889:return 119;case 1073741890:return 120;case 1073741891:return 121;case 1073741892:return 122;case 1073741893:return 123;case 1073741894:return 301;case 1073741895:return 145;case 1073741896:return 19;case 1073741897:return 45;case 1073741898:return 36;case 1073741899:return 33;case 1073741901:return 35;case 1073741902:return 34;case 1073741903:return 39;case 1073741904:return 37;case 1073741905:return 40;case 1073741906:return 38;case 1073741907:return 144;case 1073741908:return 111;case 1073741909:return 106;case 1073741910:return 109;case 1073741911:return 107;case 1073741912:return 13;case 1073741913:return 97;case 1073741914:return 98;case 1073741915:return 99;case 1073741916:return 100;case 1073741917:return 101;case 1073741918:return 102;case 1073741919:return 103;case 1073741920:return 104;case 1073741921:return 105;case 1073741922:return 96;case 1073741923:return 110;case 1073741925:return 302;case 1073741928:return 124;case 1073741929:return 125;case 1073741930:return 126;case 1073741982:return 13;case 1073742044:return 110;case 1073742048:return 17;case 1073742049:return 16;case 1073742050:return 18;case 1073742051:return 15;case 1073742052:return 17;case 1073742053:return 16;case 1073742054:return 18;case 1073742055:return 15;default:return c}},o.__getCharCode=function(c,s){if(s==null&&(s=!1),s){switch(c){case 48:return 41;case 49:return 33;case 50:return 64;case 51:return 35;case 52:return 36;case 53:return 37;case 54:return 94;case 55:return 38;case 56:return 42;case 57:return 40;case 186:return 58;case 187:return 43;case 188:return 60;case 189:return 95;case 190:return 62;case 191:return 63;case 192:return 126;case 219:return 123;case 220:return 124;case 221:return 125;case 222:return 34}if(c>=65&&c<=90)return c-65+65}else{switch(c){case 8:return 8;case 9:return 9;case 13:return 13;case 27:return 27;case 32:return 32;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39}if(c>=48&&c<=57)return c-48+48;if(c>=65&&c<=90)return c-65+97}if(c>=96&&c<=105)return c-96+48;switch(c){case 8:return 8;case 13:return 13;case 46:return 127;case 106:return 42;case 107:return 43;case 108:return 44;case 110:return 45;case 111:return 46}return 0},o.__getKeyLocation=function(c){switch(c){case 1073741908:case 1073741909:case 1073741910:case 1073741911:case 1073741912:case 1073741913:case 1073741914:case 1073741915:case 1073741916:case 1073741917:case 1073741918:case 1073741919:case 1073741920:case 1073741921:case 1073741922:case 1073741923:case 1073742044:return 3;case 1073742048:case 1073742049:case 1073742050:case 1073742051:return 1;case 1073742052:case 1073742053:case 1073742054:case 1073742055:return 2;default:return 0}},o.__meta__={statics:{BREAK:{SuppressWarnings:["checkstyle:FieldDocComment"]},NUMLOCK:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},o.NUMBER_0=48,o.NUMBER_1=49,o.NUMBER_2=50,o.NUMBER_3=51,o.NUMBER_4=52,o.NUMBER_5=53,o.NUMBER_6=54,o.NUMBER_7=55,o.NUMBER_8=56,o.NUMBER_9=57,o.A=65,o.B=66,o.C=67,o.D=68,o.E=69,o.F=70,o.G=71,o.H=72,o.I=73,o.J=74,o.K=75,o.L=76,o.M=77,o.N=78,o.O=79,o.P=80,o.Q=81,o.R=82,o.S=83,o.T=84,o.U=85,o.V=86,o.W=87,o.X=88,o.Y=89,o.Z=90,o.NUMPAD_0=96,o.NUMPAD_1=97,o.NUMPAD_2=98,o.NUMPAD_3=99,o.NUMPAD_4=100,o.NUMPAD_5=101,o.NUMPAD_6=102,o.NUMPAD_7=103,o.NUMPAD_8=104,o.NUMPAD_9=105,o.NUMPAD_MULTIPLY=106,o.NUMPAD_ADD=107,o.NUMPAD_ENTER=108,o.NUMPAD_SUBTRACT=109,o.NUMPAD_DECIMAL=110,o.NUMPAD_DIVIDE=111,o.F1=112,o.F2=113,o.F3=114,o.F4=115,o.F5=116,o.F6=117,o.F7=118,o.F8=119,o.F9=120,o.F10=121,o.F11=122,o.F12=123,o.F13=124,o.F14=125,o.F15=126,o.BACKSPACE=8,o.TAB=9,o.ALTERNATE=18,o.ENTER=13,o.COMMAND=15,o.SHIFT=16,o.CONTROL=17,o.BREAK=19,o.CAPS_LOCK=20,o.NUMPAD=21,o.ESCAPE=27,o.SPACE=32,o.PAGE_UP=33,o.PAGE_DOWN=34,o.END=35,o.HOME=36,o.LEFT=37,o.RIGHT=39,o.UP=38,o.DOWN=40,o.INSERT=45,o.DELETE=46,o.NUMLOCK=144,o.SEMICOLON=186,o.EQUAL=187,o.COMMA=188,o.MINUS=189,o.PERIOD=190,o.SLASH=191,o.BACKQUOTE=192,o.LEFTBRACKET=219,o.BACKSLASH=220,o.RIGHTBRACKET=221,o.QUOTE=222,e.default=o})(Keyboard$1);var KeyboardEvent$2={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$,j,_e,et,nt,rt){rt==null&&(rt=!1),nt==null&&(nt=!1),et==null&&(et=!1),_e==null&&(_e=!1),j==null&&(j=!1),k==null&&(k=0),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.charCode=b,this.keyCode=k,this.keyLocation=$??0,this.ctrlKey=j,this.altKey=_e,this.shiftKey=et,this.controlKey=nt,this.commandKey=rt,this.__updateAfterEventFlag=!1};s.__name__="openfl.events.KeyboardEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.charCode,this.keyCode,this.keyLocation,this.ctrlKey,this.altKey,this.shiftKey,this.controlKey,this.commandKey);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("KeyboardEvent",["type","bubbles","cancelable","charCode","keyCode","keyLocation","ctrlKey","altKey","shiftKey"])},updateAfterEvent:function(){this.__updateAfterEventFlag=!0},__init:function(){c().default.prototype.__init.call(this),this.charCode=0,this.keyCode=0,this.keyLocation=0,this.ctrlKey=!1,this.altKey=!1,this.shiftKey=!1,this.controlKey=!1,this.commandKey=!1,this.__updateAfterEventFlag=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.KeyboardEvent"]=s,s.KEY_DOWN="keyDown",s.KEY_UP="keyUp",e.default=s})(KeyboardEvent$2);var ArraySort={},hasRequiredArraySort;function requireArraySort(){return hasRequiredArraySort||(hasRequiredArraySort=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="haxe.ds.ArraySort",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["haxe.ds.ArraySort"]=o,o.sort=function(c,s){o.rec(c,s,0,c.length)},o.rec=function(c,s,h,f){var g=h+f>>1;if(f-h<12){if(f<=h)return;for(var b=h+1,k=f;b<k;)for(var $=b++,j=$;j>h&&o.compare(c,s,j,j-1)<0;){o.swap(c,j-1,j);--j}return}o.rec(c,s,h,g),o.rec(c,s,g,f),o.doMerge(c,s,h,g,f,g-h,f-g)},o.doMerge=function(c,s,h,f,g,b,k){var $,j,_e,et;if(!(b==0||k==0)){if(b+k==2){o.compare(c,s,f,h)<0&&o.swap(c,f,h);return}b>k?(_e=b>>1,$=h+_e,j=o.lower(c,s,f,g,$),et=j-f):(et=k>>1,j=f+et,$=o.upper(c,s,h,f,j),_e=$-h),o.rotate(c,s,$,f,j);var nt=$+et;o.doMerge(c,s,h,$,nt,_e,et),o.doMerge(c,s,nt,j,g,b-_e,k-et)}},o.rotate=function(c,s,h,f,g){if(!(h==f||f==g))for(var b=o.gcd(g-h,f-h);b--!=0;){for(var k=c[h+b],$=f-h,j=h+b,_e=h+b+$;_e!=h+b;)c[j]=c[_e],j=_e,g-_e>$?_e+=$:_e=h+($-(g-_e));c[j]=k}},o.gcd=function(c,s){for(;s!=0;){var h=c%s;c=s,s=h}return c},o.upper=function(c,s,h,f,g){for(var b=f-h,k,$;b>0;)k=b>>1,$=h+k,o.compare(c,s,g,$)<0?b=k:(h=$+1,b=b-k-1);return h},o.lower=function(c,s,h,f,g){for(var b=f-h,k,$;b>0;)k=b>>1,$=h+k,o.compare(c,s,$,g)<0?(h=$+1,b=b-k-1):b=k;return h},o.swap=function(c,s,h){var f=c[s];c[s]=c[h],c[h]=f},o.compare=function(c,s,h,f){return s(c[h],c[f])},e.default=o}(ArraySort)),ArraySort}var FocusEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$){$==null&&($=0),k==null&&(k=!1),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.keyCode=$,this.shiftKey=k,this.relatedObject=b};s.__name__="openfl.events.FocusEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.relatedObject,this.shiftKey,this.keyCode);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("FocusEvent",["type","bubbles","cancelable","relatedObject","shiftKey","keyCode"])},__init:function(){c().default.prototype.__init.call(this),this.keyCode=0,this.shiftKey=!1,this.relatedObject=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.FocusEvent"]=s,s.FOCUS_IN="focusIn",s.FOCUS_OUT="focusOut",s.KEY_FOCUS_CHANGE="keyFocusChange",s.MOUSE_FOCUS_CHANGE="mouseFocusChange",e.default=s})(FocusEvent$1);var GameInput$1={},GameInputEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b){g==null&&(g=!1),f==null&&(f=!0),c().default.call(this,h,f,g),this.device=b};s.__name__="openfl.events.GameInputEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.device);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("GameInputEvent",["type","bubbles","cancelable","device"])},__init:function(){c().default.prototype.__init.call(this),this.device=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.GameInputEvent"]=s,s.DEVICE_ADDED="deviceAdded",s.DEVICE_REMOVED="deviceRemoved",s.DEVICE_UNUSABLE="deviceUnusable",e.default=s})(GameInputEvent$1);var GameInputDevice$1={},GameInputControl$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}var s=function(h,f,g,b,k){k==null&&(k=0),c().default.call(this),this.device=h,this.id=f,this.minValue=g,this.maxValue=b,this.value=k};s.__name__="openfl.ui.GameInputControl",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.ui.GameInputControl"]=s,e.default=s})(GameInputControl$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}function c(){return GameInputControl$1}var s=function(h,f){this.__controls=[],this.__button=new(o()).default,this.__axis=new(o()).default,this.id=h,this.name=f;var g;g=new(c()).default(this,"AXIS_0",-1,1),this.__axis.set(0,g),this.__controls.push(g),g=new(c()).default(this,"AXIS_1",-1,1),this.__axis.set(1,g),this.__controls.push(g),g=new(c()).default(this,"AXIS_2",-1,1),this.__axis.set(2,g),this.__controls.push(g),g=new(c()).default(this,"AXIS_3",-1,1),this.__axis.set(3,g),this.__controls.push(g),g=new(c()).default(this,"AXIS_4",-1,1),this.__axis.set(4,g),this.__controls.push(g),g=new(c()).default(this,"AXIS_5",-1,1),this.__axis.set(5,g),this.__controls.push(g);for(var b=0;b<15;){var k=b++;g=new(c()).default(this,"BUTTON_"+k,0,1),this.__button.set(k,g),this.__controls.push(g)}};s.__name__="openfl.ui.GameInputDevice",s.__isInterface__=!1,s.prototype={getCachedSamples:function(h,f){return 0},getControlAt:function(h){return h>=0&&h<this.__controls.length?this.__controls[h]:null},startCachingSamples:function(h,f){},stopCachingSamples:function(){},get_numControls:function(){return this.__controls.length}},s.prototype.__class__=s.prototype.constructor=d["openfl.ui.GameInputDevice"]=s,Object.defineProperties(s.prototype,{numControls:{get:function(){return this.get_numControls()}}}),s.MAX_BUFFER_SIZE=32e3,e.default=s})(GameInputDevice$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return GameInputEvent$1}function h(){return requireObjectMap()}function f(){return GameInputDevice$1}function g(){return GameInputControl$1}function b(){return Event$1}function k(){return requireHxOverrides()}var $=function(){c().default.call(this),$.__instances.push(this)};$.__name__="openfl.ui.GameInput",$.__isInterface__=!1,$.__super__=c().default,$.prototype=o(c().default.prototype,{addEventListener:function(j,_e,et,nt,rt){if(rt==null&&(rt=!1),nt==null&&(nt=0),et==null&&(et=!1),c().default.prototype.addEventListener.call(this,j,_e,et,nt,rt),j=="deviceAdded")for(var tt=0,it=$.__deviceList;tt<it.length;){var st=it[tt];++tt,this.dispatchEvent(new(s()).default("deviceAdded",!0,!1,st))}}}),$.prototype.__class__=$.prototype.constructor=d["openfl.ui.GameInput"]=$,$.getDeviceAt=function(j){return j>=0&&j<$.__deviceList.length?$.__deviceList[j]:null},$.__getDevice=function(j){if(j==null)return null;if(!$.__devices.exists(j)){var _e=new(f()).default(j.get_guid(),j.get_name());$.__deviceList.push(_e),$.__devices.set(j,_e),$.numDevices=$.__deviceList.length}return $.__devices.get(j)},$.__onGamepadAxisMove=function(j,_e,et){var nt=$.__getDevice(j);if(nt!=null&&nt.enabled){if(!nt.__axis.exists(_e)){var rt;switch(_e){case 0:rt="LEFT_X";break;case 1:rt="LEFT_Y";break;case 2:rt="RIGHT_X";break;case 3:rt="RIGHT_Y";break;case 4:rt="TRIGGER_LEFT";break;case 5:rt="TRIGGER_RIGHT";break;default:rt="UNKNOWN ("+_e+")"}var tt=new(g()).default(nt,"AXIS_"+rt,-1,1);nt.__axis.set(_e,tt),nt.__controls.push(tt)}var it=nt.__axis.get(_e);it.value=et,it.dispatchEvent(new(b()).default("change"))}},$.__onGamepadButtonDown=function(j,_e){var et=$.__getDevice(j);if(et!=null&&et.enabled){if(!et.__button.exists(_e)){var nt;switch(_e){case 0:nt="A";break;case 1:nt="B";break;case 2:nt="X";break;case 3:nt="Y";break;case 4:nt="BACK";break;case 5:nt="GUIDE";break;case 6:nt="START";break;case 7:nt="LEFT_STICK";break;case 8:nt="RIGHT_STICK";break;case 9:nt="LEFT_SHOULDER";break;case 10:nt="RIGHT_SHOULDER";break;case 11:nt="DPAD_UP";break;case 12:nt="DPAD_DOWN";break;case 13:nt="DPAD_LEFT";break;case 14:nt="DPAD_RIGHT";break;default:nt="UNKNOWN ("+_e+")"}var rt=new(g()).default(et,"BUTTON_"+nt,0,1);et.__button.set(_e,rt),et.__controls.push(rt)}var tt=et.__button.get(_e);tt.value=1,tt.dispatchEvent(new(b()).default("change"))}},$.__onGamepadButtonUp=function(j,_e){var et=$.__getDevice(j);if(et!=null&&et.enabled){if(!et.__button.exists(_e)){var nt;switch(_e){case 0:nt="A";break;case 1:nt="B";break;case 2:nt="X";break;case 3:nt="Y";break;case 4:nt="BACK";break;case 5:nt="GUIDE";break;case 6:nt="START";break;case 7:nt="LEFT_STICK";break;case 8:nt="RIGHT_STICK";break;case 9:nt="LEFT_SHOULDER";break;case 10:nt="RIGHT_SHOULDER";break;case 11:nt="DPAD_UP";break;case 12:nt="DPAD_DOWN";break;case 13:nt="DPAD_LEFT";break;case 14:nt="DPAD_RIGHT";break;default:nt="UNKNOWN ("+_e+")"}var rt=new(g()).default(et,"BUTTON_"+nt,0,1);et.__button.set(_e,rt),et.__controls.push(rt)}var tt=et.__button.get(_e);tt.value=0,tt.dispatchEvent(new(b()).default("change"))}},$.__onGamepadConnect=function(j){var _e=$.__getDevice(j);if(_e!=null)for(var et=0,nt=$.__instances;et<nt.length;){var rt=nt[et];++et,rt.dispatchEvent(new(s()).default("deviceAdded",!0,!1,_e))}},$.__onGamepadDisconnect=function(j){var _e=$.__devices.get(j);if(_e!=null){$.__devices.exists(j)&&(k().default.remove($.__deviceList,$.__devices.get(j)),$.__devices.remove(j)),$.numDevices=$.__deviceList.length;for(var et=0,nt=$.__instances;et<nt.length;){var rt=nt[et];++et,rt.dispatchEvent(new(s()).default("deviceRemoved",!0,!1,_e))}}},$.__meta__={fields:{addEventListener:{SuppressWarnings:["checkstyle:Dynamic"]}}},$.isSupported=!0,$.numDevices=0,$.__deviceList=[],$.__instances=[],$.__devices=new(h()).default,e.default=$})(GameInput$1);var FullScreenEvent$1={},ActivityEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b){b==null&&(b=!1),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.activating=b};s.__name__="openfl.events.ActivityEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.activating);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("ActivityEvent",["type","bubbles","cancelable","activating"])},__init:function(){c().default.prototype.__init.call(this),this.activating=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.ActivityEvent"]=s,s.ACTIVITY="activity",e.default=s})(ActivityEvent$1);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ActivityEvent$1}var s=function(h,f,g,b,k){k==null&&(k=!1),b==null&&(b=!1),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.fullScreen=b,this.interactive=k};s.__name__="openfl.events.FullScreenEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.fullScreen,this.interactive);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("FullscreenEvent",["type","bubbles","cancelable","fullscreen","interactive"])},__init:function(){c().default.prototype.__init.call(this),this.fullScreen=!1,this.interactive=!1}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.FullScreenEvent"]=s,s.FULL_SCREEN="fullScreen",s.FULL_SCREEN_INTERACTIVE_ACCEPTED="fullScreenInteractiveAccepted",e.default=s})(FullScreenEvent$1);var Mouse$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireApplication$1()}function c(){return requireMouseCursor()}var s=function(){};s.__name__="openfl.ui.Mouse",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.ui.Mouse"]=s,Object.defineProperty(s,"cursor",{get:function(){return s.get_cursor()},set:function(h){return s.set_cursor(h)}}),s.hide=function(){s.__hidden=!0;for(var h=0,f=o().default.current.get_windows();h<f.length;){var g=f[h];++h,g.set_cursor(null)}},s.show=function(){s.__hidden=!1;var h=s.__cursor;s.__cursor=null,s.set_cursor(h)},s.get_cursor=function(){return s.__cursor},s.set_cursor=function(h){h==null&&(h="auto");var f=null;switch(h){case"arrow":f=c().default.ARROW;break;case"button":f=c().default.POINTER;break;case"crosshair":f=c().default.CROSSHAIR;break;case"custom":f=c().default.CUSTOM;break;case"hand":f=c().default.MOVE;break;case"ibeam":f=c().default.TEXT;break;case"resize_nesw":f=c().default.RESIZE_NESW;break;case"resize_ns":f=c().default.RESIZE_NS;break;case"resize_nwse":f=c().default.RESIZE_NWSE;break;case"resize_we":f=c().default.RESIZE_WE;break;case"wait":f=c().default.WAIT;break;case"waitarrow":f=c().default.WAIT_ARROW;break}if(f!=null&&!s.__hidden)for(var g=0,b=o().default.current.get_windows();g<b.length;){var k=b[g];++g,k.set_cursor(f)}return s.__cursor=h},s.supportsCursor=!0,s.supportsNativeCursor=!0,s.__cursor="auto",e.default=s})(Mouse$1);var MouseCursor_Impl_={},hasRequiredMouseCursor_Impl_;function requireMouseCursor_Impl_(){return hasRequiredMouseCursor_Impl_||(hasRequiredMouseCursor_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireMouseCursor()}var c=function(){};c.__name__="openfl.ui._MouseCursor.MouseCursor_Impl_",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.ui._MouseCursor.MouseCursor_Impl_"]=c,c.fromLimeCursor=function(s){switch(s._hx_index){case 0:return"arrow";case 1:return"crosshair";case 2:return"auto";case 3:return"hand";case 4:return"button";case 5:return"resize_nesw";case 6:return"resize_ns";case 7:return"resize_nwse";case 8:return"resize_we";case 9:return"ibeam";case 10:return"wait";case 11:return"waitarrow";case 12:return"custom"}},c.toLimeCursor=function(s){switch(s){case"arrow":return o().default.ARROW;case"auto":return o().default.DEFAULT;case"button":return o().default.POINTER;case"crosshair":return o().default.CROSSHAIR;case"custom":return o().default.CUSTOM;case"hand":return o().default.MOVE;case"ibeam":return o().default.TEXT;case"resize_nesw":return o().default.RESIZE_NESW;case"resize_ns":return o().default.RESIZE_NS;case"resize_nwse":return o().default.RESIZE_NWSE;case"resize_we":return o().default.RESIZE_WE;case"wait":return o().default.WAIT;case"waitarrow":return o().default.WAIT_ARROW;default:return o().default.DEFAULT}},c.ARROW="arrow",c.AUTO="auto",c.BUTTON="button",c.HAND="hand",c.IBEAM="ibeam",c.__CROSSHAIR="crosshair",c.__CUSTOM="custom",c.__MOVE="move",c.__RESIZE_NESW="resize_nesw",c.__RESIZE_NS="resize_ns",c.__RESIZE_NWSE="resize_nwse",c.__RESIZE_WE="resize_we",c.__WAIT="wait",c.__WAIT_ARROW="waitarrow",e.default=c}(MouseCursor_Impl_)),MouseCursor_Impl_}var TouchData={},hasRequiredTouchData;function requireTouchData(){return hasRequiredTouchData||(hasRequiredTouchData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireObjectPool()}var c=function(){this.rollOutStack=[]};c.__name__="openfl.utils._internal.TouchData",c.__isInterface__=!1,c.prototype={reset:function(){this.touch=null,this.touchDownTarget=null,this.touchOverTarget=null,this.rollOutStack.splice(0,this.rollOutStack.length)}},c.prototype.__class__=c.prototype.constructor=d["openfl.utils._internal.TouchData"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{touch:{SuppressWarnings:["checkstyle:Dynamic"]}}},c.__pool=new(o()).default(function(){return new c},function(s){s.reset()}),e.default=c}(TouchData)),TouchData}var Stage3D$1={},CanvasUtil={},hasRequiredCanvasUtil;function requireCanvasUtil(){return hasRequiredCanvasUtil||(hasRequiredCanvasUtil=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="js.html._CanvasElement.CanvasUtil",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["js.html._CanvasElement.CanvasUtil"]=o,o.getContextWebGL=function(c,s){var h="webgl",f=c.getContext(h,s);if(f!=null)return f;var g="experimental-webgl",b=c.getContext(g,s);return b??null},e.default=o}(CanvasUtil)),CanvasUtil}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return requireTimer()}function f(){return requireContext3D()}function g(){return require_Reflect()}function b(){return requireCanvasUtil()}function k(){return requireGL()}function $(){return ErrorEvent$1}function j(){return Event$1}function _e(){return requireVector_Impl_()}function et(){return Matrix3D$1}var nt=function(rt){s().default.call(this),this.__stage=rt,this.__height=0,this.__projectionTransform=new(et()).default,this.__renderTransform=new(et()).default,this.__width=0,this.__x=0,this.__y=0,this.visible=!0,rt.stageWidth>0&&rt.stageHeight>0&&this.__resize(rt.stageWidth,rt.stageHeight)};nt.__name__="openfl.display.Stage3D",nt.__isInterface__=!1,nt.__super__=s().default,nt.prototype=c(s().default.prototype,{requestContext3D:function(rt,tt){if(this.__contextLost){this.__contextRequested=!0;return}this.context3D!=null?(this.__contextRequested=!0,h().default.delay(o(this,this.__dispatchCreate),1)):this.__contextRequested||(this.__contextRequested=!0,h().default.delay(o(this,this.__createContext),1))},requestContext3DMatchingProfiles:function(rt){this.requestContext3D()},__createContext:function(){var rt=this.__stage,tt=rt.__renderer;if(tt.__type=="cairo"||tt.__type=="canvas"){this.__dispatchError();return}if(tt.__type=="opengl")this.context3D=new(f()).default(rt,rt.context3D.__contextState,this),this.__dispatchCreate();else if(tt.__type=="dom")if(rt.context3D==null){this.__canvas=window.document.createElement("canvas"),this.__canvas.width=rt.stageWidth,this.__canvas.height=rt.stageHeight,rt.window;var it=rt.window.context.attributes,st=g().default.hasField(it,"background")&&it.background==null,at=g().default.hasField(it,"colorDepth")?it.colorDepth:32,_t={alpha:st||at>16,antialias:g().default.hasField(it,"antialiasing")&&it.antialiasing>0,depth:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1};if(this.__webgl=b().default.getContextWebGL(this.__canvas,_t),this.__webgl!=null){k().default.context==null&&(k().default.context=this.__webgl,k().default.type="webgl",k().default.version=1),rt.context3D=new(f()).default(rt),rt.context3D.configureBackBuffer(rt.window.get_width(),rt.window.get_height(),0,!0,!0,!0),rt.context3D.present();var ut=tt;ut.element.appendChild(this.__canvas),this.__style=this.__canvas.style,this.__style.setProperty("position","absolute",null),this.__style.setProperty("top","0",null),this.__style.setProperty("left","0",null),this.__style.setProperty(ut.__transformOriginProperty,"0 0 0",null),this.__style.setProperty("z-index","-1",null)}rt.context3D!=null&&(this.context3D=new(f()).default(rt,rt.context3D.__contextState,this)),this.__dispatchCreate()}else this.__dispatchError()},__dispatchError:function(){this.__contextRequested=!1,this.dispatchEvent(new($()).default("error",!1,!1,"Context3D not available"))},__dispatchCreate:function(){this.__contextRequested&&(this.__contextRequested=!1,this.dispatchEvent(new(j()).default("context3DCreate")))},__lostContext:function(){this.__contextLost=!0,this.context3D!=null&&(this.context3D.__dispose(),this.__contextRequested=!0)},__resize:function(rt,tt){(rt!=this.__width||tt!=this.__height)&&(this.__canvas!=null&&(this.__canvas.width=rt,this.__canvas.height=tt),this.__projectionTransform.copyRawDataFrom(_e().default._new(null,null,[2/(rt>0?rt:1),0,0,0,0,-2/(tt>0?tt:1),0,0,0,0,-.001,0,-1,1,0,1])),this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform),this.__width=rt,this.__height=tt)},__restoreContext:function(){this.__contextLost=!1,this.__createContext()},get_x:function(){return this.__x},set_x:function(rt){return this.__x==rt||(this.__x=rt,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),rt},get_y:function(){return this.__y},set_y:function(rt){return this.__y==rt||(this.__y=rt,this.__renderTransform.identity(),this.__renderTransform.appendTranslation(this.__x,this.__y,0),this.__renderTransform.append(this.__projectionTransform)),rt}}),nt.prototype.__class__=nt.prototype.constructor=d["openfl.display.Stage3D"]=nt,Object.defineProperties(nt.prototype,{x:{get:function(){return this.get_x()},set:function(rt){return this.set_x(rt)}},y:{get:function(){return this.get_y()},set:function(rt){return this.set_y(rt)}}}),e.default=nt})(Stage3D$1);var Application={},Window={},hasRequiredWindow;function requireWindow(){return hasRequiredWindow||(hasRequiredWindow=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireWindow$2()}function s(){return require_Reflect()}function h(){return requireStage()}function f(){return requireCallStack()}function g(){return requireHaxeError()}var b=function(k,$){if(c().default.call(this,k,$),s().default.hasField($,"stage")?(this.stage=s().default.field($,"stage"),this.stage.window=this,s().default.deleteField($,"stage")):this.stage=new(h()).default(this,s().default.hasField($.context,"background")?$.context.background:16777215),s().default.hasField($,"parameters"))try{this.stage.loaderInfo.parameters=$.parameters}catch(j){f().default.lastException=j,j instanceof g().default&&j.val}this.stage.__setLogicalSize($.width,$.height),s().default.hasField($,"resizable")&&!$.resizable&&(this.stage.scaleMode="showAll"),k.addModule(this.stage)};b.__name__="openfl.display.Window",b.__isInterface__=!1,b.__super__=c().default,b.prototype=o(c().default.prototype,{close:function(){c().default.prototype.close.call(this),!this.onClose.canceled&&this.stage!=null&&(this.application.removeModule(this.stage),this.stage=null)}}),b.prototype.__class__=b.prototype.constructor=d["openfl.display.Window"]=b,b.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},fields:{_:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=b}(Window)),Window}var hasRequiredApplication;function requireApplication(){return hasRequiredApplication||(hasRequiredApplication=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireApplication$1()}function h(){return requireWindow()}function f(){return requireLib$1()}function g(){return requireMovieClip()}function b(){return LoaderInfo$1}var k=function(){s().default.call(this),f().default.application==null&&(f().default.application=this),f().default.current==null&&(f().default.current=new(g()).default),f().default.current.__loaderInfo=b().default.create(null),f().default.current.__loaderInfo.content=f().default.current};k.__name__="openfl.display.Application",k.__isInterface__=!1,k.__super__=s().default,k.prototype=c(s().default.prototype,{createWindow:function($){var j=new(h()).default(this,$);this.__windows.push(j),this.__windowByID.set(j.id,j);var _e=o(this,this.__onWindowClose),et=j,nt=function(){_e(et)};return j.onClose.add(nt,!1,-1e4),this.__window==null&&(this.__window=j,j.onActivate.add(o(this,this.onWindowActivate)),j.onRenderContextLost.add(o(this,this.onRenderContextLost)),j.onRenderContextRestored.add(o(this,this.onRenderContextRestored)),j.onDeactivate.add(o(this,this.onWindowDeactivate)),j.onDropFile.add(o(this,this.onWindowDropFile)),j.onEnter.add(o(this,this.onWindowEnter)),j.onExpose.add(o(this,this.onWindowExpose)),j.onFocusIn.add(o(this,this.onWindowFocusIn)),j.onFocusOut.add(o(this,this.onWindowFocusOut)),j.onFullscreen.add(o(this,this.onWindowFullscreen)),j.onKeyDown.add(o(this,this.onKeyDown)),j.onKeyUp.add(o(this,this.onKeyUp)),j.onLeave.add(o(this,this.onWindowLeave)),j.onMinimize.add(o(this,this.onWindowMinimize)),j.onMouseDown.add(o(this,this.onMouseDown)),j.onMouseMove.add(o(this,this.onMouseMove)),j.onMouseMoveRelative.add(o(this,this.onMouseMoveRelative)),j.onMouseUp.add(o(this,this.onMouseUp)),j.onMouseWheel.add(o(this,this.onMouseWheel)),j.onMove.add(o(this,this.onWindowMove)),j.onRender.add(o(this,this.render)),j.onResize.add(o(this,this.onWindowResize)),j.onRestore.add(o(this,this.onWindowRestore)),j.onTextEdit.add(o(this,this.onTextEdit)),j.onTextInput.add(o(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(j),j},exec:function(){return s().default.prototype.exec.call(this)}}),k.prototype.__class__=k.prototype.constructor=d["openfl.display.Application"]=k,k.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=k}(Application)),Application}var hasRequiredStage;function requireStage(){return hasRequiredStage||(hasRequiredStage=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return requireIModule()}function h(){return DisplayObjectContainer$1}function f(){return DisplayObject$1}function g(){return requireCallStack()}function b(){return requireHaxeError()}function k(){return requireStd()}function $(){return requireCanvasRenderer()}function j(){return DOMRenderer$1}function _e(){return requireContext3D()}function et(){return requireOpenGLRenderer()}function nt(){return UncaughtErrorEvent$1}function rt(){return requireLib()}function tt(){return requireLog()}function it(){return require_Reflect()}function st(){return MouseEvent$3}function at(){return requireKeyModifier_Impl_()}function _t(){return Keyboard$1}function ut(){return requireSprite()}function ot(){return requireBoot()}function lt(){return Point$2}function ft(){return KeyboardEvent$2}function ht(){return requireArraySort()}function dt(){return InteractiveObject$1}function pt(){return FocusEvent$1}function xt(){return GameInput$1}function vt(){return Event$1}function bt(){return requireMouseWheelMode()}function wt(){return requireVectorIterator()}function At(){return TextEvent$1}function ct(){return FullScreenEvent$1}function mt(){return Mouse$1}function gt(){return requireMouseCursor_Impl_()}function Tt(){return requireMouseCursor()}function yt(){return requireHxOverrides()}function Et(){return requireTouchData()}function Ct(){return TouchEvent$1}function It(){return requireGamepad()}function Rt(){return requireTouch()}function Ft(){return Rectangle$2}function Lt(){return requireStringTools()}function Ot(){return IllegalOperationError$1}function Kt(){return Matrix$2}function qt(){return requireVector_Impl_()}function Ht(){return Stage3D$1}function Zt(){return requireIntMap()}function or(){return LoaderInfo$1}function ir(){return requireApplication()}function lr(){return requireType()}var ar=function(Mt,kt,Vt,Nt,Wt){kt==null&&(kt=0),Mt==null&&(Mt=0),h().default.call(this),this.__drawableType=5,this.set_name(null),this.__color=-1,this.__colorSplit=[255,255,255],this.__colorString="#FFFFFF",this.__contentsScaleFactor=1,this.__currentTabOrderIndex=0,this.__deltaTime=0,this.__displayState="normal",this.__mouseX=0,this.__mouseY=0,this.__lastClickTime=0,this.__logicalWidth=0,this.__logicalHeight=0,this.__displayMatrix=new(Kt()).default,this.__displayRect=new(Ft()).default,this.__renderDirty=!0,this.stage3Ds=qt().default._new(),qt().default.push(this.stage3Ds,new(Ht()).default(this)),qt().default.push(this.stage3Ds,new(Ht()).default(this)),qt().default.push(this.stage3Ds,new(Ht()).default(this)),qt().default.push(this.stage3Ds,new(Ht()).default(this)),this.stage=this,this.align="topLeft",this.allowsFullScreen=!0,this.allowsFullScreenInteractive=!0,this.__quality="high",this.__scaleMode="noScale",this.showDefaultContextMenu=!0,this.softKeyboardRect=new(Ft()).default,this.stageFocusRect=!0,this.__macKeyboard=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)||/Mac/.test(navigator.platform),this.__clearBeforeRender=!0,this.__forceRender=!1,this.__stack=[],this.__rollOutStack=[],this.__mouseOutStack=[],this.__touchData=new(Zt()).default,rt().default.get_current().__loaderInfo==null&&(rt().default.get_current().__loaderInfo=or().default.create(null),rt().default.get_current().__loaderInfo.content=rt().default.get_current()),this.__uncaughtErrorEvents=rt().default.get_current().__loaderInfo.uncaughtErrorEvents,Wt==null&&(Wt={});var Qt=null;if(isNaN(Mt))this.window=Mt,this.set_color(kt);else{var tr=Mt==0&&Mt==0;Wt.element!=null?this.element=Wt.element:this.element=window.document.createElement("div"),tr&&(this.element.style.width="100%",this.element.style.height="100%"),Wt.width=Mt,Wt.height=kt,Wt.element=this.element,Wt.resizable=tr,Wt.stage=this,it().default.hasField(Wt,"context")||(Wt.context={});var sr=Wt.context;if(it().default.hasField(Wt,"renderer")){var dr=k().default.string(Wt.renderer);dr=="webgl1"?(sr.type="webgl",sr.version="1"):dr=="webgl2"?(sr.type="webgl",sr.version="2"):it().default.setField(sr,"type",Wt.renderer)}it().default.hasField(sr,"stencil")||(sr.stencil=!0),it().default.hasField(sr,"depth")||(sr.depth=!0),it().default.hasField(sr,"background")||(sr.background=null),Qt=new(ir()).default,this.window=Qt.createWindow(Wt),this.set_color(Vt)}if(this.__contentsScaleFactor=this.window.get_scale(),this.__wasFullscreen=this.window.get_fullscreen(),this.__resize(),rt().default.get_current().stage==null&&this.stage.addChild(rt().default.get_current()),Nt!=null){f().default.__initStage=this;var pr=lr().default.createInstance(Nt,[]);pr.dispatchEvent(new(vt()).default("addedToStage",!1,!1))}Qt!=null&&(Qt.addModule(this),Qt.exec())};ar.__name__="openfl.display.Stage",ar.__isInterface__=!1,ar.__interfaces__=[s().default],ar.__super__=h().default,ar.prototype=c(h().default.prototype,{invalidate:function(){this.__invalidated=!0,this.__renderDirty=!0},localToGlobal:function(Mt){return Mt.clone()},__broadcastEvent:function(Mt){if(f().default.__broadcastEvents.exists(Mt.type))for(var kt=f().default.__broadcastEvents.get(Mt.type),Vt=0;Vt<kt.length;){var Nt=kt[Vt];if(++Vt,Nt.stage==this||Nt.stage==null)if(this.__uncaughtErrorEvents.__enabled)try{Nt.__dispatch(Mt)}catch(Wt){g().default.lastException=Wt,this.__handleError(Wt instanceof b().default?Wt.val:Wt)}else Nt.__dispatch(Mt)}},__createRenderer:function(){var Mt=k().default.int(this.window.get_width()*this.window.get_scale()),kt=k().default.int(this.window.get_height()*this.window.get_scale());switch(this.window.context.type){case"cairo":break;case"canvas":this.__renderer=new($()).default(this.window.context.canvas2D);break;case"dom":this.__renderer=new(j()).default(this.window.context.dom);break;case"opengl":case"opengles":case"webgl":this.context3D=new(_e()).default(this),this.context3D.configureBackBuffer(this.stageWidth,this.stageHeight,0,!0,!0,!0),this.context3D.present(),this.__renderer=new(et()).default(this.context3D);break}if(this.__renderer!=null){var Vt=this.get_quality();this.__renderer.__allowSmoothing=Vt!="low",this.__renderer.__pixelRatio=this.window.get_scale(),this.__renderer.__worldTransform=this.__displayMatrix,this.__renderer.__stage=this,this.__renderer.__resize(Mt,kt)}},__dispatchEvent:function(Mt){var kt;if(this.__uncaughtErrorEvents.__enabled)try{kt=h().default.prototype.__dispatchEvent.call(this,Mt)}catch(Vt){g().default.lastException=Vt,this.__handleError(Vt instanceof b().default?Vt.val:Vt),kt=!1}else kt=h().default.prototype.__dispatchEvent.call(this,Mt);return kt},__dispatchPendingMouseEvent:function(){this.__pendingMouseEvent&&(this.__onMouse("mouseMove",this.__pendingMouseX,this.__pendingMouseY,0),this.__pendingMouseEvent=!1)},__dispatchStack:function(Mt,kt){if(this.__uncaughtErrorEvents.__enabled)try{var Vt,Nt=kt.length;if(Nt==0)Mt.eventPhase=2,Vt=Mt.target,Vt.__dispatch(Mt);else{Mt.eventPhase=1,Mt.target=kt[kt.length-1];for(var Wt=0,Qt=Nt-1;Wt<Qt;){var tr=Wt++;if(kt[tr].__dispatch(Mt),Mt.__isCanceled)return}if(Mt.eventPhase=2,Vt=Mt.target,Vt.__dispatch(Mt),Mt.__isCanceled)return;if(Mt.bubbles){Mt.eventPhase=3;for(var sr=Nt-2;sr>=0;){if(kt[sr].__dispatch(Mt),Mt.__isCanceled)return;--sr}}}}catch(Xt){g().default.lastException=Xt,this.__handleError(Xt instanceof b().default?Xt.val:Xt)}else{var dr,pr=kt.length;if(pr==0)Mt.eventPhase=2,dr=Mt.target,dr.__dispatch(Mt);else{Mt.eventPhase=1,Mt.target=kt[kt.length-1];for(var cr=0,mr=pr-1;cr<mr;){var fr=cr++;if(kt[fr].__dispatch(Mt),Mt.__isCanceled)return}if(Mt.eventPhase=2,dr=Mt.target,dr.__dispatch(Mt),Mt.__isCanceled)return;if(Mt.bubbles){Mt.eventPhase=3;for(var Bt=pr-2;Bt>=0;){if(kt[Bt].__dispatch(Mt),Mt.__isCanceled)return;--Bt}}}}},__dispatchTarget:function(Mt,kt){if(this.__uncaughtErrorEvents.__enabled)try{return Mt.__dispatchEvent(kt)}catch(Vt){return g().default.lastException=Vt,this.__handleError(Vt instanceof b().default?Vt.val:Vt),!1}else return Mt.__dispatchEvent(kt)},__drag:function(Mt){var kt=this.__dragObject.parent;kt!=null&&kt.__getWorldTransform().__transformInversePoint(Mt);var Vt=Mt.x+this.__dragOffsetX,Nt=Mt.y+this.__dragOffsetY;this.__dragBounds!=null&&(Vt<this.__dragBounds.x?Vt=this.__dragBounds.x:Vt>this.__dragBounds.get_right()&&(Vt=this.__dragBounds.get_right()),Nt<this.__dragBounds.y?Nt=this.__dragBounds.y:Nt>this.__dragBounds.get_bottom()&&(Nt=this.__dragBounds.get_bottom())),this.__dragObject.set_x(Vt),this.__dragObject.set_y(Nt)},__getInteractive:function(Mt){return Mt!=null&&Mt.push(this),!0},__globalToLocal:function(Mt,kt){return Mt!=kt&&kt.copyFrom(Mt),kt},__handleError:function(Mt){var kt=new(nt()).default("uncaughtError",!0,!0,Mt);try{rt().default.get_current().__loaderInfo.uncaughtErrorEvents.dispatchEvent(kt)}catch(Wt){g().default.lastException=Wt,Wt instanceof b().default&&Wt.val}if(!kt.__preventDefault){tt().default.println(g().default.toString(g().default.exceptionStack())),tt().default.println(k().default.string(Mt));try{var Vt=g().default.lastException;if(Vt!=null&&it().default.hasField(Vt,"stack")&&Vt.stack!=null&&Vt.stack!="")console.log(Vt.stack),Mt.stack=Vt.stack;else{var Nt=g().default.toString(g().default.callStack());console.log(Nt)}}catch(Wt){g().default.lastException=Wt,Wt instanceof b().default&&Wt.val}throw Mt}},__onKey:function(Mt,kt,Vt){this.__dispatchPendingMouseEvent(),st().default.__altKey=at().default.get_altKey(Vt),st().default.__commandKey=at().default.get_metaKey(Vt),st().default.__controlKey=at().default.get_ctrlKey(Vt)&&!at().default.get_metaKey(Vt),st().default.__ctrlKey=at().default.get_ctrlKey(Vt),st().default.__shiftKey=at().default.get_shiftKey(Vt);var Nt=[];if(this.__focus==null?this.__getInteractive(Nt):this.__focus.__getInteractive(Nt),Nt.length>0){var Wt=_t().default.__getKeyLocation(kt),Qt=_t().default.__convertKeyCode(kt),tr=_t().default.__getCharCode(Qt,at().default.get_shiftKey(Vt));if(Mt=="keyUp"&&(Qt==32||Qt==13)&&this.__focus instanceof ut().default){var sr=ot().default.__cast(this.__focus,ut().default);if(sr.get_buttonMode()&&sr.focusRect==!0){var dr=lt().default.__pool.get(),pr=lt().default.__pool.get();pr.x=this.__mouseX,pr.y=this.__mouseY;var cr=st().default.__create("click",0,this.__mouseX,this.__mouseY,sr.__globalToLocal(pr,dr),sr);this.__dispatchStack(cr,Nt),cr.__updateAfterEventFlag&&this.__renderAfterEvent(),lt().default.__pool.release(pr),lt().default.__pool.release(dr)}}var mr=new(ft()).default(Mt,!0,!0,tr,Qt,Wt,this.__macKeyboard?at().default.get_ctrlKey(Vt)||at().default.get_metaKey(Vt):at().default.get_ctrlKey(Vt),at().default.get_altKey(Vt),at().default.get_shiftKey(Vt),at().default.get_ctrlKey(Vt),at().default.get_metaKey(Vt));if(Nt.reverse(),this.__dispatchStack(mr,Nt),mr.__preventDefault)Mt=="keyDown"?this.window.onKeyDown.cancel():this.window.onKeyUp.cancel();else if(Mt=="keyDown"&&Qt==9){var fr=[];this.__tabTest(fr);var Bt=-1,Xt=null,rr=at().default.get_shiftKey(Vt)?-1:1;if(fr.length>1){if(ht().default.sort(fr,function(Pt,Jt){return Pt.get_tabIndex()-Jt.get_tabIndex()}),fr[fr.length-1].get_tabIndex()!=-1)for(var nr=0;nr<fr.length;){if(fr[nr].get_tabIndex()>-1){nr>0&&fr.splice(0,nr);break}++nr}if(this.get_focus()!=null){for(var Gt=this.get_focus(),zt=fr.indexOf(Gt);zt==-1&&Gt!=null;){var $t=Gt.parent;if($t!=null&&$t.get_tabChildren()){var er=$t.getChildIndex(Gt);if(er==-1){Gt=$t;continue}for(var ur=er+rr;at().default.get_shiftKey(Vt)?ur>=0:ur<$t.get_numChildren();){var St=$t.getChildAt(ur);if(St instanceof dt().default){var Ut=ot().default.__cast(St,dt().default);if(zt=fr.indexOf(Ut),zt!=-1){rr=0;break}}ur+=rr}}else at().default.get_shiftKey(Vt)&&(zt=fr.indexOf($t),zt!=-1&&(rr=0));Gt=$t}zt<0?Bt=0:Bt=zt+rr}else Bt=this.__currentTabOrderIndex}else fr.length==1&&(Xt=fr[0],this.get_focus()==Xt&&(Xt=null));var Yt=Bt>=0&&Bt<fr.length;fr.length==1||fr.length==0&&this.get_focus()!=null?Bt=0:fr.length>1&&(Bt<0&&(Bt+=fr.length),Bt%=fr.length,Xt=fr[Bt],Xt==this.get_focus()&&(Bt+=rr,Bt<0&&(Bt+=fr.length),Bt%=fr.length,Xt=fr[Bt]));var Dt=null;this.get_focus()!=null&&(Dt=new(pt()).default("keyFocusChange",!0,!0,Xt,at().default.get_shiftKey(Vt),0),Nt=[],this.get_focus().__getInteractive(Nt),Nt.reverse(),this.__dispatchStack(Dt,Nt),Dt.isDefaultPrevented()&&this.window.onKeyDown.cancel()),(Dt==null||!Dt.isDefaultPrevented())&&(this.__currentTabOrderIndex=Bt,Xt!=null&&this.set_focus(Xt),Yt&&this.window.onKeyDown.cancel())}mr.__updateAfterEventFlag&&this.__renderAfterEvent()}},__onLimeCreateWindow:function(Mt){if(this.window==Mt){var kt=o(this,this.__onLimeWindowActivate),Vt=Mt,Nt=function(){kt(Vt)};Mt.onActivate.add(Nt);var Wt=o(this,this.__onLimeWindowClose),Qt=Mt,tr=function(){Wt(Qt)};Mt.onClose.add(tr,!1,-9e3);var sr=o(this,this.__onLimeWindowDeactivate),dr=Mt,pr=function(){sr(dr)};Mt.onDeactivate.add(pr);var cr=o(this,this.__onLimeWindowDropFile),mr=Mt,fr=function(Er){cr(mr,Er)};Mt.onDropFile.add(fr);var Bt=o(this,this.__onLimeWindowEnter),Xt=Mt,rr=function(){Bt(Xt)};Mt.onEnter.add(rr);var nr=o(this,this.__onLimeWindowExpose),Gt=Mt,zt=function(){nr(Gt)};Mt.onExpose.add(zt);var $t=o(this,this.__onLimeWindowFocusIn),er=Mt,ur=function(){$t(er)};Mt.onFocusIn.add(ur);var St=o(this,this.__onLimeWindowFocusOut),Ut=Mt,Yt=function(){St(Ut)};Mt.onFocusOut.add(Yt);var Dt=o(this,this.__onLimeWindowFullscreen),Pt=Mt,Jt=function(){Dt(Pt)};Mt.onFullscreen.add(Jt);var _r=o(this,this.__onLimeKeyDown),hr=Mt,vr=function(Er,$r){_r(hr,Er,$r)};Mt.onKeyDown.add(vr);var gr=o(this,this.__onLimeKeyUp),br=Mt,wr=function(Er,$r){gr(br,Er,$r)};Mt.onKeyUp.add(wr);var yr=o(this,this.__onLimeWindowLeave),xr=Mt,Tr=function(){yr(xr)};Mt.onLeave.add(Tr);var Cr=o(this,this.__onLimeWindowMinimize),Br=Mt,Dr=function(){Cr(Br)};Mt.onMinimize.add(Dr);var Sr=o(this,this.__onLimeMouseDown),Ar=Mt,Mr=function(Er,$r,Lr){Sr(Ar,Er,$r,Lr)};Mt.onMouseDown.add(Mr);var Ir=o(this,this.__onLimeMouseMove),Rr=Mt,Fr=function(Er,$r){Ir(Rr,Er,$r)};Mt.onMouseMove.add(Fr);var Yr=o(this,this.__onLimeMouseMoveRelative),Zr=Mt,Kr=function(Er,$r){Yr(Zr,Er,$r)};Mt.onMouseMoveRelative.add(Kr);var kr=o(this,this.__onLimeMouseUp),_n=Mt,Qr=function(Er,$r,Lr){kr(_n,Er,$r,Lr)};Mt.onMouseUp.add(Qr);var en=o(this,this.__onLimeMouseWheel),tn=Mt,rn=function(Er,$r,Lr){en(tn,Er,$r,Lr)};Mt.onMouseWheel.add(rn);var nn=o(this,this.__onLimeWindowMove),an=Mt,sn=function(Er,$r){nn(an,Er,$r)};Mt.onMove.add(sn),Mt.onRender.add(o(this,this.__onLimeRender)),Mt.onRenderContextLost.add(o(this,this.__onLimeRenderContextLost)),Mt.onRenderContextRestored.add(o(this,this.__onLimeRenderContextRestored));var on=o(this,this.__onLimeWindowResize),ln=Mt,Ur=function(Er,$r){on(ln,Er,$r)};Mt.onResize.add(Ur);var zr=o(this,this.__onLimeWindowRestore),Gr=Mt,Vr=function(){zr(Gr)};Mt.onRestore.add(Vr);var Or=o(this,this.__onLimeTextEdit),qr=Mt,Wr=function(Er,$r,Lr){Or(qr,Er,$r,Lr)};Mt.onTextEdit.add(Wr);var Hr=o(this,this.__onLimeTextInput),jr=Mt,Nr=function(Er){Hr(jr,Er)};Mt.onTextInput.add(Nr),this.__onLimeWindowCreate(Mt)}},__onLimeGamepadAxisMove:function(Mt,kt,Vt){if(this.__uncaughtErrorEvents.__enabled)try{xt().default.__onGamepadAxisMove(Mt,kt,Vt)}catch(Nt){g().default.lastException=Nt,this.__handleError(Nt instanceof b().default?Nt.val:Nt)}else xt().default.__onGamepadAxisMove(Mt,kt,Vt)},__onLimeGamepadButtonDown:function(Mt,kt){if(this.__uncaughtErrorEvents.__enabled)try{xt().default.__onGamepadButtonDown(Mt,kt)}catch(Vt){g().default.lastException=Vt,this.__handleError(Vt instanceof b().default?Vt.val:Vt)}else xt().default.__onGamepadButtonDown(Mt,kt)},__onLimeGamepadButtonUp:function(Mt,kt){if(this.__uncaughtErrorEvents.__enabled)try{xt().default.__onGamepadButtonUp(Mt,kt)}catch(Vt){g().default.lastException=Vt,this.__handleError(Vt instanceof b().default?Vt.val:Vt)}else xt().default.__onGamepadButtonUp(Mt,kt)},__onLimeGamepadConnect:function(Mt){if(this.__uncaughtErrorEvents.__enabled)try{xt().default.__onGamepadConnect(Mt)}catch(Bt){g().default.lastException=Bt,this.__handleError(Bt instanceof b().default?Bt.val:Bt)}else xt().default.__onGamepadConnect(Mt);var kt=o(this,this.__onLimeGamepadAxisMove),Vt=Mt,Nt=function(Bt,Xt){kt(Vt,Bt,Xt)};Mt.onAxisMove.add(Nt);var Wt=o(this,this.__onLimeGamepadButtonDown),Qt=Mt,tr=function(Bt){Wt(Qt,Bt)};Mt.onButtonDown.add(tr);var sr=o(this,this.__onLimeGamepadButtonUp),dr=Mt,pr=function(Bt){sr(dr,Bt)};Mt.onButtonUp.add(pr);var cr=o(this,this.__onLimeGamepadDisconnect),mr=Mt,fr=function(){cr(mr)};Mt.onDisconnect.add(fr)},__onLimeGamepadDisconnect:function(Mt){if(this.__uncaughtErrorEvents.__enabled)try{xt().default.__onGamepadDisconnect(Mt)}catch(kt){g().default.lastException=kt,this.__handleError(kt instanceof b().default?kt.val:kt)}else xt().default.__onGamepadDisconnect(Mt)},__onLimeKeyDown:function(Mt,kt,Vt){this.window==null||this.window!=Mt||this.__onKey("keyDown",kt,Vt)},__onLimeKeyUp:function(Mt,kt,Vt){this.window==null||this.window!=Mt||this.__onKey("keyUp",kt,Vt)},__onLimeModuleExit:function(Mt){if(this.window!=null){var kt=null;kt=new(vt()).default("deactivate"),this.__broadcastEvent(kt)}},__onLimeMouseDown:function(Mt,kt,Vt,Nt){if(!(this.window==null||this.window!=Mt)){this.__dispatchPendingMouseEvent();var Wt;switch(Nt){case 1:Wt="middleMouseDown";break;case 2:Wt="rightMouseDown";break;default:Wt="mouseDown"}this.__onMouse(Wt,k().default.int(kt*Mt.get_scale()),k().default.int(Vt*Mt.get_scale()),Nt),!this.showDefaultContextMenu&&Nt==2&&Mt.onMouseDown.cancel()}},__onLimeMouseMove:function(Mt,kt,Vt){this.window==null||this.window!=Mt||(this.__pendingMouseEvent=!0,this.__pendingMouseX=k().default.int(kt*Mt.get_scale()),this.__pendingMouseY=k().default.int(Vt*Mt.get_scale()))},__onLimeMouseMoveRelative:function(Mt,kt,Vt){},__onLimeMouseUp:function(Mt,kt,Vt,Nt){if(!(this.window==null||this.window!=Mt)){this.__dispatchPendingMouseEvent();var Wt;switch(Nt){case 1:Wt="middleMouseUp";break;case 2:Wt="rightMouseUp";break;default:Wt="mouseUp"}this.__onMouse(Wt,k().default.int(kt*Mt.get_scale()),k().default.int(Vt*Mt.get_scale()),Nt),!this.showDefaultContextMenu&&Nt==2&&Mt.onMouseUp.cancel()}},__onLimeMouseWheel:function(Mt,kt,Vt,Nt){this.window==null||this.window!=Mt||(this.__dispatchPendingMouseEvent(),Nt==bt().default.PIXELS?this.__onMouseWheel(k().default.int(kt*Mt.get_scale()),k().default.int(Vt*Mt.get_scale()),Nt):this.__onMouseWheel(k().default.int(kt),k().default.int(Vt),Nt))},__renderAfterEvent:function(){this.__render(this.window.context)},__render:function(Mt){var kt=!1,Vt=null,Nt=this.__renderer!=null&&(this.__renderDirty||this.__forceRender);if(this.__invalidated&&Nt&&(this.__invalidated=!1,Vt=new(vt()).default("render"),this.__broadcastEvent(Vt)),this.__update(!1,!0),this.__renderer!=null){if(this.context3D!=null){for(var Wt=new(wt()).default(this.stage3Ds);Wt.hasNext();){var Qt=Wt.next();this.context3D.__renderStage3D(Qt)}this.context3D.__present&&(Nt=!0)}Nt?(this.__renderer.__type=="cairo",this.context3D==null&&this.__renderer.__clear(),this.__renderer.__render(this)):this.context3D==null&&(kt=!0),this.context3D!=null&&(this.context3D.__present?(this.__renderer.__cleared||this.__renderer.__clear(),this.context3D.__present=!1,this.context3D.__cleared=!1):kt=!0),this.__renderer.__cleared=!1}return kt},__onLimeRender:function(Mt){if(!this.__rendering){this.__rendering=!0,this.__broadcastEvent(new(vt()).default("enterFrame")),this.__broadcastEvent(new(vt()).default("frameConstructed")),this.__broadcastEvent(new(vt()).default("exitFrame")),this.__renderable=!0,this.__enterFrame(this.__deltaTime),this.__deltaTime=0;var kt=this.__render(Mt);kt&&this.window.onRender.cancel(),this.__rendering=!1}},__onLimeRenderContextLost:function(){this.__renderer=null,this.context3D=null;for(var Mt=new(wt()).default(this.stage3Ds);Mt.hasNext();){var kt=Mt.next();kt.__lostContext()}},__onLimeRenderContextRestored:function(Mt){this.__createRenderer();for(var kt=new(wt()).default(this.stage3Ds);kt.hasNext();){var Vt=kt.next();Vt.__restoreContext()}},__onLimeTextEdit:function(Mt,kt,Vt,Nt){},__onLimeTextInput:function(Mt,kt){if(!(this.window==null||this.window!=Mt)){var Vt=[];this.__focus==null?this.__getInteractive(Vt):this.__focus.__getInteractive(Vt);var Nt=new(At()).default("textInput",!0,!0,kt);Vt.length>0?(Vt.reverse(),this.__dispatchStack(Nt,Vt)):this.__dispatchEvent(Nt),Nt.isDefaultPrevented()&&Mt.onTextInput.cancel()}},__onLimeTouchCancel:function(Mt){var kt=this.__primaryTouch==Mt;kt&&(this.__primaryTouch=null),this.__onTouch("touchEnd",Mt,kt)},__onLimeTouchMove:function(Mt){this.__onTouch("touchMove",Mt,this.__primaryTouch==Mt)},__onLimeTouchEnd:function(Mt){var kt=this.__primaryTouch==Mt;kt&&(this.__primaryTouch=null),this.__onTouch("touchEnd",Mt,kt)},__onLimeTouchStart:function(Mt){this.__primaryTouch==null&&(this.__primaryTouch=Mt),this.__onTouch("touchBegin",Mt,this.__primaryTouch==Mt)},__onLimeUpdate:function(Mt){this.__deltaTime=Mt,this.__dispatchPendingMouseEvent()},__onLimeWindowActivate:function(Mt){this.window==null||this.window!=Mt},__onLimeWindowClose:function(Mt){this.window==Mt&&(this.window=null),this.__primaryTouch=null;var kt=null;kt=new(vt()).default("deactivate"),this.__broadcastEvent(kt)},__onLimeWindowCreate:function(Mt){this.window==null||this.window!=Mt||Mt.context!=null&&this.__createRenderer()},__onLimeWindowDeactivate:function(Mt){this.window==null||this.window!=Mt},__onLimeWindowDropFile:function(Mt,kt){},__onLimeWindowEnter:function(Mt){},__onLimeWindowExpose:function(Mt){this.window==null||this.window!=Mt||(this.__renderDirty=!0)},__onLimeWindowFocusIn:function(Mt){if(!(this.window==null||this.window!=Mt)){this.__renderDirty=!0;var kt=null;kt=new(vt()).default("activate"),this.__broadcastEvent(kt),this.set_focus(this.__cacheFocus)}},__onLimeWindowFocusOut:function(Mt){if(!(this.window==null||this.window!=Mt)){this.__primaryTouch=null;var kt=null;kt=new(vt()).default("deactivate"),this.__broadcastEvent(kt);var Vt=this.get_focus();this.set_focus(null),this.__cacheFocus=Vt,st().default.__altKey=!1,st().default.__commandKey=!1,st().default.__ctrlKey=!1,st().default.__shiftKey=!1}},__onLimeWindowFullscreen:function(Mt){this.window==null||this.window!=Mt||(this.__resize(),this.__wasFullscreen||(this.__wasFullscreen=!0,this.__displayState=="normal"&&(this.__displayState="fullScreenInteractive"),this.__dispatchEvent(new(ct()).default("fullScreen",!1,!1,!0,!0))))},__onLimeWindowLeave:function(Mt){if(!(this.window==null||this.window!=Mt||st().default.__buttonDown)){this.__dispatchPendingMouseEvent();var kt=null;kt=new(vt()).default("mouseLeave"),this.__dispatchEvent(kt)}},__onLimeWindowMinimize:function(Mt){this.window==null||this.window!=Mt},__onLimeWindowMove:function(Mt,kt,Vt){},__onLimeWindowResize:function(Mt,kt,Vt){this.window==null||this.window!=Mt||(this.__resize(),this.__wasFullscreen&&!Mt.get_fullscreen()&&(this.__wasFullscreen=!1,this.__displayState="normal",this.__dispatchEvent(new(ct()).default("fullScreen",!1,!1,!1,!0))))},__onLimeWindowRestore:function(Mt){this.window==null||this.window!=Mt||this.__wasFullscreen&&!Mt.get_fullscreen()&&(this.__wasFullscreen=!1,this.__displayState="normal",this.__dispatchEvent(new(ct()).default("fullScreen",!1,!1,!1,!0)))},__onMouse:function(Mt,kt,Vt,Nt){if(!(Nt>2)){var Wt=lt().default.__pool.get();Wt.setTo(kt,Vt),this.__displayMatrix.__transformInversePoint(Wt),this.__mouseX=Wt.x,this.__mouseY=Wt.y;var Qt=[],tr=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,Qt,!0,this)?tr=Qt[Qt.length-1]:(tr=this,Qt=[this]),tr==null&&(tr=this);var sr=null;switch(Mt){case"middleMouseDown":this.__mouseDownMiddle=tr;break;case"middleMouseUp":this.__mouseDownMiddle==tr&&(sr="middleClick"),this.__mouseDownMiddle=null;break;case"mouseDown":if(this.get_focus()!=null){if(this.get_focus()!=tr){var dr=new(pt()).default("mouseFocusChange",!0,!0,tr,!1,0);this.get_focus().dispatchEvent(dr),dr.isDefaultPrevented()||(tr.__allowMouseFocus()?this.set_focus(tr):this.set_focus(null))}}else tr.__allowMouseFocus()?this.set_focus(tr):this.set_focus(null);this.__mouseDownLeft=tr,st().default.__buttonDown=!0;break;case"mouseUp":if(this.__mouseDownLeft!=null){if(st().default.__buttonDown=!1,this.__mouseDownLeft==tr)sr="click";else{var pr=null;pr=st().default.__create("releaseOutside",1,this.__mouseX,this.__mouseY,new(lt()).default(this.__mouseX,this.__mouseY),this),this.__mouseDownLeft.dispatchEvent(pr)}this.__mouseDownLeft=null}break;case"rightMouseDown":this.__mouseDownRight=tr;break;case"rightMouseUp":this.__mouseDownRight==tr&&(sr="rightClick"),this.__mouseDownRight=null;break}var cr=lt().default.__pool.get(),mr=null;if(mr=st().default.__create(Mt,Nt,this.__mouseX,this.__mouseY,tr.__globalToLocal(Wt,cr),tr),this.__dispatchStack(mr,Qt),mr.__updateAfterEventFlag&&this.__renderAfterEvent(),sr!=null&&(mr=st().default.__create(sr,Nt,this.__mouseX,this.__mouseY,tr.__globalToLocal(Wt,cr),tr),this.__dispatchStack(mr,Qt),mr.__updateAfterEventFlag&&this.__renderAfterEvent(),Mt=="mouseUp"&&tr.doubleClickEnabled)){var fr=rt().default.getTimer();fr-this.__lastClickTime<500&&tr==this.__lastClickTarget?(mr=st().default.__create("doubleClick",Nt,this.__mouseX,this.__mouseY,tr.__globalToLocal(Wt,cr),tr),this.__dispatchStack(mr,Qt),mr.__updateAfterEventFlag&&this.__renderAfterEvent(),this.__lastClickTime=0,this.__lastClickTarget=null):(this.__lastClickTarget=tr,this.__lastClickTime=fr)}if(mt().default.__cursor=="auto"&&!mt().default.__hidden){var Bt=null;if(this.__mouseDownLeft!=null)Bt=this.__mouseDownLeft.__getCursor();else for(var Xt=0;Xt<Qt.length;){var rr=Qt[Xt];if(++Xt,Bt=rr.__getCursor(),Bt!=null&&this.window!=null){this.window.set_cursor(gt().default.toLimeCursor(Bt));break}}Bt==null&&this.window!=null&&this.window.set_cursor(Tt().default.ARROW)}var nr;tr!=this.__mouseOverTarget&&this.__mouseOverTarget!=null&&(nr=st().default.__create("mouseOut",Nt,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(Wt,cr),this.__mouseOverTarget),this.__dispatchStack(nr,this.__mouseOutStack),nr.__updateAfterEventFlag&&this.__renderAfterEvent());for(var Gt,zt=0;zt<this.__rollOutStack.length;)Gt=this.__rollOutStack[zt],Qt.indexOf(Gt)==-1?(yt().default.remove(this.__rollOutStack,Gt),nr=st().default.__create("rollOut",Nt,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(Wt,cr),Gt),nr.bubbles=!1,this.__dispatchTarget(Gt,nr),nr.__updateAfterEventFlag&&this.__renderAfterEvent()):++zt;for(var $t=0;$t<Qt.length;){var er=Qt[$t];++$t,this.__rollOutStack.indexOf(er)==-1&&this.__mouseOverTarget!=null&&(er.hasEventListener("rollOver")&&(nr=st().default.__create("rollOver",Nt,this.__mouseX,this.__mouseY,this.__mouseOverTarget.__globalToLocal(Wt,cr),er),nr.bubbles=!1,this.__dispatchTarget(er,nr),nr.__updateAfterEventFlag&&this.__renderAfterEvent()),(er.hasEventListener("rollOut")||er.hasEventListener("rollOver"))&&this.__rollOutStack.push(er))}if(tr!=this.__mouseOverTarget&&(tr!=null&&(nr=st().default.__create("mouseOver",Nt,this.__mouseX,this.__mouseY,tr.__globalToLocal(Wt,cr),tr),this.__dispatchStack(nr,Qt),nr.__updateAfterEventFlag&&this.__renderAfterEvent()),this.__mouseOverTarget=tr,this.__mouseOutStack=Qt),this.__dragObject!=null){this.__drag(Wt);var ur=null;if(this.__mouseOverTarget==this.__dragObject){var St=this.__dragObject.mouseEnabled,Ut=this.__dragObject.mouseChildren;this.__dragObject.mouseEnabled=!1,this.__dragObject.mouseChildren=!1;var Yt=[];this.__hitTest(this.__mouseX,this.__mouseY,!0,Yt,!0,this)&&(ur=Yt[Yt.length-1]),this.__dragObject.mouseEnabled=St,this.__dragObject.mouseChildren=Ut}else this.__mouseOverTarget!=this&&(ur=this.__mouseOverTarget);this.__dragObject.dropTarget=ur}lt().default.__pool.release(Wt),lt().default.__pool.release(cr)}},__onMouseWheel:function(Mt,kt,Vt){var Nt=this.__mouseX,Wt=this.__mouseY,Qt=[],tr=null;this.__hitTest(this.__mouseX,this.__mouseY,!0,Qt,!0,this)?tr=Qt[Qt.length-1]:(tr=this,Qt=[this]),tr==null&&(tr=this);var sr=lt().default.__pool.get();sr.setTo(Nt,Wt),this.__displayMatrix.__transformInversePoint(sr);var dr=k().default.int(kt),pr=st().default.__create("mouseWheel",0,this.__mouseX,this.__mouseY,tr.__globalToLocal(sr,sr),tr,dr);pr.cancelable=!0,this.__dispatchStack(pr,Qt),pr.isDefaultPrevented()&&this.window.onMouseWheel.cancel(),pr.__updateAfterEventFlag&&this.__renderAfterEvent(),lt().default.__pool.release(sr)},__onTouch:function(Mt,kt,Vt){var Nt=lt().default.__pool.get();Nt.setTo(Math.round(kt.x*this.window.get_width()*this.window.get_scale()),Math.round(kt.y*this.window.get_height()*this.window.get_scale())),this.__displayMatrix.__transformInversePoint(Nt);var Wt=Nt.x,Qt=Nt.y,tr=[],sr=null;this.__hitTest(Wt,Qt,!1,tr,!0,this)?sr=tr[tr.length-1]:(sr=this,tr=[this]),sr==null&&(sr=this);var dr=kt.id,pr=null;this.__touchData.exists(dr)?pr=this.__touchData.get(dr):(pr=Et().default.__pool.get(),pr.reset(),pr.touch=kt,this.__touchData.set(dr,pr));var cr=null,mr=!1;switch(Mt){case"touchBegin":pr.touchDownTarget=sr;break;case"touchEnd":pr.touchDownTarget==sr&&(cr="touchTap"),pr.touchDownTarget=null,mr=!0;break}var fr=lt().default.__pool.get(),Bt=Ct().default.__create(Mt,null,Wt,Qt,sr.__globalToLocal(Nt,fr),sr);Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.pressure=kt.pressure,this.__dispatchStack(Bt,tr),Bt.__updateAfterEventFlag&&this.__renderAfterEvent(),cr!=null&&(Bt=Ct().default.__create(cr,null,Wt,Qt,sr.__globalToLocal(Nt,fr),sr),Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.pressure=kt.pressure,this.__dispatchStack(Bt,tr),Bt.__updateAfterEventFlag&&this.__renderAfterEvent());var Xt=pr.touchOverTarget;sr!=Xt&&Xt!=null&&(Bt=Ct().default.__create("touchOut",null,Wt,Qt,Xt.__globalToLocal(Nt,fr),Xt),Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.pressure=kt.pressure,this.__dispatchTarget(Xt,Bt),Bt.__updateAfterEventFlag&&this.__renderAfterEvent());for(var rr=pr.rollOutStack,nr,Gt=0;Gt<rr.length;)nr=rr[Gt],tr.indexOf(nr)==-1?(yt().default.remove(rr,nr),Bt=Ct().default.__create("touchRollOut",null,Wt,Qt,Xt.__globalToLocal(Nt,fr),Xt),Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.bubbles=!1,Bt.pressure=kt.pressure,this.__dispatchTarget(nr,Bt),Bt.__updateAfterEventFlag&&this.__renderAfterEvent()):++Gt;for(var zt=0;zt<tr.length;){var $t=tr[zt];++zt,rr.indexOf($t)==-1&&($t.hasEventListener("touchRollOver")&&(Bt=Ct().default.__create("touchRollOver",null,Wt,Qt,Xt.__globalToLocal(Nt,fr),$t),Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.bubbles=!1,Bt.pressure=kt.pressure,this.__dispatchTarget($t,Bt),Bt.__updateAfterEventFlag&&this.__renderAfterEvent()),$t.hasEventListener("touchRollOut")&&rr.push($t))}sr!=Xt&&(sr!=null&&(Bt=Ct().default.__create("touchOver",null,Wt,Qt,sr.__globalToLocal(Nt,fr),sr),Bt.touchPointID=dr,Bt.isPrimaryTouchPoint=Vt,Bt.bubbles=!0,Bt.pressure=kt.pressure,this.__dispatchTarget(sr,Bt),Bt.__updateAfterEventFlag&&this.__renderAfterEvent()),pr.touchOverTarget=sr),lt().default.__pool.release(Nt),lt().default.__pool.release(fr),mr&&(this.__touchData.remove(dr),pr.reset(),Et().default.__pool.release(pr))},__registerLimeModule:function(Mt){Mt.onCreateWindow.add(o(this,this.__onLimeCreateWindow)),Mt.onUpdate.add(o(this,this.__onLimeUpdate)),Mt.onExit.add(o(this,this.__onLimeModuleExit),!1,0);for(var kt=It().default.devices.iterator();kt.hasNext();){var Vt=kt.next();this.__onLimeGamepadConnect(Vt)}It().default.onConnect.add(o(this,this.__onLimeGamepadConnect)),Rt().default.onStart.add(o(this,this.__onLimeTouchStart)),Rt().default.onMove.add(o(this,this.__onLimeTouchMove)),Rt().default.onEnd.add(o(this,this.__onLimeTouchEnd)),Rt().default.onCancel.add(o(this,this.__onLimeTouchCancel))},__resize:function(){var Mt=this.stageWidth,kt=this.stageHeight,Vt=k().default.int(this.window.get_width()*this.window.get_scale()),Nt=k().default.int(this.window.get_height()*this.window.get_scale());if(this.__displayMatrix.identity(),this.get_fullScreenSourceRect()!=null&&this.window.get_fullscreen()){this.stageWidth=k().default.int(this.get_fullScreenSourceRect().width),this.stageHeight=k().default.int(this.get_fullScreenSourceRect().height);var Wt=Vt/this.stageWidth,Qt=Nt/this.stageHeight;this.__displayMatrix.translate(-this.get_fullScreenSourceRect().x,-this.get_fullScreenSourceRect().y),this.__displayMatrix.scale(Wt,Qt),this.__displayRect.setTo(this.get_fullScreenSourceRect().get_left(),this.get_fullScreenSourceRect().get_right(),this.get_fullScreenSourceRect().get_top(),this.get_fullScreenSourceRect().get_bottom())}else if(this.__logicalWidth==0||this.__logicalHeight==0||this.get_scaleMode()=="noScale"||Vt==0||Nt==0)this.stageWidth=Math.round(Vt/this.window.get_scale()),this.stageHeight=Math.round(Nt/this.window.get_scale()),this.__displayMatrix.scale(this.window.get_scale(),this.window.get_scale()),this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight);else switch(this.stageWidth=this.__logicalWidth,this.stageHeight=this.__logicalHeight,this.get_scaleMode()){case"exactFit":var tr=Vt/this.stageWidth,sr=Nt/this.stageHeight;this.__displayMatrix.scale(tr,sr),this.__displayRect.setTo(0,0,this.stageWidth,this.stageHeight);break;case"noBorder":var dr=Vt/this.stageWidth,pr=Nt/this.stageHeight,cr=Math.max(dr,pr),mr=this.stageWidth*cr,fr=this.stageHeight*cr,Bt=this.stageWidth-Math.round((mr-Vt)/cr),Xt=this.stageHeight-Math.round((fr-Nt)/cr),rr=Math.round((this.stageWidth-Bt)/2),nr=Math.round((this.stageHeight-Xt)/2);this.__displayMatrix.translate(-rr,-nr),this.__displayMatrix.scale(cr,cr),this.__displayRect.setTo(rr,nr,Bt,Xt);break;default:var Gt=Vt/this.stageWidth,zt=Nt/this.stageHeight,$t=Math.min(Gt,zt),er=this.stageWidth*$t,ur=this.stageHeight*$t,St=this.stageWidth-Math.round((er-Vt)/$t),Ut=this.stageHeight-Math.round((ur-Nt)/$t),Yt=Math.round((this.stageWidth-St)/2),Dt=Math.round((this.stageHeight-Ut)/2);this.__displayMatrix.translate(-Yt,-Dt),this.__displayMatrix.scale($t,$t),this.__displayRect.setTo(Yt,Dt,St,Ut)}this.context3D!=null&&this.context3D.configureBackBuffer(this.stageWidth,this.stageHeight,0,!0,!0,!0);for(var Pt=new(wt()).default(this.stage3Ds);Pt.hasNext();){var Jt=Pt.next();Jt.__resize(Vt,Nt)}if(this.__renderer!=null&&this.__renderer.__resize(Vt,Nt),this.__renderDirty=!0,this.stageWidth!=Mt||this.stageHeight!=kt){this.__setTransformDirty();var _r=null;_r=new(vt()).default("resize"),this.__dispatchEvent(_r)}},__setLogicalSize:function(Mt,kt){this.__logicalWidth=Mt,this.__logicalHeight=kt,this.__resize()},__startDrag:function(Mt,kt,Vt){if(Vt==null)this.__dragBounds=null;else{this.__dragBounds=new(Ft()).default;var Nt=Vt.get_right(),Wt=Vt.get_bottom();this.__dragBounds.x=Nt<Vt.x?Nt:Vt.x,this.__dragBounds.y=Wt<Vt.y?Wt:Vt.y,this.__dragBounds.width=Math.abs(Vt.width),this.__dragBounds.height=Math.abs(Vt.height)}if(this.__dragObject=Mt,this.__dragObject!=null)if(kt)this.__dragOffsetX=0,this.__dragOffsetY=0;else{var Qt=lt().default.__pool.get();Qt.setTo(this.get_mouseX(),this.get_mouseY());var tr=this.__dragObject.parent;tr!=null&&tr.__getWorldTransform().__transformInversePoint(Qt),this.__dragOffsetX=this.__dragObject.get_x()-Qt.x,this.__dragOffsetY=this.__dragObject.get_y()-Qt.y,lt().default.__pool.release(Qt)}},__stopDrag:function(Mt){this.__dragBounds=null,this.__dragObject=null},__unregisterLimeModule:function(Mt){Mt.onCreateWindow.remove(o(this,this.__onLimeCreateWindow)),Mt.onUpdate.remove(o(this,this.__onLimeUpdate)),Mt.onExit.remove(o(this,this.__onLimeModuleExit)),It().default.onConnect.remove(o(this,this.__onLimeGamepadConnect)),Rt().default.onStart.remove(o(this,this.__onLimeTouchStart)),Rt().default.onMove.remove(o(this,this.__onLimeTouchMove)),Rt().default.onEnd.remove(o(this,this.__onLimeTouchEnd)),Rt().default.onCancel.remove(o(this,this.__onLimeTouchCancel))},__update:function(Mt,kt){Mt?this.__transformDirty&&(h().default.prototype.__update.call(this,!0,kt),kt&&(this.__transformDirty=!1)):this.__transformDirty||this.__renderDirty?(h().default.prototype.__update.call(this,!1,kt),kt&&f().default.__supportDOM&&(this.__wasDirty=!0)):!this.__renderDirty&&this.__wasDirty&&(h().default.prototype.__update.call(this,!1,kt),kt&&(this.__wasDirty=!1))},get_color:function(){return this.__color},set_color:function(Mt){if(Mt==null?(this.__transparent=!0,Mt=0):this.__transparent=!1,this.__color!=Mt){var kt=(Mt&16711680)>>>16,Vt=(Mt&65280)>>>8,Nt=Mt&255;this.__colorSplit[0]=kt/255,this.__colorSplit[1]=Vt/255,this.__colorSplit[2]=Nt/255,this.__colorString="#"+Lt().default.hex(Mt&16777215,6),this.__renderDirty=!0,this.__color=-16777216|Mt&16777215}return Mt},get_contentsScaleFactor:function(){return this.__contentsScaleFactor},get_displayState:function(){return this.__displayState},set_displayState:function(Mt){return this.window!=null&&(Mt=="normal"?this.window.get_fullscreen()&&this.window.set_fullscreen(!1):this.window.get_fullscreen()||this.window.set_fullscreen(!0)),this.__displayState=Mt},get_focus:function(){return this.__focus},set_focus:function(Mt){if(Mt!=this.__focus){var kt=this.__focus;if(this.__focus=Mt,this.__cacheFocus=Mt,kt!=null){var Vt=new(pt()).default("focusOut",!0,!1,Mt,!1,0),Nt=[];kt.__getInteractive(Nt),Nt.reverse(),this.__dispatchStack(Vt,Nt)}if(Mt!=null){var Wt=new(pt()).default("focusIn",!0,!1,kt,!1,0),Qt=[];Mt.__getInteractive(Qt),Qt.reverse(),this.__dispatchStack(Wt,Qt)}}return Mt},get_frameRate:function(){return this.window!=null?this.window.get_frameRate():0},set_frameRate:function(Mt){return this.window!=null?this.window.set_frameRate(Mt):Mt},get_fullScreenHeight:function(){return Math.ceil(this.window.get_display().currentMode.height*this.window.get_scale())},get_fullScreenSourceRect:function(){return this.__fullScreenSourceRect==null?null:this.__fullScreenSourceRect.clone()},set_fullScreenSourceRect:function(Mt){return Mt==null?this.__fullScreenSourceRect!=null&&(this.__fullScreenSourceRect=null,this.__resize()):Mt.equals(this.__fullScreenSourceRect)||(this.__fullScreenSourceRect=Mt.clone(),this.__resize()),Mt},get_fullScreenWidth:function(){return Math.ceil(this.window.get_display().currentMode.width*this.window.get_scale())},set_height:function(Mt){return this.get_height()},get_mouseX:function(){return this.__mouseX},get_mouseY:function(){return this.__mouseY},get_quality:function(){return this.__quality},set_quality:function(Mt){if(this.__quality=Mt,this.__renderer!=null){var kt=this.get_quality();this.__renderer.__allowSmoothing=kt!="low"}return Mt},set_rotation:function(Mt){return 0},get_scaleMode:function(){return this.__scaleMode},set_scaleMode:function(Mt){return Mt!=this.__scaleMode&&(this.__scaleMode=Mt,this.__resize()),Mt},set_scaleX:function(Mt){return 0},set_scaleY:function(Mt){return 0},get_tabEnabled:function(){return!1},set_tabEnabled:function(Mt){throw new(b()).default(new(Ot()).default("Error: The Stage class does not implement this property or method."))},get_tabIndex:function(){return-1},set_tabIndex:function(Mt){throw new(b()).default(new(Ot()).default("Error: The Stage class does not implement this property or method."))},set_transform:function(Mt){return this.get_transform()},set_width:function(Mt){return this.get_width()},set_x:function(Mt){return 0},set_y:function(Mt){return 0}}),ar.prototype.__class__=ar.prototype.constructor=d["openfl.display.Stage"]=ar,Object.defineProperties(ar.prototype,{color:{get:function(){return this.get_color()},set:function(Mt){return this.set_color(Mt)}},contentsScaleFactor:{get:function(){return this.get_contentsScaleFactor()}},displayState:{get:function(){return this.get_displayState()},set:function(Mt){return this.set_displayState(Mt)}},focus:{get:function(){return this.get_focus()},set:function(Mt){return this.set_focus(Mt)}},frameRate:{get:function(){return this.get_frameRate()},set:function(Mt){return this.set_frameRate(Mt)}},fullScreenHeight:{get:function(){return this.get_fullScreenHeight()}},fullScreenWidth:{get:function(){return this.get_fullScreenWidth()}},quality:{get:function(){return this.get_quality()},set:function(Mt){return this.set_quality(Mt)}},scaleMode:{get:function(){return this.get_scaleMode()},set:function(Mt){return this.set_scaleMode(Mt)}}}),ar.__meta__={fields:{__broadcastEvent:{SuppressWarnings:["checkstyle:Dynamic"]},__dispatchEvent:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchStack:{SuppressWarnings:[["checkstyle:Dynamic","checkstyle:LeftCurly"]]},__dispatchTarget:{SuppressWarnings:["checkstyle:Dynamic"]},__handleError:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=ar}(Stage$1)),Stage$1}var Stage=requireStage(),Stage3D=Stage3D$1,StageAlign={};Object.defineProperty(StageAlign,"__esModule",{value:!0});StageAlign.StageAlign=StageAlign.default={BOTTOM:"bottom",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight",LEFT:"left",RIGHT:"right",TOP:"top",TOP_LEFT:"topLeft",TOP_RIGHT:"topRight"};var StageDisplayState={};Object.defineProperty(StageDisplayState,"__esModule",{value:!0});StageDisplayState.StageDisplayState=StageDisplayState.default={FULL_SCREEN:"fullScreen",FULL_SCREEN_INTERACTIVE:"fullScreenInteractive",NORMAL:"normal"};var StageQuality={};Object.defineProperty(StageQuality,"__esModule",{value:!0});StageQuality.StageQuality=StageQuality.default={BEST:"best",HIGH:"high",LOW:"low",MEDIUM:"medium"};var StageScaleMode={};Object.defineProperty(StageScaleMode,"__esModule",{value:!0});StageScaleMode.StageScaleMode=StageScaleMode.default={EXACT_FIT:"exactFit",NO_BORDER:"noBorder",NO_SCALE:"noScale",SHOW_ALL:"showAll"};var Tile$2={},Tilemap$2={},FlashTilemap={},hasRequiredFlashTilemap;function requireFlashTilemap(){return hasRequiredFlashTilemap||(hasRequiredFlashTilemap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return ColorTransform$1}function c(){return Bitmap$2}function s(){return Point$2}function h(){return Rectangle$2}var f=function(){};f.__name__="openfl.display._internal.FlashTilemap",f.__isInterface__=!1,f.prototype={},f.prototype.__class__=f.prototype.constructor=d["openfl.display._internal.FlashTilemap"]=f,f.render=function(g){},f.renderTileContainer=function(g,b,k,$,j,_e,et,nt,rt,tt,it,st){},f.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},f.alphaColorTransform=new(o()).default,f.bitmap=new(c()).default,f.destPoint=new(s()).default,f.sourceRect=new(h()).default,e.default=f}(FlashTilemap)),FlashTilemap}var TileContainer$1={},hasRequiredTileContainer;function requireTileContainer(){return hasRequiredTileContainer||(hasRequiredTileContainer=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ITileContainer$1}function s(){return requireTile()}function h(){return requireHxOverrides()}function f(){return Rectangle$2}var g=function(b,k,$,j,_e,et,nt){nt==null&&(nt=0),et==null&&(et=0),_e==null&&(_e=0),j==null&&(j=1),$==null&&($=1),k==null&&(k=0),b==null&&(b=0),s().default.call(this,-1,b,k,$,j,_e,et,nt),this.__tiles=[],this.__length=0};g.__name__="openfl.display.TileContainer",g.__isInterface__=!1,g.__interfaces__=[c().default],g.__super__=s().default,g.prototype=o(s().default.prototype,{addTile:function(b){return b==null?null:(b.parent==this&&(h().default.remove(this.__tiles,b),this.__length--),this.__tiles[this.get_numTiles()]=b,b.parent=this,this.__length++,this.__setRenderDirty(),b)},addTileAt:function(b,k){return b==null?null:(b.parent==this&&(h().default.remove(this.__tiles,b),this.__length--),this.__tiles.splice(k,0,b),b.parent=this,this.__length++,this.__setRenderDirty(),b)},addTiles:function(b){for(var k=0;k<b.length;){var $=b[k];++k,this.addTile($)}return b},clone:function(){for(var b=new g,k=0,$=this.__tiles;k<$.length;){var j=$[k];++k,b.addTile(j.clone())}return b},contains:function(b){return this.__tiles.indexOf(b)>-1},getBounds:function(b){for(var k=new(f()).default,$=null,j=0,_e=this.__tiles;j<_e.length;){var et=_e[j];++j,$=et.getBounds(b),k.__expand($.x,$.y,$.width,$.height)}return k},getTileAt:function(b){return b>=0&&b<this.get_numTiles()?this.__tiles[b]:null},getTileIndex:function(b){for(var k=0,$=this.__tiles.length;k<$;){var j=k++;if(this.__tiles[j]==b)return j}return-1},removeTile:function(b){return b!=null&&b.parent==this&&(b.parent=null,h().default.remove(this.__tiles,b),this.__length--,this.__setRenderDirty()),b},removeTileAt:function(b){return b>=0&&b<this.get_numTiles()?this.removeTile(this.__tiles[b]):null},removeTiles:function(b,k){k==null&&(k=2147483647),b==null&&(b=0),b<0&&(b=0),k>this.__tiles.length-1&&(k=this.__tiles.length-1);for(var $=this.__tiles.splice(b,k-b+1),j=0;j<$.length;){var _e=$[j];++j,_e.parent=null}this.__length=this.__tiles.length,this.__setRenderDirty()},setTileIndex:function(b,k){k>=0&&k<=this.get_numTiles()&&b.parent==this&&(h().default.remove(this.__tiles,b),this.__tiles.splice(k,0,b),this.__setRenderDirty())},sortTiles:function(b){this.__tiles.sort(b),this.__setRenderDirty()},swapTiles:function(b,k){if(b.parent==this&&k.parent==this){var $=this.__tiles.indexOf(b),j=this.__tiles.indexOf(k);this.__tiles[$]=k,this.__tiles[j]=b,this.__setRenderDirty()}},swapTilesAt:function(b,k){var $=this.__tiles[b];this.__tiles[b]=this.__tiles[k],this.__tiles[k]=$,$=null,this.__setRenderDirty()},get_numTiles:function(){return this.__length},get_height:function(){for(var b=f().default.__pool.get(),k=null,$=0,j=this.__tiles;$<j.length;){var _e=j[$];++$,k=_e.getBounds(this),b.__expand(k.x,k.y,k.width,k.height)}this.__getBounds(b,this.get_matrix());var et=b.height;return f().default.__pool.release(b),et},set_height:function(b){for(var k=f().default.__pool.get(),$=null,j=0,_e=this.__tiles;j<_e.length;){var et=_e[j];++j,$=et.getBounds(this),k.__expand($.x,$.y,$.width,$.height)}return k.height!=0&&this.set_scaleY(b/k.height),f().default.__pool.release(k),b},get_width:function(){for(var b=f().default.__pool.get(),k=null,$=0,j=this.__tiles;$<j.length;){var _e=j[$];++$,k=_e.getBounds(this),b.__expand(k.x,k.y,k.width,k.height)}this.__getBounds(b,this.get_matrix());var et=b.width;return f().default.__pool.release(b),et},set_width:function(b){for(var k=f().default.__pool.get(),$=null,j=0,_e=this.__tiles;j<_e.length;){var et=_e[j];++j,$=et.getBounds(this),k.__expand($.x,$.y,$.width,$.height)}return k.width!=0&&this.set_scaleX(b/k.width),f().default.__pool.release(k),b}}),g.prototype.__class__=g.prototype.constructor=d["openfl.display.TileContainer"]=g,Object.defineProperty(g.prototype,"numTiles",{get:function(){return this.get_numTiles()}}),e.default=g}(TileContainer$1)),TileContainer$1}var hasRequiredTilemap;function requireTilemap(){return hasRequiredTilemap||(hasRequiredTilemap=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ITileContainer$1}function s(){return DisplayObject$1}function h(){return Rectangle$2}function f(){return requireFlashTilemap()}function g(){return requireStd()}function b(){return requireTileContainer()}var k=function($,j,_e,et){et==null&&(et=!0),s().default.call(this),this.__drawableType=9,this.__tileset=_e,this.smoothing=et,this.tileAlphaEnabled=!0,this.tileBlendModeEnabled=!0,this.tileColorTransformEnabled=!0,this.__group=new(b()).default,this.__group.set_tileset(_e),this.__width=$,this.__height=j};k.__name__="openfl.display.Tilemap",k.__isInterface__=!1,k.__interfaces__=[c().default],k.__super__=s().default,k.prototype=o(s().default.prototype,{addTile:function($){return this.__group.addTile($)},addTileAt:function($,j){return this.__group.addTileAt($,j)},addTiles:function($){return this.__group.addTiles($)},contains:function($){return this.__group.contains($)},getTileAt:function($){return this.__group.getTileAt($)},getTileIndex:function($){return this.__group.getTileIndex($)},getTiles:function(){return this.__group.clone()},removeTile:function($){return this.__group.removeTile($)},removeTileAt:function($){return this.__group.removeTileAt($)},removeTiles:function($,j){j==null&&(j=2147483647),$==null&&($=0),this.__group.removeTiles($,j)},setTileIndex:function($,j){this.__group.setTileIndex($,j)},setTiles:function($){for(var j=0,_e=this.__group.__tiles;j<_e.length;){var et=_e[j];++j,this.removeTile(et)}for(var nt=0,rt=$.__tiles;nt<rt.length;){var tt=rt[nt];++nt,this.addTile(tt)}},sortTiles:function($){this.__group.sortTiles($)},swapTiles:function($,j){this.__group.swapTiles($,j)},swapTilesAt:function($,j){this.__group.swapTilesAt($,j)},__enterFrame:function($){this.__group.__dirty&&this.__setRenderDirty()},__getBounds:function($,j){var _e=h().default.__pool.get();_e.setTo(0,0,this.__width,this.__height),_e.__transform(_e,j),$.__expand(_e.x,_e.y,_e.width,_e.height),h().default.__pool.release(_e)},__hitTest:function($,j,_e,et,nt,rt){if(!rt.get_visible()||this.__isMask||this.get_mask()!=null&&!this.get_mask().__hitTestMask($,j))return!1;this.__getRenderTransform();var tt=this.__renderTransform.__transformInverseX($,j),it=this.__renderTransform.__transformInverseY($,j);return tt>0&&it>0&&tt<=this.__width&&it<=this.__height?(et!=null&&!nt&&et.push(rt),!0):!1},__renderFlash:function(){f().default.render(this)},get_height:function(){return this.__height*Math.abs(this.get_scaleY())},set_height:function($){return this.__height=g().default.int($),this.__height*Math.abs(this.get_scaleY())},get_numTiles:function(){return this.__group.__length},get_tileset:function(){return this.__tileset},set_tileset:function($){return $!=this.__tileset&&(this.__tileset=$,this.__group.set_tileset($),this.__group.__dirty=!0,this.__setRenderDirty()),$},get_width:function(){return this.__width*Math.abs(this.__scaleX)},set_width:function($){return this.__width=g().default.int($),this.__width*Math.abs(this.__scaleX)}}),k.prototype.__class__=k.prototype.constructor=d["openfl.display.Tilemap"]=k,Object.defineProperties(k.prototype,{numTiles:{get:function(){return this.get_numTiles()}},tileset:{get:function(){return this.get_tileset()},set:function($){return this.set_tileset($)}}}),e.default=k}(Tilemap$2)),Tilemap$2}var hasRequiredTile;function requireTile(){return hasRequiredTile||(hasRequiredTile=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Rectangle$2}function c(){return Matrix$2}function s(){return requireTilemap()}var h=function(f,g,b,k,$,j,_e,et){et==null&&(et=0),_e==null&&(_e=0),j==null&&(j=0),$==null&&($=1),k==null&&(k=1),b==null&&(b=0),g==null&&(g=0),f==null&&(f=0),this.__id=f,this.__matrix=new(c()).default,g!=0&&this.set_x(g),b!=0&&this.set_y(b),k!=1&&this.set_scaleX(k),$!=1&&this.set_scaleY($),j!=0&&this.set_rotation(j),this.__dirty=!0,this.__length=0,this.__originX=_e,this.__originY=et,this.__alpha=1,this.__blendMode=null,this.__visible=!0};h.__name__="openfl.display.Tile",h.__isInterface__=!1,h.prototype={clone:function(){var f=new h(this.__id);return f.__alpha=this.__alpha,f.__blendMode=this.__blendMode,f.__originX=this.__originX,f.__originY=this.__originY,this.__rect!=null&&(f.__rect=this.__rect.clone()),f.set_matrix(this.__matrix.clone()),f.__shader=this.__shader,f.set_tileset(this.__tileset),this.__colorTransform!=null&&(f.__colorTransform=this.__colorTransform.__clone()),f},getBounds:function(f){var g=new(o()).default;this.__findTileRect(g);var b=c().default.__pool.get();if(f!=null&&f!=this){b.copyFrom(this.__getWorldTransform());var k=c().default.__pool.get();k.copyFrom(f.__getWorldTransform()),k.invert(),b.concat(k),c().default.__pool.release(k)}else b.identity();return this.__getBounds(g,b),c().default.__pool.release(b),g},__getBounds:function(f,g){f.__transform(f,g)},hitTestTile:function(f){if(f!=null&&f.parent!=null&&this.parent!=null){var g=this.getBounds(this),b=f.getBounds(this);return g.intersects(b)}return!1},invalidate:function(){this.__setRenderDirty()},__findTileRect:function(f){if(this.get_tileset()==null)if(this.parent!=null){var g=this.parent.__findTileset();if(g==null)f.setTo(0,0,0,0);else{var b=g.getRect(this.get_id());if(b==null)f.setTo(0,0,0,0);else{var k=b;f.copyFrom(k)}}}else f.setTo(0,0,0,0);else f.copyFrom(this.get_tileset().getRect(this.get_id()));f.x=0,f.y=0},__findTileset:function(){return this.get_tileset()!=null?this.get_tileset():this.parent instanceof s().default?this.parent.get_tileset():this.parent==null?null:this.parent.__findTileset()},__getWorldTransform:function(){var f=this.get_matrix().clone();return this.parent!=null&&f.concat(this.parent.__getWorldTransform()),f},__setRenderDirty:function(){this.__dirty||(this.__dirty=!0,this.parent!=null&&this.parent.__setRenderDirty())},get_alpha:function(){return this.__alpha},set_alpha:function(f){return f!=this.__alpha&&(this.__alpha=f,this.__setRenderDirty()),f},get_blendMode:function(){return this.__blendMode},set_blendMode:function(f){return f!=this.__blendMode&&(this.__blendMode=f,this.__setRenderDirty()),f},get_colorTransform:function(){return this.__colorTransform},set_colorTransform:function(f){return f!=this.__colorTransform&&(this.__colorTransform=f,this.__setRenderDirty()),f},get_height:function(){var f=o().default.__pool.get();this.__findTileRect(f),this.__getBounds(f,this.get_matrix());var g=f.height;return o().default.__pool.release(f),g},set_height:function(f){var g=o().default.__pool.get();return this.__findTileRect(g),g.height!=0&&this.set_scaleY(f/g.height),o().default.__pool.release(g),f},get_id:function(){return this.__id},set_id:function(f){return f!=this.__id&&(this.__id=f,this.__setRenderDirty()),f},get_matrix:function(){return this.__matrix},set_matrix:function(f){return f!=this.__matrix&&(this.__rotation=null,this.__scaleX=null,this.__scaleY=null,this.__matrix=f,this.__setRenderDirty()),f},get_originX:function(){return this.__originX},set_originX:function(f){return f!=this.__originX&&(this.__originX=f,this.__setRenderDirty()),f},get_originY:function(){return this.__originY},set_originY:function(f){return f!=this.__originY&&(this.__originY=f,this.__setRenderDirty()),f},get_rect:function(){return this.__rect},set_rect:function(f){return f!=this.__rect&&(this.__rect=f,this.__setRenderDirty()),f},get_rotation:function(){if(this.__rotation==null)if(this.__matrix.b==0&&this.__matrix.c==0)this.__rotation=0,this.__rotationSine=0,this.__rotationCosine=1;else{var f=Math.atan2(this.__matrix.d,this.__matrix.c)-Math.PI/2;this.__rotation=f*(180/Math.PI),this.__rotationSine=Math.sin(f),this.__rotationCosine=Math.cos(f)}return this.__rotation},set_rotation:function(f){if(f!=this.__rotation){this.__rotation=f;var g=f*(Math.PI/180);this.__rotationSine=Math.sin(g),this.__rotationCosine=Math.cos(g);var b=this.get_scaleX(),k=this.get_scaleY();this.__matrix.a=this.__rotationCosine*b,this.__matrix.b=this.__rotationSine*b,this.__matrix.c=-this.__rotationSine*k,this.__matrix.d=this.__rotationCosine*k,this.__setRenderDirty()}return f},get_scaleX:function(){return this.__scaleX==null&&(this.get_matrix().b==0?this.__scaleX=this.__matrix.a:this.__scaleX=Math.sqrt(this.__matrix.a*this.__matrix.a+this.__matrix.b*this.__matrix.b)),this.__scaleX},set_scaleX:function(f){if(f!=this.__scaleX){if(this.__scaleX=f,this.__matrix.b==0)this.__matrix.a=f;else{this.get_rotation();var g=this.__rotationCosine*f,b=this.__rotationSine*f;this.__matrix.a=g,this.__matrix.b=b}this.__setRenderDirty()}return f},get_scaleY:function(){return this.__scaleY==null&&(this.__matrix.c==0?this.__scaleY=this.get_matrix().d:this.__scaleY=Math.sqrt(this.__matrix.c*this.__matrix.c+this.__matrix.d*this.__matrix.d)),this.__scaleY},set_scaleY:function(f){if(f!=this.__scaleY){if(this.__scaleY=f,this.__matrix.c==0)this.__matrix.d=f;else{this.get_rotation();var g=-this.__rotationSine*f,b=this.__rotationCosine*f;this.__matrix.c=g,this.__matrix.d=b}this.__setRenderDirty()}return f},get_shader:function(){return this.__shader},set_shader:function(f){return f!=this.__shader&&(this.__shader=f,this.__setRenderDirty()),f},get_tileset:function(){return this.__tileset},set_tileset:function(f){return f!=this.__tileset&&(this.__tileset=f,this.__setRenderDirty()),f},get_visible:function(){return this.__visible},set_visible:function(f){return f!=this.__visible&&(this.__visible=f,this.__setRenderDirty()),f},get_width:function(){var f=o().default.__pool.get();this.__findTileRect(f),this.__getBounds(f,this.get_matrix());var g=f.width;return o().default.__pool.release(f),g},set_width:function(f){var g=o().default.__pool.get();return this.__findTileRect(g),g.width!=0&&this.set_scaleX(f/g.width),o().default.__pool.release(g),f},get_x:function(){return this.__matrix.tx},set_x:function(f){return f!=this.__matrix.tx&&(this.__matrix.tx=f,this.__setRenderDirty()),f},get_y:function(){return this.__matrix.ty},set_y:function(f){return f!=this.__matrix.ty&&(this.__matrix.ty=f,this.__setRenderDirty()),f}},h.prototype.__class__=h.prototype.constructor=d["openfl.display.Tile"]=h,Object.defineProperties(h.prototype,{alpha:{get:function(){return this.get_alpha()},set:function(f){return this.set_alpha(f)}},blendMode:{get:function(){return this.get_blendMode()},set:function(f){return this.set_blendMode(f)}},colorTransform:{get:function(){return this.get_colorTransform()},set:function(f){return this.set_colorTransform(f)}},id:{get:function(){return this.get_id()},set:function(f){return this.set_id(f)}},matrix:{get:function(){return this.get_matrix()},set:function(f){return this.set_matrix(f)}},originX:{get:function(){return this.get_originX()},set:function(f){return this.set_originX(f)}},originY:{get:function(){return this.get_originY()},set:function(f){return this.set_originY(f)}},rect:{get:function(){return this.get_rect()},set:function(f){return this.set_rect(f)}},rotation:{get:function(){return this.get_rotation()},set:function(f){return this.set_rotation(f)}},scaleX:{get:function(){return this.get_scaleX()},set:function(f){return this.set_scaleX(f)}},scaleY:{get:function(){return this.get_scaleY()},set:function(f){return this.set_scaleY(f)}},shader:{get:function(){return this.get_shader()},set:function(f){return this.set_shader(f)}},tileset:{get:function(){return this.get_tileset()},set:function(f){return this.set_tileset(f)}},visible:{get:function(){return this.get_visible()},set:function(f){return this.set_visible(f)}},x:{get:function(){return this.get_x()},set:function(f){return this.set_x(f)}},y:{get:function(){return this.get_y()},set:function(f){return this.set_y(f)}}}),h.__meta__={fields:{data:{SuppressWarnings:["checkstyle:Dynamic"]}}},e.default=h}(Tile$2)),Tile$2}var Tile=requireTile();const Tile$1=getDefaultExportFromCjs(Tile);var TileContainer=requireTileContainer(),Tilemap=requireTilemap();const Tilemap$1=getDefaultExportFromCjs(Tilemap);var Tileset$2={},TileData={},hasRequiredTileData;function requireTileData(){return hasRequiredTileData||(hasRequiredTileData=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireStd()}var c=function(s){s!=null&&(this.x=o().default.int(s.x),this.y=o().default.int(s.y),this.width=o().default.int(s.width),this.height=o().default.int(s.height))};c.__name__="openfl.display._Tileset.TileData",c.__isInterface__=!1,c.prototype={__update:function(s){if(s!=null){var h=s.width,f=s.height;this.__uvX=this.x/h,this.__uvY=this.y/f,this.__uvWidth=(this.x+this.width)/h,this.__uvHeight=(this.y+this.height)/f}}},c.prototype.__class__=c.prototype.constructor=d["openfl.display._Tileset.TileData"]=c,c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c}(TileData)),TileData}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVector_Impl_()}function c(){return requireTileData()}function s(){return Rectangle$2}var h=function(f,g){if(this.__bitmapData=f,this.rectData=o().default._new(),this.__data=[],g!=null)for(var b=0;b<g.length;){var k=g[b];++b,this.addRect(k)}};h.__name__="openfl.display.Tileset",h.__isInterface__=!1,h.prototype={addRect:function(f){if(f==null)return-1;o().default.push(this.rectData,f.x),o().default.push(this.rectData,f.y),o().default.push(this.rectData,f.width),o().default.push(this.rectData,f.height);var g=new(c()).default(f);return g.__update(this.__bitmapData),this.__data.push(g),this.__data.length-1},clone:function(){for(var f=new h(this.__bitmapData,null),g=s().default.__pool.get(),b=0,k=this.__data;b<k.length;){var $=k[b];++b,g.setTo($.x,$.y,$.width,$.height),f.addRect(g)}return s().default.__pool.release(g),f},hasRect:function(f){for(var g=0,b=this.__data;g<b.length;){var k=b[g];if(++g,f.x==k.x&&f.y==k.y&&f.width==k.width&&f.height==k.height)return!0}return!1},getRect:function(f){return f<this.__data.length&&f>=0?new(s()).default(this.__data[f].x,this.__data[f].y,this.__data[f].width,this.__data[f].height):null},getRectID:function(f){for(var g,b=0,k=this.__data.length;b<k;){var $=b++;if(g=this.__data[$],f.x==g.x&&f.y==g.y&&f.width==g.width&&f.height==g.height)return $}return null},get_bitmapData:function(){return this.__bitmapData},set_bitmapData:function(f){this.__bitmapData=f;for(var g=0,b=this.__data;g<b.length;){var k=b[g];++g,k.__update(this.__bitmapData)}return f},get_numRects:function(){return this.__data.length}},h.prototype.__class__=h.prototype.constructor=d["openfl.display.Tileset"]=h,Object.defineProperties(h.prototype,{bitmapData:{get:function(){return this.get_bitmapData()},set:function(f){return this.set_bitmapData(f)}},numRects:{get:function(){return this.get_numRects()}}}),e.default=h})(Tileset$2);var Tileset=Tileset$2;const Tileset$1=getDefaultExportFromCjs(Tileset);var TriangleCulling={};Object.defineProperty(TriangleCulling,"__esModule",{value:!0});TriangleCulling.TriangleCulling=TriangleCulling.default={NEGATIVE:"negative",NONE:"none",POSITIVE:"positive"};var display={Bitmap:Bitmap.default,BitmapData:BitmapData.default,BitmapDataChannel:BitmapDataChannelExports.default,BlendMode:BlendModeExports.default,CanvasRenderer:CanvasRenderer.default,CapsStyle:CapsStyle.default,DisplayObject:DisplayObject.default,DisplayObjectContainer:DisplayObjectContainer.default,DisplayObjectRenderer:DisplayObjectRenderer.default,DisplayObjectShader:DisplayObjectShader.default,DOMElement:DOMElement.default,DOMRenderer:DOMRenderer.default,FPS:FPS.default,FrameLabel:FrameLabel.default,GradientType:GradientType.default,Graphics:Graphics.default,GraphicsBitmapFill:GraphicsBitmapFill.default,GraphicsEndFill:GraphicsEndFill.default,GraphicsGradientFill:GraphicsGradientFill.default,GraphicsPath:GraphicsPath.default,GraphicsPathCommand:GraphicsPathCommand.default,GraphicsPathWinding:GraphicsPathWinding.default,GraphicsQuadPath:GraphicsQuadPath.default,GraphicsShader:GraphicsShader.default,GraphicsShaderFill:GraphicsShaderFill.default,GraphicsSolidFill:GraphicsSolidFill.default,GraphicsStroke:GraphicsStroke.default,GraphicsTrianglePath:GraphicsTrianglePath.default,IBitmapDrawable:IBitmapDrawable.default,IGraphicsData:IGraphicsData.default,IGraphicsFill:IGraphicsFill.default,IGraphicsPath:IGraphicsPath.default,IGraphicsStroke:IGraphicsStroke.default,InteractiveObject:InteractiveObject.default,InterpolationMethod:InterpolationMethod.default,ITileContainer:ITileContainer.default,JointStyle:JointStyle.default,JPEGEncoderOptions:JPEGEncoderOptions.default,LineScaleMode:LineScaleMode.default,Loader:Loader.default,LoaderInfo:LoaderInfo.default,MovieClip:MovieClip.default,OpenGLRenderer:OpenGLRenderer.default,PixelSnapping:PixelSnapping.default,PNGEncoderOptions:PNGEncoderOptions.default,Preloader:Preloader.default,Shader:Shader.default,ShaderData:ShaderData.default,ShaderInput:ShaderInput.default,ShaderJob:ShaderJob.default,ShaderParameter:ShaderParameter.default,ShaderParameterType:ShaderParameterType.default,ShaderPrecision:ShaderPrecision.default,Shape:Shape$7.default,SimpleButton:SimpleButton.default,SpreadMethod:SpreadMethod.default,Sprite:Sprite.default,Stage:Stage.default,Stage3D:Stage3D.default,StageAlign:StageAlign.default,StageDisplayState:StageDisplayState.default,StageQuality:StageQuality.default,StageScaleMode:StageScaleMode.default,Tile:Tile.default,TileContainer:TileContainer.default,Tilemap:Tilemap.default,Tileset:Tileset.default,TriangleCulling:TriangleCulling.default},CubeTexture=requireCubeTexture(),RectangleTexture=requireRectangleTexture(),Texture=requireTexture(),TextureBase=requireTextureBase(),VideoTexture=requireVideoTexture(),textures={CubeTexture:CubeTexture.default,RectangleTexture:RectangleTexture.default,Texture:Texture.default,TextureBase:TextureBase.default,VideoTexture:VideoTexture.default},Context3D=requireContext3D(),Context3DBlendFactor={};Object.defineProperty(Context3DBlendFactor,"__esModule",{value:!0});Context3DBlendFactor.Context3DBlendFactor=Context3DBlendFactor.default={DESTINATION_ALPHA:"destinationAlpha",DESTINATION_COLOR:"destinationColor",ONE:"one",ONE_MINUS_DESTINATION_ALPHA:"oneMinusDestinationAlpha",ONE_MINUS_DESTINATION_COLOR:"oneMinusDestinationColor",ONE_MINUS_SOURCE_ALPHA:"oneMinusSourceAlpha",ONE_MINUS_SOURCE_COLOR:"oneMinusSourceColor",SOURCE_ALPHA:"sourceAlpha",SOURCE_COLOR:"sourceColor",ZERO:"zero"};var Context3DBufferUsage={};Object.defineProperty(Context3DBufferUsage,"__esModule",{value:!0});Context3DBufferUsage.Context3DBufferUsage=Context3DBufferUsage.default={DYNAMIC_DRAW:"dynamicDraw",STATIC_DRAW:"staticDraw"};var Context3DClearMask={};Object.defineProperty(Context3DClearMask,"__esModule",{value:!0});Context3DClearMask.Context3DClearMask=Context3DClearMask.default={ALL:7,COLOR:1,DEPTH:2,STENCIL:4};var Context3DCompareMode={};Object.defineProperty(Context3DCompareMode,"__esModule",{value:!0});Context3DCompareMode.Context3DCompareMode=Context3DCompareMode.default={ALWAYS:"always",EQUAL:"equal",GREATER:"greater",GREATER_EQUAL:"greaterEqual",LESS:"less",LESS_EQUAL:"lessEqual",NEVER:"never",NOT_EQUAL:"notEqual"};var Context3DMipFilter={};Object.defineProperty(Context3DMipFilter,"__esModule",{value:!0});Context3DMipFilter.Context3DMipFilter=Context3DMipFilter.default={MIPLINEAR:"miplinear",MIPNEAREST:"mipnearest",MIPNONE:"mipnone"};var Context3DProfile={};Object.defineProperty(Context3DProfile,"__esModule",{value:!0});Context3DProfile.Context3DProfile=Context3DProfile.default={BASELINE:"baseline",BASELINE_CONSTRAINED:"baselineConstrained",BASELINE_EXTENDED:"baselineExtended",STANDARD:"standard",STANDARD_CONSTRAINED:"standardConstrained",STANDARD_EXTENDED:"standardExtended"};var Context3DProgramType={};Object.defineProperty(Context3DProgramType,"__esModule",{value:!0});Context3DProgramType.Context3DProgramType=Context3DProgramType.default={FRAGMENT:"fragment",VERTEX:"vertex"};var Context3DRenderMode={};Object.defineProperty(Context3DRenderMode,"__esModule",{value:!0});Context3DRenderMode.Context3DRenderMode=Context3DRenderMode.default={AUTO:"auto",SOFTWARE:"software"};var Context3DStencilAction={};Object.defineProperty(Context3DStencilAction,"__esModule",{value:!0});Context3DStencilAction.Context3DStencilAction=Context3DStencilAction.default={DECREMENT_SATURATE:"decrementSaturate",DECREMENT_WRAP:"decrementWrap",INCREMENT_SATURATE:"incrementSaturate",INCREMENT_WRAP:"incrementWrap",INVERT:"invert",KEEP:"keep",SET:"set",ZERO:"zero"};var Context3DTextureFilter={};Object.defineProperty(Context3DTextureFilter,"__esModule",{value:!0});Context3DTextureFilter.Context3DTextureFilter=Context3DTextureFilter.default={ANISOTROPIC16X:"anisotropic16x",ANISOTROPIC2X:"anisotropic2x",ANISOTROPIC4X:"anisotropic4x",ANISOTROPIC8X:"anisotropic8x",LINEAR:"linear",NEAREST:"nearest"};var Context3DTextureFormat={};Object.defineProperty(Context3DTextureFormat,"__esModule",{value:!0});Context3DTextureFormat.Context3DTextureFormat=Context3DTextureFormat.default={BGR_PACKED:"bgrPacked565",BGRA:"bgra",BGRA_PACKED:"bgraPacked4444",COMPRESSED:"compressed",COMPRESSED_ALPHA:"compressedAlpha",RGBA_HALF_FLOAT:"rgbaHalfFloat"};var Context3DTriangleFace={};Object.defineProperty(Context3DTriangleFace,"__esModule",{value:!0});Context3DTriangleFace.Context3DTriangleFace=Context3DTriangleFace.default={BACK:"back",FRONT:"front",FRONT_AND_BACK:"frontAndBack",NONE:"none"};var Context3DVertexBufferFormat={};Object.defineProperty(Context3DVertexBufferFormat,"__esModule",{value:!0});Context3DVertexBufferFormat.Context3DVertexBufferFormat=Context3DVertexBufferFormat.default={BYTES_4:"bytes4",FLOAT_1:"float1",FLOAT_2:"float2",FLOAT_3:"float3",FLOAT_4:"float4"};var Context3DWrapMode={};Object.defineProperty(Context3DWrapMode,"__esModule",{value:!0});Context3DWrapMode.Context3DWrapMode=Context3DWrapMode.default={CLAMP:"clamp",CLAMP_U_REPEAT_V:"clamp_u_repeat_y",REPEAT:"repeat",REPEAT_U_CLAMP_V:"repeat_u_clamp_y"};var IndexBuffer3D=IndexBuffer3D$1,Program3D=Program3D$1,VertexBuffer3D=VertexBuffer3D$1,display3D={textures,Context3D:Context3D.default,Context3DBlendFactor:Context3DBlendFactor.default,Context3DBufferUsage:Context3DBufferUsage.default,Context3DClearMask:Context3DClearMask.default,Context3DCompareMode:Context3DCompareMode.default,Context3DMipFilter:Context3DMipFilter.default,Context3DProfile:Context3DProfile.default,Context3DProgramType:Context3DProgramType.default,Context3DRenderMode:Context3DRenderMode.default,Context3DStencilAction:Context3DStencilAction.default,Context3DTextureFilter:Context3DTextureFilter.default,Context3DTextureFormat:Context3DTextureFormat.default,Context3DTriangleFace:Context3DTriangleFace.default,Context3DVertexBufferFormat:Context3DVertexBufferFormat.default,Context3DWrapMode:Context3DWrapMode.default,IndexBuffer3D:IndexBuffer3D.default,Program3D:Program3D.default,VertexBuffer3D:VertexBuffer3D.default},ArgumentError=ArgumentError$1,EOFError=EOFError$1,_Error=_Error$1,IllegalOperationError=IllegalOperationError$1,IOError=IOError$1,_RangeError=_RangeError$1,SecurityError$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return _Error$1}var s=function(h){h==null&&(h=""),c().default.call(this,h,0),this.name="SecurityError"};s.__name__="openfl.errors.SecurityError",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.errors.SecurityError"]=s,e.default=s})(SecurityError$1);var SecurityError=SecurityError$1,_TypeError=_TypeError$1,errors={ArgumentError:ArgumentError.default,EOFError:EOFError.default,Error:_Error.default,IllegalOperationError:IllegalOperationError.default,IOError:IOError.default,RangeError:_RangeError.default,SecurityError:SecurityError.default,TypeError:_TypeError.default},AccelerometerEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k,$,j){j==null&&(j=0),$==null&&($=0),k==null&&(k=0),b==null&&(b=0),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.timestamp=b,this.accelerationX=k,this.accelerationY=$,this.accelerationZ=j};s.__name__="openfl.events.AccelerometerEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.timestamp,this.accelerationX,this.accelerationY,this.accelerationZ);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("AccelerometerEvent",["type","bubbles","cancelable","timestamp","accelerationX","accelerationY","accelerationZ"])},__init:function(){c().default.prototype.__init.call(this),this.timestamp=0,this.accelerationX=0,this.accelerationY=0,this.accelerationZ=0}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.AccelerometerEvent"]=s,s.UPDATE="update",e.default=s})(AccelerometerEvent$1);var AccelerometerEvent=AccelerometerEvent$1,ActivityEvent=ActivityEvent$1,AsyncErrorEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return ErrorEvent$1}var s=function(h,f,g,b,k){b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.text=b,this.error=k};s.__name__="openfl.events.AsyncErrorEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.text,this.error);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("AsyncErrorEvent",["type","bubbles","cancelable","text","error"])},__init:function(){c().default.prototype.__init.call(this),this.text="",this.error=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.AsyncErrorEvent"]=s,s.ASYNC_ERROR="asyncError",e.default=s})(AsyncErrorEvent$1);var AsyncErrorEvent=AsyncErrorEvent$1,DataEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return TextEvent$1}var s=function(h,f,g,b){b==null&&(b=""),g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.data=b};s.__name__="openfl.events.DataEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.data);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("DataEvent",["type","bubbles","cancelable","data"])},__init:function(){c().default.prototype.__init.call(this),this.data=""}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.DataEvent"]=s,s.DATA="data",s.UPLOAD_COMPLETE_DATA="uploadCompleteData",e.default=s})(DataEvent$1);var DataEvent=DataEvent$1,ErrorEvent=ErrorEvent$1,Event=Event$1,EventDispatcher=EventDispatcher$1,EventPhase={};Object.defineProperty(EventPhase,"__esModule",{value:!0});EventPhase.EventPhase=EventPhase.default={AT_TARGET:2,BUBBLING_PHASE:3,CAPTURING_PHASE:1};var FocusEvent=FocusEvent$1,FullScreenEvent=FullScreenEvent$1,GameInputEvent=GameInputEvent$1,HTTPStatusEvent=HTTPStatusEvent$1,IEventDispatcher=IEventDispatcher$1,IOErrorEvent=IOErrorEvent$1,KeyboardEvent=KeyboardEvent$2;const KeyboardEvent$1=getDefaultExportFromCjs(KeyboardEvent);var MouseEvent$1=MouseEvent$3;const MouseEvent$2=getDefaultExportFromCjs(MouseEvent$1);var NetStatusEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b){g==null&&(g=!1),f==null&&(f=!1),this.info=b,c().default.call(this,h,f,g)};s.__name__="openfl.events.NetStatusEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable,this.info);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("NetStatusEvent",["type","bubbles","cancelable","info"])},__init:function(){c().default.prototype.__init.call(this),this.info=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.NetStatusEvent"]=s,s.NET_STATUS="netStatus",e.default=s})(NetStatusEvent$1);var NetStatusEvent=NetStatusEvent$1,ProgressEvent=ProgressEvent$1,RenderEvent=RenderEvent$1,SampleDataEvent=SampleDataEvent$1,SecurityErrorEvent=SecurityErrorEvent$1,TextEvent=TextEvent$1,TimerEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g){g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.__updateAfterEventFlag=!1};s.__name__="openfl.events.TimerEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,this.cancelable);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("TimerEvent",["type","bubbles","cancelable"])},updateAfterEvent:function(){this.__updateAfterEventFlag=!0}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.TimerEvent"]=s,s.TIMER="timer",s.TIMER_COMPLETE="timerComplete",e.default=s})(TimerEvent$1);var TimerEvent=TimerEvent$1,TouchEvent=TouchEvent$1,UncaughtErrorEvent=UncaughtErrorEvent$1,UncaughtErrorEvents=UncaughtErrorEvents$1,VideoTextureEvent$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Event$1}var s=function(h,f,g,b,k){g==null&&(g=!1),f==null&&(f=!1),c().default.call(this,h,f,g),this.status=b,this.colorSpace=k};s.__name__="openfl.events.VideoTextureEvent",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.type,this.bubbles,null,this.status,this.colorSpace);return h.target=this.target,h.currentTarget=this.currentTarget,h.eventPhase=this.eventPhase,h},toString:function(){return this.__formatToString("VideoTextureEvent",["type","bubbles","cancelable","status","colorSpace"])},__init:function(){c().default.prototype.__init.call(this),this.status=null,this.colorSpace=null}}),s.prototype.__class__=s.prototype.constructor=d["openfl.events.VideoTextureEvent"]=s,s.RENDER_STATE="renderState",e.default=s})(VideoTextureEvent$1);var VideoTextureEvent=VideoTextureEvent$1,events={AccelerometerEvent:AccelerometerEvent.default,ActivityEvent:ActivityEvent.default,AsyncErrorEvent:AsyncErrorEvent.default,DataEvent:DataEvent.default,ErrorEvent:ErrorEvent.default,Event:Event.default,EventDispatcher:EventDispatcher.default,EventPhase:EventPhase.default,FocusEvent:FocusEvent.default,FullScreenEvent:FullScreenEvent.default,GameInputEvent:GameInputEvent.default,HTTPStatusEvent:HTTPStatusEvent.default,IEventDispatcher:IEventDispatcher.default,IOErrorEvent:IOErrorEvent.default,KeyboardEvent:KeyboardEvent.default,MouseEvent:MouseEvent$1.default,NetStatusEvent:NetStatusEvent.default,ProgressEvent:ProgressEvent.default,RenderEvent:RenderEvent.default,SampleDataEvent:SampleDataEvent.default,SecurityErrorEvent:SecurityErrorEvent.default,TextEvent:TextEvent.default,TimerEvent:TimerEvent.default,TouchEvent:TouchEvent.default,UncaughtErrorEvent:UncaughtErrorEvent.default,UncaughtErrorEvents:UncaughtErrorEvents.default,VideoTextureEvent:VideoTextureEvent.default},ExternalInterface$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireLib$1()}function c(){return requireEReg()}function s(){return requireLib$2()}function h(){return requireCallStack()}function f(){return requireHaxeError()}function g(){return requireType()}function b(){return requireValueType()}var k=function(){};k.__name__="openfl.external.ExternalInterface",k.__isInterface__=!1,k.prototype={},k.prototype.__class__=k.prototype.constructor=d["openfl.external.ExternalInterface"]=k,k.addCallback=function($,j){o().default.application.get_window().element!=null&&(o().default.application.get_window().element[$]=j)},k.call=function($,j,_e,et,nt,rt){var tt=null;if(!new(c()).default("^\\(.+\\)$","").match($)){var it=$.split(".").slice(0,-1).join(".");it.length>0&&($+=".bind("+it+")")}var st;try{st=s().default.eval($)}catch(at){return h().default.lastException=at,at instanceof f().default&&at.val,null}return g().default.typeof(st)!=b().default.TFunction?null:(j==null?tt=st():_e==null?tt=st(j):et==null?tt=st(j,_e):nt==null?tt=st(j,_e,et):rt==null?tt=st(j,_e,et,nt):tt=st(j,_e,et,nt,rt),tt)},k.get_objectID=function(){return o().default.application!=null&&o().default.application.get_window()!=null&&o().default.application.get_window().element!=null?o().default.application.get_window().element.id:null},k.available=!0,k.marshallExceptions=!1,e.default=k})(ExternalInterface$1);var ExternalInterface=ExternalInterface$1,external={ExternalInterface:ExternalInterface.default},BitmapFilter$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){this.__bottomExtension=0,this.__leftExtension=0,this.__needSecondBitmapData=!0,this.__numShaderPasses=0,this.__preserveObject=!1,this.__rightExtension=0,this.__shaderBlendMode="normal",this.__topExtension=0,this.__smooth=!0};o.__name__="openfl.filters.BitmapFilter",o.__isInterface__=!1,o.prototype={clone:function(){return new o},__applyFilter:function(c,s,h,f){return s},__initShader:function(c,s,h){return null}},o.prototype.__class__=o.prototype.constructor=d["openfl.filters.BitmapFilter"]=o,e.default=o})(BitmapFilter$1);var BitmapFilter=BitmapFilter$1,BitmapFilterQuality={};Object.defineProperty(BitmapFilterQuality,"__esModule",{value:!0});BitmapFilterQuality.BitmapFilterQuality=BitmapFilterQuality.default={HIGH:3,MEDIUM:2,LOW:1};var BitmapFilterShader$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return Shader$1}var s=function(h){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying vec2 openfl_TextureCoordv;

		uniform sampler2D openfl_Texture;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			gl_FragColor = texture2D (openfl_Texture, openfl_TextureCoordv);

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		varying vec2 openfl_TextureCoordv;

		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			openfl_TextureCoordv = openfl_TextureCoord;

		gl_Position = openfl_Matrix * openfl_Position;

		}`),c().default.call(this,h),this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters.BitmapFilterShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters.BitmapFilterShader"]=s,e.default=s})(BitmapFilterShader$1);var BitmapFilterShader=BitmapFilterShader$1,BitmapFilterType={};Object.defineProperty(BitmapFilterType,"__esModule",{value:!0});BitmapFilterType.BitmapFilterType=BitmapFilterType.default={FULL:"full",INNER:"inner",OUTER:"outer"};var BlurFilter$1={},BlurShader={},hasRequiredBlurShader;function requireBlurShader(){return hasRequiredBlurShader||(hasRequiredBlurShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`uniform sampler2D openfl_Texture;

		varying vec2 vBlurCoords[7];

		void main(void) {

			vec4 sum = vec4(0.0);
			sum += texture2D(openfl_Texture, vBlurCoords[0]) * 0.00443;
			sum += texture2D(openfl_Texture, vBlurCoords[1]) * 0.05399;
			sum += texture2D(openfl_Texture, vBlurCoords[2]) * 0.24197;
			sum += texture2D(openfl_Texture, vBlurCoords[3]) * 0.39894;
			sum += texture2D(openfl_Texture, vBlurCoords[4]) * 0.24197;
			sum += texture2D(openfl_Texture, vBlurCoords[5]) * 0.05399;
			sum += texture2D(openfl_Texture, vBlurCoords[6]) * 0.00443;

			gl_FragColor = sum;

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		uniform mat4 openfl_Matrix;

		uniform vec2 uRadius;
		varying vec2 vBlurCoords[7];
		uniform vec2 uTextureSize;

		void main(void) {

			gl_Position = openfl_Matrix * openfl_Position;

			vec2 r = uRadius / uTextureSize;
			vBlurCoords[0] = openfl_TextureCoord - r;
			vBlurCoords[1] = openfl_TextureCoord - r * 0.75;
			vBlurCoords[2] = openfl_TextureCoord - r * 0.5;
			vBlurCoords[3] = openfl_TextureCoord;
			vBlurCoords[4] = openfl_TextureCoord + r * 0.5;
			vBlurCoords[5] = openfl_TextureCoord + r * 0.75;
			vBlurCoords[6] = openfl_TextureCoord + r;

		}`),c().default.call(this),this.uRadius.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._BlurFilter.BlurShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{__update:function(){this.uTextureSize.value=[this.__texture.input.width,this.__texture.input.height],c().default.prototype.__update.call(this)}}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._BlurFilter.BlurShader"]=s,e.default=s}(BlurShader)),BlurShader}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}function s(){return requireTimer()}function h(){return requireImageDataUtil()}function f(){return requireBlurShader()}var g=function(b,k,$){$==null&&($=1),k==null&&(k=4),b==null&&(b=4),c().default.call(this),this.set_blurX(b),this.set_blurY(k),this.set_quality($),this.__needSecondBitmapData=!0,this.__preserveObject=!1,this.__renderDirty=!0};g.__name__="openfl.filters.BlurFilter",g.__isInterface__=!1,g.__super__=c().default,g.prototype=o(c().default.prototype,{clone:function(){return new g(this.__blurX,this.__blurY,this.__quality)},__applyFilter:function(b,k,$,j){var _e=s().default.stamp(),et=h().default.gaussianBlur(b.image,k.image,$.__toLimeRectangle(),j.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality);return s().default.stamp()-_e,et==b.image?b:k},__initShader:function(b,k,$){if(k<this.__horizontalPasses){var j=Math.pow(.5,k>>1);g.__blurShader.uRadius.value[0]=this.get_blurX()*j,g.__blurShader.uRadius.value[1]=0}else{var _e=Math.pow(.5,k-this.__horizontalPasses>>1);g.__blurShader.uRadius.value[0]=0,g.__blurShader.uRadius.value[1]=this.get_blurY()*_e}return g.__blurShader},get_blurX:function(){return this.__blurX},set_blurX:function(b){return b!=this.__blurX&&(this.__blurX=b,this.__renderDirty=!0,this.__leftExtension=b>0?Math.ceil(b):0,this.__rightExtension=this.__leftExtension),b},get_blurY:function(){return this.__blurY},set_blurY:function(b){return b!=this.__blurY&&(this.__blurY=b,this.__renderDirty=!0,this.__topExtension=b>0?Math.ceil(b):0,this.__bottomExtension=this.__topExtension),b},get_quality:function(){return this.__quality},set_quality:function(b){return this.__horizontalPasses=this.__blurX<=0?0:Math.round(this.__blurX*(b/4))+1,this.__verticalPasses=this.__blurY<=0?0:Math.round(this.__blurY*(b/4))+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses,b!=this.__quality&&(this.__renderDirty=!0),this.__quality=b}}),g.prototype.__class__=g.prototype.constructor=d["openfl.filters.BlurFilter"]=g,Object.defineProperties(g.prototype,{blurX:{get:function(){return this.get_blurX()},set:function(b){return this.set_blurX(b)}},blurY:{get:function(){return this.get_blurY()},set:function(b){return this.set_blurY(b)}},quality:{get:function(){return this.get_quality()},set:function(b){return this.set_quality(b)}}}),g.__blurShader=new(f()).default,e.default=g})(BlurFilter$1);var BlurFilter=BlurFilter$1,ColorMatrixFilter$1={},ColorMatrixShader={},hasRequiredColorMatrixShader;function requireColorMatrixShader(){return hasRequiredColorMatrixShader||(hasRequiredColorMatrixShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying vec2 openfl_TextureCoordv;
		uniform sampler2D openfl_Texture;

		uniform mat4 uMultipliers;
		uniform vec4 uOffsets;

		void main(void) {

			vec4 color = texture2D (openfl_Texture, openfl_TextureCoordv);

			if (color.a == 0.0) {

				gl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);

			} else {

				color = vec4 (color.rgb / color.a, color.a);
				color = uOffsets + color * uMultipliers;

				gl_FragColor = vec4 (color.rgb * color.a, color.a);

			}

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		varying vec2 openfl_TextureCoordv;

		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;


		void main(void) {

			openfl_TextureCoordv = openfl_TextureCoord;

		gl_Position = openfl_Matrix * openfl_Position;


		}`),c().default.call(this),this.uMultipliers.value=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.uOffsets.value=[0,0,0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._ColorMatrixFilter.ColorMatrixShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{init:function(h){var f=this.uMultipliers.value,g=this.uOffsets.value;f[0]=h[0],f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[5],f[5]=h[6],f[6]=h[7],f[7]=h[8],f[8]=h[10],f[9]=h[11],f[10]=h[12],f[11]=h[13],f[12]=h[15],f[13]=h[16],f[14]=h[17],f[15]=h[18],g[0]=h[4]/255,g[1]=h[9]/255,g[2]=h[14]/255,g[3]=h[19]/255}}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._ColorMatrixFilter.ColorMatrixShader"]=s,s.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=s}(ColorMatrixShader)),ColorMatrixShader}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}function s(){return requireImageCanvasUtil()}function h(){return requireStd()}function f(){return requireRGBA_Impl_()}function g(){return requireColorMatrixShader()}var b=function(k){c().default.call(this),this.set_matrix(k),this.__numShaderPasses=1,this.__needSecondBitmapData=!1};b.__name__="openfl.filters.ColorMatrixFilter",b.__isInterface__=!1,b.__super__=c().default,b.prototype=o(c().default.prototype,{clone:function(){return new b(this.__matrix)},__applyFilter:function(k,$,j,_e){var et=$.image,nt=k.image;s().default.convertToData(et),s().default.convertToData(nt);for(var rt=et.get_data(),tt=nt.get_data(),it=h().default.int(_e.x-j.x),st=h().default.int(_e.y-j.y),at=$.width*4,_t=k.width*4,ut=et.buffer.format,ot=nt.buffer.format,lt=et.buffer.premultiplied,ft=nt.buffer.premultiplied,ht=0,dt=0,pt,xt,vt=h().default.int(j.y),bt=h().default.int(j.height);vt<bt;)for(var wt=vt++,At=h().default.int(j.x),ct=h().default.int(j.width);At<ct;){var mt=At++;pt=wt*at+mt*4,xt=(wt+it)*_t+(mt+st)*4;var gt=ut,Tt=lt;switch(Tt==null&&(Tt=!1),gt==null&&(gt=0),gt){case 0:ht=(rt[pt]&255)<<24|(rt[pt+1]&255)<<16|(rt[pt+2]&255)<<8|rt[pt+3]&255;break;case 1:ht=(rt[pt+1]&255)<<24|(rt[pt+2]&255)<<16|(rt[pt+3]&255)<<8|rt[pt]&255;break;case 2:ht=(rt[pt+2]&255)<<24|(rt[pt+1]&255)<<16|(rt[pt]&255)<<8|rt[pt+3]&255;break}if(Tt&&ht&255&&(ht&255)!=255&&(f().default.unmult=255/(ht&255),ht=(f().default.__clamp[Math.round((ht>>>24&255)*f().default.unmult)]&255)<<24|(f().default.__clamp[Math.round((ht>>>16&255)*f().default.unmult)]&255)<<16|(f().default.__clamp[Math.round((ht>>>8&255)*f().default.unmult)]&255)<<8|ht&255&255),!(ht&255))dt=0;else{var yt=h().default.int(Math.max(0,Math.min(this.__matrix[0]*(ht>>>24&255)+this.__matrix[1]*(ht>>>16&255)+this.__matrix[2]*(ht>>>8&255)+this.__matrix[3]*(ht&255)+this.__matrix[4],255)));dt=(yt&255)<<24|(dt>>>16&255&255)<<16|(dt>>>8&255&255)<<8|dt&255&255;var Et=h().default.int(Math.max(0,Math.min(this.__matrix[5]*(ht>>>24&255)+this.__matrix[6]*(ht>>>16&255)+this.__matrix[7]*(ht>>>8&255)+this.__matrix[8]*(ht&255)+this.__matrix[9],255)));dt=(dt>>>24&255&255)<<24|(Et&255)<<16|(dt>>>8&255&255)<<8|dt&255&255;var Ct=h().default.int(Math.max(0,Math.min(this.__matrix[10]*(ht>>>24&255)+this.__matrix[11]*(ht>>>16&255)+this.__matrix[12]*(ht>>>8&255)+this.__matrix[13]*(ht&255)+this.__matrix[14],255)));dt=(dt>>>24&255&255)<<24|(dt>>>16&255&255)<<16|(Ct&255)<<8|dt&255&255;var It=h().default.int(Math.max(0,Math.min(this.__matrix[15]*(ht>>>24&255)+this.__matrix[16]*(ht>>>16&255)+this.__matrix[17]*(ht>>>8&255)+this.__matrix[18]*(ht&255)+this.__matrix[19],255)));dt=(dt>>>24&255&255)<<24|(dt>>>16&255&255)<<16|(dt>>>8&255&255)<<8|It&255}var Rt=ot,Ft=ft;switch(Ft==null&&(Ft=!1),Rt==null&&(Rt=0),Ft&&(dt&255?(dt&255)!=255&&(f().default.a16=f().default.__alpha16[dt&255],dt=((dt>>>24&255)*f().default.a16>>16&255)<<24|((dt>>>16&255)*f().default.a16>>16&255)<<16|((dt>>>8&255)*f().default.a16>>16&255)<<8|dt&255&255):dt!=0&&(dt=0)),Rt){case 0:tt[xt]=dt>>>24&255,tt[xt+1]=dt>>>16&255,tt[xt+2]=dt>>>8&255,tt[xt+3]=dt&255;break;case 1:tt[xt]=dt&255,tt[xt+1]=dt>>>24&255,tt[xt+2]=dt>>>16&255,tt[xt+3]=dt>>>8&255;break;case 2:tt[xt]=dt>>>8&255,tt[xt+1]=dt>>>16&255,tt[xt+2]=dt>>>24&255,tt[xt+3]=dt&255;break}}return k.image.dirty=!0,k},__initShader:function(k,$,j){return b.__colorMatrixShader.init(this.get_matrix()),b.__colorMatrixShader},get_matrix:function(){return this.__matrix},set_matrix:function(k){return k==null&&(k=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),this.__matrix=k}}),b.prototype.__class__=b.prototype.constructor=d["openfl.filters.ColorMatrixFilter"]=b,Object.defineProperties(b.prototype,{matrix:{get:function(){return this.get_matrix()},set:function(k){return this.set_matrix(k)}}}),b.__colorMatrixShader=new(g()).default,e.default=b})(ColorMatrixFilter$1);var ColorMatrixFilter=ColorMatrixFilter$1,ConvolutionFilter$1={},ConvolutionShader={},hasRequiredConvolutionShader;function requireConvolutionShader(){return hasRequiredConvolutionShader||(hasRequiredConvolutionShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`varying vec2 vBlurCoords[9];

		uniform sampler2D openfl_Texture;

		uniform float uBias;
		uniform mat3 uConvoMatrix;
		uniform float uDivisor;
		uniform bool uPreserveAlpha;

		void main(void) {

			vec4 tc = texture2D (openfl_Texture, vBlurCoords[4]);
			vec4 c = vec4 (0.0);

			c += texture2D (openfl_Texture, vBlurCoords[0]) * uConvoMatrix[0][0];
			c += texture2D (openfl_Texture, vBlurCoords[1]) * uConvoMatrix[0][1];
			c += texture2D (openfl_Texture, vBlurCoords[2]) * uConvoMatrix[0][2];

			c += texture2D (openfl_Texture, vBlurCoords[3]) * uConvoMatrix[1][0];
			c += tc * uConvoMatrix[1][1];
			c += texture2D (openfl_Texture, vBlurCoords[5]) * uConvoMatrix[1][2];

			c += texture2D (openfl_Texture, vBlurCoords[6]) * uConvoMatrix[2][0];
			c += texture2D (openfl_Texture, vBlurCoords[7]) * uConvoMatrix[2][1];
			c += texture2D (openfl_Texture, vBlurCoords[8]) * uConvoMatrix[2][2];

			if (uDivisor > 0.0) {

				c /= vec4 (uDivisor, uDivisor, uDivisor, uDivisor);

			}

			c += vec4 (uBias, uBias, uBias, uBias);

			if (uPreserveAlpha) {

				c.a = tc.a;

			}

			gl_FragColor = c;

		}`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		varying vec2 vBlurCoords[9];

		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;

		void main(void) {

			vec2 r = vec2 (1.0, 1.0) / openfl_TextureSize;
			vec2 t = openfl_TextureCoord;

			vBlurCoords[0] = t + r * vec2 (-1.0, -1.0);
			vBlurCoords[1] = t + r * vec2 (0.0, -1.0);
			vBlurCoords[2] = t + r * vec2 (1.0, -1.0);

			vBlurCoords[3] = t + r * vec2 (-1.0, 0.0);
			vBlurCoords[4] = t;
			vBlurCoords[5] = t + r * vec2 (1.0, 0.0);

			vBlurCoords[6] = t + r * vec2 (-1.0, 1.0);
			vBlurCoords[7] = t + r * vec2 (0.0, 1.0);
			vBlurCoords[8] = t + r * vec2 (1.0, 1.0);

			gl_Position = openfl_Matrix * openfl_Position;

		}`),c().default.call(this),this.uDivisor.value=[1],this.uBias.value=[0],this.uPreserveAlpha.value=[!0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._ConvolutionFilter.ConvolutionShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._ConvolutionFilter.ConvolutionShader"]=s,e.default=s}(ConvolutionShader)),ConvolutionShader}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}function s(){return requireHaxeError()}function h(){return requireConvolutionShader()}var f=function(g,b,k,$,j,_e,et,nt,rt){rt==null&&(rt=0),nt==null&&(nt=0),et==null&&(et=!0),_e==null&&(_e=!0),j==null&&(j=0),$==null&&($=1),b==null&&(b=0),g==null&&(g=0),c().default.call(this),this.matrixX=g,this.matrixY=b,this.__matrix=k,this.divisor=$,this.bias=j,this.preserveAlpha=_e,this.clamp=et,this.color=nt,this.alpha=rt,this.__numShaderPasses=1};f.__name__="openfl.filters.ConvolutionFilter",f.__isInterface__=!1,f.__super__=c().default,f.prototype=o(c().default.prototype,{clone:function(){return new f(this.matrixX,this.matrixY,this.__matrix,this.divisor,this.bias,this.preserveAlpha,this.clamp,this.color,this.alpha)},__initShader:function(g,b,k){return f.__convolutionShader.uConvoMatrix.value=this.get_matrix(),f.__convolutionShader.uDivisor.value[0]=this.divisor,f.__convolutionShader.uBias.value[0]=this.bias,f.__convolutionShader.uPreserveAlpha.value[0]=this.preserveAlpha,f.__convolutionShader},get_matrix:function(){return this.__matrix},set_matrix:function(g){if(g==null&&(g=[0,0,0,0,1,0,0,0,0]),g.length!=9)throw new(s()).default("Only a 3x3 matrix is supported");return this.__matrix=g}}),f.prototype.__class__=f.prototype.constructor=d["openfl.filters.ConvolutionFilter"]=f,Object.defineProperties(f.prototype,{matrix:{get:function(){return this.get_matrix()},set:function(g){return this.set_matrix(g)}}}),f.__convolutionShader=new(h()).default,e.default=f})(ConvolutionFilter$1);var ConvolutionFilter=ConvolutionFilter$1,DropShadowFilter$1={},GlowFilter$1={},InvertAlphaShader={},hasRequiredInvertAlphaShader;function requireInvertAlphaShader(){return hasRequiredInvertAlphaShader||(hasRequiredInvertAlphaShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		varying vec2 vTexCoord;

		void main(void) {
			vec4 texel = texture2D(openfl_Texture, vTexCoord);
			gl_FragColor = vec4(texel.rgb, 1.0 - texel.a);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`
		attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		varying vec2 vTexCoord;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			vTexCoord = openfl_TextureCoord;
		}
	`),c().default.call(this),this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.InvertAlphaShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.InvertAlphaShader"]=s,e.default=s}(InvertAlphaShader)),InvertAlphaShader}var BlurAlphaShader={},hasRequiredBlurAlphaShader;function requireBlurAlphaShader(){return hasRequiredBlurAlphaShader||(hasRequiredBlurAlphaShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform vec4 uColor;
		uniform float uStrength;
		varying vec2 vTexCoord;
		varying vec2 vBlurCoords[6];

		void main(void)
		{
            vec4 texel = texture2D(openfl_Texture, vTexCoord);

            vec3 contributions = vec3(0.00443, 0.05399, 0.24197);
            vec3 top = vec3(
                texture2D(openfl_Texture, vBlurCoords[0]).a,
                texture2D(openfl_Texture, vBlurCoords[1]).a,
                texture2D(openfl_Texture, vBlurCoords[2]).a
            );
            vec3 bottom = vec3(
                texture2D(openfl_Texture, vBlurCoords[3]).a,
                texture2D(openfl_Texture, vBlurCoords[4]).a,
                texture2D(openfl_Texture, vBlurCoords[5]).a
            );

            float a = texel.a * 0.39894;
			a += dot(top, contributions.xyz);
            a += dot(bottom, contributions.zyx);

			gl_FragColor = uColor * clamp(a * uStrength, 0.0, 1.0);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`
		attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;

		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;

		uniform vec2 uRadius;
		varying vec2 vTexCoord;
		varying vec2 vBlurCoords[6];

		void main(void) {

			gl_Position = openfl_Matrix * openfl_Position;
			vTexCoord = openfl_TextureCoord;

			vec3 offset = vec3(0.5, 0.75, 1.0);
			vec2 r = uRadius / openfl_TextureSize;
			vBlurCoords[0] = openfl_TextureCoord - r * offset.z;
			vBlurCoords[1] = openfl_TextureCoord - r * offset.y;
			vBlurCoords[2] = openfl_TextureCoord - r * offset.x;
			vBlurCoords[3] = openfl_TextureCoord + r * offset.x;
			vBlurCoords[4] = openfl_TextureCoord + r * offset.y;
			vBlurCoords[5] = openfl_TextureCoord + r * offset.z;
		}
	`),c().default.call(this),this.uRadius.value=[0,0],this.uColor.value=[0,0,0,0],this.uStrength.value=[1],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.BlurAlphaShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.BlurAlphaShader"]=s,e.default=s}(BlurAlphaShader)),BlurAlphaShader}var CombineShader={},hasRequiredCombineShader;function requireCombineShader(){return hasRequiredCombineShader||(hasRequiredCombineShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform sampler2D sourceBitmap;
		varying vec4 textureCoords;

		void main(void) {
			vec4 src = texture2D(sourceBitmap, textureCoords.xy);
			vec4 glow = texture2D(openfl_Texture, textureCoords.zw);

			gl_FragColor = src + glow * (1.0 - src.a);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;
		uniform vec2 offset;
		varying vec4 textureCoords;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			textureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);
		}
	`),c().default.call(this),this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.CombineShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.CombineShader"]=s,e.default=s}(CombineShader)),CombineShader}var InnerCombineShader={},hasRequiredInnerCombineShader;function requireInnerCombineShader(){return hasRequiredInnerCombineShader||(hasRequiredInnerCombineShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform sampler2D sourceBitmap;
		varying vec4 textureCoords;

		void main(void) {
			vec4 src = texture2D(sourceBitmap, textureCoords.xy);
			vec4 glow = texture2D(openfl_Texture, textureCoords.zw);

			gl_FragColor = vec4((src.rgb * (1.0 - glow.a)) + (glow.rgb * src.a), src.a);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;
		uniform vec2 offset;
		varying vec4 textureCoords;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			textureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);
		}
	`),c().default.call(this),this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.InnerCombineShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.InnerCombineShader"]=s,e.default=s}(InnerCombineShader)),InnerCombineShader}var CombineKnockoutShader={},hasRequiredCombineKnockoutShader;function requireCombineKnockoutShader(){return hasRequiredCombineKnockoutShader||(hasRequiredCombineKnockoutShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform sampler2D sourceBitmap;
		varying vec4 textureCoords;

		void main(void) {
			vec4 src = texture2D(sourceBitmap, textureCoords.xy);
			vec4 glow = texture2D(openfl_Texture, textureCoords.zw);

			gl_FragColor = glow * (1.0 - src.a);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;
		uniform vec2 offset;
		varying vec4 textureCoords;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			textureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);
		}
	`),c().default.call(this),this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.CombineKnockoutShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.CombineKnockoutShader"]=s,e.default=s}(CombineKnockoutShader)),CombineKnockoutShader}var InnerCombineKnockoutShader={},hasRequiredInnerCombineKnockoutShader;function requireInnerCombineKnockoutShader(){return hasRequiredInnerCombineKnockoutShader||(hasRequiredInnerCombineKnockoutShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform sampler2D sourceBitmap;
		varying vec4 textureCoords;

		void main(void) {
			vec4 src = texture2D(sourceBitmap, textureCoords.xy);
			vec4 glow = texture2D(openfl_Texture, textureCoords.zw);

			gl_FragColor = glow * src.a;
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;
		uniform vec2 offset;
		varying vec4 textureCoords;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			textureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);
		}
	`),c().default.call(this),this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._GlowFilter.InnerCombineKnockoutShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._GlowFilter.InnerCombineKnockoutShader"]=s,e.default=s}(InnerCombineKnockoutShader)),InnerCombineKnockoutShader}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}function s(){return requireImageDataUtil()}function h(){return ColorTransform$1}function f(){return requireInvertAlphaShader()}function g(){return requireBlurAlphaShader()}function b(){return requireCombineShader()}function k(){return requireInnerCombineShader()}function $(){return requireCombineKnockoutShader()}function j(){return requireInnerCombineKnockoutShader()}var _e=function(et,nt,rt,tt,it,st,at,_t){_t==null&&(_t=!1),at==null&&(at=!1),st==null&&(st=1),it==null&&(it=2),tt==null&&(tt=6),rt==null&&(rt=6),nt==null&&(nt=1),et==null&&(et=16711680),c().default.call(this),this.__color=et,this.__alpha=nt,this.__blurX=rt,this.__blurY=tt,this.__strength=it,this.__inner=at,this.__knockout=_t,this.__quality=st,this.__updateSize(),this.__needSecondBitmapData=!0,this.__preserveObject=!0,this.__renderDirty=!0};_e.__name__="openfl.filters.GlowFilter",_e.__isInterface__=!1,_e.__super__=c().default,_e.prototype=o(c().default.prototype,{clone:function(){return new _e(this.__color,this.__alpha,this.__blurX,this.__blurY,this.__strength,this.__quality,this.__inner,this.__knockout)},__applyFilter:function(et,nt,rt,tt){var it=this.__color>>16&255,st=this.__color>>8&255,at=this.__color&255,_t=s().default.gaussianBlur(et.image,nt.image,rt.__toLimeRectangle(),tt.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality,this.__strength);return _t.colorTransform(_t.get_rect(),new(h()).default(0,0,0,this.__alpha,it,st,at,0).__toLimeColorMatrix()),_t==et.image?et:nt},__initShader:function(et,nt,rt){if(this.__inner&&nt==0)return _e.__invertAlphaShader;var tt=nt-(this.__inner?1:0),it=this.__horizontalPasses+this.__verticalPasses;if(tt<it){var st=_e.__blurAlphaShader;if(tt<this.__horizontalPasses){var at=Math.pow(.5,tt>>1)*.5;st.uRadius.value[0]=this.get_blurX()*at,st.uRadius.value[1]=0}else{var _t=Math.pow(.5,tt-this.__horizontalPasses>>1)*.5;st.uRadius.value[0]=0,st.uRadius.value[1]=this.get_blurY()*_t}return st.uColor.value[0]=(this.get_color()>>16&255)/255,st.uColor.value[1]=(this.get_color()>>8&255)/255,st.uColor.value[2]=(this.get_color()&255)/255,st.uColor.value[3]=this.get_alpha(),st.uStrength.value[0]=tt==it-1?this.__strength:1,st}if(this.__inner){if(this.__knockout){var ut=_e.__innerCombineKnockoutShader;return ut.sourceBitmap.input=rt,ut.offset.value[0]=0,ut.offset.value[1]=0,ut}var ot=_e.__innerCombineShader;return ot.sourceBitmap.input=rt,ot.offset.value[0]=0,ot.offset.value[1]=0,ot}else{if(this.__knockout){var lt=_e.__combineKnockoutShader;return lt.sourceBitmap.input=rt,lt.offset.value[0]=0,lt.offset.value[1]=0,lt}var ft=_e.__combineShader;return ft.sourceBitmap.input=rt,ft.offset.value[0]=0,ft.offset.value[1]=0,ft}},__updateSize:function(){this.__leftExtension=this.__blurX>0?Math.ceil(this.__blurX*1.5):0,this.__rightExtension=this.__leftExtension,this.__topExtension=this.__blurY>0?Math.ceil(this.__blurY*1.5):0,this.__bottomExtension=this.__topExtension,this.__calculateNumShaderPasses()},__calculateNumShaderPasses:function(){this.__horizontalPasses=this.__blurX<=0?0:Math.round(this.__blurX*(this.__quality/4))+1,this.__verticalPasses=this.__blurY<=0?0:Math.round(this.__blurY*(this.__quality/4))+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses+(this.__inner?2:1)},get_alpha:function(){return this.__alpha},set_alpha:function(et){return et!=this.__alpha&&(this.__renderDirty=!0),this.__alpha=et},get_blurX:function(){return this.__blurX},set_blurX:function(et){return et!=this.__blurX&&(this.__blurX=et,this.__renderDirty=!0,this.__updateSize()),et},get_blurY:function(){return this.__blurY},set_blurY:function(et){return et!=this.__blurY&&(this.__blurY=et,this.__renderDirty=!0,this.__updateSize()),et},get_color:function(){return this.__color},set_color:function(et){return et!=this.__color&&(this.__renderDirty=!0),this.__color=et},get_inner:function(){return this.__inner},set_inner:function(et){return et!=this.__inner&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__inner=et},get_knockout:function(){return this.__knockout},set_knockout:function(et){return et!=this.__knockout&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__knockout=et},get_quality:function(){return this.__quality},set_quality:function(et){return et!=this.__quality&&(this.__renderDirty=!0,this.__calculateNumShaderPasses()),this.__quality=et},get_strength:function(){return this.__strength},set_strength:function(et){return et!=this.__strength&&(this.__renderDirty=!0),this.__strength=et}}),_e.prototype.__class__=_e.prototype.constructor=d["openfl.filters.GlowFilter"]=_e,Object.defineProperties(_e.prototype,{alpha:{get:function(){return this.get_alpha()},set:function(et){return this.set_alpha(et)}},blurX:{get:function(){return this.get_blurX()},set:function(et){return this.set_blurX(et)}},blurY:{get:function(){return this.get_blurY()},set:function(et){return this.set_blurY(et)}},color:{get:function(){return this.get_color()},set:function(et){return this.set_color(et)}},inner:{get:function(){return this.get_inner()},set:function(et){return this.set_inner(et)}},knockout:{get:function(){return this.get_knockout()},set:function(et){return this.set_knockout(et)}},quality:{get:function(){return this.get_quality()},set:function(et){return this.set_quality(et)}},strength:{get:function(){return this.get_strength()},set:function(et){return this.set_strength(et)}}}),_e.__invertAlphaShader=new(f()).default,_e.__blurAlphaShader=new(g()).default,_e.__combineShader=new(b()).default,_e.__innerCombineShader=new(k()).default,_e.__combineKnockoutShader=new($()).default,_e.__innerCombineKnockoutShader=new(j()).default,e.default=_e})(GlowFilter$1);var HideShader={},hasRequiredHideShader;function requireHideShader(){return hasRequiredHideShader||(hasRequiredHideShader=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilterShader$1}var s=function(){this.__glFragmentSource==null&&(this.__glFragmentSource=`
		uniform sampler2D openfl_Texture;
		uniform sampler2D sourceBitmap;
		varying vec4 textureCoords;

		void main(void) {
			gl_FragColor = texture2D(openfl_Texture, textureCoords.zw);
		}
	`),this.__glVertexSource==null&&(this.__glVertexSource=`attribute vec4 openfl_Position;
		attribute vec2 openfl_TextureCoord;
		uniform mat4 openfl_Matrix;
		uniform vec2 openfl_TextureSize;
		uniform vec2 offset;
		varying vec4 textureCoords;

		void main(void) {
			gl_Position = openfl_Matrix * openfl_Position;
			textureCoords = vec4(openfl_TextureCoord, openfl_TextureCoord - offset / openfl_TextureSize);
		}
	`),c().default.call(this),this.offset.value=[0,0],this.__isGenerated=!0,this.__initGL()};s.__name__="openfl.filters._DropShadowFilter.HideShader",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters._DropShadowFilter.HideShader"]=s,e.default=s}(HideShader)),HideShader}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}function s(){return Point$2}function h(){return requireImageDataUtil()}function f(){return ColorTransform$1}function g(){return GlowFilter$1}function b(){return requireStd()}function k(){return requireHideShader()}var $=function(j,_e,et,nt,rt,tt,it,st,at,_t,ut){ut==null&&(ut=!1),_t==null&&(_t=!1),at==null&&(at=!1),st==null&&(st=1),it==null&&(it=1),tt==null&&(tt=4),rt==null&&(rt=4),nt==null&&(nt=1),et==null&&(et=0),_e==null&&(_e=45),j==null&&(j=4),c().default.call(this),this.__offsetX=0,this.__offsetY=0,this.__distance=j,this.__angle=_e,this.__color=et,this.__alpha=nt,this.__blurX=rt,this.__blurY=tt,this.__strength=it,this.__quality=st,this.__inner=at,this.__knockout=_t,this.__hideObject=ut,this.__updateSize(),this.__needSecondBitmapData=!0,this.__preserveObject=!0,this.__renderDirty=!0};$.__name__="openfl.filters.DropShadowFilter",$.__isInterface__=!1,$.__super__=c().default,$.prototype=o(c().default.prototype,{clone:function(){return new $(this.__distance,this.__angle,this.__color,this.__alpha,this.__blurX,this.__blurY,this.__strength,this.__quality,this.__inner,this.__knockout,this.__hideObject)},__applyFilter:function(j,_e,et,nt){var rt=this.__color>>16&255,tt=this.__color>>8&255,it=this.__color&255,st=new(s()).default(nt.x+this.__offsetX,nt.y+this.__offsetY),at=h().default.gaussianBlur(j.image,_e.image,et.__toLimeRectangle(),st.__toLimeVector2(),this.__blurX,this.__blurY,this.__quality,this.__strength);return at.colorTransform(at.get_rect(),new(f()).default(0,0,0,this.__alpha,rt,tt,it,0).__toLimeColorMatrix()),at==j.image?j:_e},__initShader:function(j,_e,et){if(this.__inner&&_e==0)return g().default.__invertAlphaShader;var nt=_e-(this.__inner?1:0),rt=this.__horizontalPasses+this.__verticalPasses;if(nt<rt){var tt=g().default.__blurAlphaShader;if(nt<this.__horizontalPasses){var it=Math.pow(.5,nt>>1)*.5;tt.uRadius.value[0]=this.get_blurX()*it,tt.uRadius.value[1]=0}else{var st=Math.pow(.5,nt-this.__horizontalPasses>>1)*.5;tt.uRadius.value[0]=0,tt.uRadius.value[1]=this.get_blurY()*st}return tt.uColor.value[0]=(this.get_color()>>16&255)/255,tt.uColor.value[1]=(this.get_color()>>8&255)/255,tt.uColor.value[2]=(this.get_color()&255)/255,tt.uColor.value[3]=this.get_alpha(),tt.uStrength.value[0]=nt==rt-1?this.__strength:1,tt}if(this.__inner){if(this.__knockout||this.__hideObject){var at=g().default.__innerCombineKnockoutShader;return at.sourceBitmap.input=et,at.offset.value[0]=this.__offsetX,at.offset.value[1]=this.__offsetY,at}var _t=g().default.__innerCombineShader;return _t.sourceBitmap.input=et,_t.offset.value[0]=this.__offsetX,_t.offset.value[1]=this.__offsetY,_t}else{if(this.__knockout){var ut=g().default.__combineKnockoutShader;return ut.sourceBitmap.input=et,ut.offset.value[0]=this.__offsetX,ut.offset.value[1]=this.__offsetY,ut}else if(this.__hideObject){var ot=$.__hideShader;return ot.sourceBitmap.input=et,ot.offset.value[0]=this.__offsetX,ot.offset.value[1]=this.__offsetY,ot}var lt=g().default.__combineShader;return lt.sourceBitmap.input=et,lt.offset.value[0]=this.__offsetX,lt.offset.value[1]=this.__offsetY,lt}},__updateSize:function(){this.__offsetX=b().default.int(this.__distance*Math.cos(this.__angle*Math.PI/180)),this.__offsetY=b().default.int(this.__distance*Math.sin(this.__angle*Math.PI/180)),this.__topExtension=Math.ceil((this.__offsetY<0?-this.__offsetY:0)+this.__blurY),this.__bottomExtension=Math.ceil((this.__offsetY>0?this.__offsetY:0)+this.__blurY),this.__leftExtension=Math.ceil((this.__offsetX<0?-this.__offsetX:0)+this.__blurX),this.__rightExtension=Math.ceil((this.__offsetX>0?this.__offsetX:0)+this.__blurX),this.__calculateNumShaderPasses()},__calculateNumShaderPasses:function(){this.__horizontalPasses=this.__blurX<=0?0:Math.round(this.__blurX*(this.__quality/4))+1,this.__verticalPasses=this.__blurY<=0?0:Math.round(this.__blurY*(this.__quality/4))+1,this.__numShaderPasses=this.__horizontalPasses+this.__verticalPasses+(this.__inner?2:1)},get_alpha:function(){return this.__alpha},set_alpha:function(j){return j!=this.__alpha&&(this.__renderDirty=!0),this.__alpha=j},get_angle:function(){return this.__angle},set_angle:function(j){return j!=this.__angle&&(this.__angle=j,this.__renderDirty=!0,this.__updateSize()),j},get_blurX:function(){return this.__blurX},set_blurX:function(j){return j!=this.__blurX&&(this.__blurX=j,this.__renderDirty=!0,this.__updateSize()),j},get_blurY:function(){return this.__blurY},set_blurY:function(j){return j!=this.__blurY&&(this.__blurY=j,this.__renderDirty=!0,this.__updateSize()),j},get_color:function(){return this.__color},set_color:function(j){return j!=this.__color&&(this.__renderDirty=!0),this.__color=j},get_distance:function(){return this.__distance},set_distance:function(j){return j!=this.__distance&&(this.__distance=j,this.__renderDirty=!0,this.__updateSize()),j},get_hideObject:function(){return this.__hideObject},set_hideObject:function(j){return j!=this.__hideObject&&(this.__renderDirty=!0),this.__hideObject=j},get_inner:function(){return this.__inner},set_inner:function(j){return j!=this.__inner&&(this.__renderDirty=!0),this.__inner=j},get_knockout:function(){return this.__knockout},set_knockout:function(j){return j!=this.__knockout&&(this.__renderDirty=!0),this.__knockout=j},get_quality:function(){return this.__quality},set_quality:function(j){return j!=this.__quality&&(this.__renderDirty=!0),this.__quality=j},get_strength:function(){return this.__strength},set_strength:function(j){return j!=this.__strength&&(this.__renderDirty=!0),this.__strength=j}}),$.prototype.__class__=$.prototype.constructor=d["openfl.filters.DropShadowFilter"]=$,Object.defineProperties($.prototype,{alpha:{get:function(){return this.get_alpha()},set:function(j){return this.set_alpha(j)}},angle:{get:function(){return this.get_angle()},set:function(j){return this.set_angle(j)}},blurX:{get:function(){return this.get_blurX()},set:function(j){return this.set_blurX(j)}},blurY:{get:function(){return this.get_blurY()},set:function(j){return this.set_blurY(j)}},color:{get:function(){return this.get_color()},set:function(j){return this.set_color(j)}},distance:{get:function(){return this.get_distance()},set:function(j){return this.set_distance(j)}},hideObject:{get:function(){return this.get_hideObject()},set:function(j){return this.set_hideObject(j)}},inner:{get:function(){return this.get_inner()},set:function(j){return this.set_inner(j)}},knockout:{get:function(){return this.get_knockout()},set:function(j){return this.set_knockout(j)}},quality:{get:function(){return this.get_quality()},set:function(j){return this.set_quality(j)}},strength:{get:function(){return this.get_strength()},set:function(j){return this.set_strength(j)}}}),$.__hideShader=new(k()).default,e.default=$})(DropShadowFilter$1);var DropShadowFilter=DropShadowFilter$1,GlowFilter=GlowFilter$1,ShaderFilter$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return BitmapFilter$1}var s=function(h){this.blendMode="normal",c().default.call(this),this.shader=h,this.__numShaderPasses=1};s.__name__="openfl.filters.ShaderFilter",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{clone:function(){var h=new s(this.shader);return h.set_bottomExtension(this.get_bottomExtension()),h.set_leftExtension(this.get_leftExtension()),h.set_rightExtension(this.get_rightExtension()),h.set_topExtension(this.get_topExtension()),h.blendMode=this.blendMode,h},invalidate:function(){this.__renderDirty=!0},get_topExtension:function(){return this.__topExtension},set_topExtension:function(h){return this.__topExtension=h,this.__topExtension},get_bottomExtension:function(){return this.__bottomExtension},set_bottomExtension:function(h){return this.__bottomExtension=h,this.__bottomExtension},get_leftExtension:function(){return this.__leftExtension},set_leftExtension:function(h){return this.__leftExtension=h,this.__leftExtension},get_rightExtension:function(){return this.__rightExtension},set_rightExtension:function(h){return this.__rightExtension=h,this.__rightExtension},__initShader:function(h,f,g){return this.__shaderBlendMode=this.blendMode,this.shader}}),s.prototype.__class__=s.prototype.constructor=d["openfl.filters.ShaderFilter"]=s,s.__meta__={fields:{blendMode:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=s})(ShaderFilter$1);var ShaderFilter=ShaderFilter$1,filters={BitmapFilter:BitmapFilter.default,BitmapFilterQuality:BitmapFilterQuality.default,BitmapFilterShader:BitmapFilterShader.default,BitmapFilterType:BitmapFilterType.default,BlurFilter:BlurFilter.default,ColorMatrixFilter:ColorMatrixFilter.default,ConvolutionFilter:ConvolutionFilter.default,DropShadowFilter:DropShadowFilter.default,GlowFilter:GlowFilter.default,ShaderFilter:ShaderFilter.default},ColorTransform=ColorTransform$1,Matrix=Matrix$2;const Matrix$1=getDefaultExportFromCjs(Matrix);var Matrix3D=Matrix3D$1,Orientation3D={};Object.defineProperty(Orientation3D,"__esModule",{value:!0});Orientation3D.Orientation3D=Orientation3D.default={AXIS_ANGLE:"axisAngle",EULER_ANGLES:"eulerAngles",QUATERNION:"quaternion"};var PerspectiveProjection$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireVector_Impl_()}function c(){return Matrix3D$1}function s(){return Point$2}function h(){return requireLib()}var f=function(){this.__fieldOfView=0,this.focalLength=0,this.matrix3D=new(c()).default,this.projectionCenter=new(s()).default(h().default.get_current().stage.stageWidth/2,h().default.get_current().stage.stageHeight/2)};f.__name__="openfl.geom.PerspectiveProjection",f.__isInterface__=!1,f.prototype={toMatrix3D:function(){if(this.projectionCenter==null)return null;var g=this.matrix3D.rawData;return o().default.set(g,0,this.focalLength),o().default.set(g,5,this.focalLength),o().default.set(g,11,1),o().default.set(g,15,0),this.matrix3D},get_fieldOfView:function(){return this.__fieldOfView},set_fieldOfView:function(g){return this.__fieldOfView=g*.017453292519943295,this.focalLength=250*(1/Math.tan(this.__fieldOfView*.5)),this.__fieldOfView}},f.prototype.__class__=f.prototype.constructor=d["openfl.geom.PerspectiveProjection"]=f,Object.defineProperty(f.prototype,"fieldOfView",{get:function(){return this.get_fieldOfView()},set:function(g){return this.set_fieldOfView(g)}}),f.__meta__={statics:{TO_RADIAN:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},f.TO_RADIAN=.017453292519943295,e.default=f})(PerspectiveProjection$1);var PerspectiveProjection=PerspectiveProjection$1,Point=Point$2;const Point$1=getDefaultExportFromCjs(Point);var Rectangle=Rectangle$2;const Rectangle$1=getDefaultExportFromCjs(Rectangle);var Transform$g=Transform$h,Utils3D$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return Vector3D$1}function c(){return requireVector_Impl_()}var s=function(){};s.__name__="openfl.geom.Utils3D",s.__isInterface__=!1,s.prototype={},s.prototype.__class__=s.prototype.constructor=d["openfl.geom.Utils3D"]=s,s.projectVector=function(h,f){var g=h.rawData,b=new(o()).default;b.x=f.x*g[0]+f.y*g[4]+f.z*g[8]+g[12],b.y=f.x*g[1]+f.y*g[5]+f.z*g[9]+g[13],b.z=f.x*g[2]+f.y*g[6]+f.z*g[10]+g[14];var k=f.x*g[3]+f.y*g[7]+f.z*g[11]+g[15];return b.z/=k,b.x/=k,b.y/=k,b},s.projectVectors=function(h,f,g,b){if(f.get_length()%3==0)for(var k=h.rawData,$,j,_e,et,nt,rt,tt,it=0;it<f.get_length();)$=f[it],j=f[it+1],_e=f[it+2],et=1,nt=$*k[0]+j*k[4]+_e*k[8]+et*k[12],rt=$*k[1]+j*k[5]+_e*k[9]+et*k[13],$*k[2]+j*k[6]+_e*k[10]+et*k[14],tt=$*k[3]+j*k[7]+_e*k[11]+et*k[15],c().default.push(g,nt/tt),c().default.push(g,rt/tt),c().default.set(b,it+2,1/tt),it+=3},e.default=s})(Utils3D$1);var Utils3D=Utils3D$1,Vector3D=Vector3D$1,geom={ColorTransform:ColorTransform.default,Matrix:Matrix.default,Matrix3D:Matrix3D.default,Orientation3D:Orientation3D.default,PerspectiveProjection:PerspectiveProjection.default,Point:Point.default,Rectangle:Rectangle.default,Transform:Transform$g.default,Utils3D:Utils3D.default,Vector3D:Vector3D.default},ID3Info=ID3Info$1,Sound$1=Sound$2,SoundChannel=SoundChannel$1,SoundLoaderContext$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){s==null&&(s=!1),c==null&&(c=1e3),this.bufferTime=c,this.checkPolicyFile=s};o.__name__="openfl.media.SoundLoaderContext",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.media.SoundLoaderContext"]=o,e.default=o})(SoundLoaderContext$1);var SoundLoaderContext=SoundLoaderContext$1,SoundMixer=SoundMixer$1,SoundTransform=SoundTransform$1,Video$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}function s(){return Rectangle$2}function h(){return requireWebGLRenderContext_Impl_()}function f(){return requireFloat32Array_Impl_$1()}function g(){return Point$2}function b(){return requireStd()}var k=function($,j){j==null&&(j=240),$==null&&($=320),c().default.call(this),this.__drawableType=8,this.__width=$,this.__height=j,this.__textureTime=-1,this.smoothing=!1,this.deblocking=0};k.__name__="openfl.media.Video",k.__isInterface__=!1,k.__super__=c().default,k.prototype=o(c().default.prototype,{attachNetStream:function($){this.__stream=$,this.__stream!=null&&this.__stream.__video!=null&&!this.__stream.__closed&&this.__stream.__video.play()},clear:function(){},__enterFrame:function($){this.__renderable&&this.__stream!=null&&this.__setRenderDirty()},__getBounds:function($,j){var _e=s().default.__pool.get();_e.setTo(0,0,this.__width,this.__height),_e.__transform(_e,j),$.__expand(_e.x,_e.y,_e.width,_e.height),s().default.__pool.release(_e)},__getIndexBuffer:function($){if($.gl,this.__indexBuffer==null||this.__indexBufferContext!=$.__context){var j=new Uint16Array(6);this.__indexBufferData=j,this.__indexBufferData[0]=0,this.__indexBufferData[1]=1,this.__indexBufferData[2]=2,this.__indexBufferData[3]=2,this.__indexBufferData[4]=1,this.__indexBufferData[5]=3,this.__indexBufferContext=$.__context,this.__indexBuffer=$.createIndexBuffer(6),this.__indexBuffer.uploadFromTypedArray(this.__indexBufferData)}return this.__indexBuffer},__getTexture:function($){if(this.__stream==null||this.__stream.__video==null)return null;var j=$.__context.webgl,_e=j.RGBA,et=j.RGBA;return!this.__stream.__closed&&this.__stream.__video.currentTime!=this.__textureTime&&(this.__texture==null&&(this.__texture=$.createRectangleTexture(this.__stream.__video.videoWidth,this.__stream.__video.videoHeight,"bgra",!1)),$.__bindGLTexture2D(this.__texture.__textureID),h().default.texImage2D(j,j.TEXTURE_2D,0,_e,et,j.UNSIGNED_BYTE,this.__stream.__video),this.__textureTime=this.__stream.__video.currentTime),this.__texture},__getVertexBuffer:function($){if($.gl,this.__vertexBuffer==null||this.__vertexBufferContext!=$.__context||this.__currentWidth!=this.get_width()||this.__currentHeight!=this.get_height()){this.__currentWidth=this.get_width(),this.__currentHeight=this.get_height();var j=1,_e=1,et=new Float32Array(20);this.__vertexBufferData=et,this.__vertexBufferData[0]=this.get_width(),this.__vertexBufferData[1]=this.get_height(),this.__vertexBufferData[3]=j,this.__vertexBufferData[4]=_e,this.__vertexBufferData[6]=this.get_height(),this.__vertexBufferData[9]=_e,this.__vertexBufferData[10]=this.get_width(),this.__vertexBufferData[13]=j,this.__vertexBufferContext=$.__context,this.__vertexBuffer=$.createVertexBuffer(3,5),this.__vertexBuffer.uploadFromTypedArray(f().default.toArrayBufferView(this.__vertexBufferData))}return this.__vertexBuffer},__hitTest:function($,j,_e,et,nt,rt){if(!rt.get_visible()||this.__isMask||this.get_mask()!=null&&!this.get_mask().__hitTestMask($,j))return!1;this.__getRenderTransform();var tt=this.__renderTransform.__transformInverseX($,j),it=this.__renderTransform.__transformInverseY($,j);return tt>0&&it>0&&tt<=this.__width&&it<=this.__height?(et!=null&&!nt&&et.push(rt),!0):!1},__hitTestMask:function($,j){var _e=g().default.__pool.get();_e.setTo($,j),this.__globalToLocal(_e,_e);var et=_e.x>0&&_e.y>0&&_e.x<=this.__width&&_e.y<=this.__height;return g().default.__pool.release(_e),et},get_height:function(){return this.__height*this.get_scaleY()},set_height:function($){return(this.get_scaleY()!=1||$!=this.__height)&&(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleY(1),this.__height=$},get_videoHeight:function(){return this.__stream!=null&&this.__stream.__video!=null?b().default.int(this.__stream.__video.videoHeight):0},get_videoWidth:function(){return this.__stream!=null&&this.__stream.__video!=null?b().default.int(this.__stream.__video.videoWidth):0},get_width:function(){return this.__width*this.__scaleX},set_width:function($){return(this.__scaleX!=1||this.__width!=$)&&(this.__setTransformDirty(),this.__dirty=!0),this.set_scaleX(1),this.__width=$}}),k.prototype.__class__=k.prototype.constructor=d["openfl.media.Video"]=k,Object.defineProperties(k.prototype,{videoHeight:{get:function(){return this.get_videoHeight()}},videoWidth:{get:function(){return this.get_videoWidth()}}}),k.VERTEX_BUFFER_STRIDE=5,e.default=k})(Video$1);var Video=Video$1,media={ID3Info:ID3Info.default,Sound:Sound$1.default,SoundChannel:SoundChannel.default,SoundLoaderContext:SoundLoaderContext.default,SoundMixer:SoundMixer.default,SoundTransform:SoundTransform.default,Video:Video.default},FileFilter$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h){this.description=c,this.extension=s,this.macType=h};o.__name__="openfl.net.FileFilter",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.net.FileFilter"]=o,e.default=o})(FileFilter$1);var FileFilter=FileFilter$1,FileReference$1={},FileDialog={},FileDialogType={},hasRequiredFileDialogType;function requireFileDialogType(){return hasRequiredFileDialogType||(hasRequiredFileDialogType=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["lime.ui.FileDialogType"]={__ename__:"lime.ui.FileDialogType",__constructs__:["OPEN","OPEN_MULTIPLE","SAVE","OPEN_DIRECTORY"],SAVE:{_hx_index:2,__enum__:"lime.ui.FileDialogType",toString:d},OPEN_MULTIPLE:{_hx_index:1,__enum__:"lime.ui.FileDialogType",toString:d},OPEN_DIRECTORY:{_hx_index:3,__enum__:"lime.ui.FileDialogType",toString:d},OPEN:{_hx_index:0,__enum__:"lime.ui.FileDialogType",toString:d}};e.default=c}(FileDialogType)),FileDialogType}var _Event_Array_String__Void={},hasRequired_Event_Array_String__Void;function require_Event_Array_String__Void(){return hasRequired_Event_Array_String__Void||(hasRequired_Event_Array_String__Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_Array_String__Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_Array_String__Void"]=c,e.default=c}(_Event_Array_String__Void)),_Event_Array_String__Void}var _Event_lime_utils_Resource_Void={},hasRequired_Event_lime_utils_Resource_Void;function require_Event_lime_utils_Resource_Void(){return hasRequired_Event_lime_utils_Resource_Void||(hasRequired_Event_lime_utils_Resource_Void=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}var c=function(){this.canceled=!1,this.__listeners=[],this.__priorities=[],this.__repeat=[]};c.__name__="lime.app._Event_lime_utils_Resource_Void",c.__isInterface__=!1,c.prototype={add:function(s,h,f){f==null&&(f=0),h==null&&(h=!1);for(var g=0,b=this.__priorities.length;g<b;){var k=g++;if(f>this.__priorities[k]){this.__listeners.splice(k,0,s),this.__priorities.splice(k,0,f),this.__repeat.splice(k,0,!h);return}}this.__listeners.push(s),this.__priorities.push(f),this.__repeat.push(!h)},cancel:function(){this.canceled=!0},has:function(s){for(var h=0,f=this.__listeners;h<f.length;){var g=f[h];if(++h,o().default.compareMethods(g,s))return!0}return!1},remove:function(s){for(var h=this.__listeners.length;--h>=0;)o().default.compareMethods(this.__listeners[h],s)&&(this.__listeners.splice(h,1),this.__priorities.splice(h,1),this.__repeat.splice(h,1))},removeAll:function(){var s=this.__listeners.length;this.__listeners.splice(0,s),this.__priorities.splice(0,s),this.__repeat.splice(0,s)},dispatch:function(s){this.canceled=!1;for(var h=this.__listeners,f=this.__repeat,g=0;g<h.length&&(h[g](s),f[g]?++g:this.remove(h[g]),!this.canceled););}},c.prototype.__class__=c.prototype.constructor=d["lime.app._Event_lime_utils_Resource_Void"]=c,e.default=c}(_Event_lime_utils_Resource_Void)),_Event_lime_utils_Resource_Void}var FileSaver={exports:{}},hasRequiredFileSaver;function requireFileSaver(){return hasRequiredFileSaver||(hasRequiredFileSaver=1,function(e){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var _=_||function(d){if(!(typeof d>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var o=d.document,c=function(){return d.URL||d.webkitURL||d},s=o.createElementNS("http://www.w3.org/1999/xhtml","a"),h="download"in s,f=function(st){var at=new MouseEvent("click");st.dispatchEvent(at)},g=/constructor/i.test(d.HTMLElement)||d.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent),k=function(st){(d.setImmediate||d.setTimeout)(function(){throw st},0)},$="application/octet-stream",j=1e3*40,_e=function(st){var at=function(){typeof st=="string"?c().revokeObjectURL(st):st.remove()};setTimeout(at,j)},et=function(st,at,_t){at=[].concat(at);for(var ut=at.length;ut--;){var ot=st["on"+at[ut]];if(typeof ot=="function")try{ot.call(st,_t||st)}catch(lt){k(lt)}}},nt=function(st){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(st.type)?new Blob(["\uFEFF",st],{type:st.type}):st},rt=function(st,at,_t){_t||(st=nt(st));var ut=this,ot=st.type,lt=ot===$,ft,ht=function(){et(ut,"writestart progress write writeend".split(" "))},dt=function(){if((b||lt&&g)&&d.FileReader){var pt=new FileReader;pt.onloadend=function(){var vt=b?pt.result:pt.result.replace(/^data:[^;]*;/,"data:attachment/file;"),bt=d.open(vt,"_blank");bt||(d.location.href=vt),vt=void 0,ut.readyState=ut.DONE,ht()},pt.readAsDataURL(st),ut.readyState=ut.INIT;return}if(ft||(ft=c().createObjectURL(st)),lt)d.location.href=ft;else{var xt=d.open(ft,"_blank");xt||(d.location.href=ft)}ut.readyState=ut.DONE,ht(),_e(ft)};if(ut.readyState=ut.INIT,h){ft=c().createObjectURL(st),setTimeout(function(){s.href=ft,s.download=at,f(s),ht(),_e(ft),ut.readyState=ut.DONE});return}dt()},tt=rt.prototype,it=function(st,at,_t){return new rt(st,at||st.name||"download",_t)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(st,at,_t){return at=at||st.name||"download",_t||(st=nt(st)),navigator.msSaveOrOpenBlob(st,at)}:(tt.abort=function(){},tt.readyState=tt.INIT=0,tt.WRITING=1,tt.DONE=2,tt.error=tt.onwritestart=tt.onprogress=tt.onwrite=tt.onabort=tt.onerror=tt.onwriteend=null,it)}}(typeof self<"u"&&self||typeof window<"u"&&window||commonjsGlobal.content);e.exports&&(e.exports.saveAs=_)}(FileSaver)),FileSaver.exports}var hasRequiredFileDialog;function requireFileDialog(){return hasRequiredFileDialog||(hasRequiredFileDialog=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireFileDialogType()}function c(){return requireImage()}function s(){return requirePath()}function h(){return require_Event_Array_String__Void()}function f(){return require_Event_String_Void()}function g(){return require_Event_lime_utils_Resource_Void()}function b(){return require_Event_Void_Void()}var k=function(){this.onSelectMultiple=new(h()).default,this.onSelect=new(f()).default,this.onSave=new(f()).default,this.onOpen=new(g()).default,this.onCancel=new(b()).default};k.__name__="lime.ui.FileDialog",k.__isInterface__=!1,k.prototype={browse:function($,j,_e,et){return $==null&&($=o().default.OPEN),this.onCancel.dispatch(),!1},open:function($,j,_e){return this.onCancel.dispatch(),!1},save:function($,j,_e,et,nt){if(nt==null&&(nt="application/octet-stream"),$==null)return this.onCancel.dispatch(),!1;var rt="";c().default.__isPNG($)?(nt="image/png",rt=".png"):c().default.__isJPG($)?(nt="image/jpeg",rt=".jpg"):c().default.__isGIF($)?(nt="image/gif",rt=".gif"):c().default.__isWebP($)&&(nt="image/webp",rt=".webp");var tt=_e!=null?s().default.withoutDirectory(_e):"download"+rt,it=$.getData();return it=it.slice(0,$.get_length()),requireFileSaver()(new Blob([it],{type:nt}),tt,!0),this.onSave.dispatch(tt),!0}},k.prototype.__class__=k.prototype.constructor=d["lime.ui.FileDialog"]=k,e.default=k}(FileDialog)),FileDialog}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return requireStringTools()}function f(){return Event$1}function g(){return requirePath()}function b(){return URLLoader$1}function k(){return requireFileDialog()}function $(){return requireFileDialogType()}function j(){return requireByteArray_Impl_()}function _e(){return requireByteArrayData()}function et(){return requireStd()}function nt(){return requireLib$1()}function rt(){return requireTimer()}function tt(){return DataEvent$1}var it=function(){s().default.call(this),this.__inputControl=window.document.createElement("input"),this.__inputControl.setAttribute("type","file"),this.__inputControl.onclick=function(st){st.cancelBubble=!0,st.stopPropagation()}};it.__name__="openfl.net.FileReference",it.__isInterface__=!1,it.__super__=s().default,it.prototype=c(s().default.prototype,{browse:function(st){var at=this;this.__data=null,this.__path=null;var _t=null;if(st!=null){for(var ut=[],ot=0;ot<st.length;){var lt=st[ot];++ot,ut.push(h().default.replace(h().default.replace(lt.extension,"*.","."),";",","))}_t=ut.join(",")}return _t!=null?this.__inputControl.setAttribute("accept",_t):this.__inputControl.removeAttribute("accept"),this.__inputControl.onchange=function(){if(at.__inputControl.files.length==0){at.dispatchEvent(new(f()).default("cancel"));return}var ft=at.__inputControl.files[0],ht=new Date(ft.lastModified);at.modificationDate=ht,at.creationDate=at.get_modificationDate(),at.size=ft.size;var dt=g().default.extension(ft.name);at.type="."+dt,at.name=g().default.withoutDirectory(ft.name),at.__path=ft.name,at.dispatchEvent(new(f()).default("select"))},this.__inputControl.click(),!0},cancel:function(){this.__urlLoader!=null&&this.__urlLoader.close()},download:function(st,at){this.__data=null,this.__path=null,this.__urlLoader=new(b()).default,this.__urlLoader.dataFormat="binary",this.__urlLoader.addEventListener("open",o(this,this.urlLoader_onOpen)),this.__urlLoader.addEventListener("complete",o(this,this.urlLoader_download_onComplete)),this.__urlLoader.addEventListener("ioError",o(this,this.urlLoader_onIOError)),this.__urlLoader.addEventListener("progress",o(this,this.urlLoader_onProgress)),this.__urlLoader.load(st);var _t=new(k()).default;_t.onCancel.add(o(this,this.saveFileDialog_onCancel)),_t.onSelect.add(o(this,this.saveFileDialog_onSelect)),_t.browse($().default.SAVE,at!=null?g().default.extension(at):null,at)},load:function(){var st=this,at=this.__inputControl.files[0],_t=new FileReader;_t.onload=function(ut){st.data=j().default.fromArrayBuffer(ut.target.result),st.openFileDialog_onComplete()},_t.readAsArrayBuffer(at)},save:function(st,at){if(this.__data=null,this.__path=null,st!=null){if(st instanceof _e().default)this.__data=st;else{var _t=new(_e()).default(0);this.__data=_t,this.__data.writeUTFBytes(et().default.string(st))}var ut=new(k()).default;ut.onCancel.add(o(this,this.saveFileDialog_onCancel)),ut.onSave.add(o(this,this.saveFileDialog_onSave)),ut.save(j().default.toBytes(this.__data),at!=null?g().default.extension(at):null,at)}},upload:function(st,at,_t){nt().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/net/FileReference.hx",lineNumber:1406,className:"openfl.net.FileReference",methodName:"upload"})},openFileDialog_onCancel:function(){this.dispatchEvent(new(f()).default("cancel"))},openFileDialog_onComplete:function(){this.dispatchEvent(new(f()).default("complete"))},openFileDialog_onSelect:function(st){this.name=g().default.withoutDirectory(st),this.__path=st,this.dispatchEvent(new(f()).default("select"))},saveFileDialog_onCancel:function(){this.dispatchEvent(new(f()).default("cancel"))},saveFileDialog_onSave:function(st){var at=this;rt().default.delay(function(){at.dispatchEvent(new(f()).default("complete"))},1)},saveFileDialog_onSelect:function(st){this.dispatchEvent(new(f()).default("select"))},urlLoader_download_onComplete:function(st){this.dispatchEvent(st)},urlLoader_upload_onHttpResponseStatus:function(st){this.dispatchEvent(st)},urlLoader_upload_onHttpStatus:function(st){st.status==200?this.dispatchEvent(new(f()).default("complete")):st.status!=0&&this.dispatchEvent(st)},urlLoader_upload_onComplete:function(st){var at=st.currentTarget;this.dispatchEvent(new(tt()).default("uploadCompleteData",!1,!1,at.data))},urlLoader_onIOError:function(st){this.dispatchEvent(st)},urlLoader_onProgress:function(st){this.dispatchEvent(st)},urlLoader_onOpen:function(st){this.dispatchEvent(st)},get_creationDate:function(){return this.creationDate},get_modificationDate:function(){return this.modificationDate},get_name:function(){return this.name},get_size:function(){return this.size},get_type:function(){return this.type},get_extension:function(){return this.extension}}),it.prototype.__class__=it.prototype.constructor=d["openfl.net.FileReference"]=it,e.default=it})(FileReference$1);var FileReference=FileReference$1,FileReferenceList$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return Event$1}function f(){return FileReference$1}function g(){return requireByteArrayData()}var b=function(){s().default.call(this),this.fileList=[]};b.__name__="openfl.net.FileReferenceList",b.__isInterface__=!1,b.__super__=s().default,b.prototype=c(s().default.prototype,{browse:function(k){if(this.fileInput=window.document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=!0,k!=null){for(var $="",j=0,_e=k.length;j<_e;){var et=j++;et>0&&($+=","),$+=k[et].extension}this.fileInput.accept=$}return this.fileInput.addEventListener("change",o(this,this.fileInput_onChange)),this.fileInput.click(),!0},fileInput_onChange:function(k){var $=this,j=k.target.files;if(j.length==0){this.dispatchEvent(new(h()).default("cancel"));return}for(var _e=0,et=j.length;_e<et;){var nt=_e++,rt=j[nt],tt=[new(f()).default];tt[0].__path=rt.name,tt[0].name=rt.name,tt[0].size=rt.size,tt[0].type=rt.type;var it=new Date(rt.lastModified);tt[0].creationDate=it,tt[0].modificationDate=it;var st=new FileReader;st.addEventListener("load",function(at){return function(_t){for(var ut=new(g()).default(0),ot=ut,lt=new DataView(_t.target.result),ft=0,ht=lt.byteLength;ft<ht;){var dt=ft++;ot.writeByte(lt.getUint8(dt))}at[0].data=ot,$.fileList.push(at[0]),$.fileList.length==j.length&&$.dispatchEvent(new(h()).default("select"))}}(tt)),st.readAsArrayBuffer(rt)}}}),b.prototype.__class__=b.prototype.constructor=d["openfl.net.FileReferenceList"]=b,e.default=b})(FileReferenceList$1);var FileReferenceList=FileReferenceList$1,NetConnection$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return requireHaxeError()}function h(){return NetStatusEvent$1}var f=function(){c().default.call(this)};f.__name__="openfl.net.NetConnection",f.__isInterface__=!1,f.__super__=c().default,f.prototype=o(c().default.prototype,{connect:function(g,b,k,$,j,_e){if(g!=null)throw new(s()).default('Error: Can only connect in "HTTP streaming" mode');this.dispatchEvent(new(h()).default("netStatus",!1,!0,{code:"NetConnection.Connect.Success"}))}}),f.prototype.__class__=f.prototype.constructor=d["openfl.net.NetConnection"]=f,f.__meta__={statics:{CONNECT_SUCCESS:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},f.CONNECT_SUCCESS="NetConnection.Connect.Success",e.default=f})(NetConnection$1);var NetConnection=NetConnection$1,NetStream$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return SoundMixer$1}function f(){return requireTimer()}function g(){return NetStatusEvent$1}function b(){return requireCallStack()}function k(){return requireHaxeError()}function $(){return SoundTransform$1}var j=function(_e,et){s().default.call(this),this.__connection=_e,this.__soundTransform=new($()).default,this.__video=window.document.createElement("video"),this.__video.setAttribute("playsinline",""),this.__video.setAttribute("webkit-playsinline",""),this.__video.setAttribute("crossorigin","anonymous"),this.__video.addEventListener("error",o(this,this.video_onError),!1),this.__video.addEventListener("waiting",o(this,this.video_onWaiting),!1),this.__video.addEventListener("ended",o(this,this.video_onEnd),!1),this.__video.addEventListener("pause",o(this,this.video_onPause),!1),this.__video.addEventListener("seeking",o(this,this.video_onSeeking),!1),this.__video.addEventListener("playing",o(this,this.video_onPlaying),!1),this.__video.addEventListener("timeupdate",o(this,this.video_onTimeUpdate),!1),this.__video.addEventListener("loadstart",o(this,this.video_onLoadStart),!1),this.__video.addEventListener("stalled",o(this,this.video_onStalled),!1),this.__video.addEventListener("durationchanged",o(this,this.video_onDurationChanged),!1),this.__video.addEventListener("canplay",o(this,this.video_onCanPlay),!1),this.__video.addEventListener("canplaythrough",o(this,this.video_onCanPlayThrough),!1),this.__video.addEventListener("loadedmetadata",o(this,this.video_onLoadMetaData),!1)};j.__name__="openfl.net.NetStream",j.__isInterface__=!1,j.__super__=s().default,j.prototype=c(s().default.prototype,{close:function(){this.__video!=null&&(this.__closed=!0,this.__video.pause(),this.__video.src="",this.time=0)},dispose:function(){this.close(),this.__video=null},pause:function(){this.__video!=null&&this.__video.pause()},play:function(_e,et,nt,rt,tt,it){this.__video!=null&&(this.__video.volume=h().default.__soundTransform.volume*this.__soundTransform.volume,typeof _e=="string"?this.__video.src=_e:this.__video.srcObject=_e,this.__video.play())},requestVideoStatus:function(){var _e=this;this.__video!=null&&(this.__timer==null&&(this.__timer=new(f()).default(1)),this.__timer.run=function(){_e.__video.paused?_e.__playStatus("NetStream.Play.pause"):_e.__playStatus("NetStream.Play.playing"),_e.__timer.stop()})},resume:function(){this.__video!=null&&this.__video.play()},seek:function(_e){this.__video!=null&&(_e<0?_e=0:_e>this.__video.duration&&(_e=this.__video.duration),this.__dispatchStatus("NetStream.SeekStart.Notify"),this.__video.currentTime=_e)},togglePause:function(){this.__video!=null&&(this.__video.paused?this.__video.play():this.__video.pause())},__dispatchStatus:function(_e){var et=new(g()).default("netStatus",!1,!1,{code:_e});this.__connection.dispatchEvent(et),this.dispatchEvent(et)},__playStatus:function(_e){if(this.__video!=null&&this.client!=null)try{var et=this.client.onPlayStatus;et({code:_e,duration:this.__video.duration,position:this.__video.currentTime,speed:this.__video.playbackRate,start:this.__video.startTime})}catch(nt){b().default.lastException=nt,nt instanceof k().default&&nt.val}},video_onCanPlay:function(_e){this.__playStatus("NetStream.Play.canplay")},video_onCanPlayThrough:function(_e){this.__playStatus("NetStream.Play.canplaythrough")},video_onDurationChanged:function(_e){this.__playStatus("NetStream.Play.durationchanged")},video_onEnd:function(_e){this.__dispatchStatus("NetStream.Play.Stop"),this.__dispatchStatus("NetStream.Play.Complete"),this.__playStatus("NetStream.Play.Complete")},video_onError:function(_e){this.__dispatchStatus("NetStream.Play.Stop"),this.__playStatus("NetStream.Play.error")},video_onLoadMetaData:function(_e){if(this.__video!=null&&this.client!=null)try{var et=this.client.onMetaData;et({width:this.__video.videoWidth,height:this.__video.videoHeight,duration:this.__video.duration})}catch(nt){b().default.lastException=nt,nt instanceof k().default&&nt.val}},video_onLoadStart:function(_e){this.__playStatus("NetStream.Play.loadstart")},video_onPause:function(_e){this.__playStatus("NetStream.Play.pause")},video_onPlaying:function(_e){this.__dispatchStatus("NetStream.Play.Start"),this.__playStatus("NetStream.Play.playing")},video_onSeeking:function(_e){this.__playStatus("NetStream.Play.seeking"),this.__dispatchStatus("NetStream.Seek.Complete")},video_onStalled:function(_e){this.__playStatus("NetStream.Play.stalled")},video_onTimeUpdate:function(_e){this.__video!=null&&(this.time=this.__video.currentTime,this.__playStatus("NetStream.Play.timeupdate"))},video_onWaiting:function(_e){this.__playStatus("NetStream.Play.waiting")},get_soundTransform:function(){return this.__soundTransform.clone()},set_soundTransform:function(_e){return _e!=null&&(this.__soundTransform.pan=_e.pan,this.__soundTransform.volume=_e.volume,this.__video!=null&&(this.__video.volume=h().default.__soundTransform.volume*this.__soundTransform.volume)),_e},get_speed:function(){return this.__video!=null?this.__video.playbackRate:1},set_speed:function(_e){return this.__video!=null?this.__video.playbackRate=_e:_e}}),j.prototype.__class__=j.prototype.constructor=d["openfl.net.NetStream"]=j,Object.defineProperties(j.prototype,{soundTransform:{get:function(){return this.get_soundTransform()},set:function(_e){return this.set_soundTransform(_e)}},speed:{get:function(){return this.get_speed()},set:function(_e){return this.set_speed(_e)}}}),j.__meta__={fields:{audioCodec:{SuppressWarnings:["checkstyle:FieldDocComment"]},decodedFrames:{SuppressWarnings:["checkstyle:FieldDocComment"]},speed:{SuppressWarnings:["checkstyle:FieldDocComment"]},requestVideoStatus:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=j})(NetStream$1);var NetStream=NetStream$1,ObjectEncoding={exports:{}};(function(e){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ObjectEncoding=e.exports.default={AMF0:0,AMF3:3,HXSF:10,JSON:12,DEFAULT:10}})(ObjectEncoding);var ObjectEncodingExports=ObjectEncoding.exports,SharedObject$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return EventDispatcher$1}function s(){return requireBrowser()}function h(){return requireCallStack()}function f(){return requireHaxeError()}function g(){return requireLib$1()}function b(){return require_Reflect()}function k(){return requireSerializer()}function $(){return requireBytes()}function j(){return _Error$1}function _e(){return requireStringMap()}function et(){return requireApplication$1()}function nt(){return requireUnserializer()}function rt(){return requireType()}function tt(){return requireSystem()}function it(){return requireStringTools()}function st(){return requireHxOverrides()}var at=function(){c().default.call(this),this.client=this,this.objectEncoding=at.defaultObjectEncoding};at.__name__="openfl.net.SharedObject",at.__isInterface__=!1,at.__super__=c().default,at.prototype=o(c().default.prototype,{clear:function(){this.data={};try{var ot=s().default.getLocalStorage();ot!=null&&ot.removeItem(this.__localPath+":"+this.__name)}catch(lt){h().default.lastException=lt,lt instanceof f().default&&lt.val}},close:function(){},connect:function(ot,lt){g().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/net/SharedObject.hx",lineNumber:392,className:"openfl.net.SharedObject",methodName:"connect"})},flush:function(ot){if(b().default.fields(this.data).length==0)return"flushed";var lt=k().default.run(this.data);try{var ft=s().default.getLocalStorage();ft!=null&&(ft.removeItem(this.__localPath+":"+this.__name),ft.setItem(this.__localPath+":"+this.__name,lt))}catch(ht){return h().default.lastException=ht,ht instanceof f().default&&ht.val,"pending"}return"flushed"},send:function(ot){g().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/net/SharedObject.hx",lineNumber:824,className:"openfl.net.SharedObject",methodName:"send"})},setDirty:function(ot){},setProperty:function(ot,lt){this.data!=null&&b().default.setField(this.data,ot,lt)},get_size:function(){try{var ot=k().default.run(this.data);return $().default.ofString(ot).get_length()}catch(lt){return h().default.lastException=lt,lt instanceof f().default&&lt.val,0}}}),at.prototype.__class__=at.prototype.constructor=d["openfl.net.SharedObject"]=at;{var _t=at.prototype,ut=function(){return this.get_size()};commonjsGlobal.Object.defineProperty(_t,"size",{get:ut})}at.getLocal=function(ot,lt,ft){var ht=[" ","~","%","&","\\",";",":",'"',"'",",","<",">","?","#"],dt=!0;if(ot==null||ot=="")dt=!1;else for(var pt=0;pt<ht.length;){var xt=ht[pt];if(++pt,ot.indexOf(xt)>-1){dt=!1;break}}if(!dt)throw new(f()).default(new(j()).default("Error #2134: Cannot create SharedObject."));at.__sharedObjects==null&&(at.__sharedObjects=new(_e()).default,et().default.current!=null&&et().default.current.onExit.add(at.application_onExit));var vt=lt+"/"+ot;if(!at.__sharedObjects.exists(vt)){var bt=null;try{var wt=s().default.getLocalStorage();lt==null&&(wt!=null&&(bt=wt.getItem(window.location.href+":"+ot),wt.removeItem(window.location.href+":"+ot)),lt=window.location.pathname),wt!=null&&bt==null&&(bt=wt.getItem(lt+":"+ot))}catch(mt){h().default.lastException=mt,mt instanceof f().default&&mt.val}var At=new at;if(At.data={},At.__localPath=lt,At.__name=ot,bt!=null&&bt!="")try{var ct=new(nt()).default(bt);ct.setResolver({resolveEnum:rt().default.resolveEnum,resolveClass:at.__resolveClass}),At.data=ct.unserialize()}catch(mt){h().default.lastException=mt,mt instanceof f().default&&mt.val}at.__sharedObjects.set(vt,At)}return at.__sharedObjects.get(vt)},at.getRemote=function(ot,lt,ft,ht){return g().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/net/SharedObject.hx",lineNumber:808,className:"openfl.net.SharedObject",methodName:"getRemote"}),null},at.__getPath=function(ot,lt){var ft=tt().default.get_applicationStorageDirectory()+"/"+ot+"/";if(lt=it().default.replace(lt,"//","/"),lt=it().default.replace(lt,"//","/"),it().default.startsWith(lt,"/")&&(lt=st().default.substr(lt,1,null)),it().default.endsWith(lt,"/")&&(lt=lt.substring(0,lt.length-1)),lt.indexOf("/")>-1){var ht=lt.split("/");lt="";for(var dt=0,pt=ht.length-1;dt<pt;){var xt=dt++;lt+="#"+ht[xt]+"/"}lt+=ht[ht.length-1]}return ft+lt+".sol"},at.__mkdir=function(ot){},at.__resolveClass=function(ot){return ot!=null?(it().default.startsWith(ot,"neash.")&&(ot=it().default.replace(ot,"neash.","openfl.")),it().default.startsWith(ot,"native.")&&(ot=it().default.replace(ot,"native.","openfl.")),it().default.startsWith(ot,"flash.")&&(ot=it().default.replace(ot,"flash.","openfl.")),it().default.startsWith(ot,"openfl._v2.")&&(ot=it().default.replace(ot,"openfl._v2.","openfl.")),it().default.startsWith(ot,"openfl._legacy.")&&(ot=it().default.replace(ot,"openfl._legacy.","openfl.")),rt().default.resolveClass(ot)):null},at.application_onExit=function(ot){for(var lt=at.__sharedObjects.iterator();lt.hasNext();){var ft=lt.next();ft.flush()}},at.defaultObjectEncoding=10,e.default=at})(SharedObject$1);var SharedObject=SharedObject$1,SharedObjectFlushStatus={};Object.defineProperty(SharedObjectFlushStatus,"__esModule",{value:!0});SharedObjectFlushStatus.SharedObjectFlushStatus=SharedObjectFlushStatus.default={FLUSHED:"flushed",PENDING:"pending"};var Socket$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return IDataOutput$1}function h(){return IDataInput$1}function f(){return EventDispatcher$1}function g(){return requireHaxeError()}function b(){return IOError$1}function k(){return SecurityError$1}function $(){return requireTimer()}function j(){return requireByteArrayData()}function _e(){return requireEReg()}function et(){return requireLib$1()}function nt(){return requireUInt_Impl_()}function rt(){return requireByteArray_Impl_()}function tt(){return requireCallStack()}function it(){return requireUnserializer()}function st(){return requireSerializer()}function at(){return Event$1}function _t(){return ProgressEvent$1}function ut(){return requireBytes()}var ot=function(lt,ft){ft==null&&(ft=0),f().default.call(this),this.set_endian("bigEndian"),this.timeout=2e4,this.__buffer=ut().default.alloc(4096),ft>0&&ft<65535&&this.connect(lt,ft)};ot.__name__="openfl.net.Socket",ot.__isInterface__=!1,ot.__interfaces__=[s().default,h().default],ot.__super__=f().default,ot.prototype=c(f().default.prototype,{close:function(){if(this.__socket!=null)this.__cleanSocket();else throw new(g()).default(new(b()).default("Operation attempted on invalid socket."))},connect:function(lt,ft){if(this.__socket!=null&&this.close(),ft<0||ft>65535)throw new(g()).default(new(k()).default("Invalid socket port number specified."));this.__timestamp=$().default.stamp(),this.__host=lt,this.__port=ft;var ht=new(j()).default(0);this.__output=ht,this.__output.set_endian(this.__endian);var dt=new(j()).default(0);this.__input=dt,this.__input.set_endian(this.__endian),window.location.protocol=="https:"&&(this.secure=!0);var pt=this.secure?"wss":"ws",xt=new(_e()).default("^(.*://)?([A-Za-z0-9\\-\\.]+)/?(.*)","g");xt.match(lt);var vt=xt.matched(2),bt=xt.matched(3);this.__socket=new WebSocket(pt+"://"+vt+":"+ft+"/"+bt),this.__socket.binaryType="arraybuffer",this.__socket.onopen=o(this,this.socket_onOpen),this.__socket.onmessage=o(this,this.socket_onMessage),this.__socket.onclose=o(this,this.socket_onClose),this.__socket.onerror=o(this,this.socket_onError),et().default.current.addEventListener("enterFrame",o(this,this.this_onEnterFrame))},flush:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));if(nt().default.gt(rt().default.get_length(this.__output),0))try{var lt=rt().default.toArrayBuffer(this.__output);nt().default.gt(lt.byteLength,rt().default.get_length(this.__output))&&(lt=lt.slice(0,rt().default.get_length(this.__output))),this.__socket.send(lt);var ft=new(j()).default(0);this.__output=ft,this.__output.set_endian(this.__endian)}catch(pt){tt().default.lastException=pt;var ht=pt instanceof g().default?pt.val:pt,dt=!1;switch(ht._hx_index){case 0:break;case 3:ht.e._hx_index!=0&&(dt=!0);break;default:dt=!0}if(dt)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."))}},readBoolean:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readBoolean()},readByte:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readByte()},readBytes:function(lt,ft,ht){if(ht==null&&(ht=0),ft==null&&(ft=0),this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));var dt=ft,pt=ht;pt==null&&(pt=0),dt==null&&(dt=0),this.__input.readBytes(lt,dt,pt)},readDouble:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readDouble()},readFloat:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readFloat()},readInt:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readInt()},readMultiByte:function(lt,ft){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readMultiByte(lt,ft)},readObject:function(){return this.objectEncoding==10?it().default.run(this.readUTF()):null},readShort:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readShort()},readUnsignedByte:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readUnsignedByte()},readUnsignedInt:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readUnsignedInt()},readUnsignedShort:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readUnsignedShort()},readUTF:function(){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readUTF()},readUTFBytes:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));return this.__input.readUTFBytes(lt)},writeBoolean:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeBoolean(lt)},writeByte:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeByte(lt)},writeBytes:function(lt,ft,ht){if(ht==null&&(ht=0),ft==null&&(ft=0),this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));var dt=ft,pt=ht;pt==null&&(pt=0),dt==null&&(dt=0),this.__output.writeBytes(lt,dt,pt)},writeDouble:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeDouble(lt)},writeFloat:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeFloat(lt)},writeInt:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeInt(lt)},writeMultiByte:function(lt,ft){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeUTFBytes(lt)},writeObject:function(lt){this.objectEncoding==10&&this.__output.writeUTF(st().default.run(lt))},writeShort:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeShort(lt)},writeUnsignedInt:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeUnsignedInt(lt)},writeUTF:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeUTF(lt)},writeUTFBytes:function(lt){if(this.__socket==null)throw new(g()).default(new(b()).default("Operation attempted on invalid socket."));this.__output.writeUTFBytes(lt)},__cleanSocket:function(){try{this.__socket.close()}catch(lt){tt().default.lastException=lt,lt instanceof g().default&&lt.val}this.__socket=null,this.__connected=!1,et().default.current.removeEventListener("enterFrame",o(this,this.this_onEnterFrame))},socket_onClose:function(lt){this.dispatchEvent(new(at()).default("close"))},socket_onError:function(lt){this.dispatchEvent(new(at()).default("ioError"))},socket_onMessage:function(lt){if(this.__input.position==rt().default.get_length(this.__input)&&this.__input.clear(),typeof lt.data=="string"){this.__input.position=rt().default.get_length(this.__input);var ft=this.__input.position;this.__input.writeUTFBytes(lt.data),this.__input.position=ft}else{var ht=rt().default.fromArrayBuffer(lt.data),dt=this.__input,pt=rt().default.get_length(this.__input);pt==null&&(pt=0),ht.readBytes(dt,pt,0)}nt().default.gt(this.__input.get_bytesAvailable(),0)&&this.dispatchEvent(new(_t()).default("socketData",!1,!1,nt().default.toFloat(this.__input.get_bytesAvailable()),0))},socket_onOpen:function(lt){this.__connected=!0,this.dispatchEvent(new(at()).default("connect"))},this_onEnterFrame:function(lt){this.__socket!=null&&this.flush()},get_bytesAvailable:function(){return this.__input.get_bytesAvailable()},get_bytesPending:function(){return rt().default.get_length(this.__output)},get_connected:function(){return this.__connected},get_endian:function(){return this.__endian},set_endian:function(lt){return this.__endian=lt,this.__input!=null&&this.__input.set_endian(lt),this.__output!=null&&this.__output.set_endian(lt),this.__endian}}),ot.prototype.__class__=ot.prototype.constructor=d["openfl.net.Socket"]=ot,Object.defineProperties(ot.prototype,{bytesAvailable:{get:function(){return this.get_bytesAvailable()}},bytesPending:{get:function(){return this.get_bytesPending()}},connected:{get:function(){return this.get_connected()}},endian:{get:function(){return this.get_endian()},set:function(lt){return this.set_endian(lt)}}}),ot.__meta__={fields:{secure:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=ot})(Socket$1);var Socket=Socket$1,URLLoader=URLLoader$1,URLLoaderDataFormat={};Object.defineProperty(URLLoaderDataFormat,"__esModule",{value:!0});URLLoaderDataFormat.URLLoaderDataFormat=URLLoaderDataFormat.default={BINARY:"binary",TEXT:"text",VARIABLES:"variables"};var URLRequest=URLRequest$1,URLRequestDefaults=URLRequestDefaults$1,URLRequestHeader=URLRequestHeader$1,URLRequestMethod={};Object.defineProperty(URLRequestMethod,"__esModule",{value:!0});URLRequestMethod.URLRequestMethod=URLRequestMethod.default={DELETE:"DELETE",GET:"GET",HEAD:"HEAD",OPTIONS:"OPTIONS",POST:"POST",PUT:"PUT"};var URLStream$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return IDataInput$1}function h(){return EventDispatcher$1}function f(){return ProgressEvent$1}function g(){return Event$1}function b(){return requireByteArray_Impl_()}function k(){return URLLoader$1}var $=function(){h().default.call(this),this.__loader=new(k()).default,this.__loader.dataFormat="binary"};$.__name__="openfl.net.URLStream",$.__isInterface__=!1,$.__interfaces__=[s().default],$.__super__=h().default,$.prototype=c(h().default.prototype,{close:function(){this.__removeEventListeners(),this.__data=null},load:function(j){this.__removeEventListeners(),this.__addEventListeners(),this.__loader.load(j)},readBoolean:function(){return this.__data.readBoolean()},readByte:function(){return this.__data.readByte()},readBytes:function(j,_e,et){et==null&&(et=0),_e==null&&(_e=0);var nt=_e,rt=et;rt==null&&(rt=0),nt==null&&(nt=0),this.__data.readBytes(j,nt,rt)},readDouble:function(){return this.__data.readDouble()},readFloat:function(){return this.__data.readFloat()},readInt:function(){return this.__data.readInt()},readMultiByte:function(j,_e){return this.__data.readMultiByte(j,_e)},readObject:function(){return null},readShort:function(){return this.__data.readShort()},readUnsignedByte:function(){return this.__data.readUnsignedByte()},readUnsignedInt:function(){return this.__data.readUnsignedInt()},readUnsignedShort:function(){return this.__data.readUnsignedShort()},readUTF:function(){return this.__data.readUTF()},readUTFBytes:function(j){return this.__data.readUTFBytes(j)},__addEventListeners:function(){this.__loader.addEventListener("complete",o(this,this.loader_onComplete)),this.__loader.addEventListener("ioError",o(this,this.loader_onIOError)),this.__loader.addEventListener("securityError",o(this,this.loader_onSecurityError)),this.__loader.addEventListener("progress",o(this,this.loader_onProgressEvent))},__removeEventListeners:function(){this.__loader.removeEventListener("complete",o(this,this.loader_onComplete)),this.__loader.removeEventListener("ioError",o(this,this.loader_onIOError)),this.__loader.removeEventListener("securityError",o(this,this.loader_onSecurityError)),this.__loader.removeEventListener("progress",o(this,this.loader_onProgressEvent))},loader_onComplete:function(j){this.__removeEventListeners(),this.__data=this.__loader.data,this.dispatchEvent(new(f()).default("progress",!1,!1,this.__loader.bytesLoaded,this.__loader.bytesTotal)),this.dispatchEvent(new(g()).default("complete"))},loader_onIOError:function(j){this.__removeEventListeners(),this.dispatchEvent(j)},loader_onSecurityError:function(j){this.__removeEventListeners(),this.dispatchEvent(j)},loader_onProgressEvent:function(j){this.__data=this.__loader.data,this.dispatchEvent(j)},get_bytesAvailable:function(){return this.__data!=null?b().default.get_length(this.__data)-this.__data.position:0},get_connected:function(){return!1},get_endian:function(){return this.__data.get_endian()},set_endian:function(j){return this.__data.set_endian(j)}}),$.prototype.__class__=$.prototype.constructor=d["openfl.net.URLStream"]=$,Object.defineProperties($.prototype,{bytesAvailable:{get:function(){return this.get_bytesAvailable()}},connected:{get:function(){return this.get_connected()}},endian:{get:function(){return this.get_endian()},set:function(j){return this.set_endian(j)}}}),e.default=$})(URLStream$1);var URLStream=URLStream$1,URLVariables$1={},URLVariables_Impl_$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return require_Reflect()}function c(){return requireStringTools()}function s(){return requireHxOverrides()}function h(){return requireLambda()}var f=function(){};f.__name__="openfl.net._URLVariables.URLVariables_Impl_",f.__isInterface__=!1,f.prototype={},f.prototype.__class__=f.prototype.constructor=d["openfl.net._URLVariables.URLVariables_Impl_"]=f,f._new=function(g){var b={};return g!=null&&f.decode(b,g),b},f.decode=function(g,b){for(var k=o().default.fields(g),$=0;$<k.length;){var j=k[$];++$,o().default.deleteField(g,j)}for(var _e=b.split(";").join("&").split("&"),et=0;et<_e.length;){var nt=_e[et];++et;var rt=nt.indexOf("=");rt>0?o().default.setField(g,c().default.urlDecode(s().default.substr(nt,0,rt)),c().default.urlDecode(s().default.substr(nt,rt+1,null))):rt!=0&&o().default.setField(g,c().default.urlDecode(nt),"")}},f.toString=function(g){for(var b=[],k=o().default.fields(g),$=0;$<k.length;){var j=k[$];++$;var _e=o().default.field(g,j);if(j.indexOf("[]")>-1&&_e instanceof Array){var et=h().default.map(_e,function(nt){return c().default.urlEncode(nt)}).join("&amp;"+j+"=");b.push(c().default.urlEncode(j)+"="+et)}else b.push(c().default.urlEncode(j)+"="+c().default.urlEncode(_e))}return b.join("&")},f.__get=function(g,b){return o().default.field(g,b)},f.__set=function(g,b,k){o().default.setField(g,b,k)},f.__meta__={statics:{__get:{SuppressWarnings:["checkstyle:FieldDocComment"]},__set:{SuppressWarnings:["checkstyle:FieldDocComment"]}}},e.default=f})(URLVariables_Impl_$1);Object.defineProperty(URLVariables$1,"__esModule",{value:!0});var URLVariables_Impl_=URLVariables_Impl_$1.default,URLVariables=function(e){e!=null&&URLVariables_Impl_.decode(this,e)};URLVariables.prototype.decode=function(e){URLVariables_Impl_.decode(this,e)};URLVariables.prototype.toString=function(){return URLVariables_Impl_.toString(this)};URLVariables.prototype.constructor=URLVariables;URLVariables$1.default=URLVariables;var XMLSocket$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return Socket$1}function f(){return requireStd()}function g(){return Event$1}function b(){return DataEvent$1}var k=function($,j){j==null&&(j=80),s().default.call(this),$!=null&&this.connect($,j)};k.__name__="openfl.net.XMLSocket",k.__isInterface__=!1,k.__super__=s().default,k.prototype=c(s().default.prototype,{close:function(){this.__socket.removeEventListener("close",o(this,this.__onClose)),this.__socket.removeEventListener("connect",o(this,this.__onConnect)),this.__socket.removeEventListener("ioError",o(this,this.__onError)),this.__socket.removeEventListener("socketData",o(this,this.__onSocketData)),this.__socket.close()},connect:function($,j){this.connected=!1,this.__socket=new(h()).default,this.__socket.addEventListener("close",o(this,this.__onClose)),this.__socket.addEventListener("connect",o(this,this.__onConnect)),this.__socket.addEventListener("ioError",o(this,this.__onError)),this.__socket.addEventListener("socketData",o(this,this.__onSocketData)),this.__socket.connect($,j)},send:function($){this.__socket.writeUTFBytes(f().default.string($)),this.__socket.writeByte(0),this.__socket.flush()},__onClose:function($){this.connected=!1,this.dispatchEvent(new(g()).default("close"))},__onConnect:function($){this.connected=!0,this.dispatchEvent(new(g()).default("connect"))},__onError:function($){this.dispatchEvent(new(g()).default("ioError"))},__onSocketData:function($){this.dispatchEvent(new(b()).default("data",!1,!1,this.__socket.readUTFBytes(this.__socket.get_bytesAvailable())))}}),k.prototype.__class__=k.prototype.constructor=d["openfl.net.XMLSocket"]=k,e.default=k})(XMLSocket$1);var XMLSocket=XMLSocket$1,navigateToURL={},Lib$6=requireLib().default;navigateToURL.default=Lib$6.navigateToURL;var sendToURL={},Lib$5=requireLib().default;sendToURL.default=Lib$5.sendToURL;var net={FileFilter:FileFilter.default,FileReference:FileReference.default,FileReferenceList:FileReferenceList.default,NetConnection:NetConnection.default,NetStream:NetStream.default,ObjectEncoding:ObjectEncodingExports.default,SharedObject:SharedObject.default,SharedObjectFlushStatus:SharedObjectFlushStatus.default,Socket:Socket.default,URLLoader:URLLoader.default,URLLoaderDataFormat:URLLoaderDataFormat.default,URLRequest:URLRequest.default,URLRequestDefaults:URLRequestDefaults.default,URLRequestHeader:URLRequestHeader.default,URLRequestMethod:URLRequestMethod.default,URLStream:URLStream.default,URLVariables:URLVariables$1.default,XMLSocket:XMLSocket.default,navigateToURL:navigateToURL.default,sendToURL:sendToURL.default},PrintJob$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireBitmapData()}function c(){return requireImageCanvasUtil()}function s(){return requireTimer()}var h=function(){};h.__name__="openfl.printing.PrintJob",h.__isInterface__=!1,h.prototype={addPage:function(f,g,b,k){if(this.__started){g==null&&(g=f.getBounds(f));var $=new(o()).default(Math.ceil(g.width),Math.ceil(g.height),!0,0);$.draw(f),this.__bitmapData.push($)}},send:function(){if(this.__started){var f=window.open("","","width=500,height=500");if(f!=null){var g=f.document.createElement("style");g.innerText=`@media all {
					.page-break	{ display: none; }
				}

				@media print {
					.page-break	{ display: block; page-break-before: always; }
				}`,f.document.head.appendChild(g);for(var b,k,$,j=0,_e=this.__bitmapData.length;j<_e;){var et=j++;$=this.__bitmapData[et],c().default.sync($.image,!1),$.image.buffer.__srcCanvas!=null&&(et>0&&(b=f.document.createElement("div"),b.className="page-break",f.document.body.appendChild(b)),k=new Image,k.src=$.image.buffer.__srcCanvas.toDataURL("image/png"),f.document.body.appendChild(k))}s().default.delay(function(){f.focus(),f.print()},500)}}},start:function(){return h.isSupported?(this.__started=!0,this.__bitmapData=[],!0):!1}},h.prototype.__class__=h.prototype.constructor=d["openfl.printing.PrintJob"]=h,h.isSupported=!0,e.default=h})(PrintJob$1);var PrintJob=PrintJob$1,PrintJobOptions$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c){c==null&&(c=!1),this.printAsBitmap=c};o.__name__="openfl.printing.PrintJobOptions",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.printing.PrintJobOptions"]=o,e.default=o})(PrintJobOptions$1);var PrintJobOptions=PrintJobOptions$1,PrintJobOrientation={};Object.defineProperty(PrintJobOrientation,"__esModule",{value:!0});PrintJobOrientation.PrintJobOrientation=PrintJobOrientation.default={LANDSCAPE:"landscape",PORTRAIT:"portrait"};var printing={PrintJob:PrintJob.default,PrintJobOptions:PrintJobOptions.default,PrintJobOrientation:PrintJobOrientation.default},Telemetry$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.profiler.Telemetry",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.profiler.Telemetry"]=o,Object.defineProperty(o,"connected",{get:function(){return o.get_connected()}}),o.registerCommandHandler=function(c,s){return!1},o.sendMetric=function(c,s){},o.sendSpanMetric=function(c,s,h){},o.unregisterCommandHandler=function(c){return!1},o.__advanceFrame=function(){},o.__endTiming=function(c){},o.__initialize=function(){},o.__rewindStack=function(c){},o.__startTiming=function(c){},o.__unwindStack=function(){return""},o.get_connected=function(){return!1},o.spanMarker=0,e.default=o})(Telemetry$1);var Telemetry=Telemetry$1,profiler={Telemetry:Telemetry.default},Accelerometer$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return requireHaxeError()}function f(){return ArgumentError$1}function g(){return requireTimer()}function b(){return AccelerometerEvent$1}function k(){return requireSensor()}function $(){return requireSensorType()}var j=function(){s().default.call(this),j.initialize(),this.__interval=0,this.__muted=!1,this.setRequestedUpdateInterval(j.defaultInterval)};j.__name__="openfl.sensors.Accelerometer",j.__isInterface__=!1,j.__super__=s().default,j.prototype=c(s().default.prototype,{addEventListener:function(_e,et,nt,rt,tt){tt==null&&(tt=!1),rt==null&&(rt=0),nt==null&&(nt=!1),s().default.prototype.addEventListener.call(this,_e,et,nt,rt,tt),this.update()},setRequestedUpdateInterval:function(_e){if(this.__interval=_e,this.__interval<0)throw new(h()).default(new(f()).default);this.__interval==0&&(this.__interval=j.defaultInterval),this.__timer!=null&&(this.__timer.stop(),this.__timer=null),j.supported&&!this.get_muted()&&(this.__timer=new(g()).default(this.__interval),this.__timer.run=o(this,this.update))},update:function(){var _e=new(b()).default("update");_e.timestamp=g().default.stamp(),_e.accelerationX=j.currentX,_e.accelerationY=j.currentY,_e.accelerationZ=j.currentZ,this.dispatchEvent(_e)},get_muted:function(){return this.__muted},set_muted:function(_e){return this.__muted=_e,this.setRequestedUpdateInterval(this.__interval),_e}}),j.prototype.__class__=j.prototype.constructor=d["openfl.sensors.Accelerometer"]=j,Object.defineProperty(j.prototype,"muted",{get:function(){return this.get_muted()},set:function(_e){return this.set_muted(_e)}}),Object.defineProperty(j,"isSupported",{get:function(){return j.get_isSupported()}}),j.initialize=function(){if(!j.initialized){var _e=k().default.getSensors($().default.ACCELEROMETER);_e.length>0&&(_e[0].onUpdate.add(j.accelerometer_onUpdate),j.supported=!0),j.initialized=!0}},j.accelerometer_onUpdate=function(_e,et,nt){j.currentX=_e,j.currentY=et,j.currentZ=nt},j.get_isSupported=function(){return j.initialize(),j.supported},j.currentX=0,j.currentY=1,j.currentZ=0,j.defaultInterval=34,j.initialized=!1,j.supported=!1,e.default=j})(Accelerometer$1);var Accelerometer=Accelerometer$1,sensors={Accelerometer:Accelerometer.default},ApplicationDomain=ApplicationDomain$1,Capabilities$1={},Locale_Impl_={},hasRequiredLocale_Impl_;function requireLocale_Impl_(){return hasRequiredLocale_Impl_||(hasRequiredLocale_Impl_=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="lime.system._Locale.Locale_Impl_",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["lime.system._Locale.Locale_Impl_"]=o,o._new=function(c){var s=c;return s},o.equals=function(c,s){var h=o.get_language(c),f=o.get_region(c),g=o.get_language(s),b=o.get_region(s),k=h==g,$=f==b;return!k&&h!=null&&g!=null&&(k=h.toLowerCase()==g.toLowerCase()),!$&&f!=null&&b!=null&&($=f.toLowerCase()==b.toLowerCase()),k?$:!1},o.__init=function(){if(o.__systemLocale==null){var c=null;c=navigator.language,c!=null?o.__systemLocale=c:o.__systemLocale="en-US",o.set_currentLocale(o.__systemLocale)}},o.get_language=function(c){if(c!=null){var s=c.indexOf("_");if(s>-1){var h=c.indexOf("-");return h>-1&&h<s&&(s=h),c.substring(0,s)}if(s=c.indexOf("-"),s>-1)return c.substring(0,s)}return c},o.get_region=function(c){if(c!=null){var s=c.indexOf("_"),h=c.indexOf("."),f=c.indexOf("-");if(s>-1)return h>-1?c.substring(s+1,h):c.substring(s+1);if(f>-1)return h>-1?c.substring(f+1,h):c.substring(f+1)}return null},o.get_currentLocale=function(){return o.__init(),o.currentLocale},o.set_currentLocale=function(c){return o.__init(),o.currentLocale=c},o.get_systemLocale=function(){return o.__init(),o.__systemLocale},e.default=o}(Locale_Impl_)),Locale_Impl_}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireLocale_Impl_()}function c(){return requireSystem()}function s(){return requireLib$1()}var h=function(){};h.__name__="openfl.system.Capabilities",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.system.Capabilities"]=h,Object.defineProperties(h,{cpuArchitecture:{get:function(){return h.get_cpuArchitecture()}},language:{get:function(){return h.get_language()}},manufacturer:{get:function(){return h.get_manufacturer()}},os:{get:function(){return h.get_os()}},pixelAspectRatio:{get:function(){return h.get_pixelAspectRatio()}},screenDPI:{get:function(){return h.get_screenDPI()}},screenResolutionX:{get:function(){return h.get_screenResolutionX()}},screenResolutionY:{get:function(){return h.get_screenResolutionY()}},version:{get:function(){return h.get_version()}}}),h.hasMultiChannelAudio=function(f){return!1},h.get_cpuArchitecture=function(){return"x86"},h.get_language=function(){var f=o().default.get_language(o().default.get_currentLocale());if(f!=null)switch(f=f.toLowerCase(),f){case"cs":case"da":case"de":case"en":case"es":case"fi":case"fr":case"hu":case"it":case"ja":case"ko":case"nb":case"nl":case"pl":case"pt":case"ru":case"sv":case"tr":return f;case"zh":var g=o().default.get_region(o().default.get_currentLocale());if(g!=null)switch(g.toUpperCase()){case"HANT":case"TW":return"zh-TW"}return"zh-CN";default:return"xu"}return"en"},h.get_manufacturer=function(){var f=c().default.get_platformName();return"OpenFL"+(f!=null?" "+f:"")},h.get_os=function(){var f=c().default.get_platformLabel();return f??""},h.get_pixelAspectRatio=function(){return 1},h.get_screenDPI=function(){var f=s().default.application!=null?s().default.application.get_window():null,g=h.__standardDensities[0];if(f!=null){var b=f.get_display();if(b!=null){for(var k=b.dpi,$=g,j=Math.abs(k-g),_e,et=0,nt=h.__standardDensities;et<nt.length;){var rt=nt[et];++et,_e=Math.abs(k-rt),_e<j&&(j=_e,$=rt)}g=$}}return g},h.get_screenResolutionX=function(){var f=s().default.current.stage,g=0;if(f==null)return 0;if(f.window!=null){var b=f.window.get_display();b!=null&&(g=Math.ceil(b.currentMode.width*f.window.get_scale()))}return g>0?g:f.stageWidth},h.get_screenResolutionY=function(){var f=s().default.current.stage,g=0;if(f==null)return 0;if(f.window!=null){var b=f.window.get_display();b!=null&&(g=Math.ceil(b.currentMode.height*f.window.get_scale()))}return g>0?g:f.stageHeight},h.get_version=function(){var f="WEB";return f},h.avHardwareDisable=!0,h.hasAccessibility=!1,h.hasAudio=!0,h.hasAudioEncoder=!1,h.hasEmbeddedVideo=!1,h.hasIME=!1,h.hasMP3=!1,h.hasPrinting=!0,h.hasScreenBroadcast=!1,h.hasScreenPlayback=!1,h.hasStreamingAudio=!1,h.hasStreamingVideo=!1,h.hasTLS=!0,h.hasVideoEncoder=!0,h.isDebugger=!1,h.isEmbeddedInAcrobat=!1,h.localFileReadDisable=!1,h.maxLevelIDC=0,h.playerType="StandAlone",h.screenColor="color",h.serverString="",h.supports32BitProcesses=!1,h.supports64BitProcesses=!1,h.touchscreenType="finger",h.__standardDensities=[120,160,240,320,480,640,800,960],e.default=h})(Capabilities$1);var Capabilities=Capabilities$1,LoaderContext$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h){c==null&&(c=!1),this.checkPolicyFile=c,this.securityDomain=h,this.applicationDomain=s,this.allowCodeImport=!0,this.allowLoadBytesCodeExecution=!0};o.__name__="openfl.system.LoaderContext",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.system.LoaderContext"]=o,e.default=o})(LoaderContext$1);var LoaderContext=LoaderContext$1,Security$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.system.Security",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.system.Security"]=o,o.allowDomain=function(c,s,h,f,g){},o.allowInsecureDomain=function(c,s,h,f,g){},o.loadPolicyFile=function(c){},o.LOCAL_TRUSTED="localTrusted",o.LOCAL_WITH_FILE="localWithFile",o.LOCAL_WITH_NETWORK="localWithNetwork",o.REMOTE="remote",e.default=o})(Security$1);var Security=Security$1,SecurityDomain$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.system.SecurityDomain",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.system.SecurityDomain"]=o,o.__meta__={obj:{SuppressWarnings:["checkstyle:UnnecessaryConstructor"]}},o.currentDomain=new o,e.default=o})(SecurityDomain$1);var SecurityDomain=SecurityDomain$1,System$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireSystem()}function c(){return requireLib$1()}function s(){return requireClipboard()}var h=function(){};h.__name__="openfl.system.System",h.__isInterface__=!1,h.prototype={},h.prototype.__class__=h.prototype.constructor=d["openfl.system.System"]=h,Object.defineProperties(h,{totalMemory:{get:function(){return h.get_totalMemory()}},vmVersion:{get:function(){return h.get_vmVersion()}}}),h.disposeXML=function(f){},h.exit=function(f){o().default.exit(f)},h.gc=function(){},h.pause=function(){c().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/system/System.hx",lineNumber:217,className:"openfl.system.System",methodName:"pause"})},h.resume=function(){c().default.notImplemented({fileName:"../node_modules/openfl-haxelib/src/openfl/system/System.hx",lineNumber:233,className:"openfl.system.System",methodName:"resume"})},h.setClipboard=function(f){s().default.set_text(f)},h.get_totalMemory=function(){return window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:0},h.get_vmVersion=function(){return"1.0.0"},h.useCodePage=!1,e.default=h})(System$1);var System=System$1,TouchscreenType={};Object.defineProperty(TouchscreenType,"__esModule",{value:!0});TouchscreenType.TouchscreenType=TouchscreenType.default={FINGER:"finger",NONE:"none",STYLUS:"stylus"};var system={ApplicationDomain:ApplicationDomain.default,Capabilities:Capabilities.default,LoaderContext:LoaderContext.default,Security:Security.default,SecurityDomain:SecurityDomain.default,System:System.default,TouchscreenType:TouchscreenType.default},AntiAliasType={},_default$1;Object.defineProperty(AntiAliasType,"__esModule",{value:!0});AntiAliasType.AntiAliasType=_default$1=AntiAliasType.default={ADVANCED:"advanced",NORMAL:"normal"};var Font$1=Font$2,FontStyle={};Object.defineProperty(FontStyle,"__esModule",{value:!0});FontStyle.FontStyle=FontStyle.default={BOLD:"bold",BOLD_ITALIC:"boldItalic",ITALIC:"italic",REGULAR:"regular"};var FontType={};Object.defineProperty(FontType,"__esModule",{value:!0});FontType.FontType=FontType.default={DEVICE:"device",EMBEDDED:"embedded",EMBEDDED_CFF:"embeddedCFF"};var GridFitType={};Object.defineProperty(GridFitType,"__esModule",{value:!0});GridFitType.GridFitType=GridFitType.default={NONE:"none",PIXEL:"pixel",SUBPIXEL:"subpixel"};var TextField=requireTextField();const TextField$1=getDefaultExportFromCjs(TextField);var TextFieldAutoSize={},_default;Object.defineProperty(TextFieldAutoSize,"__esModule",{value:!0});TextFieldAutoSize.TextFieldAutoSize=_default=TextFieldAutoSize.default={CENTER:"center",LEFT:"left",NONE:"none",RIGHT:"right"};var TextFieldType={};Object.defineProperty(TextFieldType,"__esModule",{value:!0});TextFieldType.TextFieldType=TextFieldType.default={DYNAMIC:"dynamic",INPUT:"input"};var TextFormat=TextFormat$2;const TextFormat$1=getDefaultExportFromCjs(TextFormat);var TextFormatAlign={};Object.defineProperty(TextFormatAlign,"__esModule",{value:!0});TextFormatAlign.TextFormatAlign=TextFormatAlign.default={CENTER:"center",END:"end",JUSTIFY:"justify",LEFT:"left",RIGHT:"right",START:"start"};var TextLineMetrics=TextLineMetrics$1,text$1={AntiAliasType:AntiAliasType.default,Font:Font$1.default,FontStyle:FontStyle.default,FontType:FontType.default,GridFitType:GridFitType.default,TextField:TextField.default,TextFieldAutoSize:TextFieldAutoSize.default,TextFieldType:TextFieldType.default,TextFormat:TextFormat.default,TextFormatAlign:TextFormatAlign.default,TextLineMetrics:TextLineMetrics.default},GameInput=GameInput$1,GameInputControl=GameInputControl$1,GameInputDevice=GameInputDevice$1,Keyboard=Keyboard$1,KeyLocation={};Object.defineProperty(KeyLocation,"__esModule",{value:!0});KeyLocation.KeyLocation=KeyLocation.default={LEFT:1,NUM_PAD:3,RIGHT:2,STANDARD:0};var Mouse=Mouse$1,MouseCursor={};Object.defineProperty(MouseCursor,"__esModule",{value:!0});MouseCursor.MouseCursor=MouseCursor.default={ARROW:"arrow",AUTO:"auto",BUTTON:"button",HAND:"hand",IBEAM:"ibeam"};var Multitouch$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="openfl.ui.Multitouch",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.ui.Multitouch"]=o,o.maxTouchPoints=2,o.supportedGestures=null,o.supportsGestureEvents=!1,o.inputMode="touchPoint",Object.defineProperties(o,{supportsTouchEvents:{get:function(){return o.get_supportsTouchEvents()}}}),o.get_supportsTouchEvents=function(){return!!("ontouchstart"in document.documentElement||window.DocumentTouch&&document instanceof DocumentTouch)},e.default=o})(Multitouch$1);var Multitouch=Multitouch$1,MultitouchInputMode={};Object.defineProperty(MultitouchInputMode,"__esModule",{value:!0});MultitouchInputMode.MultitouchInputMode=MultitouchInputMode.default={GESTURE:"gesture",NONE:"none",TOUCH_POINT:"touchPoint"};var ui={GameInput:GameInput.default,GameInputControl:GameInputControl.default,GameInputDevice:GameInputDevice.default,Keyboard:Keyboard.default,KeyLocation:KeyLocation.default,Mouse:Mouse.default,MouseCursor:MouseCursor.default,Multitouch:Multitouch.default,MultitouchInputMode:MultitouchInputMode.default},AGALMiniAssembler=requireAGALMiniAssembler(),AssetCache=AssetCache$1,AssetLibrary={exports:{}},FilterType={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["swf.exporters.core.FilterType"]={__ename__:"swf.exporters.core.FilterType",__constructs__:["BlurFilter","ColorMatrixFilter","DropShadowFilter","GlowFilter"],GlowFilter:($_=function(s,h,f,g,b,k,$,j){return{_hx_index:3,color:s,alpha:h,blurX:f,blurY:g,strength:b,quality:k,inner:$,knockout:j,__enum__:"swf.exporters.core.FilterType",toString:d}},$_.__params__=["color","alpha","blurX","blurY","strength","quality","inner","knockout"],$_),DropShadowFilter:($_=function(s,h,f,g,b,k,$,j,_e,et,nt){return{_hx_index:2,distance:s,angle:h,color:f,alpha:g,blurX:b,blurY:k,strength:$,quality:j,inner:_e,knockout:et,hideObject:nt,__enum__:"swf.exporters.core.FilterType",toString:d}},$_.__params__=["distance","angle","color","alpha","blurX","blurY","strength","quality","inner","knockout","hideObject"],$_),ColorMatrixFilter:($_=function(s){return{_hx_index:1,matrix:s,__enum__:"swf.exporters.core.FilterType",toString:d}},$_.__params__=["matrix"],$_),BlurFilter:($_=function(s,h,f){return{_hx_index:0,blurX:s,blurY:h,quality:f,__enum__:"swf.exporters.core.FilterType",toString:d}},$_.__params__=["blurX","blurY","quality"],$_)};e.default=c})(FilterType);var ShapeCommand={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["swf.exporters.core.ShapeCommand"]={__ename__:"swf.exporters.core.ShapeCommand",__constructs__:["BeginBitmapFill","BeginFill","BeginGradientFill","CurveTo","EndFill","LineStyle","LineTo","MoveTo"],MoveTo:($_=function(s,h){return{_hx_index:7,x:s,y:h,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["x","y"],$_),LineTo:($_=function(s,h){return{_hx_index:6,x:s,y:h,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["x","y"],$_),LineStyle:($_=function(s,h,f,g,b,k,$,j){return{_hx_index:5,thickness:s,color:h,alpha:f,pixelHinting:g,scaleMode:b,caps:k,joints:$,miterLimit:j,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["thickness","color","alpha","pixelHinting","scaleMode","caps","joints","miterLimit"],$_),EndFill:{_hx_index:4,__enum__:"swf.exporters.core.ShapeCommand",toString:d},CurveTo:($_=function(s,h,f,g){return{_hx_index:3,controlX:s,controlY:h,anchorX:f,anchorY:g,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["controlX","controlY","anchorX","anchorY"],$_),BeginGradientFill:($_=function(s,h,f,g,b,k,$,j){return{_hx_index:2,fillType:s,colors:h,alphas:f,ratios:g,matrix:b,spreadMethod:k,interpolationMethod:$,focalPointRatio:j,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["fillType","colors","alphas","ratios","matrix","spreadMethod","interpolationMethod","focalPointRatio"],$_),BeginFill:($_=function(s,h){return{_hx_index:1,color:s,alpha:h,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["color","alpha"],$_),BeginBitmapFill:($_=function(s,h,f,g){return{_hx_index:0,bitmap:s,matrix:h,repeat:f,smooth:g,__enum__:"swf.exporters.core.ShapeCommand",toString:d}},$_.__params__=["bitmap","matrix","repeat","smooth"],$_)};e.default=c})(ShapeCommand);var SWFLiteLibrary={},BitmapSymbol={},SWFSymbol={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="swf.exporters.swflite.SWFSymbol",o.__isInterface__=!1,o.prototype={__createObject:function(c){return null},__init:function(c){},__initObject:function(c,s){}},o.prototype.__class__=o.prototype.constructor=d["swf.exporters.swflite.SWFSymbol"]=o,e.default=o})(SWFSymbol);(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return SWFSymbol}function s(){return Bitmap$2}function h(){return requireBitmapData()}var f=function(){c().default.call(this)};f.__name__="swf.exporters.swflite.BitmapSymbol",f.__isInterface__=!1,f.__super__=c().default,f.prototype=o(c().default.prototype,{__createObject:function(g){return new(s()).default(h().default.fromImage(g.library.getImage(this.path)),"auto",this.smooth!=!1)}}),f.prototype.__class__=f.prototype.constructor=d["swf.exporters.swflite.BitmapSymbol"]=f,e.default=f})(BitmapSymbol);var SWFLite={},SpriteSymbol={},SymbolTimeline={},Timeline={},hasRequiredTimeline;function requireTimeline(){return hasRequiredTimeline||(hasRequiredTimeline=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireIntMap()}function c(){return requireStd()}function s(){return requireHaxeError()}function h(){return ArgumentError$1}function f(){return requireType()}var g=function(){this.__framesLoaded=1,this.__totalFrames=1,this.__currentLabels=[],this.__currentFrame=1,this.__lastFrameScriptEval=-1,this.__lastFrameUpdate=-1};g.__name__="openfl.display.Timeline",g.__isInterface__=!1,g.prototype={attachMovieClip:function(b){},enterFrame:function(b){},initializeSprite:function(b){},__addFrameScript:function(b,k){if(!(b<0)){var $=b+1;k!=null?(this.__frameScripts==null&&(this.__frameScripts=new(o()).default),this.__frameScripts.set($,function(j){k()})):this.__frameScripts!=null&&this.__frameScripts.remove($)}},__attachMovieClip:function(b){if(this.__scope=b,this.__totalFrames=0,this.__framesLoaded=0,this.scenes!=null&&this.scenes.length>0){for(var k=0,$=this.scenes;k<$.length;){var j=$[k];++k,this.__totalFrames+=j.numFrames,this.__framesLoaded+=j.numFrames,j.labels!=null&&(this.__currentLabels=this.__currentLabels.concat(j.labels))}this.__currentScene=this.scenes[0]}if(this.scripts!=null&&this.scripts.length>0){this.__frameScripts=new(o()).default;for(var _e=0,et=this.scripts;_e<et.length;){var nt=et[_e];if(++_e,this.__frameScripts.exists(nt.frame)){var rt=[this.__frameScripts.get(nt.frame)],tt=[nt.script];this.__frameScripts.set(nt.frame,function(it,st){return function(at){st[0](at),it[0](at)}}(tt,rt))}else this.__frameScripts.set(nt.frame,nt.script)}}this.attachMovieClip(b)},__enterFrame:function(b){if(this.__isPlaying){var k=this.__getNextFrame(b);if(this.__lastFrameScriptEval==k)return;if(this.__frameScripts!=null){if(k<this.__currentFrame){if(!this.__evaluateFrameScripts(this.__totalFrames))return;this.__currentFrame=1}if(!this.__evaluateFrameScripts(k))return}else this.__currentFrame=k}this.__updateSymbol(this.__currentFrame)},__evaluateFrameScripts:function(b){if(this.__frameScripts==null)return!0;for(var k=this.__currentFrame,$=b+1;k<$;){var j=k++;if(j!=this.__lastFrameScriptEval){if(this.__lastFrameScriptEval=j,this.__currentFrame=j,this.__frameScripts.exists(j)){this.__updateSymbol(j);var _e=this.__frameScripts.get(j);if(_e(this.__scope),this.__currentFrame!=j)return!1}if(!this.__isPlaying)return!1}}return!0},__getNextFrame:function(b){var k=0;return this.frameRate!=null?(this.__timeElapsed+=b,k=this.__currentFrame+Math.floor(this.__timeElapsed/this.__frameTime),k<1&&(k=1),k>this.__totalFrames&&(k=Math.floor((k-1)%this.__totalFrames)+1),this.__timeElapsed%=this.__frameTime):(k=this.__currentFrame+1,k>this.__totalFrames&&(k=1)),k},__goto:function(b){b<1?b=1:b>this.__totalFrames&&(b=this.__totalFrames),this.__lastFrameScriptEval=-1,this.__currentFrame=b,this.__updateSymbol(this.__currentFrame),this.__evaluateFrameScripts(this.__currentFrame)},__gotoAndPlay:function(b,k){this.__play(),this.__goto(this.__resolveFrameReference(b))},__gotoAndStop:function(b,k){this.__stop(),this.__goto(this.__resolveFrameReference(b))},__nextFrame:function(){this.__stop(),this.__goto(this.__currentFrame+1)},__nextScene:function(){},__play:function(){this.__isPlaying||this.__totalFrames<2||(this.__isPlaying=!0,this.frameRate!=null&&(this.__frameTime=c().default.int(1e3/this.frameRate),this.__timeElapsed=0))},__prevFrame:function(){this.__stop(),this.__goto(this.__currentFrame-1)},__prevScene:function(){},__stop:function(){this.__isPlaying=!1},__resolveFrameReference:function(b){if(typeof b=="number"&&(b|0)===b)return b;if(typeof b=="string"){for(var k=b,$=0,j=this.__currentLabels;$<j.length;){var _e=j[$];if(++$,_e.name==k)return _e.frame}throw new(s()).default(new(h()).default("Error #2109: Frame label "+k+" not found in scene."))}else throw new(s()).default("Invalid type for frame "+f().default.getClassName(b))},__updateFrameLabel:function(){this.__currentLabel=null,this.__currentFrameLabel=null;for(var b=0,k=this.__currentLabels;b<k.length;){var $=k[b];if(++b,$.frame<this.__currentFrame)this.__currentLabel=$.name;else if($.frame==this.__currentFrame)this.__currentLabel=$.name,this.__currentFrameLabel=$.name;else break}},__updateSymbol:function(b){this.__currentFrame!=this.__lastFrameUpdate&&(this.__updateFrameLabel(),this.enterFrame(b),this.__lastFrameUpdate=this.__currentFrame)}},g.prototype.__class__=g.prototype.constructor=d["openfl.display.Timeline"]=g,e.default=g}(Timeline)),Timeline}var FrameObjectType={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=estr_stub.default,o=hxEnums_stub.default,c=o["swf.exporters.swflite.timeline.FrameObjectType"]={__ename__:"swf.exporters.swflite.timeline.FrameObjectType",__constructs__:["CREATE","UPDATE","DESTROY"],UPDATE:{_hx_index:1,__enum__:"swf.exporters.swflite.timeline.FrameObjectType",toString:d},DESTROY:{_hx_index:2,__enum__:"swf.exporters.swflite.timeline.FrameObjectType",toString:d},CREATE:{_hx_index:0,__enum__:"swf.exporters.swflite.timeline.FrameObjectType",toString:d}};e.default=c})(FrameObjectType);var FrameSymbolInstance={},hasRequiredFrameSymbolInstance;function requireFrameSymbolInstance(){return hasRequiredFrameSymbolInstance||(hasRequiredFrameSymbolInstance=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s,h,f,g,b){this.initFrame=c,this.initFrameObjectID=s,this.characterID=h,this.depth=f,this.displayObject=g,this.clipDepth=b};o.__name__="swf.exporters.swflite.timeline._SymbolTimeline.FrameSymbolInstance",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["swf.exporters.swflite.timeline._SymbolTimeline.FrameSymbolInstance"]=o,e.default=o}(FrameSymbolInstance)),FrameSymbolInstance}var FrameScript={},hasRequiredFrameScript;function requireFrameScript(){return hasRequiredFrameScript||(hasRequiredFrameScript=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(c,s){this.script=c,this.frame=s};o.__name__="openfl.display.FrameScript",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["openfl.display.FrameScript"]=o,e.default=o}(FrameScript)),FrameScript}var hasRequiredSymbolTimeline;function requireSymbolTimeline(){return hasRequiredSymbolTimeline||(hasRequiredSymbolTimeline=1,function(exports){var $global=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;$global.Object.defineProperty(exports,"__esModule",{value:!0});var $hxClasses=hxClasses_stub.default;hxEnums_stub.default;var $bind=bind_stub.default,$extend=extend_stub.default;function openfl_display_Timeline(){return requireTimeline()}function haxe_ds_IntMap(){return requireIntMap()}function swf_exporters_swflite_timeline_FrameObjectType(){return FrameObjectType}function swf_exporters_swflite_timeline__$SymbolTimeline_FrameSymbolInstance(){return requireFrameSymbolInstance()}function openfl_display_MovieClip(){return requireMovieClip()}function openfl_geom_ColorTransform(){return ColorTransform$1}function openfl_filters_BlurFilter(){return BlurFilter$1}function openfl_filters_ColorMatrixFilter(){return ColorMatrixFilter$1}function openfl_filters_DropShadowFilter(){return DropShadowFilter$1}function openfl_filters_GlowFilter(){return GlowFilter$1}function Reflect(){return require_Reflect()}function openfl_display_FrameLabel(){return FrameLabel$1}function openfl_display_FrameScript(){return requireFrameScript()}function haxe_CallStack(){return requireCallStack()}function js__$Boot_HaxeError(){return requireHaxeError()}function Std(){return requireStd()}function lime_utils_Log(){return requireLog()}function openfl_display_Scene(){return requireScene()}var SymbolTimeline=function(swf1,symbol){openfl_display_Timeline().default.call(this),this.__swf=swf1,this.__symbol=symbol,this.__previousFrame=-1;var labels=[];this.scripts=[];for(var frame,frameData,_g=0,_g1=this.__symbol.frames.length;_g<_g1;){var i=_g++;if(frame=i+1,frameData=this.__symbol.frames[i],frameData.label!=null&&labels.push(new(openfl_display_FrameLabel()).default(frameData.label,i+1)),frameData.script!=null)this.scripts.push(new(openfl_display_FrameScript()).default(function(){return function(e){frameData.script()}}(),frame));else if(frameData.scriptSource!=null)try{var script=[eval("(function(){"+frameData.scriptSource+"})")],wrapper=function(e){return function(_){try{e[0].call(_)}catch(b){haxe_CallStack().default.lastException=b;for(var d=b instanceof js__$Boot_HaxeError().default?b.val:b,o=`Error evaluating frame script
 `+Std().default.string(d)+`
`,c=haxe_CallStack().default.exceptionStack(),s=new Array(c.length),h=0,f=c.length;h<f;){var g=h++;s[g]=c[g][2]}lime_utils_Log().default.info(o+s.join(`
`)+`
`+Std().default.string(d.stack)+`
`+e[0].toString(),{fileName:"../node_modules/swf/src/swf/exporters/swflite/timeline/SymbolTimeline.hx",lineNumber:134,className:"swf.exporters.swflite.timeline.SymbolTimeline",methodName:"new"})}}}(script);this.scripts.push(new(openfl_display_FrameScript()).default(wrapper,frame))}catch(e){haxe_CallStack().default.lastException=e,e instanceof js__$Boot_HaxeError().default&&e.val,this.__symbol.className!=null?lime_utils_Log().default.warn('Unable to evaluate frame script source for symbol "'+this.__symbol.className+'" frame '+frame+`
`+frameData.scriptSource,{fileName:"../node_modules/swf/src/swf/exporters/swflite/timeline/SymbolTimeline.hx",lineNumber:155,className:"swf.exporters.swflite.timeline.SymbolTimeline",methodName:"new"}):lime_utils_Log().default.warn(`Unable to evaluate frame script source:
`+frameData.scriptSource,{fileName:"../node_modules/swf/src/swf/exporters/swflite/timeline/SymbolTimeline.hx",lineNumber:160,className:"swf.exporters.swflite.timeline.SymbolTimeline",methodName:"new"})}}SymbolTimeline.__useParentFPS||(this.frameRate=swf1.frameRate),this.scenes=[new(openfl_display_Scene()).default("",labels,this.__symbol.frames.length)]};SymbolTimeline.__name__="swf.exporters.swflite.timeline.SymbolTimeline",SymbolTimeline.__isInterface__=!1,SymbolTimeline.__super__=openfl_display_Timeline().default,SymbolTimeline.prototype=$extend(openfl_display_Timeline().default.prototype,{attachMovieClip:function(e){if(this.__activeInstances==null){this.__movieClip=e,this.__activeInstances=[],this.__activeInstancesByFrameObjectID=new(haxe_ds_IntMap()).default,this.__previousFrame=-1;for(var _,d,o,c,s,h,f=0,g=this.scenes[0].numFrames;f<g;){var b=f++;if(_=b+1,d=this.__symbol.frames[b],d.objects!=null)for(var k=0,$=d.objects;k<$.length;){var j=$[k];if(++k,j.type==swf_exporters_swflite_timeline_FrameObjectType().default.CREATE){if(this.__activeInstancesByFrameObjectID.exists(j.id))continue;o=null,c=!1;for(var _e=0,et=this.__activeInstances;_e<et.length;){var nt=et[_e];if(++_e,nt.displayObject!=null&&nt.characterID==j.symbol&&nt.depth==j.depth){o=nt,c=!0;break}}o==null&&(s=this.__swf.symbols.get(j.symbol),s!=null&&(h=s.__createObject(this.__swf),h!=null&&(o=new(swf_exporters_swflite_timeline__$SymbolTimeline_FrameSymbolInstance()).default(_,j.id,j.symbol,j.depth,h,j.clipDepth)))),o!=null&&(this.__activeInstancesByFrameObjectID.set(j.id,o),c||(this.__activeInstances.push(o),this.__updateDisplayObject(o.displayObject,j)))}}}this.enterFrame(1)}},enterFrame:function(e){if(this.__symbol!=null&&e!=this.__previousFrame){this.__updateFrameLabel();for(var _=new(haxe_ds_IntMap()).default,d,o,c=0,s=e;c<s;){var h=c++;if(d=this.__symbol.frames[h],d.objects!=null)for(var f=0,g=d.objects;f<g.length;){var b=g[f];switch(++f,b.type._hx_index){case 0:o=this.__activeInstancesByFrameObjectID.get(b.id),o!=null&&(_.set(b.id,o),this.__updateDisplayObject(o.displayObject,b,!0));break;case 1:o=_.get(b.id),o!=null&&o.displayObject!=null&&this.__updateDisplayObject(o.displayObject,b);break;case 2:_.remove(b.id);break}}}for(var k=[],$=[],j=_.iterator();j.hasNext();){var _e=j.next();k.indexOf(_e)==-1&&(k.push(_e),_e.clipDepth>0&&$.push(_e))}k.sort($bind(this,this.__sortDepths));for(var et,nt,rt,tt,it,st=0,at=k.length;st<at;){var _t=st++;et=this.__movieClip.getChildAt(_t),o=k[_t],nt=o.depth,rt=o.displayObject,et!=rt?(tt=rt,this.__movieClip.addChildAt(rt,_t)):tt=this.__movieClip.getChildAt(_t),it=!1;for(var ut=0;ut<$.length;){var ot=$[ut];if(++ut,nt>ot.depth&&nt<=ot.clipDepth){tt.set_mask(ot.displayObject),it=!0;break}}$.length>0&&!it&&tt.get_mask()!=null&&tt.set_mask(null)}for(var lt,ft=k.length,ht=this.__movieClip.get_numChildren();ft<ht;){lt=this.__movieClip.getChildAt(ft);for(var dt=0,pt=this.__activeInstances;dt<pt.length;){var xt=pt[dt];if(++dt,xt.displayObject==lt){if(lt instanceof openfl_display_MovieClip().default){var vt=lt;vt.gotoAndPlay(1)}this.__movieClip.removeChild(lt),--ft,--ht}}++ft}this.__previousFrame=e}},__sortDepths:function(e,_){return e.depth-_.depth},__updateDisplayObject:function(e,_,d){if(d==null&&(d=!1),e!=null){if(_.name!=null&&e.set_name(_.name),_.matrix!=null&&e.get_transform().set_matrix(_.matrix),_.colorTransform!=null?e.get_transform().set_colorTransform(_.colorTransform):d&&!e.get_transform().get_colorTransform().__isDefault(!0)&&e.get_transform().set_colorTransform(new(openfl_geom_ColorTransform()).default),e.set_transform(e.get_transform()),_.filters!=null){for(var o=[],c=0,s=_.filters;c<s.length;){var h=s[c];switch(++c,h._hx_index){case 0:var f=h.quality,g=h.blurY,b=h.blurX;o.push(new(openfl_filters_BlurFilter()).default(b,g,f));break;case 1:var k=h.matrix;o.push(new(openfl_filters_ColorMatrixFilter()).default(k));break;case 2:var $=h.hideObject,j=h.knockout,_e=h.inner,et=h.quality,nt=h.strength,rt=h.blurY,tt=h.blurX,it=h.alpha,st=h.color,at=h.angle,_t=h.distance;o.push(new(openfl_filters_DropShadowFilter()).default(_t,at,st,it,tt,rt,nt,et,_e,j,$));break;case 3:var ut=h.knockout,ot=h.inner,lt=h.quality,ft=h.strength,ht=h.blurY,dt=h.blurX,pt=h.alpha,xt=h.color;o.push(new(openfl_filters_GlowFilter()).default(xt,pt,dt,ht,ft,lt,ot,ut));break}}e.set_filters(o)}else e.set_filters(null);_.visible!=null&&e.set_visible(_.visible),_.blendMode!=null&&e.set_blendMode(_.blendMode),_.cacheAsBitmap!=null&&e.set_cacheAsBitmap(_.cacheAsBitmap),Reflect().default.setField(this.__movieClip,e.get_name(),e)}},__updateInstanceFields:function(){if(this.__instanceFields!=null)for(var e=0,_=this.__instanceFields;e<_.length;){var d=_[e];++e;for(var o=this.__movieClip.get_numChildren(),c=0,s=o;c<s;){var h=c++,f=this.__movieClip.getChildAt(h);if(f.get_name()==d){Reflect().default.setField(this.__movieClip,d,f);break}}}}}),SymbolTimeline.prototype.__class__=SymbolTimeline.prototype.constructor=$hxClasses["swf.exporters.swflite.timeline.SymbolTimeline"]=SymbolTimeline,SymbolTimeline.__useParentFPS=!0,SymbolTimeline.__useParentFPS=!1,exports.default=SymbolTimeline}(SymbolTimeline)),SymbolTimeline}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return SWFSymbol}function h(){return requireSymbolTimeline()}function f(){return requireMovieClip()}function g(){return requireSprite()}function b(){return requireType()}var k=function(){s().default.call(this),this.frames=[]};k.__name__="swf.exporters.swflite.SpriteSymbol",k.__isInterface__=!1,k.__super__=s().default,k.prototype=c(s().default.prototype,{__constructor:function($){var j=new(h()).default(this.swf,this);if($ instanceof f().default){var _e=$;_e.attachTimeline(j),_e.set_scale9Grid(this.scale9Grid)}else $.set_scale9Grid(this.scale9Grid),j.initializeSprite($)},__createObject:function($){g().default.__constructor=o(this,this.__constructor),this.swf=$;var j=null;this.className!=null&&(j=b().default.resolveClass(this.className)),j==null&&this.baseClassName!=null&&(j=b().default.resolveClass(this.baseClassName));var _e=null;return j!=null?_e=b().default.createInstance(j,[]):_e=new(f()).default,_e},__init:function($){g().default.__constructor=o(this,this.__constructor),this.swf=$},__initObject:function($,j){this.swf=$,this.__constructor(j)}}),k.prototype.__class__=k.prototype.constructor=d["swf.exporters.swflite.SpriteSymbol"]=k,e.default=k})(SpriteSymbol);var hasRequiredSWFLite;function requireSWFLite(){return hasRequiredSWFLite||(hasRequiredSWFLite=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return SpriteSymbol}function c(){return requireBoot()}function s(){return BitmapSymbol}function h(){return Assets$2}function f(){return requireSerializer()}function g(){return requireStringMap()}function b(){return requireType()}function k(){return requireStringTools()}function $(){return requireUnserializer()}function j(){return requireIntMap()}var _e=function(){this.symbols=new(j()).default,this.symbolsByClassName=new(g()).default};_e.__name__="swf.exporters.swflite.SWFLite",_e.__isInterface__=!1,_e.prototype={createButton:function(et){return null},createMovieClip:function(et){if(et==null&&(et=""),et=="")return this.root.__createObject(this);var nt=this.symbolsByClassName.get(et);return nt!=null&&nt instanceof o().default?c().default.__cast(nt,o().default).__createObject(this):null},getBitmapData:function(et){var nt=this.symbolsByClassName.get(et);if(nt!=null&&nt instanceof s().default){var rt=nt;return h().default.getBitmapData(rt.path)}return null},hasSymbol:function(et){return this.symbolsByClassName.exists(et)},serialize:function(){var et=new(f()).default;return et.serialize(this),et.toString()},__init:function(){if(this.symbols!=null){this.symbolsByClassName==null&&(this.symbolsByClassName=new(g()).default);for(var et=this.symbols.iterator();et.hasNext();){var nt=et.next();nt==null||nt.className==null||this.symbolsByClassName.set(nt.className,nt)}}}},_e.prototype.__class__=_e.prototype.constructor=d["swf.exporters.swflite.SWFLite"]=_e,_e.resolveClass=function(et){var nt=b().default.resolveClass(et);return nt==null&&(nt=b().default.resolveClass(k().default.replace(et,"openfl._legacy","openfl"))),nt==null&&(nt=b().default.resolveClass(k().default.replace(et,"openfl._v2","openfl"))),nt},_e.resolveEnum=function(et){var nt=b().default.resolveEnum(et);return nt==null&&(nt=b().default.resolveEnum(k().default.replace(et,"openfl._legacy","openfl"))),nt==null&&(nt=b().default.resolveEnum(k().default.replace(et,"openfl._v2","openfl"))),nt},_e.unserialize=function(et){if(et==null)return null;var nt=new($()).default(et);nt.setResolver({resolveClass:_e.resolveClass,resolveEnum:_e.resolveEnum});var rt=nt.unserialize();return rt!=null&&rt.__init(),rt},_e.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]},statics:{resolveClass:{SuppressWarnings:["checkstyle:Dynamic"]},resolveEnum:{SuppressWarnings:["checkstyle:Dynamic"]}}},_e.instances=new(g()).default,e.default=_e}(SWFLite)),SWFLite}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return AssetLibrary$1}function h(){return BitmapSymbol}function f(){return requireBoot()}function g(){return require_Promise()}function b(){return requireSWFLite()}function k(){return Assets$2}function $(){return URLLoader$1}function j(){return URLRequest$1}function _e(){return requireVector2()}function et(){return requireImageChannel()}function nt(){return requireStringMap()}var rt=function(tt,it){s().default.call(this),this.id=tt,this.instanceID=it??tt,this.alphaCheck=new(nt()).default,this.imageClassNames=new(nt()).default,this.rootPath=""};rt.__name__="swf.exporters.swflite.SWFLiteLibrary",rt.__isInterface__=!1,rt.__super__=s().default,rt.prototype=c(s().default.prototype,{exists:function(tt,it){return this.swf==null?!1:tt==""&&it=="MOVIE_CLIP"?!0:(it==null||it=="IMAGE"||it=="MOVIE_CLIP")&&this.swf!=null?this.swf.hasSymbol(tt):!1},getImage:function(tt){if(this.imageClassNames.exists(tt)&&(tt=this.imageClassNames.get(tt)),!this.alphaCheck.exists(tt)){for(var it=this.swf.symbols.iterator();it.hasNext();){var st=it.next();if(st instanceof h().default&&f().default.__cast(st,h().default).path==tt){var at=st;if(at.alpha!=null){var _t=s().default.prototype.getImage.call(this,tt),ut=s().default.prototype.getImage.call(this,at.alpha);return this.__copyChannel(_t,ut),this.cachedImages.set(tt,_t),this.cachedImages.remove(at.alpha),this.alphaCheck.set(tt,!0),_t}}}this.alphaCheck.set(tt,!0)}return s().default.prototype.getImage.call(this,tt)},getMovieClip:function(tt){return this.swf!=null?this.swf.createMovieClip(tt):null},isLocal:function(tt,it){return!0},load:function(){var tt=this;this.id!=null&&this.preload.set(this.id,!0);var it=new(g()).default;this.preloading=!0;var st=function(lt){tt.cachedText.set(tt.id,lt),tt.swf=b().default.unserialize(lt),tt.swf.library=tt;for(var ft,ht=tt.swf.symbols.iterator();ht.hasNext();){var dt=ht.next();dt instanceof h().default&&(ft=dt,ft.className!=null&&tt.imageClassNames.set(ft.className,ft.path))}b().default.instances.set(tt.instanceID,tt.swf),tt.__load().onProgress(o(it,it.progress)).onError(o(it,it.error)).onComplete(function(pt){tt.preloading=!1,it.complete(tt)})};if(k().default.exists(this.id))this.loadText(this.id).onError(o(it,it.error)).onComplete(st);else{for(var at=this.paths.keys();at.hasNext();){var _t=at.next();this.preload.set(_t,!0)}var ut=null;this.paths.exists(this.id)?ut=this.paths.get(this.id):ut=this.rootPath!=null&&this.rootPath!=""?this.rootPath+"/"+this.id:this.id;var ot=new($()).default;ot.addEventListener("complete",function(lt){st(ot.data)}),ot.addEventListener("ioError",function(lt){it.error(lt)}),ot.load(new(j()).default(ut))}return it.future},loadImage:function(tt){var it=this;if(this.imageClassNames.exists(tt)&&(tt=this.imageClassNames.get(tt)),!this.preloading&&!this.alphaCheck.exists(tt))for(var st=this.swf.symbols.iterator();st.hasNext();){var at=st.next();if(at instanceof h().default&&f().default.__cast(at,h().default).path==tt){var _t=[at];if(_t[0].alpha!=null){var ut=[new(g()).default];return this.__loadImage(tt).onError(($_=ut[0],o($_,$_.error))).onComplete(function(ot,lt){return function(ft){it.__loadImage(lt[0].alpha).onError(($_=ot[0],o($_,$_.error))).onComplete(function(ht,dt){return function(pt){it.__copyChannel(ft,pt),it.cachedImages.set(tt,ft),it.cachedImages.remove(dt[0].alpha),it.alphaCheck.set(tt,!0),ht[0].complete(ft)}}(ot,lt))}}(ut,_t)),ut[0].future}else this.alphaCheck.set(tt,!0)}}return s().default.prototype.loadImage.call(this,tt)},unload:function(){if(this.swf!=null){b().default.instances.exists(this.instanceID)&&b().default.instances.get(this.instanceID)==this.swf&&b().default.instances.remove(this.instanceID);for(var tt,it=this.swf.symbols.iterator();it.hasNext();){var st=it.next();st instanceof h().default&&(tt=st,k().default.cache.removeBitmapData(tt.path))}}},__copyChannel:function(tt,it){it!=null&&tt.copyChannel(it,it.get_rect(),new(_e()).default,et().default.RED,et().default.ALPHA),tt.buffer.premultiplied=!0,tt.set_premultiplied(!1)},__fromManifest:function(tt){this.rootPath=tt.rootPath,s().default.prototype.__fromManifest.call(this,tt),this.bytesTotal=0;for(var it=this.paths.keys();it.hasNext();){var st=it.next();this.bytesTotal+=this.sizes.get(st)}},__load:function(){return s().default.prototype.load.call(this)},__loadImage:function(tt){return s().default.prototype.loadImage.call(this,tt)}}),rt.prototype.__class__=rt.prototype.constructor=d["swf.exporters.swflite.SWFLiteLibrary"]=rt,rt.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=rt})(SWFLiteLibrary);var ButtonSymbol={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return SWFSymbol}function h(){return SimpleButton$1}function f(){return requireType()}var g=function(){s().default.call(this)};g.__name__="swf.exporters.swflite.ButtonSymbol",g.__isInterface__=!1,g.__super__=s().default,g.prototype=c(s().default.prototype,{__constructor:function(b){this.downState!=null&&b.set_downState(this.downState.__createObject(this.swf)),this.hitState!=null&&b.set_hitTestState(this.hitState.__createObject(this.swf)),this.overState!=null&&b.set_overState(this.overState.__createObject(this.swf)),this.upState!=null&&b.set_upState(this.upState.__createObject(this.swf))},__createObject:function(b){var k=null;if(h().default.__constructor=o(this,this.__constructor),this.swf=b,this.className!=null){var $=f().default.resolveClass(this.className);$!=null&&(k=f().default.createInstance($,[]))}return k==null&&(k=new(h()).default),k},__init:function(b){h().default.__constructor=o(this,this.__constructor),this.swf=b},__initObject:function(b,k){this.swf=b,this.__constructor(k)}}),g.prototype.__class__=g.prototype.constructor=d["swf.exporters.swflite.ButtonSymbol"]=g,e.default=g})(ButtonSymbol);var DynamicTextSymbol={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return SWFSymbol}function s(){return requireTextField()}function h(){return TextFormat$2}function f(){return Font$2}function g(){return requireEReg()}function b(){return requireHxOverrides()}function k(){return requireLog()}function $(){return requireStd()}var j=function(){c().default.call(this)};j.__name__="swf.exporters.swflite.DynamicTextSymbol",j.__isInterface__=!1,j.__super__=c().default,j.prototype=o(c().default.prototype,{__createObject:function(_e){var et=new(s()).default;et.set_width(this.width),et.set_height(this.height),et.__offsetX=this.x,et.__offsetY=this.y,et.set_multiline(this.multiline),et.set_wordWrap(this.wordWrap),et.set_displayAsPassword(this.password),this.border&&(et.set_border(!0),et.set_background(!0)),et.set_selectable(this.selectable),this.input&&et.set_type("input");var nt=new(h()).default;this.color!=null&&(nt.color=this.color&16777215),nt.size=Math.round(this.fontHeight/20);var rt=_e.symbols.get(this.fontID);rt!=null&&(nt.__ascent=rt.ascent/20/1024,nt.__descent=rt.descent/20/1024),nt.font=this.fontName;var tt=!1,it=nt.font;if(it==null)tt=!0;else switch(it){case"":case"_sans":case"_serif":case"_typewriter":tt=!0;break;default:for(var st=0,at=f().default.enumerateFonts();st<at.length;){var _t=at[st];if(++st,_t.get_fontName()==nt.font){tt=!0;break}}}if(!tt)for(var ut=new(g()).default("[^a-zA-Z]+","g"),ot=0,lt=f().default.enumerateFonts();ot<lt.length;){var ft=lt[ot];if(++ot,b().default.substr(ut.replace(ft.get_fontName(),""),0,this.fontName.length)==this.fontName){nt.font=ft.get_fontName(),tt=!0;break}}return tt?et.set_embedFonts(!0):s().default.__missingFontWarning.exists(nt.font)||(s().default.__missingFontWarning.set(nt.font,!0),k().default.warn('Could not find required font "'+nt.font+'", it has not been embedded',{fileName:"../node_modules/swf/src/swf/exporters/swflite/DynamicTextSymbol.hx",lineNumber:143,className:"swf.exporters.swflite.DynamicTextSymbol",methodName:"__createObject"})),this.align!=null&&(this.align=="center"?nt.align="center":this.align=="right"?nt.align="right":this.align=="justify"&&(nt.align="justify"),nt.leftMargin=$().default.int(this.leftMargin/20),nt.rightMargin=$().default.int(this.rightMargin/20),nt.indent=$().default.int(this.indent/20),nt.leading=$().default.int(this.leading/20)),et.set_defaultTextFormat(nt),this.text!=null&&(this.html?et.set_htmlText(this.text):et.set_text(this.text)),et}}),j.prototype.__class__=j.prototype.constructor=d["swf.exporters.swflite.DynamicTextSymbol"]=j,e.default=j})(DynamicTextSymbol);var FontSymbol={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return SWFSymbol}var s=function(){c().default.call(this)};s.__name__="swf.exporters.swflite.FontSymbol",s.__isInterface__=!1,s.__super__=c().default,s.prototype=o(c().default.prototype,{}),s.prototype.__class__=s.prototype.constructor=d["swf.exporters.swflite.FontSymbol"]=s,e.default=s})(FontSymbol);var ShapeSymbol={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return SWFSymbol}function s(){return requireShape()}function h(){return requireBitmapData()}var f=function(){c().default.call(this)};f.__name__="swf.exporters.swflite.ShapeSymbol",f.__isInterface__=!1,f.__super__=c().default,f.prototype=o(c().default.prototype,{__createObject:function(g){var b=new(s()).default,k=b.get_graphics();if(this.rendered!=null)return k.copyFrom(this.rendered.get_graphics()),b;for(var $=0,j=this.commands;$<j.length;){var _e=j[$];switch(++$,_e._hx_index){case 0:var et=_e.smooth,nt=_e.repeat,rt=_e.matrix,tt=_e.bitmap,it=g.symbols.get(tt),st=g.library.getImage(it.path);st!=null&&k.beginBitmapFill(h().default.fromImage(st),rt,nt,et);break;case 1:var at=_e.alpha,_t=_e.color;k.beginFill(_t,at);break;case 2:var ut=_e.focalPointRatio,ot=_e.interpolationMethod,lt=_e.spreadMethod,ft=_e.matrix,ht=_e.ratios,dt=_e.alphas,pt=_e.colors,xt=_e.fillType;k.beginGradientFill(xt,pt,dt,ht,ft,lt,ot,ut);break;case 3:var vt=_e.anchorY,bt=_e.anchorX,wt=_e.controlY,At=_e.controlX;k.curveTo(At,wt,bt,vt);break;case 4:k.endFill();break;case 5:var ct=_e.miterLimit,mt=_e.joints,gt=_e.caps,Tt=_e.scaleMode,yt=_e.pixelHinting,Et=_e.alpha,Ct=_e.color,It=_e.thickness;It!=null?k.lineStyle(It,Ct,Et,yt,Tt,gt,mt,ct):k.lineStyle();break;case 6:var Rt=_e.y,Ft=_e.x;k.lineTo(Ft,Rt);break;case 7:var Lt=_e.y,Ot=_e.x;k.moveTo(Ot,Lt);break}}return this.commands=null,this.rendered=new(s()).default,this.rendered.get_graphics().copyFrom(b.get_graphics()),b}}),f.prototype.__class__=f.prototype.constructor=d["swf.exporters.swflite.ShapeSymbol"]=f,e.default=f})(ShapeSymbol);var StaticTextRecord={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="swf.exporters.swflite.StaticTextRecord",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["swf.exporters.swflite.StaticTextRecord"]=o,e.default=o})(StaticTextRecord);var StaticTextSymbol={},StaticText={},hasRequiredStaticText;function requireStaticText(){return hasRequiredStaticText||(hasRequiredStaticText=1,function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return DisplayObject$1}function s(){return requireGraphics()}var h=function(){c().default.call(this),this.__drawableType=3,this.__graphics=new(s()).default(this)};h.__name__="openfl.text.StaticText",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{}),h.prototype.__class__=h.prototype.constructor=d["openfl.text.StaticText"]=h,e.default=h}(StaticText)),StaticText}(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return SWFSymbol}function s(){return requireStaticText()}var h=function(){c().default.call(this)};h.__name__="swf.exporters.swflite.StaticTextSymbol",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{__createObject:function(f){var g=new(s()).default,b=g.__graphics;if(this.rendered!=null)return g.text=this.rendered.text,b.copyFrom(this.rendered.__graphics),g;var k="";if(this.records!=null)for(var $=null,j=16777215,_e=this.matrix.tx,et=this.matrix.ty,nt,rt,tt=0,it=this.records;tt<it.length;){var st=it[tt];if(++tt,st.fontID!=null&&($=f.symbols.get(st.fontID)),st.offsetX!=null&&(_e=this.matrix.tx+st.offsetX*.05),st.offsetY!=null&&(et=this.matrix.ty+st.offsetY*.05),st.color!=null&&(j=st.color),$!=null){nt=st.fontHeight/1024*.05;for(var at=0,_t=st.glyphs.length;at<_t;){var ut=at++;rt=st.glyphs[ut];var ot=$.codes[rt];k+=String.fromCodePoint(ot);for(var lt=0,ft=$.glyphs[rt];lt<ft.length;){var ht=ft[lt];switch(++lt,ht._hx_index){case 1:ht.color,ht.alpha,b.beginFill(j&16777215,(j>>24&255)/255);break;case 3:var dt=ht.anchorY,pt=ht.anchorX,xt=ht.controlY,vt=ht.controlX;b.curveTo(vt*nt+_e,xt*nt+et,pt*nt+_e,dt*nt+et);break;case 4:b.endFill();break;case 5:var bt=ht.miterLimit,wt=ht.joints,At=ht.caps,ct=ht.scaleMode,mt=ht.pixelHinting,gt=ht.alpha,Tt=ht.color,yt=ht.thickness;yt!=null?b.lineStyle(yt,Tt,gt,mt,ct,At,wt,bt):b.lineStyle();break;case 6:var Et=ht.y,Ct=ht.x;b.lineTo(Ct*nt+_e,Et*nt+et);break;case 7:var It=ht.y,Rt=ht.x;b.moveTo(Rt*nt+_e,It*nt+et);break}}_e+=st.advances[ut]*.05}}}return g.text=k,this.records=null,this.rendered=new(s()).default,this.rendered.text=k,this.rendered.__graphics.copyFrom(g.__graphics),g}}),h.prototype.__class__=h.prototype.constructor=d["swf.exporters.swflite.StaticTextSymbol"]=h,e.default=h})(StaticTextSymbol);var Frame={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="swf.exporters.swflite.timeline.Frame",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["swf.exporters.swflite.timeline.Frame"]=o,e.default=o})(Frame);var FrameObject={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=function(){};o.__name__="swf.exporters.swflite.timeline.FrameObject",o.__isInterface__=!1,o.prototype={},o.prototype.__class__=o.prototype.constructor=d["swf.exporters.swflite.timeline.FrameObject"]=o,e.default=o})(FrameObject);AssetLibrary.exports=AssetLibrary$1;var internal={FilterType:FilterType.default,ShapeCommand:ShapeCommand.default,SWFLiteLibrary:SWFLiteLibrary.default,BitmapSymbol:BitmapSymbol.default,ButtonSymbol:ButtonSymbol.default,DynamicTextSymbol:DynamicTextSymbol.default,FontSymbol:FontSymbol.default,ShapeSymbol:ShapeSymbol.default,SpriteSymbol:SpriteSymbol.default,StaticTextRecord:StaticTextRecord.default,StaticTextSymbol:StaticTextSymbol.default,SWFSymbol:SWFSymbol.default,Frame:Frame.default,FrameObject:FrameObject.default,FrameObjectType:FrameObjectType.default};AssetLibrary.exports._internal=internal;var AssetLibraryExports=AssetLibrary.exports,AssetManifest$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=extend_stub.default;function c(){return requireAssetManifest()}function s(){return requireFuture()}var h=function(){c().default.call(this)};h.__name__="openfl.utils.AssetManifest",h.__isInterface__=!1,h.__super__=c().default,h.prototype=o(c().default.prototype,{addBitmapData:function(f,g){this.assets.push({path:f,id:g??f,type:"IMAGE",preload:!0})},addBytes:function(f,g){this.assets.push({path:f,id:g??f,type:"BINARY",preload:!0})},addFont:function(f,g){this.assets.push({path:f,id:g??f,type:"FONT",preload:!0})},addSound:function(f,g){this.assets.push({pathGroup:f,id:g??f[0],type:"SOUND",preload:!0})},addText:function(f,g){this.assets.push({path:f,id:g??f,type:"TEXT",preload:!0})}}),h.prototype.__class__=h.prototype.constructor=d["openfl.utils.AssetManifest"]=h,h.fromBytes=function(f,g){var b=c().default.fromBytes(f,g);return h.__fromLimeManifest(b)},h.fromFile=function(f,g){var b=c().default.fromFile(f,g);return h.__fromLimeManifest(b)},h.loadFromBytes=function(f,g){return c().default.loadFromBytes(f,g).then(function(b){return s().default.withValue(h.__fromLimeManifest(b))})},h.loadFromFile=function(f,g){return c().default.loadFromFile(f,g).then(function(b){return s().default.withValue(h.__fromLimeManifest(b))})},h.parse=function(f,g){var b=c().default.parse(f,g);return h.__fromLimeManifest(b)},h.__fromLimeManifest=function(f){var g=null;return f!=null&&(g=new h,g.assets=f.assets,g.libraryArgs=f.libraryArgs,g.libraryType=f.libraryType,g.name=f.name,g.rootPath=f.rootPath,g.version=f.version),g},e.default=h})(AssetManifest$1);var AssetManifest=AssetManifest$1,Assets=Assets$2;const Assets$1=getDefaultExportFromCjs(Assets);var AssetType={};Object.defineProperty(AssetType,"__esModule",{value:!0});AssetType.AssetType=AssetType.default={BINARY:"BINARY",FONT:"FONT",IMAGE:"IMAGE",MOVIE_CLIP:"MOVIE_CLIP",MUSIC:"MUSIC",SOUND:"SOUND",TEMPLATE:"TEMPLATE",TEXT:"TEXT"};var ByteArray=requireByteArrayData(),CompressionAlgorithm={};Object.defineProperty(CompressionAlgorithm,"__esModule",{value:!0});CompressionAlgorithm.CompressionAlgorithm=CompressionAlgorithm.default={DEFLATE:"deflate",LZMA:"lzma",ZLIB:"zlib"};var Dictionary$1={};Object.defineProperty(Dictionary$1,"__esModule",{value:!0});var Dictionary=function(e){};Dictionary.prototype.constructor=Dictionary;Dictionary$1.default=Dictionary;var Endian={};Object.defineProperty(Endian,"__esModule",{value:!0});Endian.Endian=Endian.default={BIG_ENDIAN:"bigEndian",LITTLE_ENDIAN:"littleEndian"};var Future=requireFuture(),IAssetCache=IAssetCache$1,IDataInput=IDataInput$1,IDataOutput=IDataOutput$1,Timer$3={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;var o=bind_stub.default,c=extend_stub.default;function s(){return EventDispatcher$1}function h(){return requireStd()}function f(){return requireLib()}function g(){return TimerEvent$1}function b(){return requireHaxeError()}function k(){return _Error$1}var $=function(_e,et){if(et==null&&(et=0),isNaN(_e)||_e<0)throw new(b()).default(new(k()).default("The delay specified is negative or not a finite number"));s().default.call(this),this.__delay=_e,this.__repeatCount=et,this.running=!1,this.currentCount=0};$.__name__="openfl.utils.Timer",$.__isInterface__=!1,$.__super__=s().default,$.prototype=c(s().default.prototype,{reset:function(){this.running&&this.stop(),this.currentCount=0},start:function(){this.running||(this.running=!0,this.__timerID=window.setInterval(o(this,this.timer_onTimer),h().default.int(this.__delay)))},stop:function(){this.running=!1,this.__timerID!=null&&(window.clearInterval(this.__timerID),this.__timerID=null)},get_delay:function(){return this.__delay},set_delay:function(_e){return this.__delay=_e,this.running&&(this.stop(),this.start()),this.__delay},get_repeatCount:function(){return this.__repeatCount},set_repeatCount:function(_e){return this.running&&_e!=0&&_e<=this.currentCount&&this.stop(),this.__repeatCount=_e},__handleUpdateAfterEvent:function(){f().default.get_current()==null||f().default.get_current().stage==null||f().default.get_current().stage.__renderAfterEvent()},timer_onTimer:function(){if(this.currentCount++,this.__repeatCount>0&&this.currentCount>=this.__repeatCount){this.stop();var _e=new(g()).default("timer");this.dispatchEvent(_e),_e.__updateAfterEventFlag&&this.__handleUpdateAfterEvent(),_e=new(g()).default("timerComplete"),this.dispatchEvent(_e),_e.__updateAfterEventFlag&&this.__handleUpdateAfterEvent()}else{var et=new(g()).default("timer");this.dispatchEvent(et),et.__updateAfterEventFlag&&this.__handleUpdateAfterEvent()}}}),$.prototype.__class__=$.prototype.constructor=d["openfl.utils.Timer"]=$;{var j=$.prototype;commonjsGlobal.Object.defineProperties(j,{delay:{get:j.get_delay,set:j.set_delay},repeatCount:{get:j.get_repeatCount,set:j.set_repeatCount}})}e.default=$})(Timer$3);var Timer$2=Timer$3,clearTimeout$1={};Object.defineProperty(clearTimeout$1,"__esModule",{value:!0});clearTimeout$1.default=clearTimeout;var getDefinitionByName={},Lib$4=requireLib().default;getDefinitionByName.default=Lib$4.getDefinitionByName;var getQualifiedClassName={},Lib$3=requireLib().default;getQualifiedClassName.default=Lib$3.getQualifiedClassName;var getQualifiedSuperclassName={},Lib$2=requireLib().default;getQualifiedSuperclassName.default=Lib$2.getQualifiedSuperclassName;var getTimer={},Lib$1=requireLib().default;getTimer.default=Lib$1.getTimer;var setTimeout$1={};Object.defineProperty(setTimeout$1,"__esModule",{value:!0});setTimeout$1.default=setTimeout;var utils={AGALMiniAssembler:AGALMiniAssembler.default,AssetCache:AssetCache.default,AssetLibrary:AssetLibraryExports.default,AssetManifest:AssetManifest.default,Assets:Assets.default,AssetType:AssetType.default,ByteArray:ByteArray.default,CompressionAlgorithm:CompressionAlgorithm.default,Dictionary:Dictionary$1.default,Endian:Endian.default,Future:Future.default,IAssetCache:IAssetCache.default,IDataInput:IDataInput.default,IDataOutput:IDataOutput.default,Timer:Timer$2.default,clearTimeout:clearTimeout$1.default,getDefinitionByName:getDefinitionByName.default,getQualifiedClassName:getQualifiedClassName.default,getQualifiedSuperclassName:getQualifiedSuperclassName.default,getTimer:getTimer.default,setTimeout:setTimeout$1.default},Lib=requireLib(),Memory$1={};(function(e){var _=typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:commonjsGlobal;_.Object.defineProperty(e,"__esModule",{value:!0});var d=hxClasses_stub.default;hxEnums_stub.default;function o(){return requireByteArray_Impl_()}var c=function(){};c.__name__="openfl.Memory",c.__isInterface__=!1,c.prototype={},c.prototype.__class__=c.prototype.constructor=d["openfl.Memory"]=c,c.getByte=function(s){return c.__byteArray.get(s)},c.getDouble=function(s){return c._setPositionTemporarily(s,function(){return c.__byteArray.readDouble()})},c.getFloat=function(s){return c._setPositionTemporarily(s,function(){return c.__byteArray.readFloat()})},c.getI32=function(s){return c._setPositionTemporarily(s,function(){return c.__byteArray.readInt()})},c.getUI16=function(s){return c._setPositionTemporarily(s,function(){return c.__byteArray.readUnsignedShort()})},c.select=function(s){c.__byteArray=s,c.__length=s!=null?o().default.get_length(s):0},c.setByte=function(s,h){var f=c.__byteArray;f.__resize(s+1),f.set(s,h)},c.setDouble=function(s,h){c._setPositionTemporarily(s,function(){c.__byteArray.writeDouble(h)})},c.setFloat=function(s,h){c._setPositionTemporarily(s,function(){c.__byteArray.writeFloat(h)})},c.setI16=function(s,h){c._setPositionTemporarily(s,function(){c.__byteArray.writeShort(h)})},c.setI32=function(s,h){c._setPositionTemporarily(s,function(){c.__byteArray.writeInt(h)})},c._setPositionTemporarily=function(s,h){var f=c.__byteArray.position;c.__byteArray.position=s;var g=h();return c.__byteArray.position=f,g},c.__meta__={obj:{SuppressWarnings:["checkstyle:FieldDocComment"]}},e.default=c})(Memory$1);var Memory=Memory$1,Vector=VectorData,openfl={desktop,Clipboard:Clipboard.default,ClipboardFormats:ClipboardFormats.default,ClipboardTransferMode:ClipboardTransferMode.default,display,Bitmap:Bitmap.default,BitmapData:BitmapData.default,BitmapDataChannel:BitmapDataChannelExports.default,BlendMode:BlendModeExports.default,CanvasRenderer:CanvasRenderer.default,CapsStyle:CapsStyle.default,DisplayObject:DisplayObject.default,DisplayObjectContainer:DisplayObjectContainer.default,DisplayObjectRenderer:DisplayObjectRenderer.default,DisplayObjectShader:DisplayObjectShader.default,DOMElement:DOMElement.default,DOMRenderer:DOMRenderer.default,FPS:FPS.default,FrameLabel:FrameLabel.default,GradientType:GradientType.default,Graphics:Graphics.default,GraphicsBitmapFill:GraphicsBitmapFill.default,GraphicsEndFill:GraphicsEndFill.default,GraphicsGradientFill:GraphicsGradientFill.default,GraphicsPath:GraphicsPath.default,GraphicsPathCommand:GraphicsPathCommand.default,GraphicsPathWinding:GraphicsPathWinding.default,GraphicsQuadPath:GraphicsQuadPath.default,GraphicsShader:GraphicsShader.default,GraphicsShaderFill:GraphicsShaderFill.default,GraphicsSolidFill:GraphicsSolidFill.default,GraphicsStroke:GraphicsStroke.default,GraphicsTrianglePath:GraphicsTrianglePath.default,IBitmapDrawable:IBitmapDrawable.default,IGraphicsData:IGraphicsData.default,IGraphicsFill:IGraphicsFill.default,IGraphicsPath:IGraphicsPath.default,IGraphicsStroke:IGraphicsStroke.default,InteractiveObject:InteractiveObject.default,InterpolationMethod:InterpolationMethod.default,ITileContainer:ITileContainer.default,JointStyle:JointStyle.default,JPEGEncoderOptions:JPEGEncoderOptions.default,LineScaleMode:LineScaleMode.default,Loader:Loader.default,LoaderInfo:LoaderInfo.default,MovieClip:MovieClip.default,OpenGLRenderer:OpenGLRenderer.default,PixelSnapping:PixelSnapping.default,PNGEncoderOptions:PNGEncoderOptions.default,Preloader:Preloader.default,Shader:Shader.default,ShaderData:ShaderData.default,ShaderInput:ShaderInput.default,ShaderJob:ShaderJob.default,ShaderParameter:ShaderParameter.default,ShaderParameterType:ShaderParameterType.default,ShaderPrecision:ShaderPrecision.default,Shape:Shape$7.default,SimpleButton:SimpleButton.default,SpreadMethod:SpreadMethod.default,Sprite:Sprite.default,Stage:Stage.default,Stage3D:Stage3D.default,StageAlign:StageAlign.default,StageDisplayState:StageDisplayState.default,StageQuality:StageQuality.default,StageScaleMode:StageScaleMode.default,Tile:Tile.default,TileContainer:TileContainer.default,Tilemap:Tilemap.default,Tileset:Tileset.default,TriangleCulling:TriangleCulling.default,display3D,CubeTexture:CubeTexture.default,RectangleTexture:RectangleTexture.default,Texture:Texture.default,TextureBase:TextureBase.default,VideoTexture:VideoTexture.default,Context3D:Context3D.default,Context3DBlendFactor:Context3DBlendFactor.default,Context3DBufferUsage:Context3DBufferUsage.default,Context3DClearMask:Context3DClearMask.default,Context3DCompareMode:Context3DCompareMode.default,Context3DMipFilter:Context3DMipFilter.default,Context3DProfile:Context3DProfile.default,Context3DProgramType:Context3DProgramType.default,Context3DRenderMode:Context3DRenderMode.default,Context3DStencilAction:Context3DStencilAction.default,Context3DTextureFilter:Context3DTextureFilter.default,Context3DTextureFormat:Context3DTextureFormat.default,Context3DTriangleFace:Context3DTriangleFace.default,Context3DVertexBufferFormat:Context3DVertexBufferFormat.default,Context3DWrapMode:Context3DWrapMode.default,IndexBuffer3D:IndexBuffer3D.default,Program3D:Program3D.default,VertexBuffer3D:VertexBuffer3D.default,errors,ArgumentError:ArgumentError.default,EOFError:EOFError.default,Error:_Error.default,IllegalOperationError:IllegalOperationError.default,IOError:IOError.default,RangeError:_RangeError.default,SecurityError:SecurityError.default,TypeError:_TypeError.default,events,AccelerometerEvent:AccelerometerEvent.default,ActivityEvent:ActivityEvent.default,AsyncErrorEvent:AsyncErrorEvent.default,DataEvent:DataEvent.default,ErrorEvent:ErrorEvent.default,Event:Event.default,EventDispatcher:EventDispatcher.default,EventPhase:EventPhase.default,FocusEvent:FocusEvent.default,FullScreenEvent:FullScreenEvent.default,GameInputEvent:GameInputEvent.default,HTTPStatusEvent:HTTPStatusEvent.default,IEventDispatcher:IEventDispatcher.default,IOErrorEvent:IOErrorEvent.default,KeyboardEvent:KeyboardEvent.default,MouseEvent:MouseEvent$1.default,NetStatusEvent:NetStatusEvent.default,ProgressEvent:ProgressEvent.default,RenderEvent:RenderEvent.default,SampleDataEvent:SampleDataEvent.default,SecurityErrorEvent:SecurityErrorEvent.default,TextEvent:TextEvent.default,TimerEvent:TimerEvent.default,TouchEvent:TouchEvent.default,UncaughtErrorEvent:UncaughtErrorEvent.default,UncaughtErrorEvents:UncaughtErrorEvents.default,VideoTextureEvent:VideoTextureEvent.default,external,ExternalInterface:ExternalInterface.default,filters,BitmapFilter:BitmapFilter.default,BitmapFilterQuality:BitmapFilterQuality.default,BitmapFilterShader:BitmapFilterShader.default,BitmapFilterType:BitmapFilterType.default,BlurFilter:BlurFilter.default,ColorMatrixFilter:ColorMatrixFilter.default,ConvolutionFilter:ConvolutionFilter.default,DropShadowFilter:DropShadowFilter.default,GlowFilter:GlowFilter.default,ShaderFilter:ShaderFilter.default,geom,ColorTransform:ColorTransform.default,Matrix:Matrix.default,Matrix3D:Matrix3D.default,Orientation3D:Orientation3D.default,PerspectiveProjection:PerspectiveProjection.default,Point:Point.default,Rectangle:Rectangle.default,Transform:Transform$g.default,Utils3D:Utils3D.default,Vector3D:Vector3D.default,media,ID3Info:ID3Info.default,Sound:Sound$1.default,SoundChannel:SoundChannel.default,SoundLoaderContext:SoundLoaderContext.default,SoundMixer:SoundMixer.default,SoundTransform:SoundTransform.default,Video:Video.default,net,FileFilter:FileFilter.default,FileReference:FileReference.default,FileReferenceList:FileReferenceList.default,NetConnection:NetConnection.default,NetStream:NetStream.default,ObjectEncoding:ObjectEncodingExports.default,SharedObject:SharedObject.default,SharedObjectFlushStatus:SharedObjectFlushStatus.default,Socket:Socket.default,URLLoader:URLLoader.default,URLLoaderDataFormat:URLLoaderDataFormat.default,URLRequest:URLRequest.default,URLRequestDefaults:URLRequestDefaults.default,URLRequestHeader:URLRequestHeader.default,URLRequestMethod:URLRequestMethod.default,URLStream:URLStream.default,URLVariables:URLVariables$1.default,XMLSocket:XMLSocket.default,navigateToURL:navigateToURL.default,sendToURL:sendToURL.default,printing,PrintJob:PrintJob.default,PrintJobOptions:PrintJobOptions.default,PrintJobOrientation:PrintJobOrientation.default,profiler,Telemetry:Telemetry.default,sensors,Accelerometer:Accelerometer.default,system,ApplicationDomain:ApplicationDomain.default,Capabilities:Capabilities.default,LoaderContext:LoaderContext.default,Security:Security.default,SecurityDomain:SecurityDomain.default,System:System.default,TouchscreenType:TouchscreenType.default,text:text$1,AntiAliasType:AntiAliasType.default,Font:Font$1.default,FontStyle:FontStyle.default,FontType:FontType.default,GridFitType:GridFitType.default,TextField:TextField.default,TextFieldAutoSize:TextFieldAutoSize.default,TextFieldType:TextFieldType.default,TextFormat:TextFormat.default,TextFormatAlign:TextFormatAlign.default,TextLineMetrics:TextLineMetrics.default,ui,GameInput:GameInput.default,GameInputControl:GameInputControl.default,GameInputDevice:GameInputDevice.default,Keyboard:Keyboard.default,KeyLocation:KeyLocation.default,Mouse:Mouse.default,MouseCursor:MouseCursor.default,Multitouch:Multitouch.default,MultitouchInputMode:MultitouchInputMode.default,utils,AGALMiniAssembler:AGALMiniAssembler.default,AssetCache:AssetCache.default,AssetLibrary:AssetLibraryExports.default,AssetManifest:AssetManifest.default,Assets:Assets.default,AssetType:AssetType.default,ByteArray:ByteArray.default,CompressionAlgorithm:CompressionAlgorithm.default,Dictionary:Dictionary$1.default,Endian:Endian.default,Future:Future.default,IAssetCache:IAssetCache.default,IDataInput:IDataInput.default,IDataOutput:IDataOutput.default,Timer:Timer$2.default,clearTimeout:clearTimeout$1.default,getDefinitionByName:getDefinitionByName.default,getQualifiedClassName:getQualifiedClassName.default,getQualifiedSuperclassName:getQualifiedSuperclassName.default,getTimer:getTimer.default,setTimeout:setTimeout$1.default,Lib:Lib.default,Memory:Memory.default,Vector:Vector.default};let height=0,width=0,scale=8,mouseX=0,mouseY=0,mouseDown=!1,windowWidth=0,windowHeight=0;const S={windowWidth,windowHeight,height,width,scale,mouseX,mouseY,mouseDown};let fps=60,worldStep=fps/2,entityCount=0;const A={fps,entityCount,worldStep};class Subscription{constructor(_,d){this.messageType=_,this.callback=d}}class Bus{constructor(){jt(this,"subscribe",(_,d)=>{const o=new Subscription(_,d);return this.subscriptions.push(o),o});jt(this,"unsubscribe",(_,d)=>{const o=this.subscriptions.find(c=>c.messageType===_&&c.callback===d);o&&this.remove(o)});jt(this,"remove",_=>{const d=this.subscriptions.indexOf(_);this.subscriptions.splice(d,1)});jt(this,"clear",_=>{const d=this.subscriptions.filter(o=>o.messageType===_);for(let o in d)this.remove(o)});jt(this,"dispatch",(_,d={})=>{const o=this.subscriptions.filter(c=>c.messageType===_);for(let c of o)c.callback(d)});this.subscriptions=[]}}const bus=new Bus,MessageType={SET_STATE:"setState",ADD_ENTITY:"addEntity",REMOVE_ENTITY:"removeEntity",REMOVE_TYPE:"removeType",SET_SCALE:"setScale",SET_FPS:"setFPS",SHOW_LAYER:"showLayer",HIDE_LAYER:"hideLayer",SHOW_OVERLAY:"showOverlay",HIDE_OVERLAY:"hideOverlay",KEY_DOWN:"keyDown",KEY_UP:"keyUp",ENABLE_KEYS:"enableKeys",DISABLE_KEYS:"disableKeys",COLLISION:"collision",CREATE_BODY:"createBody",DESTROY_BODY:"destroyBody",PAUSE_APP:"pauseApp",RESUME_APP:"resumeApp"};class Engine{constructor(_){jt(this,"pause",()=>{this.paused=!0});jt(this,"resume",()=>{this.paused=!1});jt(this,"onSetFPS",()=>{this.stop(),this.delay=Math.round(1e3/A.fps),this.start()});jt(this,"addEntity",_=>{this.entities.push(_),_.id===0&&(_.id=A.entityCount),this.entities.push(_),_.view&&this.view.add(_),_.init(),A.entityCount++});jt(this,"removeEntity",_=>{if(!this.entities.find(c=>c===_))return;_.dispose();const o=this.entities.indexOf(_);this.entities.splice(o,1),_.view&&this.view.remove(_),A.entityCount-=1});jt(this,"removeType",_=>{this.entities.filter(o=>o.type===_).forEach(o=>{this.removeEntity(o)})});jt(this,"onCollision",_=>{const d=this.findById(_.uA.id),o=this.findById(_.uB.id);!d||!o||(d.handleCollision(o),o.handleCollision(d))});jt(this,"findById",_=>this.entities.find(d=>d.id===_));jt(this,"start",()=>{this.interval=setInterval(()=>{this.counter+=1,this.update(this.counter)},this.delay)});jt(this,"stop",()=>{clearInterval(this.interval)});jt(this,"update",_=>{this.paused||(this.view.clear(),this.entities.forEach(d=>{d.update(_),d.remove||d.render&&this.view.render(d)}),this.entities.forEach(d=>{d.remove&&this.remove.push(d)}),this.remove.length>0&&(this.remove.forEach(d=>{this.removeEntity(d)}),this.remove=[]))});this.view=_,this.entities=[],this.remove=[],this.delay=Math.round(1e3/A.fps),this.counter=0,this.entityCount=0,this.paused=!1,bus.subscribe(MessageType.PAUSE_APP,this.pause),bus.subscribe(MessageType.RESUME_APP,this.resume),bus.subscribe(MessageType.SET_FPS,this.onSetFPS),bus.subscribe(MessageType.ADD_ENTITY,this.addEntity),bus.subscribe(MessageType.REMOVE_ENTITY,this.removeEntity),bus.subscribe(MessageType.REMOVE_TYPE,this.removeType),bus.subscribe(MessageType.COLLISION,this.onCollision)}}var lib={},serializer$1={exports:{}};var options$e=function(e,_){(e===null||typeof e>"u")&&(e={});var d=Object.assign({},e);for(var o in _)_.hasOwnProperty(o)&&typeof e[o]>"u"&&(d[o]=_[o]);if(typeof Object.getOwnPropertySymbols=="function")for(var c=Object.getOwnPropertySymbols(_),s=0;s<c.length;s++){var h=c[s];_.propertyIsEnumerable(h)&&typeof e[o]>"u"&&(d[h]=_[h])}return d},common$y={},_DEBUG$9=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$y=typeof ASSERT>"u"?!1:ASSERT;common$y.debug=function(){_DEBUG$9&&console.log.apply(console,arguments)};common$y.assert=function(e,_,d){if(_ASSERT$y&&!e)throw d&&console.log(d),new Error(_)};var _Math={exports:{}},_DEBUG$8=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$x=typeof ASSERT>"u"?!1:ASSERT,common$x=common$y,native=Math,math=_Math.exports=Object.create(native);math.EPSILON=1e-9;math.isFinite=function(e){return typeof e=="number"&&isFinite(e)&&!isNaN(e)};math.assert=function(e){if(_ASSERT$x&&!math.isFinite(e))throw _DEBUG$8&&common$x.debug(e),new Error("Invalid Number!")};math.invSqrt=function(e){return 1/native.sqrt(e)};math.nextPowerOfTwo=function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e+1};math.isPowerOfTwo=function(e){return e>0&&(e&e-1)==0};math.mod=function(e,_,d){return typeof _>"u"?(d=1,_=0):typeof d>"u"&&(d=_,_=0),d>_?(e=(e-_)%(d-_),e+(e<0?d:_)):(e=(e-d)%(_-d),e+(e<=0?_:d))};math.clamp=function(e,_,d){return e<_?_:e>d?d:e};math.random=function(e,_){return typeof e>"u"?(_=1,e=0):typeof _>"u"&&(_=e,e=0),e==_?e:native.random()*(_-e)+e};var _MathExports=_Math.exports,_DEBUG$7=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$w=typeof ASSERT>"u"?!1:ASSERT,Vec2_1=Vec2$C,common$w=common$y,Math$t=_MathExports;function Vec2$C(e,_){if(!(this instanceof Vec2$C))return new Vec2$C(e,_);typeof e>"u"?(this.x=0,this.y=0):typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=_),_ASSERT$w&&Vec2$C.assert(this)}Vec2$C.prototype._serialize=function(){return{x:this.x,y:this.y}};Vec2$C._deserialize=function(e){var _=Object.create(Vec2$C.prototype);return _.x=e.x,_.y=e.y,_};Vec2$C.zero=function(){var e=Object.create(Vec2$C.prototype);return e.x=0,e.y=0,e};Vec2$C.neo=function(e,_){var d=Object.create(Vec2$C.prototype);return d.x=e,d.y=_,d};Vec2$C.clone=function(e){return _ASSERT$w&&Vec2$C.assert(e),Vec2$C.neo(e.x,e.y)};Vec2$C.prototype.toString=function(){return JSON.stringify(this)};Vec2$C.isValid=function(e){return e&&Math$t.isFinite(e.x)&&Math$t.isFinite(e.y)};Vec2$C.assert=function(e){if(_ASSERT$w&&!Vec2$C.isValid(e))throw _DEBUG$7&&common$w.debug(e),new Error("Invalid Vec2!")};Vec2$C.prototype.clone=function(){return Vec2$C.clone(this)};Vec2$C.prototype.setZero=function(){return this.x=0,this.y=0,this};Vec2$C.prototype.set=function(e,_){return typeof e=="object"?(_ASSERT$w&&Vec2$C.assert(e),this.x=e.x,this.y=e.y):(_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Math$t.assert(_),this.x=e,this.y=_),this};Vec2$C.prototype.wSet=function(e,_,d,o){return typeof d<"u"||typeof o<"u"?this.setCombine(e,_,d,o):this.setMul(e,_)};Vec2$C.prototype.setCombine=function(e,_,d,o){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_),_ASSERT$w&&Math$t.assert(d),_ASSERT$w&&Vec2$C.assert(o);var c=e*_.x+d*o.x,s=e*_.y+d*o.y;return this.x=c,this.y=s,this};Vec2$C.prototype.setMul=function(e,_){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_);var d=e*_.x,o=e*_.y;return this.x=d,this.y=o,this};Vec2$C.prototype.add=function(e){return _ASSERT$w&&Vec2$C.assert(e),this.x+=e.x,this.y+=e.y,this};Vec2$C.prototype.wAdd=function(e,_,d,o){return typeof d<"u"||typeof o<"u"?this.addCombine(e,_,d,o):this.addMul(e,_)};Vec2$C.prototype.addCombine=function(e,_,d,o){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_),_ASSERT$w&&Math$t.assert(d),_ASSERT$w&&Vec2$C.assert(o);var c=e*_.x+d*o.x,s=e*_.y+d*o.y;return this.x+=c,this.y+=s,this};Vec2$C.prototype.addMul=function(e,_){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_);var d=e*_.x,o=e*_.y;return this.x+=d,this.y+=o,this};Vec2$C.prototype.wSub=function(e,_,d,o){return typeof d<"u"||typeof o<"u"?this.subCombine(e,_,d,o):this.subMul(e,_)};Vec2$C.prototype.subCombine=function(e,_,d,o){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_),_ASSERT$w&&Math$t.assert(d),_ASSERT$w&&Vec2$C.assert(o);var c=e*_.x+d*o.x,s=e*_.y+d*o.y;return this.x-=c,this.y-=s,this};Vec2$C.prototype.subMul=function(e,_){_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_);var d=e*_.x,o=e*_.y;return this.x-=d,this.y-=o,this};Vec2$C.prototype.sub=function(e){return _ASSERT$w&&Vec2$C.assert(e),this.x-=e.x,this.y-=e.y,this};Vec2$C.prototype.mul=function(e){return _ASSERT$w&&Math$t.assert(e),this.x*=e,this.y*=e,this};Vec2$C.prototype.length=function(){return Vec2$C.lengthOf(this)};Vec2$C.prototype.lengthSquared=function(){return Vec2$C.lengthSquared(this)};Vec2$C.prototype.normalize=function(){var e=this.length();if(e<Math$t.EPSILON)return 0;var _=1/e;return this.x*=_,this.y*=_,e};Vec2$C.lengthOf=function(e){return _ASSERT$w&&Vec2$C.assert(e),Math$t.sqrt(e.x*e.x+e.y*e.y)};Vec2$C.lengthSquared=function(e){return _ASSERT$w&&Vec2$C.assert(e),e.x*e.x+e.y*e.y};Vec2$C.distance=function(e,_){_ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_);var d=e.x-_.x,o=e.y-_.y;return Math$t.sqrt(d*d+o*o)};Vec2$C.distanceSquared=function(e,_){_ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_);var d=e.x-_.x,o=e.y-_.y;return d*d+o*o};Vec2$C.areEqual=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),e==_||typeof _=="object"&&_!==null&&e.x===_.x&&e.y===_.y};Vec2$C.skew=function(e){return _ASSERT$w&&Vec2$C.assert(e),Vec2$C.neo(-e.y,e.x)};Vec2$C.dot=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),e.x*_.x+e.y*_.y};Vec2$C.cross=function(e,_){return typeof _=="number"?(_ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Math$t.assert(_),Vec2$C.neo(_*e.y,-_*e.x)):typeof e=="number"?(_ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(-e*_.y,e*_.x)):(_ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),e.x*_.y-e.y*_.x)};Vec2$C.addCross=function(e,_,d){if(typeof d=="number")return _ASSERT$w&&Vec2$C.assert(_),_ASSERT$w&&Math$t.assert(d),Vec2$C.neo(d*_.y+e.x,-d*_.x+e.y);if(typeof _=="number")return _ASSERT$w&&Math$t.assert(_),_ASSERT$w&&Vec2$C.assert(d),Vec2$C.neo(-_*d.y+e.x,_*d.x+e.y);_ASSERT$w&&common$w.assert(!1)};Vec2$C.add=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(e.x+_.x,e.y+_.y)};Vec2$C.wAdd=function(e,_,d,o){return typeof d<"u"||typeof o<"u"?Vec2$C.combine(e,_,d,o):Vec2$C.mul(e,_)};Vec2$C.combine=function(e,_,d,o){return Vec2$C.zero().setCombine(e,_,d,o)};Vec2$C.sub=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(e.x-_.x,e.y-_.y)};Vec2$C.mul=function(e,_){if(typeof e=="object")return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Math$t.assert(_),Vec2$C.neo(e.x*_,e.y*_);if(typeof _=="object")return _ASSERT$w&&Math$t.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(e*_.x,e*_.y)};Vec2$C.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this};Vec2$C.neg=function(e){return _ASSERT$w&&Vec2$C.assert(e),Vec2$C.neo(-e.x,-e.y)};Vec2$C.abs=function(e){return _ASSERT$w&&Vec2$C.assert(e),Vec2$C.neo(Math$t.abs(e.x),Math$t.abs(e.y))};Vec2$C.mid=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo((e.x+_.x)*.5,(e.y+_.y)*.5)};Vec2$C.upper=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(Math$t.max(e.x,_.x),Math$t.max(e.y,_.y))};Vec2$C.lower=function(e,_){return _ASSERT$w&&Vec2$C.assert(e),_ASSERT$w&&Vec2$C.assert(_),Vec2$C.neo(Math$t.min(e.x,_.x),Math$t.min(e.y,_.y))};Vec2$C.prototype.clamp=function(e){var _=this.x*this.x+this.y*this.y;if(_>e*e){var d=Math$t.invSqrt(_);this.x*=d*e,this.y*=d*e}return this};Vec2$C.clamp=function(e,_){return e=Vec2$C.neo(e.x,e.y),e.clamp(_),e};Vec2$C.scaleFn=function(e,_){return function(d){return Vec2$C.neo(d.x*e,d.y*_)}};Vec2$C.translateFn=function(e,_){return function(d){return Vec2$C.neo(d.x+e,d.y+_)}};var Settings$i={};(function(e){typeof DEBUG>"u"||DEBUG,typeof ASSERT>"u"||ASSERT;var _=e;_.maxManifoldPoints=2,_.maxPolygonVertices=12,_.aabbExtension=.1,_.aabbMultiplier=2,_.linearSlop=.005,_.linearSlopSquared=_.linearSlop*_.linearSlop,_.angularSlop=2/180*Math.PI,_.polygonRadius=2*_.linearSlop,_.maxSubSteps=8,_.maxTOIContacts=32,_.maxTOIIterations=20,_.maxDistnceIterations=20,_.velocityThreshold=1,_.maxLinearCorrection=.2,_.maxAngularCorrection=8/180*Math.PI,_.maxTranslation=2,_.maxTranslationSquared=_.maxTranslation*_.maxTranslation,_.maxRotation=.5*Math.PI,_.maxRotationSquared=_.maxRotation*_.maxRotation,_.baumgarte=.2,_.toiBaugarte=.75,_.timeToSleep=.5,_.linearSleepTolerance=.01,_.linearSleepToleranceSqr=Math.pow(_.linearSleepTolerance,2),_.angularSleepTolerance=2/180*Math.PI,_.angularSleepToleranceSqr=Math.pow(_.angularSleepTolerance,2)})(Settings$i);var _DEBUG$6=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$v=typeof ASSERT>"u"?!1:ASSERT,common$v=common$y,Math$s=_MathExports,Vec2$B=Vec2_1,AABB_1=AABB$3;function AABB$3(e,_){if(!(this instanceof AABB$3))return new AABB$3(e,_);this.lowerBound=Vec2$B.zero(),this.upperBound=Vec2$B.zero(),typeof e=="object"&&this.lowerBound.set(e),typeof _=="object"?this.upperBound.set(_):typeof e=="object"&&this.upperBound.set(e)}AABB$3.prototype.isValid=function(){return AABB$3.isValid(this)};AABB$3.isValid=function(e){var _=Vec2$B.sub(e.upperBound,e.lowerBound),d=_.x>=0&&_.y>=0&&Vec2$B.isValid(e.lowerBound)&&Vec2$B.isValid(e.upperBound);return d};AABB$3.assert=function(e){if(_ASSERT$v&&!AABB$3.isValid(e))throw _DEBUG$6&&common$v.debug(e),new Error("Invalid AABB!")};AABB$3.prototype.getCenter=function(){return Vec2$B.neo((this.lowerBound.x+this.upperBound.x)*.5,(this.lowerBound.y+this.upperBound.y)*.5)};AABB$3.prototype.getExtents=function(){return Vec2$B.neo((this.upperBound.x-this.lowerBound.x)*.5,(this.upperBound.y-this.lowerBound.y)*.5)};AABB$3.prototype.getPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+this.upperBound.y-this.lowerBound.y)};AABB$3.prototype.combine=function(e,_){_=_||this;var d=e.lowerBound,o=e.upperBound,c=_.lowerBound,s=_.upperBound,h=Math$s.min(d.x,c.x),f=Math$s.min(d.y,c.y),g=Math$s.max(s.x,o.x),b=Math$s.max(s.y,o.y);this.lowerBound.set(h,f),this.upperBound.set(g,b)};AABB$3.prototype.combinePoints=function(e,_){this.lowerBound.set(Math$s.min(e.x,_.x),Math$s.min(e.y,_.y)),this.upperBound.set(Math$s.max(e.x,_.x),Math$s.max(e.y,_.y))};AABB$3.prototype.set=function(e){this.lowerBound.set(e.lowerBound.x,e.lowerBound.y),this.upperBound.set(e.upperBound.x,e.upperBound.y)};AABB$3.prototype.contains=function(e){var _=!0;return _=_&&this.lowerBound.x<=e.lowerBound.x,_=_&&this.lowerBound.y<=e.lowerBound.y,_=_&&e.upperBound.x<=this.upperBound.x,_=_&&e.upperBound.y<=this.upperBound.y,_};AABB$3.prototype.extend=function(e){return AABB$3.extend(this,e),this};AABB$3.extend=function(e,_){e.lowerBound.x-=_,e.lowerBound.y-=_,e.upperBound.x+=_,e.upperBound.y+=_};AABB$3.testOverlap=function(e,_){var d=_.lowerBound.x-e.upperBound.x,o=e.lowerBound.x-_.upperBound.x,c=_.lowerBound.y-e.upperBound.y,s=e.lowerBound.y-_.upperBound.y;return!(d>0||c>0||o>0||s>0)};AABB$3.areEqual=function(e,_){return Vec2$B.areEqual(e.lowerBound,_.lowerBound)&&Vec2$B.areEqual(e.upperBound,_.upperBound)};AABB$3.diff=function(e,_){var d=Math$s.max(0,Math$s.min(e.upperBound.x,_.upperBound.x)-Math$s.max(_.lowerBound.x,e.lowerBound.x)),o=Math$s.max(0,Math$s.min(e.upperBound.y,_.upperBound.y)-Math$s.max(_.lowerBound.y,e.lowerBound.y)),c=e.upperBound.x-e.lowerBound.x,s=e.upperBound.y-e.lowerBound.y,h=_.upperBound.x-_.lowerBound.x,f=_.upperBound.y-_.lowerBound.y;return c*s+h*f-d*o};AABB$3.prototype.rayCast=function(e,_){for(var d=-1/0,o=1/0,c=_.p1,s=Vec2$B.sub(_.p2,_.p1),h=Vec2$B.abs(s),f=Vec2$B.zero(),g="x";g!==null;g=g==="x"?"y":null)if(h.x<Math$s.EPSILON){if(c[g]<this.lowerBound[g]||this.upperBound[g]<c[g])return!1}else{var b=1/s[g],k=(this.lowerBound[g]-c[g])*b,$=(this.upperBound[g]-c[g])*b,j=-1;if(k>$){var _e=k;k=$,$=_e,j=1}if(k>d&&(f.setZero(),f[g]=j,d=k),o=Math$s.min(o,$),d>o)return!1}return d<0||_.maxFraction<d?!1:(e.fraction=d,e.normal=f,!0)};AABB$3.prototype.toString=function(){return JSON.stringify(this)};var Pool_1=Pool$1;function Pool$1(e){var _=[],d=e.max||1/0,o=e.create,c=e.allocate,s=e.release,h=e.discard,f=0,g=0,b=0,k=0;this.max=function($){return typeof $=="number"?(d=$,this):d},this.size=function(){return _.length},this.allocate=function(){var $;return _.length>0?$=_.shift():(f++,typeof o=="function"?$=o():$={}),g++,typeof c=="function"&&c($),$},this.release=function($){_.length<d?(b++,typeof s=="function"&&s($),_.push($)):(k++,typeof h=="function"&&($=h($)))},this.toString=function(){return" +"+f+" >"+g+" <"+b+" -"+k+" ="+_.length+"/"+d}}var _ASSERT$u=typeof ASSERT>"u"?!1:ASSERT,Settings$h=Settings$i,common$u=common$y,Pool=Pool_1,Vec2$A=Vec2_1,Math$r=_MathExports,AABB$2=AABB_1,DynamicTree_1=DynamicTree$1;function TreeNode(e){this.id=e,this.aabb=new AABB$2,this.userData=null,this.parent=null,this.child1=null,this.child2=null,this.height=-1,this.toString=function(){return this.id+": "+this.userData}}TreeNode.prototype.isLeaf=function(){return this.child1==null};function DynamicTree$1(){this.m_root=null,this.m_nodes={},this.m_lastProxyId=0,this.m_pool=new Pool({create:function(){return new TreeNode}})}DynamicTree$1.prototype.getUserData=function(e){var _=this.m_nodes[e];return _ASSERT$u&&common$u.assert(!!_),_.userData};DynamicTree$1.prototype.getFatAABB=function(e){var _=this.m_nodes[e];return _ASSERT$u&&common$u.assert(!!_),_.aabb};DynamicTree$1.prototype.allocateNode=function(){var e=this.m_pool.allocate();return e.id=++this.m_lastProxyId,e.userData=null,e.parent=null,e.child1=null,e.child2=null,e.height=-1,this.m_nodes[e.id]=e,e};DynamicTree$1.prototype.freeNode=function(e){this.m_pool.release(e),e.height=-1,delete this.m_nodes[e.id]};DynamicTree$1.prototype.createProxy=function(e,_){_ASSERT$u&&common$u.assert(AABB$2.isValid(e));var d=this.allocateNode();return d.aabb.set(e),AABB$2.extend(d.aabb,Settings$h.aabbExtension),d.userData=_,d.height=0,this.insertLeaf(d),d.id};DynamicTree$1.prototype.destroyProxy=function(e){var _=this.m_nodes[e];_ASSERT$u&&common$u.assert(!!_),_ASSERT$u&&common$u.assert(_.isLeaf()),this.removeLeaf(_),this.freeNode(_)};DynamicTree$1.prototype.moveProxy=function(e,_,d){_ASSERT$u&&common$u.assert(AABB$2.isValid(_)),_ASSERT$u&&common$u.assert(!d||Vec2$A.isValid(d));var o=this.m_nodes[e];return _ASSERT$u&&common$u.assert(!!o),_ASSERT$u&&common$u.assert(o.isLeaf()),o.aabb.contains(_)?!1:(this.removeLeaf(o),o.aabb.set(_),_=o.aabb,AABB$2.extend(_,Settings$h.aabbExtension),d.x<0?_.lowerBound.x+=d.x*Settings$h.aabbMultiplier:_.upperBound.x+=d.x*Settings$h.aabbMultiplier,d.y<0?_.lowerBound.y+=d.y*Settings$h.aabbMultiplier:_.upperBound.y+=d.y*Settings$h.aabbMultiplier,this.insertLeaf(o),!0)};DynamicTree$1.prototype.insertLeaf=function(e){if(_ASSERT$u&&common$u.assert(AABB$2.isValid(e.aabb)),this.m_root==null){this.m_root=e,this.m_root.parent=null;return}for(var _=e.aabb,d=this.m_root;d.isLeaf()==!1;){var o=d.child1,c=d.child2,s=d.aabb.getPerimeter(),h=new AABB$2;h.combine(d.aabb,_);var f=h.getPerimeter(),g=2*f,b=2*(f-s),k;if(o.isLeaf()){var $=new AABB$2;$.combine(_,o.aabb),k=$.getPerimeter()+b}else{var $=new AABB$2;$.combine(_,o.aabb);var j=o.aabb.getPerimeter(),_e=$.getPerimeter();k=_e-j+b}var et;if(c.isLeaf()){var $=new AABB$2;$.combine(_,c.aabb),et=$.getPerimeter()+b}else{var $=new AABB$2;$.combine(_,c.aabb);var j=c.aabb.getPerimeter(),_e=$.getPerimeter();et=_e-j+b}if(g<k&&g<et)break;k<et?d=o:d=c}var nt=d,rt=nt.parent,tt=this.allocateNode();for(tt.parent=rt,tt.userData=null,tt.aabb.combine(_,nt.aabb),tt.height=nt.height+1,rt!=null?(rt.child1==nt?rt.child1=tt:rt.child2=tt,tt.child1=nt,tt.child2=e,nt.parent=tt,e.parent=tt):(tt.child1=nt,tt.child2=e,nt.parent=tt,e.parent=tt,this.m_root=tt),d=e.parent;d!=null;){d=this.balance(d);var o=d.child1,c=d.child2;_ASSERT$u&&common$u.assert(o!=null),_ASSERT$u&&common$u.assert(c!=null),d.height=1+Math$r.max(o.height,c.height),d.aabb.combine(o.aabb,c.aabb),d=d.parent}};DynamicTree$1.prototype.removeLeaf=function(e){if(e==this.m_root){this.m_root=null;return}var _=e.parent,d=_.parent,o;if(_.child1==e?o=_.child2:o=_.child1,d!=null){d.child1==_?d.child1=o:d.child2=o,o.parent=d,this.freeNode(_);for(var c=d;c!=null;){c=this.balance(c);var s=c.child1,h=c.child2;c.aabb.combine(s.aabb,h.aabb),c.height=1+Math$r.max(s.height,h.height),c=c.parent}}else this.m_root=o,o.parent=null,this.freeNode(_)};DynamicTree$1.prototype.balance=function(e){_ASSERT$u&&common$u.assert(e!=null);var _=e;if(_.isLeaf()||_.height<2)return e;var d=_.child1,o=_.child2,c=o.height-d.height;if(c>1){var s=o.child1,h=o.child2;return o.child1=_,o.parent=_.parent,_.parent=o,o.parent!=null?o.parent.child1==e?o.parent.child1=o:o.parent.child2=o:this.m_root=o,s.height>h.height?(o.child2=s,_.child2=h,h.parent=_,_.aabb.combine(d.aabb,h.aabb),o.aabb.combine(_.aabb,s.aabb),_.height=1+Math$r.max(d.height,h.height),o.height=1+Math$r.max(_.height,s.height)):(o.child2=h,_.child2=s,s.parent=_,_.aabb.combine(d.aabb,s.aabb),o.aabb.combine(_.aabb,h.aabb),_.height=1+Math$r.max(d.height,s.height),o.height=1+Math$r.max(_.height,h.height)),o}if(c<-1){var f=d.child1,g=d.child2;return d.child1=_,d.parent=_.parent,_.parent=d,d.parent!=null?d.parent.child1==_?d.parent.child1=d:d.parent.child2=d:this.m_root=d,f.height>g.height?(d.child2=f,_.child1=g,g.parent=_,_.aabb.combine(o.aabb,g.aabb),d.aabb.combine(_.aabb,f.aabb),_.height=1+Math$r.max(o.height,g.height),d.height=1+Math$r.max(_.height,f.height)):(d.child2=g,_.child1=f,f.parent=_,_.aabb.combine(o.aabb,f.aabb),d.aabb.combine(_.aabb,g.aabb),_.height=1+Math$r.max(o.height,f.height),d.height=1+Math$r.max(_.height,g.height)),d}return _};DynamicTree$1.prototype.getHeight=function(){return this.m_root==null?0:this.m_root.height};DynamicTree$1.prototype.getAreaRatio=function(){if(this.m_root==null)return 0;for(var e=this.m_root,_=e.aabb.getPerimeter(),d=0,o,c=iteratorPool.allocate().preorder(this.m_root);o=c.next();)o.height<0||(d+=o.aabb.getPerimeter());return iteratorPool.release(c),d/_};DynamicTree$1.prototype.computeHeight=function(e){var _;if(typeof e<"u"?_=this.m_nodes[e]:_=this.m_root,_.isLeaf())return 0;var d=this.computeHeight(_.child1.id),o=this.computeHeight(_.child2.id);return 1+Math$r.max(d,o)};DynamicTree$1.prototype.validateStructure=function(e){if(e!=null){e==this.m_root&&_ASSERT$u&&common$u.assert(e.parent==null);var _=e.child1,d=e.child2;if(e.isLeaf()){_ASSERT$u&&common$u.assert(_==null),_ASSERT$u&&common$u.assert(d==null),_ASSERT$u&&common$u.assert(e.height==0);return}_ASSERT$u&&common$u.assert(_.parent==e),_ASSERT$u&&common$u.assert(d.parent==e),this.validateStructure(_),this.validateStructure(d)}};DynamicTree$1.prototype.validateMetrics=function(e){if(e!=null){var _=e.child1,d=e.child2;if(e.isLeaf()){_ASSERT$u&&common$u.assert(_==null),_ASSERT$u&&common$u.assert(d==null),_ASSERT$u&&common$u.assert(e.height==0);return}var o=_.height,c=d.height,s=1+Math$r.max(o,c);_ASSERT$u&&common$u.assert(e.height==s);var h=new AABB$2;h.combine(_.aabb,d.aabb),_ASSERT$u&&common$u.assert(AABB$2.areEqual(h,e.aabb)),this.validateMetrics(_),this.validateMetrics(d)}};DynamicTree$1.prototype.validate=function(){this.validateStructure(this.m_root),this.validateMetrics(this.m_root),_ASSERT$u&&common$u.assert(this.getHeight()==this.computeHeight())};DynamicTree$1.prototype.getMaxBalance=function(){for(var e=0,_,d=iteratorPool.allocate().preorder(this.m_root);_=d.next();)if(!(_.height<=1)){_ASSERT$u&&common$u.assert(_.isLeaf()==!1);var o=Math$r.abs(_.child2.height-_.child1.height);e=Math$r.max(e,o)}return iteratorPool.release(d),e};DynamicTree$1.prototype.rebuildBottomUp=function(){for(var e=[],_=0,d,o=iteratorPool.allocate().preorder(this.m_root);d=o.next();)d.height<0||(d.isLeaf()?(d.parent=null,e[_]=d,++_):this.freeNode(d));for(iteratorPool.release(o);_>1;){for(var c=1/0,s=-1,h=-1,f=0;f<_;++f)for(var g=e[f].aabb,b=f+1;b<_;++b){var k=e[b].aabb,$=new AABB$2;$.combine(g,k);var j=$.getPerimeter();j<c&&(s=f,h=b,c=j)}var _e=e[s],et=e[h],nt=this.allocateNode();nt.child1=_e,nt.child2=et,nt.height=1+Math$r.max(_e.height,et.height),nt.aabb.combine(_e.aabb,et.aabb),nt.parent=null,_e.parent=nt,et.parent=nt,e[h]=e[_-1],e[s]=nt,--_}this.m_root=e[0],this.validate()};DynamicTree$1.prototype.shiftOrigin=function(e){for(var _,d=iteratorPool.allocate().preorder(this.m_root);_=d.next();){var o=_.aabb;o.lowerBound.x-=e.x,o.lowerBound.y-=e.y,o.upperBound.x-=e.x,o.upperBound.y-=e.y}iteratorPool.release(d)};DynamicTree$1.prototype.query=function(e,_){_ASSERT$u&&common$u.assert(typeof _=="function");var d=stackPool.allocate();for(d.push(this.m_root);d.length>0;){var o=d.pop();if(o!=null&&AABB$2.testOverlap(o.aabb,e))if(o.isLeaf()){var c=_(o.id);if(c==!1)return}else d.push(o.child1),d.push(o.child2)}stackPool.release(d)};DynamicTree$1.prototype.rayCast=function(e,_){_ASSERT$u&&common$u.assert(typeof _=="function");var d=e.p1,o=e.p2,c=Vec2$A.sub(o,d);_ASSERT$u&&common$u.assert(c.lengthSquared()>0),c.normalize();var s=Vec2$A.cross(1,c),h=Vec2$A.abs(s),f=e.maxFraction,g=new AABB$2,b=Vec2$A.combine(1-f,d,f,o);g.combinePoints(d,b);var k=stackPool.allocate(),$=inputPool.allocate();for(k.push(this.m_root);k.length>0;){var j=k.pop();if(j!=null&&AABB$2.testOverlap(j.aabb,g)!=!1){var _e=j.aabb.getCenter(),et=j.aabb.getExtents(),nt=Math$r.abs(Vec2$A.dot(s,Vec2$A.sub(d,_e)))-Vec2$A.dot(h,et);if(!(nt>0))if(j.isLeaf()){$.p1=Vec2$A.clone(e.p1),$.p2=Vec2$A.clone(e.p2),$.maxFraction=f;var rt=_($,j.id);if(rt==0)return;rt>0&&(f=rt,b=Vec2$A.combine(1-f,d,f,o),g.combinePoints(d,b))}else k.push(j.child1),k.push(j.child2)}}stackPool.release(k),inputPool.release($)};var inputPool=new Pool({create:function(){return{}},release:function(e){}}),stackPool=new Pool({create:function(){return[]},release:function(e){e.length=0}}),iteratorPool=new Pool({create:function(){return new Iterator},release:function(e){e.close()}});function Iterator(){var e=[],_=[];return{preorder:function(d){return e.length=0,e.push(d),_.length=0,_.push(0),this},next:function(){for(;e.length>0;){var d=e.length-1,o=e[d];if(_[d]===0)return _[d]=1,o;if(_[d]===1&&(_[d]=2,o.child1))return e.push(o.child1),_.push(1),o.child1;if(_[d]===2&&(_[d]=3,o.child2))return e.push(o.child2),_.push(1),o.child2;e.pop(),_.pop()}},close:function(){e.length=0}}}var _ASSERT$t=typeof ASSERT>"u"?!1:ASSERT,common$t=common$y,Math$q=_MathExports,AABB$1=AABB_1,DynamicTree=DynamicTree_1,BroadPhase_1=BroadPhase$1;function BroadPhase$1(){this.m_tree=new DynamicTree,this.m_proxyCount=0,this.m_moveBuffer=[],this.queryCallback=this.queryCallback.bind(this)}BroadPhase$1.prototype.getUserData=function(e){return this.m_tree.getUserData(e)};BroadPhase$1.prototype.testOverlap=function(e,_){var d=this.m_tree.getFatAABB(e),o=this.m_tree.getFatAABB(_);return AABB$1.testOverlap(d,o)};BroadPhase$1.prototype.getFatAABB=function(e){return this.m_tree.getFatAABB(e)};BroadPhase$1.prototype.getProxyCount=function(){return this.m_proxyCount};BroadPhase$1.prototype.getTreeHeight=function(){return this.m_tree.getHeight()};BroadPhase$1.prototype.getTreeBalance=function(){return this.m_tree.getMaxBalance()};BroadPhase$1.prototype.getTreeQuality=function(){return this.m_tree.getAreaRatio()};BroadPhase$1.prototype.query=function(e,_){this.m_tree.query(e,_)};BroadPhase$1.prototype.rayCast=function(e,_){this.m_tree.rayCast(e,_)};BroadPhase$1.prototype.shiftOrigin=function(e){this.m_tree.shiftOrigin(e)};BroadPhase$1.prototype.createProxy=function(e,_){_ASSERT$t&&common$t.assert(AABB$1.isValid(e));var d=this.m_tree.createProxy(e,_);return this.m_proxyCount++,this.bufferMove(d),d};BroadPhase$1.prototype.destroyProxy=function(e){this.unbufferMove(e),this.m_proxyCount--,this.m_tree.destroyProxy(e)};BroadPhase$1.prototype.moveProxy=function(e,_,d){_ASSERT$t&&common$t.assert(AABB$1.isValid(_));var o=this.m_tree.moveProxy(e,_,d);o&&this.bufferMove(e)};BroadPhase$1.prototype.touchProxy=function(e){this.bufferMove(e)};BroadPhase$1.prototype.bufferMove=function(e){this.m_moveBuffer.push(e)};BroadPhase$1.prototype.unbufferMove=function(e){for(var _=0;_<this.m_moveBuffer.length;++_)this.m_moveBuffer[_]==e&&(this.m_moveBuffer[_]=null)};BroadPhase$1.prototype.updatePairs=function(e){for(_ASSERT$t&&common$t.assert(typeof e=="function"),this.m_callback=e;this.m_moveBuffer.length>0;)if(this.m_queryProxyId=this.m_moveBuffer.pop(),this.m_queryProxyId!==null){var _=this.m_tree.getFatAABB(this.m_queryProxyId);this.m_tree.query(_,this.queryCallback)}};BroadPhase$1.prototype.queryCallback=function(e){if(e==this.m_queryProxyId)return!0;var _=Math$q.min(e,this.m_queryProxyId),d=Math$q.max(e,this.m_queryProxyId),o=this.m_tree.getUserData(_),c=this.m_tree.getUserData(d);return this.m_callback(o,c),!0};var Solver$2={exports:{}},_DEBUG$5=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$s=typeof ASSERT>"u"?!1:ASSERT,Rot_1=Rot$o,common$s=common$y,Vec2$z=Vec2_1,Math$p=_MathExports;function Rot$o(e){if(!(this instanceof Rot$o))return new Rot$o(e);typeof e=="number"?this.setAngle(e):typeof e=="object"?this.set(e):this.setIdentity()}Rot$o.neo=function(e){var _=Object.create(Rot$o.prototype);return _.setAngle(e),_};Rot$o.clone=function(e){_ASSERT$s&&Rot$o.assert(e);var _=Object.create(Rot$o.prototype);return _.s=e.s,_.c=e.c,_};Rot$o.identity=function(){var e=Object.create(Rot$o.prototype);return e.s=0,e.c=1,e};Rot$o.isValid=function(e){return e&&Math$p.isFinite(e.s)&&Math$p.isFinite(e.c)};Rot$o.assert=function(e){if(_ASSERT$s&&!Rot$o.isValid(e))throw _DEBUG$5&&common$s.debug(e),new Error("Invalid Rot!")};Rot$o.prototype.setIdentity=function(){this.s=0,this.c=1};Rot$o.prototype.set=function(e){typeof e=="object"?(_ASSERT$s&&Rot$o.assert(e),this.s=e.s,this.c=e.c):(_ASSERT$s&&Math$p.assert(e),this.s=Math$p.sin(e),this.c=Math$p.cos(e))};Rot$o.prototype.setAngle=function(e){_ASSERT$s&&Math$p.assert(e),this.s=Math$p.sin(e),this.c=Math$p.cos(e)};Rot$o.prototype.getAngle=function(){return Math$p.atan2(this.s,this.c)};Rot$o.prototype.getXAxis=function(){return Vec2$z.neo(this.c,this.s)};Rot$o.prototype.getYAxis=function(){return Vec2$z.neo(-this.s,this.c)};Rot$o.mul=function(e,_){if(_ASSERT$s&&Rot$o.assert(e),"c"in _&&"s"in _){_ASSERT$s&&Rot$o.assert(_);var d=Rot$o.identity();return d.s=e.s*_.c+e.c*_.s,d.c=e.c*_.c-e.s*_.s,d}else if("x"in _&&"y"in _)return _ASSERT$s&&Vec2$z.assert(_),Vec2$z.neo(e.c*_.x-e.s*_.y,e.s*_.x+e.c*_.y)};Rot$o.mulRot=function(e,_){_ASSERT$s&&Rot$o.assert(e),_ASSERT$s&&Rot$o.assert(_);var d=Rot$o.identity();return d.s=e.s*_.c+e.c*_.s,d.c=e.c*_.c-e.s*_.s,d};Rot$o.mulVec2=function(e,_){return _ASSERT$s&&Rot$o.assert(e),_ASSERT$s&&Vec2$z.assert(_),Vec2$z.neo(e.c*_.x-e.s*_.y,e.s*_.x+e.c*_.y)};Rot$o.mulSub=function(e,_,d){var o=e.c*(_.x-d.x)-e.s*(_.y-d.y),c=e.s*(_.x-d.x)+e.c*(_.y-d.y);return Vec2$z.neo(o,c)};Rot$o.mulT=function(e,_){if("c"in _&&"s"in _){_ASSERT$s&&Rot$o.assert(_);var d=Rot$o.identity();return d.s=e.c*_.s-e.s*_.c,d.c=e.c*_.c+e.s*_.s,d}else if("x"in _&&"y"in _)return _ASSERT$s&&Vec2$z.assert(_),Vec2$z.neo(e.c*_.x+e.s*_.y,-e.s*_.x+e.c*_.y)};Rot$o.mulTRot=function(e,_){_ASSERT$s&&Rot$o.assert(_);var d=Rot$o.identity();return d.s=e.c*_.s-e.s*_.c,d.c=e.c*_.c+e.s*_.s,d};Rot$o.mulTVec2=function(e,_){return _ASSERT$s&&Vec2$z.assert(_),Vec2$z.neo(e.c*_.x+e.s*_.y,-e.s*_.x+e.c*_.y)};var _DEBUG$4=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$r=typeof ASSERT>"u"?!1:ASSERT,Transform_1=Transform$f,common$r=common$y,Vec2$y=Vec2_1,Rot$n=Rot_1;function Transform$f(e,_){if(!(this instanceof Transform$f))return new Transform$f(e,_);this.p=Vec2$y.zero(),this.q=Rot$n.identity(),typeof e<"u"&&this.p.set(e),typeof _<"u"&&this.q.set(_)}Transform$f.clone=function(e){var _=Object.create(Transform$f.prototype);return _.p=Vec2$y.clone(e.p),_.q=Rot$n.clone(e.q),_};Transform$f.neo=function(e,_){var d=Object.create(Transform$f.prototype);return d.p=Vec2$y.clone(e),d.q=Rot$n.clone(_),d};Transform$f.identity=function(){var e=Object.create(Transform$f.prototype);return e.p=Vec2$y.zero(),e.q=Rot$n.identity(),e};Transform$f.prototype.setIdentity=function(){this.p.setZero(),this.q.setIdentity()};Transform$f.prototype.set=function(e,_){typeof _>"u"?(this.p.set(e.p),this.q.set(e.q)):(this.p.set(e),this.q.set(_))};Transform$f.isValid=function(e){return e&&Vec2$y.isValid(e.p)&&Rot$n.isValid(e.q)};Transform$f.assert=function(e){if(_ASSERT$r&&!Transform$f.isValid(e))throw _DEBUG$4&&common$r.debug(e),new Error("Invalid Transform!")};Transform$f.mul=function(e,_){if(_ASSERT$r&&Transform$f.assert(e),Array.isArray(_)){for(var d=[],o=0;o<_.length;o++)d[o]=Transform$f.mul(e,_[o]);return d}else if("x"in _&&"y"in _){_ASSERT$r&&Vec2$y.assert(_);var c=e.q.c*_.x-e.q.s*_.y+e.p.x,s=e.q.s*_.x+e.q.c*_.y+e.p.y;return Vec2$y.neo(c,s)}else if("p"in _&&"q"in _){_ASSERT$r&&Transform$f.assert(_);var h=Transform$f.identity();return h.q=Rot$n.mulRot(e.q,_.q),h.p=Vec2$y.add(Rot$n.mulVec2(e.q,_.p),e.p),h}};Transform$f.mulAll=function(e,_){_ASSERT$r&&Transform$f.assert(e);for(var d=[],o=0;o<_.length;o++)d[o]=Transform$f.mul(e,_[o]);return d};Transform$f.mulFn=function(e){return _ASSERT$r&&Transform$f.assert(e),function(_){return Transform$f.mul(e,_)}};Transform$f.mulVec2=function(e,_){_ASSERT$r&&Transform$f.assert(e),_ASSERT$r&&Vec2$y.assert(_);var d=e.q.c*_.x-e.q.s*_.y+e.p.x,o=e.q.s*_.x+e.q.c*_.y+e.p.y;return Vec2$y.neo(d,o)};Transform$f.mulXf=function(e,_){_ASSERT$r&&Transform$f.assert(e),_ASSERT$r&&Transform$f.assert(_);var d=Transform$f.identity();return d.q=Rot$n.mulRot(e.q,_.q),d.p=Vec2$y.add(Rot$n.mulVec2(e.q,_.p),e.p),d};Transform$f.mulT=function(e,_){if(_ASSERT$r&&Transform$f.assert(e),"x"in _&&"y"in _){_ASSERT$r&&Vec2$y.assert(_);var d=_.x-e.p.x,o=_.y-e.p.y,c=e.q.c*d+e.q.s*o,s=-e.q.s*d+e.q.c*o;return Vec2$y.neo(c,s)}else if("p"in _&&"q"in _){_ASSERT$r&&Transform$f.assert(_);var h=Transform$f.identity();return h.q.set(Rot$n.mulTRot(e.q,_.q)),h.p.set(Rot$n.mulTVec2(e.q,Vec2$y.sub(_.p,e.p))),h}};Transform$f.mulTVec2=function(e,_){_ASSERT$r&&Transform$f.assert(e),_ASSERT$r&&Vec2$y.assert(_);var d=_.x-e.p.x,o=_.y-e.p.y,c=e.q.c*d+e.q.s*o,s=-e.q.s*d+e.q.c*o;return Vec2$y.neo(c,s)};Transform$f.mulTXf=function(e,_){_ASSERT$r&&Transform$f.assert(e),_ASSERT$r&&Transform$f.assert(_);var d=Transform$f.identity();return d.q.set(Rot$n.mulTRot(e.q,_.q)),d.p.set(Rot$n.mulTVec2(e.q,Vec2$y.sub(_.p,e.p))),d};var _ASSERT$q=typeof ASSERT>"u"?!1:ASSERT,Sweep_1=Sweep$2,common$q=common$y,Math$o=_MathExports,Vec2$x=Vec2_1,Rot$m=Rot_1,Transform$e=Transform_1;function Sweep$2(e,_){_ASSERT$q&&common$q.assert(typeof e>"u"),_ASSERT$q&&common$q.assert(typeof _>"u"),this.localCenter=Vec2$x.zero(),this.c=Vec2$x.zero(),this.a=0,this.alpha0=0,this.c0=Vec2$x.zero(),this.a0=0}Sweep$2.prototype.setTransform=function(e){var _=Transform$e.mulVec2(e,this.localCenter);this.c.set(_),this.c0.set(_),this.a=e.q.getAngle(),this.a0=e.q.getAngle()};Sweep$2.prototype.setLocalCenter=function(e,_){this.localCenter.set(e);var d=Transform$e.mulVec2(_,this.localCenter);this.c.set(d),this.c0.set(d)};Sweep$2.prototype.getTransform=function(e,_){_=typeof _>"u"?0:_,e.q.setAngle((1-_)*this.a0+_*this.a),e.p.setCombine(1-_,this.c0,_,this.c),e.p.sub(Rot$m.mulVec2(e.q,this.localCenter))};Sweep$2.prototype.advance=function(e){_ASSERT$q&&common$q.assert(this.alpha0<1);var _=(e-this.alpha0)/(1-this.alpha0);this.c0.setCombine(_,this.c,1-_,this.c0),this.a0=_*this.a+(1-_)*this.a0,this.alpha0=e};Sweep$2.prototype.forward=function(){this.a0=this.a,this.c0.set(this.c)};Sweep$2.prototype.normalize=function(){var e=Math$o.mod(this.a0,-Math$o.PI,+Math$o.PI);this.a-=this.a0-e,this.a0=e};Sweep$2.prototype.clone=function(){var e=new Sweep$2;return e.localCenter.set(this.localCenter),e.alpha0=this.alpha0,e.a0=this.a0,e.a=this.a,e.c0.set(this.c0),e.c.set(this.c),e};Sweep$2.prototype.set=function(e){this.localCenter.set(e.localCenter),this.alpha0=e.alpha0,this.a0=e.a0,this.a=e.a,this.c0.set(e.c0),this.c.set(e.c)};var Velocity_1=Velocity$1,Vec2$w=Vec2_1;function Velocity$1(){this.v=Vec2$w.zero(),this.w=0}var Position_1=Position$1,Vec2$v=Vec2_1,Rot$l=Rot_1;function Position$1(){this.c=Vec2$v.zero(),this.a=0}Position$1.prototype.getTransform=function(e,_){return e.q.set(this.a),e.p.set(Vec2$v.sub(this.c,Rot$l.mulVec2(e.q,_))),e};var Shape_1=Shape$6;function Shape$6(){this.m_type,this.m_radius}Shape$6.prototype._reset=function(){};Shape$6.prototype._serialize=function(){return{}};Shape$6.TYPES={};Shape$6._deserialize=function(e,_,d){var o=Shape$6.TYPES[e.type];return o&&d(o,e)};Shape$6.isValid=function(e){return!!e};Shape$6.prototype.getRadius=function(){return this.m_radius};Shape$6.prototype.getType=function(){return this.m_type};Shape$6.prototype._clone=function(){};Shape$6.prototype.getChildCount=function(){};Shape$6.prototype.testPoint=function(e,_){};Shape$6.prototype.rayCast=function(e,_,d,o){};Shape$6.prototype.computeAABB=function(e,_,d){};Shape$6.prototype.computeMass=function(e,_){};Shape$6.prototype.computeDistanceProxy=function(e){};var _ASSERT$p=typeof ASSERT>"u"?!1:ASSERT,Fixture_1=Fixture$2,common$p=common$y,options$d=options$e,Math$n=_MathExports,Vec2$u=Vec2_1,AABB=AABB_1,Shape$5=Shape_1,FixtureDef={userData:null,friction:.2,restitution:0,density:0,isSensor:!1,filterGroupIndex:0,filterCategoryBits:1,filterMaskBits:65535};function FixtureProxy(e,_){this.aabb=new AABB,this.fixture=e,this.childIndex=_,this.proxyId}function Fixture$2(e,_,d){_.shape?(d=_,_=_.shape):typeof d=="number"&&(d={density:d}),d=options$d(d,FixtureDef),this.m_body=e,this.m_friction=d.friction,this.m_restitution=d.restitution,this.m_density=d.density,this.m_isSensor=d.isSensor,this.m_filterGroupIndex=d.filterGroupIndex,this.m_filterCategoryBits=d.filterCategoryBits,this.m_filterMaskBits=d.filterMaskBits,this.m_shape=_,this.m_next=null,this.m_proxies=[],this.m_proxyCount=0;for(var o=this.m_shape.getChildCount(),c=0;c<o;++c)this.m_proxies[c]=new FixtureProxy(this,c);this.m_userData=d.userData}Fixture$2.prototype._reset=function(){var e=this.getBody(),_=e.m_world.m_broadPhase;this.destroyProxies(_),this.m_shape._reset&&this.m_shape._reset();for(var d=this.m_shape.getChildCount(),o=0;o<d;++o)this.m_proxies[o]=new FixtureProxy(this,o);this.createProxies(_,e.m_xf),e.resetMassData()};Fixture$2.prototype._serialize=function(){return{friction:this.m_friction,restitution:this.m_restitution,density:this.m_density,isSensor:this.m_isSensor,filterGroupIndex:this.m_filterGroupIndex,filterCategoryBits:this.m_filterCategoryBits,filterMaskBits:this.m_filterMaskBits,shape:this.m_shape}};Fixture$2._deserialize=function(e,_,d){var o=d(Shape$5,e.shape),c=o&&new Fixture$2(_,o,e);return c};Fixture$2.prototype.getType=function(){return this.m_shape.getType()};Fixture$2.prototype.getShape=function(){return this.m_shape};Fixture$2.prototype.isSensor=function(){return this.m_isSensor};Fixture$2.prototype.setSensor=function(e){e!=this.m_isSensor&&(this.m_body.setAwake(!0),this.m_isSensor=e)};Fixture$2.prototype.getUserData=function(){return this.m_userData};Fixture$2.prototype.setUserData=function(e){this.m_userData=e};Fixture$2.prototype.getBody=function(){return this.m_body};Fixture$2.prototype.getNext=function(){return this.m_next};Fixture$2.prototype.getDensity=function(){return this.m_density};Fixture$2.prototype.setDensity=function(e){_ASSERT$p&&common$p.assert(Math$n.isFinite(e)&&e>=0),this.m_density=e};Fixture$2.prototype.getFriction=function(){return this.m_friction};Fixture$2.prototype.setFriction=function(e){this.m_friction=e};Fixture$2.prototype.getRestitution=function(){return this.m_restitution};Fixture$2.prototype.setRestitution=function(e){this.m_restitution=e};Fixture$2.prototype.testPoint=function(e){return this.m_shape.testPoint(this.m_body.getTransform(),e)};Fixture$2.prototype.rayCast=function(e,_,d){return this.m_shape.rayCast(e,_,this.m_body.getTransform(),d)};Fixture$2.prototype.getMassData=function(e){this.m_shape.computeMass(e,this.m_density)};Fixture$2.prototype.getAABB=function(e){return _ASSERT$p&&common$p.assert(0<=e&&e<this.m_proxyCount),this.m_proxies[e].aabb};Fixture$2.prototype.createProxies=function(e,_){_ASSERT$p&&common$p.assert(this.m_proxyCount==0),this.m_proxyCount=this.m_shape.getChildCount();for(var d=0;d<this.m_proxyCount;++d){var o=this.m_proxies[d];this.m_shape.computeAABB(o.aabb,_,d),o.proxyId=e.createProxy(o.aabb,o)}};Fixture$2.prototype.destroyProxies=function(e){for(var _=0;_<this.m_proxyCount;++_){var d=this.m_proxies[_];e.destroyProxy(d.proxyId),d.proxyId=null}this.m_proxyCount=0};Fixture$2.prototype.synchronize=function(e,_,d){for(var o=0;o<this.m_proxyCount;++o){var c=this.m_proxies[o],s=new AABB,h=new AABB;this.m_shape.computeAABB(s,_,c.childIndex),this.m_shape.computeAABB(h,d,c.childIndex),c.aabb.combine(s,h);var f=Vec2$u.sub(d.p,_.p);e.moveProxy(c.proxyId,c.aabb,f)}};Fixture$2.prototype.setFilterData=function(e){this.m_filterGroupIndex=e.groupIndex,this.m_filterCategoryBits=e.categoryBits,this.m_filterMaskBits=e.maskBits,this.refilter()};Fixture$2.prototype.getFilterGroupIndex=function(){return this.m_filterGroupIndex};Fixture$2.prototype.setFilterGroupIndex=function(e){return this.m_filterGroupIndex=e};Fixture$2.prototype.getFilterCategoryBits=function(){return this.m_filterCategoryBits};Fixture$2.prototype.setFilterCategoryBits=function(e){this.m_filterCategoryBits=e};Fixture$2.prototype.getFilterMaskBits=function(){return this.m_filterMaskBits};Fixture$2.prototype.setFilterMaskBits=function(e){this.m_filterMaskBits=e};Fixture$2.prototype.refilter=function(){if(this.m_body!=null){for(var e=this.m_body.getContactList();e;){var _=e.contact,d=_.getFixtureA(),o=_.getFixtureB();(d==this||o==this)&&_.flagForFiltering(),e=e.next}var c=this.m_body.getWorld();if(c!=null)for(var s=c.m_broadPhase,h=0;h<this.m_proxyCount;++h)s.touchProxy(this.m_proxies[h].proxyId)}};Fixture$2.prototype.shouldCollide=function(e){if(e.m_filterGroupIndex===this.m_filterGroupIndex&&e.m_filterGroupIndex!==0)return e.m_filterGroupIndex>0;var _=(e.m_filterMaskBits&this.m_filterCategoryBits)!==0,d=(e.m_filterCategoryBits&this.m_filterMaskBits)!==0,o=_&&d;return o};var _ASSERT$o=typeof ASSERT>"u"?!1:ASSERT,Body_1=Body$e,common$o=common$y,options$c=options$e,Vec2$t=Vec2_1,Rot$k=Rot_1,Math$m=_MathExports,Sweep$1=Sweep_1,Transform$d=Transform_1,Velocity=Velocity_1,Position=Position_1,Fixture$1=Fixture_1,staticBody=Body$e.STATIC="static",kinematicBody=Body$e.KINEMATIC="kinematic",dynamicBody=Body$e.DYNAMIC="dynamic",BodyDef={type:staticBody,position:Vec2$t.zero(),angle:0,linearVelocity:Vec2$t.zero(),angularVelocity:0,linearDamping:0,angularDamping:0,fixedRotation:!1,bullet:!1,gravityScale:1,allowSleep:!0,awake:!0,active:!0,userData:null};function Body$e(e,_){_=options$c(_,BodyDef),_ASSERT$o&&common$o.assert(Vec2$t.isValid(_.position)),_ASSERT$o&&common$o.assert(Vec2$t.isValid(_.linearVelocity)),_ASSERT$o&&common$o.assert(Math$m.isFinite(_.angle)),_ASSERT$o&&common$o.assert(Math$m.isFinite(_.angularVelocity)),_ASSERT$o&&common$o.assert(Math$m.isFinite(_.angularDamping)&&_.angularDamping>=0),_ASSERT$o&&common$o.assert(Math$m.isFinite(_.linearDamping)&&_.linearDamping>=0),this.m_world=e,this.m_awakeFlag=_.awake,this.m_autoSleepFlag=_.allowSleep,this.m_bulletFlag=_.bullet,this.m_fixedRotationFlag=_.fixedRotation,this.m_activeFlag=_.active,this.m_islandFlag=!1,this.m_toiFlag=!1,this.m_userData=_.userData,this.m_type=_.type,this.m_type==dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_xf=Transform$d.identity(),this.m_xf.p=Vec2$t.clone(_.position),this.m_xf.q.setAngle(_.angle),this.m_sweep=new Sweep$1,this.m_sweep.setTransform(this.m_xf),this.c_velocity=new Velocity,this.c_position=new Position,this.m_force=Vec2$t.zero(),this.m_torque=0,this.m_linearVelocity=Vec2$t.clone(_.linearVelocity),this.m_angularVelocity=_.angularVelocity,this.m_linearDamping=_.linearDamping,this.m_angularDamping=_.angularDamping,this.m_gravityScale=_.gravityScale,this.m_sleepTime=0,this.m_jointList=null,this.m_contactList=null,this.m_fixtureList=null,this.m_prev=null,this.m_next=null,this.m_destroyed=!1}Body$e.prototype._serialize=function(){for(var e=[],_=this.m_fixtureList;_;_=_.m_next)e.push(_);return{type:this.m_type,bullet:this.m_bulletFlag,position:this.m_xf.p,angle:this.m_xf.q.getAngle(),linearVelocity:this.m_linearVelocity,angularVelocity:this.m_angularVelocity,fixtures:e}};Body$e._deserialize=function(e,_,d){var o=new Body$e(_,e);if(e.fixtures)for(var c=e.fixtures.length-1;c>=0;c--){var s=d(Fixture$1,e.fixtures[c],o);o._addFixture(s)}return o};Body$e.prototype.isWorldLocked=function(){return!!(this.m_world&&this.m_world.isLocked())};Body$e.prototype.getWorld=function(){return this.m_world};Body$e.prototype.getNext=function(){return this.m_next};Body$e.prototype.setUserData=function(e){this.m_userData=e};Body$e.prototype.getUserData=function(){return this.m_userData};Body$e.prototype.getFixtureList=function(){return this.m_fixtureList};Body$e.prototype.getJointList=function(){return this.m_jointList};Body$e.prototype.getContactList=function(){return this.m_contactList};Body$e.prototype.isStatic=function(){return this.m_type==staticBody};Body$e.prototype.isDynamic=function(){return this.m_type==dynamicBody};Body$e.prototype.isKinematic=function(){return this.m_type==kinematicBody};Body$e.prototype.setStatic=function(){return this.setType(staticBody),this};Body$e.prototype.setDynamic=function(){return this.setType(dynamicBody),this};Body$e.prototype.setKinematic=function(){return this.setType(kinematicBody),this};Body$e.prototype.getType=function(){return this.m_type};Body$e.prototype.setType=function(e){if(_ASSERT$o&&common$o.assert(e===staticBody||e===kinematicBody||e===dynamicBody),_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0&&this.m_type!=e){this.m_type=e,this.resetMassData(),this.m_type==staticBody&&(this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_sweep.forward(),this.synchronizeFixtures()),this.setAwake(!0),this.m_force.setZero(),this.m_torque=0;for(var _=this.m_contactList;_;){var d=_;_=_.next,this.m_world.destroyContact(d.contact)}this.m_contactList=null;for(var o=this.m_world.m_broadPhase,c=this.m_fixtureList;c;c=c.m_next)for(var s=c.m_proxyCount,h=0;h<s;++h)o.touchProxy(c.m_proxies[h].proxyId)}};Body$e.prototype.isBullet=function(){return this.m_bulletFlag};Body$e.prototype.setBullet=function(e){this.m_bulletFlag=!!e};Body$e.prototype.isSleepingAllowed=function(){return this.m_autoSleepFlag};Body$e.prototype.setSleepingAllowed=function(e){this.m_autoSleepFlag=!!e,this.m_autoSleepFlag==!1&&this.setAwake(!0)};Body$e.prototype.isAwake=function(){return this.m_awakeFlag};Body$e.prototype.setAwake=function(e){e?this.m_awakeFlag==!1&&(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.setZero(),this.m_angularVelocity=0,this.m_force.setZero(),this.m_torque=0)};Body$e.prototype.isActive=function(){return this.m_activeFlag};Body$e.prototype.setActive=function(e){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),e!=this.m_activeFlag)if(this.m_activeFlag=!!e,this.m_activeFlag)for(var _=this.m_world.m_broadPhase,d=this.m_fixtureList;d;d=d.m_next)d.createProxies(_,this.m_xf);else{for(var _=this.m_world.m_broadPhase,d=this.m_fixtureList;d;d=d.m_next)d.destroyProxies(_);for(var o=this.m_contactList;o;){var c=o;o=o.next,this.m_world.destroyContact(c.contact)}this.m_contactList=null}};Body$e.prototype.isFixedRotation=function(){return this.m_fixedRotationFlag};Body$e.prototype.setFixedRotation=function(e){this.m_fixedRotationFlag!=e&&(this.m_fixedRotationFlag=!!e,this.m_angularVelocity=0,this.resetMassData())};Body$e.prototype.getTransform=function(){return this.m_xf};Body$e.prototype.setTransform=function(e,_){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0){this.m_xf.set(e,_),this.m_sweep.setTransform(this.m_xf);for(var d=this.m_world.m_broadPhase,o=this.m_fixtureList;o;o=o.m_next)o.synchronize(d,this.m_xf,this.m_xf)}};Body$e.prototype.synchronizeTransform=function(){this.m_sweep.getTransform(this.m_xf,1)};Body$e.prototype.synchronizeFixtures=function(){var e=Transform$d.identity();this.m_sweep.getTransform(e,0);for(var _=this.m_world.m_broadPhase,d=this.m_fixtureList;d;d=d.m_next)d.synchronize(_,e,this.m_xf)};Body$e.prototype.advance=function(e){this.m_sweep.advance(e),this.m_sweep.c.set(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_sweep.getTransform(this.m_xf,1)};Body$e.prototype.getPosition=function(){return this.m_xf.p};Body$e.prototype.setPosition=function(e){this.setTransform(e,this.m_sweep.a)};Body$e.prototype.getAngle=function(){return this.m_sweep.a};Body$e.prototype.setAngle=function(e){this.setTransform(this.m_xf.p,e)};Body$e.prototype.getWorldCenter=function(){return this.m_sweep.c};Body$e.prototype.getLocalCenter=function(){return this.m_sweep.localCenter};Body$e.prototype.getLinearVelocity=function(){return this.m_linearVelocity};Body$e.prototype.getLinearVelocityFromWorldPoint=function(e){var _=Vec2$t.sub(e,this.m_sweep.c);return Vec2$t.add(this.m_linearVelocity,Vec2$t.cross(this.m_angularVelocity,_))};Body$e.prototype.getLinearVelocityFromLocalPoint=function(e){return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(e))};Body$e.prototype.setLinearVelocity=function(e){this.m_type!=staticBody&&(Vec2$t.dot(e,e)>0&&this.setAwake(!0),this.m_linearVelocity.set(e))};Body$e.prototype.getAngularVelocity=function(){return this.m_angularVelocity};Body$e.prototype.setAngularVelocity=function(e){this.m_type!=staticBody&&(e*e>0&&this.setAwake(!0),this.m_angularVelocity=e)};Body$e.prototype.getLinearDamping=function(){return this.m_linearDamping};Body$e.prototype.setLinearDamping=function(e){this.m_linearDamping=e};Body$e.prototype.getAngularDamping=function(){return this.m_angularDamping};Body$e.prototype.setAngularDamping=function(e){this.m_angularDamping=e};Body$e.prototype.getGravityScale=function(){return this.m_gravityScale};Body$e.prototype.setGravityScale=function(e){this.m_gravityScale=e};Body$e.prototype.getMass=function(){return this.m_mass};Body$e.prototype.getInertia=function(){return this.m_I+this.m_mass*Vec2$t.dot(this.m_sweep.localCenter,this.m_sweep.localCenter)};function MassData(){this.mass=0,this.center=Vec2$t.zero(),this.I=0}Body$e.prototype.getMassData=function(e){e.mass=this.m_mass,e.I=this.getInertia(),e.center.set(this.m_sweep.localCenter)};Body$e.prototype.resetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.setZero(),this.isStatic()||this.isKinematic()){this.m_sweep.c0.set(this.m_xf.p),this.m_sweep.c.set(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;return}_ASSERT$o&&common$o.assert(this.isDynamic());for(var e=Vec2$t.zero(),_=this.m_fixtureList;_;_=_.m_next)if(_.m_density!=0){var d=new MassData;_.getMassData(d),this.m_mass+=d.mass,e.addMul(d.mass,d.center),this.m_I+=d.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.mul(this.m_invMass)):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&this.m_fixedRotationFlag==!1?(this.m_I-=this.m_mass*Vec2$t.dot(e,e),_ASSERT$o&&common$o.assert(this.m_I>0),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var o=Vec2$t.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(e,this.m_xf),this.m_linearVelocity.add(Vec2$t.cross(this.m_angularVelocity,Vec2$t.sub(this.m_sweep.c,o)))};Body$e.prototype.setMassData=function(e){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0&&this.m_type==dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&this.m_fixedRotationFlag==!1&&(this.m_I=e.I-this.m_mass*Vec2$t.dot(e.center,e.center),_ASSERT$o&&common$o.assert(this.m_I>0),this.m_invI=1/this.m_I);var _=Vec2$t.clone(this.m_sweep.c);this.m_sweep.setLocalCenter(e.center,this.m_xf),this.m_linearVelocity.add(Vec2$t.cross(this.m_angularVelocity,Vec2$t.sub(this.m_sweep.c,_)))}};Body$e.prototype.applyForce=function(e,_,d){this.m_type==dynamicBody&&(d&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_force.add(e),this.m_torque+=Vec2$t.cross(Vec2$t.sub(_,this.m_sweep.c),e)))};Body$e.prototype.applyForceToCenter=function(e,_){this.m_type==dynamicBody&&(_&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&this.m_force.add(e))};Body$e.prototype.applyTorque=function(e,_){this.m_type==dynamicBody&&(_&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_torque+=e))};Body$e.prototype.applyLinearImpulse=function(e,_,d){this.m_type==dynamicBody&&(d&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.addMul(this.m_invMass,e),this.m_angularVelocity+=this.m_invI*Vec2$t.cross(Vec2$t.sub(_,this.m_sweep.c),e)))};Body$e.prototype.applyAngularImpulse=function(e,_){this.m_type==dynamicBody&&(_&&this.m_awakeFlag==!1&&this.setAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*e))};Body$e.prototype.shouldCollide=function(e){if(this.m_type!=dynamicBody&&e.m_type!=dynamicBody)return!1;for(var _=this.m_jointList;_;_=_.next)if(_.other==e&&_.joint.m_collideConnected==!1)return!1;return!0};Body$e.prototype._addFixture=function(e){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()==!0)return null;if(this.m_activeFlag){var _=this.m_world.m_broadPhase;e.createProxies(_,this.m_xf)}return e.m_next=this.m_fixtureList,this.m_fixtureList=e,e.m_density>0&&this.resetMassData(),this.m_world.m_newFixture=!0,e};Body$e.prototype.createFixture=function(e,_){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()==!0)return null;var d=new Fixture$1(this,e,_);return this._addFixture(d),d};Body$e.prototype.destroyFixture=function(e){if(_ASSERT$o&&common$o.assert(this.isWorldLocked()==!1),this.isWorldLocked()!=!0){_ASSERT$o&&common$o.assert(e.m_body==this);var _=!1;if(this.m_fixtureList===e)this.m_fixtureList=e.m_next,_=!0;else for(var d=this.m_fixtureList;d!=null;){if(d.m_next===e){d.m_next=e.m_next,_=!0;break}d=d.m_next}_ASSERT$o&&common$o.assert(_);for(var o=this.m_contactList;o;){var c=o.contact;o=o.next;var s=c.getFixtureA(),h=c.getFixtureB();(e==s||e==h)&&this.m_world.destroyContact(c)}if(this.m_activeFlag){var f=this.m_world.m_broadPhase;e.destroyProxies(f)}e.m_body=null,e.m_next=null,this.m_world.publish("remove-fixture",e),this.resetMassData()}};Body$e.prototype.getWorldPoint=function(e){return Transform$d.mulVec2(this.m_xf,e)};Body$e.prototype.getWorldVector=function(e){return Rot$k.mulVec2(this.m_xf.q,e)};Body$e.prototype.getLocalPoint=function(e){return Transform$d.mulTVec2(this.m_xf,e)};Body$e.prototype.getLocalVector=function(e){return Rot$k.mulTVec2(this.m_xf.q,e)};var _DEBUG$3=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$n=typeof ASSERT>"u"?!1:ASSERT,Mat22_1=Mat22$6,common$n=common$y,Vec2$s=Vec2_1;function Mat22$6(e,_,d,o){typeof e=="object"&&e!==null?(this.ex=Vec2$s.clone(e),this.ey=Vec2$s.clone(_)):typeof e=="number"?(this.ex=Vec2$s.neo(e,d),this.ey=Vec2$s.neo(_,o)):(this.ex=Vec2$s.zero(),this.ey=Vec2$s.zero())}Mat22$6.prototype.toString=function(){return JSON.stringify(this)};Mat22$6.isValid=function(e){return e&&Vec2$s.isValid(e.ex)&&Vec2$s.isValid(e.ey)};Mat22$6.assert=function(e){if(_ASSERT$n&&!Mat22$6.isValid(e))throw _DEBUG$3&&common$n.debug(e),new Error("Invalid Mat22!")};Mat22$6.prototype.set=function(e,_,d,o){typeof e=="number"&&typeof _=="number"&&typeof d=="number"&&typeof o=="number"?(this.ex.set(e,d),this.ey.set(_,o)):typeof e=="object"&&typeof _=="object"?(this.ex.set(e),this.ey.set(_)):typeof e=="object"?(_ASSERT$n&&Mat22$6.assert(e),this.ex.set(e.ex),this.ey.set(e.ey)):_ASSERT$n&&common$n.assert(!1)};Mat22$6.prototype.setIdentity=function(){this.ex.x=1,this.ey.x=0,this.ex.y=0,this.ey.y=1};Mat22$6.prototype.setZero=function(){this.ex.x=0,this.ey.x=0,this.ex.y=0,this.ey.y=0};Mat22$6.prototype.getInverse=function(){var e=this.ex.x,_=this.ey.x,d=this.ex.y,o=this.ey.y,c=e*o-_*d;c!=0&&(c=1/c);var s=new Mat22$6;return s.ex.x=c*o,s.ey.x=-c*_,s.ex.y=-c*d,s.ey.y=c*e,s};Mat22$6.prototype.solve=function(e){_ASSERT$n&&Vec2$s.assert(e);var _=this.ex.x,d=this.ey.x,o=this.ex.y,c=this.ey.y,s=_*c-d*o;s!=0&&(s=1/s);var h=Vec2$s.zero();return h.x=s*(c*e.x-d*e.y),h.y=s*(_*e.y-o*e.x),h};Mat22$6.mul=function(e,_){if(_&&"x"in _&&"y"in _){_ASSERT$n&&Vec2$s.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y,o=e.ex.y*_.x+e.ey.y*_.y;return Vec2$s.neo(d,o)}else if(_&&"ex"in _&&"ey"in _){_ASSERT$n&&Mat22$6.assert(_);var c=e.ex.x*_.ex.x+e.ey.x*_.ex.y,s=e.ex.x*_.ey.x+e.ey.x*_.ey.y,h=e.ex.y*_.ex.x+e.ey.y*_.ex.y,f=e.ex.y*_.ey.x+e.ey.y*_.ey.y;return new Mat22$6(c,s,h,f)}_ASSERT$n&&common$n.assert(!1)};Mat22$6.mulVec2=function(e,_){_ASSERT$n&&Vec2$s.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y,o=e.ex.y*_.x+e.ey.y*_.y;return Vec2$s.neo(d,o)};Mat22$6.mulMat22=function(e,_){_ASSERT$n&&Mat22$6.assert(_);var d=e.ex.x*_.ex.x+e.ey.x*_.ex.y,o=e.ex.x*_.ey.x+e.ey.x*_.ey.y,c=e.ex.y*_.ex.x+e.ey.y*_.ex.y,s=e.ex.y*_.ey.x+e.ey.y*_.ey.y;return new Mat22$6(d,o,c,s)};Mat22$6.mulT=function(e,_){if(_&&"x"in _&&"y"in _)return _ASSERT$n&&Vec2$s.assert(_),Vec2$s.neo(Vec2$s.dot(_,e.ex),Vec2$s.dot(_,e.ey));if(_&&"ex"in _&&"ey"in _){_ASSERT$n&&Mat22$6.assert(_);var d=Vec2$s.neo(Vec2$s.dot(e.ex,_.ex),Vec2$s.dot(e.ey,_.ex)),o=Vec2$s.neo(Vec2$s.dot(e.ex,_.ey),Vec2$s.dot(e.ey,_.ey));return new Mat22$6(d,o)}_ASSERT$n&&common$n.assert(!1)};Mat22$6.mulTVec2=function(e,_){return _ASSERT$n&&Mat22$6.assert(e),_ASSERT$n&&Vec2$s.assert(_),Vec2$s.neo(Vec2$s.dot(_,e.ex),Vec2$s.dot(_,e.ey))};Mat22$6.mulTMat22=function(e,_){_ASSERT$n&&Mat22$6.assert(e),_ASSERT$n&&Mat22$6.assert(_);var d=Vec2$s.neo(Vec2$s.dot(e.ex,_.ex),Vec2$s.dot(e.ey,_.ex)),o=Vec2$s.neo(Vec2$s.dot(e.ex,_.ey),Vec2$s.dot(e.ey,_.ey));return new Mat22$6(d,o)};Mat22$6.abs=function(e){return _ASSERT$n&&Mat22$6.assert(e),new Mat22$6(Vec2$s.abs(e.ex),Vec2$s.abs(e.ey))};Mat22$6.add=function(e,_){return _ASSERT$n&&Mat22$6.assert(e),_ASSERT$n&&Mat22$6.assert(_),new Mat22$6(Vec2$s.add(e.ex,_.ex),Vec2$s.add(e.ey,_.ey))};var Manifold$7={exports:{}};var Vec2$r=Vec2_1,Transform$c=Transform_1,Math$l=_MathExports,Rot$j=Rot_1;Manifold$7.exports=Manifold$6;Manifold$7.exports.clipSegmentToLine=clipSegmentToLine;Manifold$7.exports.clipVertex=ClipVertex;Manifold$7.exports.getPointStates=getPointStates;Manifold$7.exports.PointState=PointState;Manifold$6.e_circles=0;Manifold$6.e_faceA=1;Manifold$6.e_faceB=2;Manifold$6.e_vertex=0;Manifold$6.e_face=1;function Manifold$6(){this.type,this.localNormal=Vec2$r.zero(),this.localPoint=Vec2$r.zero(),this.points=[new ManifoldPoint,new ManifoldPoint],this.pointCount=0}function ManifoldPoint(){this.localPoint=Vec2$r.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.id=new ContactID}function ContactID(){this.cf=new ContactFeature}Object.defineProperty(ContactID.prototype,"key",{get:function(){return this.cf.indexA+this.cf.indexB*4+this.cf.typeA*16+this.cf.typeB*64},enumerable:!0,configurable:!0});ContactID.prototype.set=function(e){this.cf.set(e.cf)};function ContactFeature(){this.indexA,this.indexB,this.typeA,this.typeB}ContactFeature.prototype.set=function(e){this.indexA=e.indexA,this.indexB=e.indexB,this.typeA=e.typeA,this.typeB=e.typeB};function WorldManifold(){this.normal,this.points=[],this.separations=[]}Manifold$6.prototype.getWorldManifold=function(e,_,d,o,c){if(this.pointCount!=0){e=e||new WorldManifold;var s=e.normal,h=e.points,f=e.separations;switch(this.type){case Manifold$6.e_circles:s=Vec2$r.neo(1,0);var g=Transform$c.mulVec2(_,this.localPoint),b=Transform$c.mulVec2(o,this.points[0].localPoint),k=Vec2$r.sub(b,g);Vec2$r.lengthSquared(k)>Math$l.EPSILON*Math$l.EPSILON&&(s.set(k),s.normalize());var $=g.clone().addMul(d,s),j=b.clone().addMul(-c,s);h[0]=Vec2$r.mid($,j),f[0]=Vec2$r.dot(Vec2$r.sub(j,$),s),h.length=1,f.length=1;break;case Manifold$6.e_faceA:s=Rot$j.mulVec2(_.q,this.localNormal);for(var nt=Transform$c.mulVec2(_,this.localPoint),_e=0;_e<this.pointCount;++_e){var et=Transform$c.mulVec2(o,this.points[_e].localPoint),$=Vec2$r.clone(et).addMul(d-Vec2$r.dot(Vec2$r.sub(et,nt),s),s),j=Vec2$r.clone(et).subMul(c,s);h[_e]=Vec2$r.mid($,j),f[_e]=Vec2$r.dot(Vec2$r.sub(j,$),s)}h.length=this.pointCount,f.length=this.pointCount;break;case Manifold$6.e_faceB:s=Rot$j.mulVec2(o.q,this.localNormal);for(var nt=Transform$c.mulVec2(o,this.localPoint),_e=0;_e<this.pointCount;++_e){var et=Transform$c.mulVec2(_,this.points[_e].localPoint),j=Vec2$r.combine(1,et,c-Vec2$r.dot(Vec2$r.sub(et,nt),s),s),$=Vec2$r.combine(1,et,-d,s);h[_e]=Vec2$r.mid($,j),f[_e]=Vec2$r.dot(Vec2$r.sub($,j),s)}h.length=this.pointCount,f.length=this.pointCount,s.mul(-1);break}return e.normal=s,e.points=h,e.separations=f,e}};var PointState={nullState:0,addState:1,persistState:2,removeState:3};function getPointStates(e,_,d,o){for(var c=0;c<d.pointCount;++c){var s=d.points[c].id;e[c]=PointState.removeState;for(var h=0;h<o.pointCount;++h)if(o.points[h].id.key==s.key){e[c]=PointState.persistState;break}}for(var c=0;c<o.pointCount;++c){var s=o.points[c].id;_[c]=PointState.addState;for(var h=0;h<d.pointCount;++h)if(d.points[h].id.key==s.key){_[c]=PointState.persistState;break}}}function ClipVertex(){this.v=Vec2$r.zero(),this.id=new ContactID}ClipVertex.prototype.set=function(e){this.v.set(e.v),this.id.set(e.id)};function clipSegmentToLine(e,_,d,o,c){var s=0,h=Vec2$r.dot(d,_[0].v)-o,f=Vec2$r.dot(d,_[1].v)-o;if(h<=0&&e[s++].set(_[0]),f<=0&&e[s++].set(_[1]),h*f<0){var g=h/(h-f);e[s].v.setCombine(1-g,_[0].v,g,_[1].v),e[s].id.cf.indexA=c,e[s].id.cf.indexB=_[0].id.cf.indexB,e[s].id.cf.typeA=Manifold$6.e_vertex,e[s].id.cf.typeB=Manifold$6.e_face,++s}return s}var ManifoldExports=Manifold$7.exports,Distance$4={exports:{}},stats$2={};stats$2.toString=function(e){e=typeof e=="string"?e:`
`;var _="";for(var d in this)typeof this[d]!="function"&&typeof this[d]!="object"&&(_+=d+": "+this[d]+e);return _};var _DEBUG$2=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$m=typeof ASSERT>"u"?!1:ASSERT,Vec3_1=Vec3$5,common$m=common$y,Math$k=_MathExports;function Vec3$5(e,_,d){if(!(this instanceof Vec3$5))return new Vec3$5(e,_,d);typeof e>"u"?(this.x=0,this.y=0,this.z=0):typeof e=="object"?(this.x=e.x,this.y=e.y,this.z=e.z):(this.x=e,this.y=_,this.z=d),_ASSERT$m&&Vec3$5.assert(this)}Vec3$5.prototype._serialize=function(){return{x:this.x,y:this.y,z:this.z}};Vec3$5._deserialize=function(e){var _=Object.create(Vec3$5.prototype);return _.x=e.x,_.y=e.y,_.z=e.z,_};Vec3$5.neo=function(e,_,d){var o=Object.create(Vec3$5.prototype);return o.x=e,o.y=_,o.z=d,o};Vec3$5.clone=function(e){return _ASSERT$m&&Vec3$5.assert(e),Vec3$5.neo(e.x,e.y,e.z)};Vec3$5.prototype.toString=function(){return JSON.stringify(this)};Vec3$5.isValid=function(e){return e&&Math$k.isFinite(e.x)&&Math$k.isFinite(e.y)&&Math$k.isFinite(e.z)};Vec3$5.assert=function(e){if(_ASSERT$m&&!Vec3$5.isValid(e))throw _DEBUG$2&&common$m.debug(e),new Error("Invalid Vec3!")};Vec3$5.prototype.setZero=function(){return this.x=0,this.y=0,this.z=0,this};Vec3$5.prototype.set=function(e,_,d){return this.x=e,this.y=_,this.z=d,this};Vec3$5.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this};Vec3$5.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this};Vec3$5.prototype.mul=function(e){return this.x*=e,this.y*=e,this.z*=e,this};Vec3$5.areEqual=function(e,_){return _ASSERT$m&&Vec3$5.assert(e),_ASSERT$m&&Vec3$5.assert(_),e==_||typeof e=="object"&&e!==null&&typeof _=="object"&&_!==null&&e.x===_.x&&e.y===_.y&&e.z===_.z};Vec3$5.dot=function(e,_){return e.x*_.x+e.y*_.y+e.z*_.z};Vec3$5.cross=function(e,_){return new Vec3$5(e.y*_.z-e.z*_.y,e.z*_.x-e.x*_.z,e.x*_.y-e.y*_.x)};Vec3$5.add=function(e,_){return new Vec3$5(e.x+_.x,e.y+_.y,e.z+_.z)};Vec3$5.sub=function(e,_){return new Vec3$5(e.x-_.x,e.y-_.y,e.z-_.z)};Vec3$5.mul=function(e,_){return new Vec3$5(_*e.x,_*e.y,_*e.z)};Vec3$5.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this};Vec3$5.neg=function(e){return new Vec3$5(-e.x,-e.y,-e.z)};var _DEBUG$1=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$l=typeof ASSERT>"u"?!1:ASSERT,Mat33_1=Mat33$3,common$l=common$y,Vec2$q=Vec2_1,Vec3$4=Vec3_1;function Mat33$3(e,_,d){typeof e=="object"&&e!==null?(this.ex=Vec3$4.clone(e),this.ey=Vec3$4.clone(_),this.ez=Vec3$4.clone(d)):(this.ex=Vec3$4(),this.ey=Vec3$4(),this.ez=Vec3$4())}Mat33$3.prototype.toString=function(){return JSON.stringify(this)};Mat33$3.isValid=function(e){return e&&Vec3$4.isValid(e.ex)&&Vec3$4.isValid(e.ey)&&Vec3$4.isValid(e.ez)};Mat33$3.assert=function(e){if(_ASSERT$l&&!Mat33$3.isValid(e))throw _DEBUG$1&&common$l.debug(e),new Error("Invalid Mat33!")};Mat33$3.prototype.setZero=function(){return this.ex.setZero(),this.ey.setZero(),this.ez.setZero(),this};Mat33$3.prototype.solve33=function(e){var _=Vec3$4.dot(this.ex,Vec3$4.cross(this.ey,this.ez));_!=0&&(_=1/_);var d=new Vec3$4;return d.x=_*Vec3$4.dot(e,Vec3$4.cross(this.ey,this.ez)),d.y=_*Vec3$4.dot(this.ex,Vec3$4.cross(e,this.ez)),d.z=_*Vec3$4.dot(this.ex,Vec3$4.cross(this.ey,e)),d};Mat33$3.prototype.solve22=function(e){var _=this.ex.x,d=this.ey.x,o=this.ex.y,c=this.ey.y,s=_*c-d*o;s!=0&&(s=1/s);var h=Vec2$q.zero();return h.x=s*(c*e.x-d*e.y),h.y=s*(_*e.y-o*e.x),h};Mat33$3.prototype.getInverse22=function(e){var _=this.ex.x,d=this.ey.x,o=this.ex.y,c=this.ey.y,s=_*c-d*o;s!=0&&(s=1/s),e.ex.x=s*c,e.ey.x=-s*d,e.ex.z=0,e.ex.y=-s*o,e.ey.y=s*_,e.ey.z=0,e.ez.x=0,e.ez.y=0,e.ez.z=0};Mat33$3.prototype.getSymInverse33=function(e){var _=Vec3$4.dot(this.ex,Vec3$4.cross(this.ey,this.ez));_!=0&&(_=1/_);var d=this.ex.x,o=this.ey.x,c=this.ez.x,s=this.ey.y,h=this.ez.y,f=this.ez.z;e.ex.x=_*(s*f-h*h),e.ex.y=_*(c*h-o*f),e.ex.z=_*(o*h-c*s),e.ey.x=e.ex.y,e.ey.y=_*(d*f-c*c),e.ey.z=_*(c*o-d*h),e.ez.x=e.ex.z,e.ez.y=e.ey.z,e.ez.z=_*(d*s-o*o)};Mat33$3.mul=function(e,_){if(_ASSERT$l&&Mat33$3.assert(e),_&&"z"in _&&"y"in _&&"x"in _){_ASSERT$l&&Vec3$4.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y+e.ez.x*_.z,o=e.ex.y*_.x+e.ey.y*_.y+e.ez.y*_.z,c=e.ex.z*_.x+e.ey.z*_.y+e.ez.z*_.z;return new Vec3$4(d,o,c)}else if(_&&"y"in _&&"x"in _){_ASSERT$l&&Vec2$q.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y,o=e.ex.y*_.x+e.ey.y*_.y;return Vec2$q.neo(d,o)}_ASSERT$l&&common$l.assert(!1)};Mat33$3.mulVec3=function(e,_){_ASSERT$l&&Mat33$3.assert(e),_ASSERT$l&&Vec3$4.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y+e.ez.x*_.z,o=e.ex.y*_.x+e.ey.y*_.y+e.ez.y*_.z,c=e.ex.z*_.x+e.ey.z*_.y+e.ez.z*_.z;return new Vec3$4(d,o,c)};Mat33$3.mulVec2=function(e,_){_ASSERT$l&&Mat33$3.assert(e),_ASSERT$l&&Vec2$q.assert(_);var d=e.ex.x*_.x+e.ey.x*_.y,o=e.ex.y*_.x+e.ey.y*_.y;return Vec2$q.neo(d,o)};Mat33$3.add=function(e,_){return _ASSERT$l&&Mat33$3.assert(e),_ASSERT$l&&Mat33$3.assert(_),new Mat33$3(Vec3$4.add(e.ex,_.ex),Vec3$4.add(e.ey,_.ey),Vec3$4.add(e.ez,_.ez))};var _ASSERT$k=typeof ASSERT>"u"?!1:ASSERT;Distance$4.exports=Distance$3;Distance$4.exports.Input=DistanceInput$1;Distance$4.exports.Output=DistanceOutput$1;Distance$4.exports.Proxy=DistanceProxy$1;Distance$4.exports.Cache=SimplexCache$1;var Settings$g=Settings$i,common$k=common$y,stats$1=stats$2,Math$j=_MathExports,Vec2$p=Vec2_1,Rot$i=Rot_1,Transform$b=Transform_1;stats$1.gjkCalls=0;stats$1.gjkIters=0;stats$1.gjkMaxIters=0;function DistanceInput$1(){this.proxyA=new DistanceProxy$1,this.proxyB=new DistanceProxy$1,this.transformA=null,this.transformB=null,this.useRadii=!1}function DistanceOutput$1(){this.pointA=Vec2$p.zero(),this.pointB=Vec2$p.zero(),this.distance,this.iterations}function SimplexCache$1(){this.metric=0,this.indexA=[],this.indexB=[],this.count=0}function Distance$3(e,_,d){++stats$1.gjkCalls;var o=d.proxyA,c=d.proxyB,s=d.transformA,h=d.transformB,f=new Simplex;f.readCache(_,o,s,c,h);for(var g=f.m_v,b=Settings$g.maxDistnceIterations,k=[],$=[],j=0,_e=0;_e<b;){j=f.m_count;for(var et=0;et<j;++et)k[et]=g[et].indexA,$[et]=g[et].indexB;if(f.solve(),f.m_count==3)break;var nt=f.getClosestPoint();nt.lengthSquared();var rt=f.getSearchDirection();if(rt.lengthSquared()<Math$j.EPSILON*Math$j.EPSILON)break;var tt=g[f.m_count];tt.indexA=o.getSupport(Rot$i.mulTVec2(s.q,Vec2$p.neg(rt))),tt.wA=Transform$b.mulVec2(s,o.getVertex(tt.indexA)),tt.indexB=c.getSupport(Rot$i.mulTVec2(h.q,rt)),tt.wB=Transform$b.mulVec2(h,c.getVertex(tt.indexB)),tt.w=Vec2$p.sub(tt.wB,tt.wA),++_e,++stats$1.gjkIters;for(var it=!1,et=0;et<j;++et)if(tt.indexA==k[et]&&tt.indexB==$[et]){it=!0;break}if(it)break;++f.m_count}if(stats$1.gjkMaxIters=Math$j.max(stats$1.gjkMaxIters,_e),f.getWitnessPoints(e.pointA,e.pointB),e.distance=Vec2$p.distance(e.pointA,e.pointB),e.iterations=_e,f.writeCache(_),d.useRadii){var st=o.m_radius,at=c.m_radius;if(e.distance>st+at&&e.distance>Math$j.EPSILON){e.distance-=st+at;var _t=Vec2$p.sub(e.pointB,e.pointA);_t.normalize(),e.pointA.addMul(st,_t),e.pointB.subMul(at,_t)}else{var nt=Vec2$p.mid(e.pointA,e.pointB);e.pointA.set(nt),e.pointB.set(nt),e.distance=0}}}function DistanceProxy$1(){this.m_buffer=[],this.m_vertices=[],this.m_count=0,this.m_radius=0}DistanceProxy$1.prototype.getVertexCount=function(){return this.m_count};DistanceProxy$1.prototype.getVertex=function(e){return _ASSERT$k&&common$k.assert(0<=e&&e<this.m_count),this.m_vertices[e]};DistanceProxy$1.prototype.getSupport=function(e){for(var _=0,d=Vec2$p.dot(this.m_vertices[0],e),o=0;o<this.m_count;++o){var c=Vec2$p.dot(this.m_vertices[o],e);c>d&&(_=o,d=c)}return _};DistanceProxy$1.prototype.getSupportVertex=function(e){return this.m_vertices[this.getSupport(e)]};DistanceProxy$1.prototype.set=function(e,_){_ASSERT$k&&common$k.assert(typeof e.computeDistanceProxy=="function"),e.computeDistanceProxy(this,_)};function SimplexVertex(){this.indexA,this.indexB,this.wA=Vec2$p.zero(),this.wB=Vec2$p.zero(),this.w=Vec2$p.zero(),this.a}SimplexVertex.prototype.set=function(e){this.indexA=e.indexA,this.indexB=e.indexB,this.wA=Vec2$p.clone(e.wA),this.wB=Vec2$p.clone(e.wB),this.w=Vec2$p.clone(e.w),this.a=e.a};function Simplex(){this.m_v1=new SimplexVertex,this.m_v2=new SimplexVertex,this.m_v3=new SimplexVertex,this.m_v=[this.m_v1,this.m_v2,this.m_v3],this.m_count}Simplex.prototype.print=function(){return this.m_count==3?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y,this.m_v3.a,this.m_v3.wA.x,this.m_v3.wA.y,this.m_v3.wB.x,this.m_v3.wB.y].toString():this.m_count==2?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y,this.m_v2.a,this.m_v2.wA.x,this.m_v2.wA.y,this.m_v2.wB.x,this.m_v2.wB.y].toString():this.m_count==1?["+"+this.m_count,this.m_v1.a,this.m_v1.wA.x,this.m_v1.wA.y,this.m_v1.wB.x,this.m_v1.wB.y].toString():"+"+this.m_count};Simplex.prototype.readCache=function(e,_,d,o,c){_ASSERT$k&&common$k.assert(e.count<=3),this.m_count=e.count;for(var s=0;s<this.m_count;++s){var h=this.m_v[s];h.indexA=e.indexA[s],h.indexB=e.indexB[s];var f=_.getVertex(h.indexA),g=o.getVertex(h.indexB);h.wA=Transform$b.mulVec2(d,f),h.wB=Transform$b.mulVec2(c,g),h.w=Vec2$p.sub(h.wB,h.wA),h.a=0}if(this.m_count>1){var b=e.metric,k=this.getMetric();(k<.5*b||2*b<k||k<Math$j.EPSILON)&&(this.m_count=0)}if(this.m_count==0){var h=this.m_v[0];h.indexA=0,h.indexB=0;var f=_.getVertex(0),g=o.getVertex(0);h.wA=Transform$b.mulVec2(d,f),h.wB=Transform$b.mulVec2(c,g),h.w=Vec2$p.sub(h.wB,h.wA),h.a=1,this.m_count=1}};Simplex.prototype.writeCache=function(e){e.metric=this.getMetric(),e.count=this.m_count;for(var _=0;_<this.m_count;++_)e.indexA[_]=this.m_v[_].indexA,e.indexB[_]=this.m_v[_].indexB};Simplex.prototype.getSearchDirection=function(){switch(this.m_count){case 1:return Vec2$p.neg(this.m_v1.w);case 2:{var e=Vec2$p.sub(this.m_v2.w,this.m_v1.w),_=Vec2$p.cross(e,Vec2$p.neg(this.m_v1.w));return _>0?Vec2$p.cross(1,e):Vec2$p.cross(e,1)}default:return _ASSERT$k&&common$k.assert(!1),Vec2$p.zero()}};Simplex.prototype.getClosestPoint=function(){switch(this.m_count){case 0:return _ASSERT$k&&common$k.assert(!1),Vec2$p.zero();case 1:return Vec2$p.clone(this.m_v1.w);case 2:return Vec2$p.combine(this.m_v1.a,this.m_v1.w,this.m_v2.a,this.m_v2.w);case 3:return Vec2$p.zero();default:return _ASSERT$k&&common$k.assert(!1),Vec2$p.zero()}};Simplex.prototype.getWitnessPoints=function(e,_){switch(this.m_count){case 0:_ASSERT$k&&common$k.assert(!1);break;case 1:e.set(this.m_v1.wA),_.set(this.m_v1.wB);break;case 2:e.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),_.setCombine(this.m_v1.a,this.m_v1.wB,this.m_v2.a,this.m_v2.wB);break;case 3:e.setCombine(this.m_v1.a,this.m_v1.wA,this.m_v2.a,this.m_v2.wA),e.addMul(this.m_v3.a,this.m_v3.wA),_.set(e);break;default:_ASSERT$k&&common$k.assert(!1);break}};Simplex.prototype.getMetric=function(){switch(this.m_count){case 0:return _ASSERT$k&&common$k.assert(!1),0;case 1:return 0;case 2:return Vec2$p.distance(this.m_v1.w,this.m_v2.w);case 3:return Vec2$p.cross(Vec2$p.sub(this.m_v2.w,this.m_v1.w),Vec2$p.sub(this.m_v3.w,this.m_v1.w));default:return _ASSERT$k&&common$k.assert(!1),0}};Simplex.prototype.solve=function(){switch(this.m_count){case 1:break;case 2:this.solve2();break;case 3:this.solve3();break;default:_ASSERT$k&&common$k.assert(!1)}};Simplex.prototype.solve2=function(){var e=this.m_v1.w,_=this.m_v2.w,d=Vec2$p.sub(_,e),o=-Vec2$p.dot(e,d);if(o<=0){this.m_v1.a=1,this.m_count=1;return}var c=Vec2$p.dot(_,d);if(c<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}var s=1/(c+o);this.m_v1.a=c*s,this.m_v2.a=o*s,this.m_count=2};Simplex.prototype.solve3=function(){var e=this.m_v1.w,_=this.m_v2.w,d=this.m_v3.w,o=Vec2$p.sub(_,e),c=Vec2$p.dot(e,o),s=Vec2$p.dot(_,o),h=s,f=-c,g=Vec2$p.sub(d,e),b=Vec2$p.dot(e,g),k=Vec2$p.dot(d,g),$=k,j=-b,_e=Vec2$p.sub(d,_),et=Vec2$p.dot(_,_e),nt=Vec2$p.dot(d,_e),rt=nt,tt=-et,it=Vec2$p.cross(o,g),st=it*Vec2$p.cross(_,d),at=it*Vec2$p.cross(d,e),_t=it*Vec2$p.cross(e,_);if(f<=0&&j<=0){this.m_v1.a=1,this.m_count=1;return}if(h>0&&f>0&&_t<=0){var ut=1/(h+f);this.m_v1.a=h*ut,this.m_v2.a=f*ut,this.m_count=2;return}if($>0&&j>0&&at<=0){var ot=1/($+j);this.m_v1.a=$*ot,this.m_v3.a=j*ot,this.m_count=2,this.m_v2.set(this.m_v3);return}if(h<=0&&tt<=0){this.m_v2.a=1,this.m_count=1,this.m_v1.set(this.m_v2);return}if($<=0&&rt<=0){this.m_v3.a=1,this.m_count=1,this.m_v1.set(this.m_v3);return}if(rt>0&&tt>0&&st<=0){var lt=1/(rt+tt);this.m_v2.a=rt*lt,this.m_v3.a=tt*lt,this.m_count=2,this.m_v1.set(this.m_v3);return}var ft=1/(st+at+_t);this.m_v1.a=st*ft,this.m_v2.a=at*ft,this.m_v3.a=_t*ft,this.m_count=3};Distance$3.testOverlap=function(e,_,d,o,c,s){var h=new DistanceInput$1;h.proxyA.set(e,_),h.proxyB.set(d,o),h.transformA=c,h.transformB=s,h.useRadii=!0;var f=new SimplexCache$1,g=new DistanceOutput$1;return Distance$3(g,f,h),g.distance<10*Math$j.EPSILON};var DistanceExports=Distance$4.exports;var _ASSERT$j=typeof ASSERT>"u"?!1:ASSERT,common$j=common$y,Math$i=_MathExports,Vec2$o=Vec2_1,Transform$a=Transform_1,Mat22$5=Mat22_1,Rot$h=Rot_1,Settings$f=Settings$i,Manifold$5=ManifoldExports,Distance$2=DistanceExports,Contact_1=Contact$7;function ContactEdge(e){this.contact=e,this.prev,this.next,this.other}function Contact$7(e,_,d,o,c){this.m_nodeA=new ContactEdge(this),this.m_nodeB=new ContactEdge(this),this.m_fixtureA=e,this.m_fixtureB=d,this.m_indexA=_,this.m_indexB=o,this.m_evaluateFcn=c,this.m_manifold=new Manifold$5,this.m_prev=null,this.m_next=null,this.m_toi=1,this.m_toiCount=0,this.m_toiFlag=!1,this.m_friction=mixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=mixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution),this.m_tangentSpeed=0,this.m_enabledFlag=!0,this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.v_points=[],this.v_normal=Vec2$o.zero(),this.v_normalMass=new Mat22$5,this.v_K=new Mat22$5,this.v_pointCount,this.v_tangentSpeed,this.v_friction,this.v_restitution,this.v_invMassA,this.v_invMassB,this.v_invIA,this.v_invIB,this.p_localPoints=[],this.p_localNormal=Vec2$o.zero(),this.p_localPoint=Vec2$o.zero(),this.p_localCenterA=Vec2$o.zero(),this.p_localCenterB=Vec2$o.zero(),this.p_type,this.p_radiusA,this.p_radiusB,this.p_pointCount,this.p_invMassA,this.p_invMassB,this.p_invIA,this.p_invIB}Contact$7.prototype.initConstraint=function(e){var _=this.m_fixtureA,d=this.m_fixtureB,o=_.getShape(),c=d.getShape(),s=_.getBody(),h=d.getBody(),f=this.getManifold(),g=f.pointCount;_ASSERT$j&&common$j.assert(g>0),this.v_invMassA=s.m_invMass,this.v_invMassB=h.m_invMass,this.v_invIA=s.m_invI,this.v_invIB=h.m_invI,this.v_friction=this.m_friction,this.v_restitution=this.m_restitution,this.v_tangentSpeed=this.m_tangentSpeed,this.v_pointCount=g,this.v_K.setZero(),this.v_normalMass.setZero(),this.p_invMassA=s.m_invMass,this.p_invMassB=h.m_invMass,this.p_invIA=s.m_invI,this.p_invIB=h.m_invI,this.p_localCenterA=Vec2$o.clone(s.m_sweep.localCenter),this.p_localCenterB=Vec2$o.clone(h.m_sweep.localCenter),this.p_radiusA=o.m_radius,this.p_radiusB=c.m_radius,this.p_type=f.type,this.p_localNormal=Vec2$o.clone(f.localNormal),this.p_localPoint=Vec2$o.clone(f.localPoint),this.p_pointCount=g;for(var b=0;b<g;++b){var k=f.points[b],$=this.v_points[b]=new VelocityConstraintPoint;e.warmStarting?($.normalImpulse=e.dtRatio*k.normalImpulse,$.tangentImpulse=e.dtRatio*k.tangentImpulse):($.normalImpulse=0,$.tangentImpulse=0),$.rA.setZero(),$.rB.setZero(),$.normalMass=0,$.tangentMass=0,$.velocityBias=0,this.p_localPoints[b]=Vec2$o.clone(k.localPoint)}};Contact$7.prototype.getManifold=function(){return this.m_manifold};Contact$7.prototype.getWorldManifold=function(e){var _=this.m_fixtureA.getBody(),d=this.m_fixtureB.getBody(),o=this.m_fixtureA.getShape(),c=this.m_fixtureB.getShape();return this.m_manifold.getWorldManifold(e,_.getTransform(),o.m_radius,d.getTransform(),c.m_radius)};Contact$7.prototype.setEnabled=function(e){this.m_enabledFlag=!!e};Contact$7.prototype.isEnabled=function(){return this.m_enabledFlag};Contact$7.prototype.isTouching=function(){return this.m_touchingFlag};Contact$7.prototype.getNext=function(){return this.m_next};Contact$7.prototype.getFixtureA=function(){return this.m_fixtureA};Contact$7.prototype.getFixtureB=function(){return this.m_fixtureB};Contact$7.prototype.getChildIndexA=function(){return this.m_indexA};Contact$7.prototype.getChildIndexB=function(){return this.m_indexB};Contact$7.prototype.flagForFiltering=function(){this.m_filterFlag=!0};Contact$7.prototype.setFriction=function(e){this.m_friction=e};Contact$7.prototype.getFriction=function(){return this.m_friction};Contact$7.prototype.resetFriction=function(){this.m_friction=mixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)};Contact$7.prototype.setRestitution=function(e){this.m_restitution=e};Contact$7.prototype.getRestitution=function(){return this.m_restitution};Contact$7.prototype.resetRestitution=function(){this.m_restitution=mixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)};Contact$7.prototype.setTangentSpeed=function(e){this.m_tangentSpeed=e};Contact$7.prototype.getTangentSpeed=function(){return this.m_tangentSpeed};Contact$7.prototype.evaluate=function(e,_,d){this.m_evaluateFcn(e,_,this.m_fixtureA,this.m_indexA,d,this.m_fixtureB,this.m_indexB)};Contact$7.prototype.update=function(e){this.m_enabledFlag=!0;var _=!1,d=this.m_touchingFlag,o=this.m_fixtureA.isSensor(),c=this.m_fixtureB.isSensor(),s=o||c,h=this.m_fixtureA.getBody(),f=this.m_fixtureB.getBody(),g=h.getTransform(),b=f.getTransform();if(s){var k=this.m_fixtureA.getShape(),$=this.m_fixtureB.getShape();_=Distance$2.testOverlap(k,this.m_indexA,$,this.m_indexB,g,b),this.m_manifold.pointCount=0}else{var j=this.m_manifold;this.m_manifold=new Manifold$5,this.evaluate(this.m_manifold,g,b),_=this.m_manifold.pointCount>0;for(var _e=0;_e<this.m_manifold.pointCount;++_e){var et=this.m_manifold.points[_e];et.normalImpulse=0,et.tangentImpulse=0;for(var nt=0;nt<j.pointCount;++nt){var rt=j.points[nt];if(rt.id.key==et.id.key){et.normalImpulse=rt.normalImpulse,et.tangentImpulse=rt.tangentImpulse;break}}}_!=d&&(h.setAwake(!0),f.setAwake(!0))}this.m_touchingFlag=_,d==!1&&_==!0&&e&&e.beginContact(this),d==!0&&_==!1&&e&&e.endContact(this),s==!1&&_&&e&&e.preSolve(this,j)};Contact$7.prototype.solvePositionConstraint=function(e){return this._solvePositionConstraint(e,!1)};Contact$7.prototype.solvePositionConstraintTOI=function(e,_,d){return this._solvePositionConstraint(e,!0,_,d)};Contact$7.prototype._solvePositionConstraint=function(e,_,d,o){var c=this.m_fixtureA,s=this.m_fixtureB,h=c.getBody(),f=s.getBody();h.c_velocity,f.c_velocity;var g=h.c_position,b=f.c_position,k=Vec2$o.clone(this.p_localCenterA),$=Vec2$o.clone(this.p_localCenterB),j=0,_e=0;(!_||h==d||h==o)&&(j=this.p_invMassA,_e=this.p_invIA);var et=0,nt=0;(!_||f==d||f==o)&&(et=this.p_invMassB,nt=this.p_invIB);for(var rt=Vec2$o.clone(g.c),tt=g.a,it=Vec2$o.clone(b.c),st=b.a,at=0,_t=0;_t<this.p_pointCount;++_t){var ut=Transform$a.identity(),ot=Transform$a.identity();ut.q.set(tt),ot.q.set(st),ut.p=Vec2$o.sub(rt,Rot$h.mulVec2(ut.q,k)),ot.p=Vec2$o.sub(it,Rot$h.mulVec2(ot.q,$));var lt,ft,ht;switch(this.p_type){case Manifold$5.e_circles:var dt=Transform$a.mulVec2(ut,this.p_localPoint),pt=Transform$a.mulVec2(ot,this.p_localPoints[0]);lt=Vec2$o.sub(pt,dt),lt.normalize(),ft=Vec2$o.combine(.5,dt,.5,pt),ht=Vec2$o.dot(Vec2$o.sub(pt,dt),lt)-this.p_radiusA-this.p_radiusB;break;case Manifold$5.e_faceA:lt=Rot$h.mulVec2(ut.q,this.p_localNormal);var xt=Transform$a.mulVec2(ut,this.p_localPoint),vt=Transform$a.mulVec2(ot,this.p_localPoints[_t]);ht=Vec2$o.dot(Vec2$o.sub(vt,xt),lt)-this.p_radiusA-this.p_radiusB,ft=vt;break;case Manifold$5.e_faceB:lt=Rot$h.mulVec2(ot.q,this.p_localNormal);var xt=Transform$a.mulVec2(ot,this.p_localPoint),vt=Transform$a.mulVec2(ut,this.p_localPoints[_t]);ht=Vec2$o.dot(Vec2$o.sub(vt,xt),lt)-this.p_radiusA-this.p_radiusB,ft=vt,lt.mul(-1);break}var bt=Vec2$o.sub(ft,rt),wt=Vec2$o.sub(ft,it);at=Math$i.min(at,ht);var At=_?Settings$f.toiBaugarte:Settings$f.baumgarte,ct=Settings$f.linearSlop,mt=Settings$f.maxLinearCorrection,gt=Math$i.clamp(At*(ht+ct),-mt,0),Tt=Vec2$o.cross(bt,lt),yt=Vec2$o.cross(wt,lt),Et=j+et+_e*Tt*Tt+nt*yt*yt,Ct=Et>0?-gt/Et:0,It=Vec2$o.mul(Ct,lt);rt.subMul(j,It),tt-=_e*Vec2$o.cross(bt,It),it.addMul(et,It),st+=nt*Vec2$o.cross(wt,It)}return g.c.set(rt),g.a=tt,b.c.set(it),b.a=st,at};function VelocityConstraintPoint(){this.rA=Vec2$o.zero(),this.rB=Vec2$o.zero(),this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}Contact$7.prototype.initVelocityConstraint=function(e){var _=this.m_fixtureA,d=this.m_fixtureB,o=_.getBody(),c=d.getBody(),s=o.c_velocity,h=c.c_velocity,f=o.c_position,g=c.c_position,b=this.p_radiusA,k=this.p_radiusB,$=this.getManifold(),j=this.v_invMassA,_e=this.v_invMassB,et=this.v_invIA,nt=this.v_invIB,rt=Vec2$o.clone(this.p_localCenterA),tt=Vec2$o.clone(this.p_localCenterB),it=Vec2$o.clone(f.c),st=f.a,at=Vec2$o.clone(s.v),_t=s.w,ut=Vec2$o.clone(g.c),ot=g.a,lt=Vec2$o.clone(h.v),ft=h.w;_ASSERT$j&&common$j.assert($.pointCount>0);var ht=Transform$a.identity(),dt=Transform$a.identity();ht.q.set(st),dt.q.set(ot),ht.p.setCombine(1,it,-1,Rot$h.mulVec2(ht.q,rt)),dt.p.setCombine(1,ut,-1,Rot$h.mulVec2(dt.q,tt));var pt=$.getWorldManifold(null,ht,b,dt,k);this.v_normal.set(pt.normal);for(var xt=0;xt<this.v_pointCount;++xt){var vt=this.v_points[xt];vt.rA.set(Vec2$o.sub(pt.points[xt],it)),vt.rB.set(Vec2$o.sub(pt.points[xt],ut));var bt=Vec2$o.cross(vt.rA,this.v_normal),wt=Vec2$o.cross(vt.rB,this.v_normal),At=j+_e+et*bt*bt+nt*wt*wt;vt.normalMass=At>0?1/At:0;var ct=Vec2$o.cross(this.v_normal,1),mt=Vec2$o.cross(vt.rA,ct),gt=Vec2$o.cross(vt.rB,ct),Tt=j+_e+et*mt*mt+nt*gt*gt;vt.tangentMass=Tt>0?1/Tt:0,vt.velocityBias=0;var yt=Vec2$o.dot(this.v_normal,lt)+Vec2$o.dot(this.v_normal,Vec2$o.cross(ft,vt.rB))-Vec2$o.dot(this.v_normal,at)-Vec2$o.dot(this.v_normal,Vec2$o.cross(_t,vt.rA));yt<-Settings$f.velocityThreshold&&(vt.velocityBias=-this.v_restitution*yt)}if(this.v_pointCount==2&&e.blockSolve){var Et=this.v_points[0],Ct=this.v_points[1],It=Vec2$o.cross(Et.rA,this.v_normal),Rt=Vec2$o.cross(Et.rB,this.v_normal),Ft=Vec2$o.cross(Ct.rA,this.v_normal),Lt=Vec2$o.cross(Ct.rB,this.v_normal),Ot=j+_e+et*It*It+nt*Rt*Rt,Kt=j+_e+et*Ft*Ft+nt*Lt*Lt,qt=j+_e+et*It*Ft+nt*Rt*Lt,Ht=1e3;Ot*Ot<Ht*(Ot*Kt-qt*qt)?(this.v_K.ex.set(Ot,qt),this.v_K.ey.set(qt,Kt),this.v_normalMass.set(this.v_K.getInverse())):this.v_pointCount=1}f.c.set(it),f.a=st,s.v.set(at),s.w=_t,g.c.set(ut),g.a=ot,h.v.set(lt),h.w=ft};Contact$7.prototype.warmStartConstraint=function(e){var _=this.m_fixtureA,d=this.m_fixtureB,o=_.getBody(),c=d.getBody(),s=o.c_velocity,h=c.c_velocity;o.c_position,c.c_position;for(var f=this.v_invMassA,g=this.v_invIA,b=this.v_invMassB,k=this.v_invIB,$=Vec2$o.clone(s.v),j=s.w,_e=Vec2$o.clone(h.v),et=h.w,nt=this.v_normal,rt=Vec2$o.cross(nt,1),tt=0;tt<this.v_pointCount;++tt){var it=this.v_points[tt],st=Vec2$o.combine(it.normalImpulse,nt,it.tangentImpulse,rt);j-=g*Vec2$o.cross(it.rA,st),$.subMul(f,st),et+=k*Vec2$o.cross(it.rB,st),_e.addMul(b,st)}s.v.set($),s.w=j,h.v.set(_e),h.w=et};Contact$7.prototype.storeConstraintImpulses=function(e){for(var _=this.m_manifold,d=0;d<this.v_pointCount;++d)_.points[d].normalImpulse=this.v_points[d].normalImpulse,_.points[d].tangentImpulse=this.v_points[d].tangentImpulse};Contact$7.prototype.solveVelocityConstraint=function(e){var _=this.m_fixtureA.m_body,d=this.m_fixtureB.m_body,o=_.c_velocity;_.c_position;var c=d.c_velocity;d.c_position;var s=this.v_invMassA,h=this.v_invIA,f=this.v_invMassB,g=this.v_invIB,b=Vec2$o.clone(o.v),k=o.w,$=Vec2$o.clone(c.v),j=c.w,_e=this.v_normal,et=Vec2$o.cross(_e,1),nt=this.v_friction;_ASSERT$j&&common$j.assert(this.v_pointCount==1||this.v_pointCount==2);for(var rt=0;rt<this.v_pointCount;++rt){var tt=this.v_points[rt],it=Vec2$o.zero();it.addCombine(1,$,1,Vec2$o.cross(j,tt.rB)),it.subCombine(1,b,1,Vec2$o.cross(k,tt.rA));var st=Vec2$o.dot(it,et)-this.v_tangentSpeed,at=tt.tangentMass*-st,_t=nt*tt.normalImpulse,ut=Math$i.clamp(tt.tangentImpulse+at,-_t,_t);at=ut-tt.tangentImpulse,tt.tangentImpulse=ut;var ot=Vec2$o.mul(at,et);b.subMul(s,ot),k-=h*Vec2$o.cross(tt.rA,ot),$.addMul(f,ot),j+=g*Vec2$o.cross(tt.rB,ot)}if(this.v_pointCount==1||e.blockSolve==!1)for(var lt=0;lt<this.v_pointCount;++lt){var tt=this.v_points[lt],it=Vec2$o.zero();it.addCombine(1,$,1,Vec2$o.cross(j,tt.rB)),it.subCombine(1,b,1,Vec2$o.cross(k,tt.rA));var ft=Vec2$o.dot(it,_e),at=-tt.normalMass*(ft-tt.velocityBias),ut=Math$i.max(tt.normalImpulse+at,0);at=ut-tt.normalImpulse,tt.normalImpulse=ut;var ot=Vec2$o.mul(at,_e);b.subMul(s,ot),k-=h*Vec2$o.cross(tt.rA,ot),$.addMul(f,ot),j+=g*Vec2$o.cross(tt.rB,ot)}else{var ht=this.v_points[0],dt=this.v_points[1],pt=Vec2$o.neo(ht.normalImpulse,dt.normalImpulse);_ASSERT$j&&common$j.assert(pt.x>=0&&pt.y>=0);var xt=Vec2$o.zero().add($).add(Vec2$o.cross(j,ht.rB)).sub(b).sub(Vec2$o.cross(k,ht.rA)),vt=Vec2$o.zero().add($).add(Vec2$o.cross(j,dt.rB)).sub(b).sub(Vec2$o.cross(k,dt.rA)),bt=Vec2$o.dot(xt,_e),wt=Vec2$o.dot(vt,_e),At=Vec2$o.neo(bt-ht.velocityBias,wt-dt.velocityBias);for(At.sub(Mat22$5.mulVec2(this.v_K,pt));;){var ct=Mat22$5.mulVec2(this.v_normalMass,At).neg();if(ct.x>=0&&ct.y>=0){var mt=Vec2$o.sub(ct,pt),gt=Vec2$o.mul(mt.x,_e),Tt=Vec2$o.mul(mt.y,_e);b.subCombine(s,gt,s,Tt),k-=h*(Vec2$o.cross(ht.rA,gt)+Vec2$o.cross(dt.rA,Tt)),$.addCombine(f,gt,f,Tt),j+=g*(Vec2$o.cross(ht.rB,gt)+Vec2$o.cross(dt.rB,Tt)),ht.normalImpulse=ct.x,dt.normalImpulse=ct.y;break}if(ct.x=-ht.normalMass*At.x,ct.y=0,bt=0,wt=this.v_K.ex.y*ct.x+At.y,ct.x>=0&&wt>=0){var mt=Vec2$o.sub(ct,pt),gt=Vec2$o.mul(mt.x,_e),Tt=Vec2$o.mul(mt.y,_e);b.subCombine(s,gt,s,Tt),k-=h*(Vec2$o.cross(ht.rA,gt)+Vec2$o.cross(dt.rA,Tt)),$.addCombine(f,gt,f,Tt),j+=g*(Vec2$o.cross(ht.rB,gt)+Vec2$o.cross(dt.rB,Tt)),ht.normalImpulse=ct.x,dt.normalImpulse=ct.y;var xt;break}if(ct.x=0,ct.y=-dt.normalMass*At.y,bt=this.v_K.ey.x*ct.y+At.x,wt=0,ct.y>=0&&bt>=0){var mt=Vec2$o.sub(ct,pt),gt=Vec2$o.mul(mt.x,_e),Tt=Vec2$o.mul(mt.y,_e);b.subCombine(s,gt,s,Tt),k-=h*(Vec2$o.cross(ht.rA,gt)+Vec2$o.cross(dt.rA,Tt)),$.addCombine(f,gt,f,Tt),j+=g*(Vec2$o.cross(ht.rB,gt)+Vec2$o.cross(dt.rB,Tt)),ht.normalImpulse=ct.x,dt.normalImpulse=ct.y;var xt;break}if(ct.x=0,ct.y=0,bt=At.x,wt=At.y,bt>=0&&wt>=0){var mt=Vec2$o.sub(ct,pt),gt=Vec2$o.mul(mt.x,_e),Tt=Vec2$o.mul(mt.y,_e);b.subCombine(s,gt,s,Tt),k-=h*(Vec2$o.cross(ht.rA,gt)+Vec2$o.cross(dt.rA,Tt)),$.addCombine(f,gt,f,Tt),j+=g*(Vec2$o.cross(ht.rB,gt)+Vec2$o.cross(dt.rB,Tt)),ht.normalImpulse=ct.x,dt.normalImpulse=ct.y;break}break}}o.v.set(b),o.w=k,c.v.set($),c.w=j};function mixFriction(e,_){return Math$i.sqrt(e*_)}function mixRestitution(e,_){return e>_?e:_}var s_registers=[];Contact$7.addType=function(e,_,d){s_registers[e]=s_registers[e]||{},s_registers[e][_]=d};Contact$7.create=function(e,_,d,o){var c=e.getType(),s=d.getType(),h,f;if(f=s_registers[c]&&s_registers[c][s])h=new Contact$7(e,_,d,o,f);else if(f=s_registers[s]&&s_registers[s][c])h=new Contact$7(d,o,e,_,f);else return null;e=h.getFixtureA(),d=h.getFixtureB(),_=h.getChildIndexA(),o=h.getChildIndexB();var g=e.getBody(),b=d.getBody();return h.m_nodeA.contact=h,h.m_nodeA.other=b,h.m_nodeA.prev=null,h.m_nodeA.next=g.m_contactList,g.m_contactList!=null&&(g.m_contactList.prev=h.m_nodeA),g.m_contactList=h.m_nodeA,h.m_nodeB.contact=h,h.m_nodeB.other=g,h.m_nodeB.prev=null,h.m_nodeB.next=b.m_contactList,b.m_contactList!=null&&(b.m_contactList.prev=h.m_nodeB),b.m_contactList=h.m_nodeB,e.isSensor()==!1&&d.isSensor()==!1&&(g.setAwake(!0),b.setAwake(!0)),h};Contact$7.destroy=function(e,_){var d=e.m_fixtureA,o=e.m_fixtureB,c=d.getBody(),s=o.getBody();e.isTouching()&&_.endContact(e),e.m_nodeA.prev&&(e.m_nodeA.prev.next=e.m_nodeA.next),e.m_nodeA.next&&(e.m_nodeA.next.prev=e.m_nodeA.prev),e.m_nodeA==c.m_contactList&&(c.m_contactList=e.m_nodeA.next),e.m_nodeB.prev&&(e.m_nodeB.prev.next=e.m_nodeB.next),e.m_nodeB.next&&(e.m_nodeB.next.prev=e.m_nodeB.prev),e.m_nodeB==s.m_contactList&&(s.m_contactList=e.m_nodeB.next),e.m_manifold.pointCount>0&&d.isSensor()==!1&&o.isSensor()==!1&&(c.setAwake(!0),s.setAwake(!0));var h=d.getType(),f=o.getType(),g=s_registers[h][f].destroyFcn;typeof g=="function"&&g(e)};var _ASSERT$i=typeof ASSERT>"u"?!1:ASSERT,Joint_1=Joint$e,common$i=common$y;function JointEdge(){this.other=null,this.joint=null,this.prev=null,this.next=null}function Joint$e(e,_,d){_=e.bodyA||_,d=e.bodyB||d,_ASSERT$i&&common$i.assert(_),_ASSERT$i&&common$i.assert(d),_ASSERT$i&&common$i.assert(_!=d),this.m_type="unknown-joint",this.m_bodyA=_,this.m_bodyB=d,this.m_index=0,this.m_collideConnected=!!e.collideConnected,this.m_prev=null,this.m_next=null,this.m_edgeA=new JointEdge,this.m_edgeB=new JointEdge,this.m_islandFlag=!1,this.m_userData=e.userData}Joint$e.TYPES={};Joint$e._deserialize=function(e,_,d){var o=Joint$e.TYPES[e.type];return o&&d(o,e)};Joint$e.prototype.isActive=function(){return this.m_bodyA.isActive()&&this.m_bodyB.isActive()};Joint$e.prototype.getType=function(){return this.m_type};Joint$e.prototype.getBodyA=function(){return this.m_bodyA};Joint$e.prototype.getBodyB=function(){return this.m_bodyB};Joint$e.prototype.getNext=function(){return this.m_next};Joint$e.prototype.getUserData=function(){return this.m_userData};Joint$e.prototype.setUserData=function(e){this.m_userData=e};Joint$e.prototype.getCollideConnected=function(){return this.m_collideConnected};Joint$e.prototype.getAnchorA=function(){};Joint$e.prototype.getAnchorB=function(){};Joint$e.prototype.getReactionForce=function(e){};Joint$e.prototype.getReactionTorque=function(e){};Joint$e.prototype.shiftOrigin=function(e){};Joint$e.prototype.initVelocityConstraints=function(e){};Joint$e.prototype.solveVelocityConstraints=function(e){};Joint$e.prototype.solvePositionConstraints=function(e){};var TimeOfImpact$2={exports:{}},Timer$1={};Timer$1.now=function(){return Date.now()};Timer$1.diff=function(e){return Date.now()-e};var _ASSERT$h=typeof ASSERT>"u"?!1:ASSERT;TimeOfImpact$2.exports=TimeOfImpact$1;TimeOfImpact$2.exports.Input=TOIInput$1;TimeOfImpact$2.exports.Output=TOIOutput$1;var Settings$e=Settings$i,common$h=common$y,Timer=Timer$1,stats=stats$2,Math$h=_MathExports,Vec2$n=Vec2_1,Rot$g=Rot_1,Sweep=Sweep_1,Transform$9=Transform_1,Distance$1=DistanceExports,DistanceInput=Distance$1.Input,DistanceOutput=Distance$1.Output,DistanceProxy=Distance$1.Proxy,SimplexCache=Distance$1.Cache;function TOIInput$1(){this.proxyA=new DistanceProxy,this.proxyB=new DistanceProxy,this.sweepA=new Sweep,this.sweepB=new Sweep,this.tMax}TOIOutput$1.e_unknown=0;TOIOutput$1.e_failed=1;TOIOutput$1.e_overlapped=2;TOIOutput$1.e_touching=3;TOIOutput$1.e_separated=4;function TOIOutput$1(){this.state,this.t}stats.toiTime=0;stats.toiMaxTime=0;stats.toiCalls=0;stats.toiIters=0;stats.toiMaxIters=0;stats.toiRootIters=0;stats.toiMaxRootIters=0;function TimeOfImpact$1(e,_){var d=Timer.now();++stats.toiCalls,e.state=TOIOutput$1.e_unknown,e.t=_.tMax;var o=_.proxyA,c=_.proxyB,s=_.sweepA,h=_.sweepB;s.normalize(),h.normalize();var f=_.tMax,g=o.m_radius+c.m_radius,b=Math$h.max(Settings$e.linearSlop,g-3*Settings$e.linearSlop),k=.25*Settings$e.linearSlop;_ASSERT$h&&common$h.assert(b>k);var $=0,j=Settings$e.maxTOIIterations,_e=0,et=new SimplexCache,nt=new DistanceInput;for(nt.proxyA=_.proxyA,nt.proxyB=_.proxyB,nt.useRadii=!1;;){var rt=Transform$9.identity(),tt=Transform$9.identity();s.getTransform(rt,$),h.getTransform(tt,$),nt.transformA=rt,nt.transformB=tt;var it=new DistanceOutput;if(Distance$1(it,et,nt),it.distance<=0){e.state=TOIOutput$1.e_overlapped,e.t=0;break}if(it.distance<b+k){e.state=TOIOutput$1.e_touching,e.t=$;break}var st=new SeparationFunction;st.initialize(et,o,s,c,h,$);for(var at=!1,_t=f,ut=0;;){var ot=st.findMinSeparation(_t);if(st.indexA,st.indexB,ot>b+k){e.state=TOIOutput$1.e_separated,e.t=f,at=!0;break}if(ot>b-k){$=_t;break}var lt=st.evaluate($);if(st.indexA,st.indexB,lt<b-k){e.state=TOIOutput$1.e_failed,e.t=$,at=!0;break}if(lt<=b+k){e.state=TOIOutput$1.e_touching,e.t=$,at=!0;break}for(var ft=0,ht=$,dt=_t;;){var pt;ft&1?pt=ht+(b-lt)*(dt-ht)/(ot-lt):pt=.5*(ht+dt),++ft,++stats.toiRootIters;var xt=st.evaluate(pt);if(st.indexA,st.indexB,Math$h.abs(xt-b)<k){_t=pt;break}if(xt>b?(ht=pt,lt=xt):(dt=pt,ot=xt),ft==50)break}if(stats.toiMaxRootIters=Math$h.max(stats.toiMaxRootIters,ft),++ut,ut==Settings$e.maxPolygonVertices)break}if(++_e,++stats.toiIters,at)break;if(_e==j){e.state=TOIOutput$1.e_failed,e.t=$;break}}stats.toiMaxIters=Math$h.max(stats.toiMaxIters,_e);var vt=Timer.diff(d);stats.toiMaxTime=Math$h.max(stats.toiMaxTime,vt),stats.toiTime+=vt}var e_points=1,e_faceA=2,e_faceB=3;function SeparationFunction(){this.m_proxyA=new DistanceProxy,this.m_proxyB=new DistanceProxy,this.m_sweepA,this.m_sweepB,this.indexA,this.indexB,this.m_type,this.m_localPoint=Vec2$n.zero(),this.m_axis=Vec2$n.zero()}SeparationFunction.prototype.initialize=function(e,_,d,o,c,s){this.m_proxyA=_,this.m_proxyB=o;var h=e.count;_ASSERT$h&&common$h.assert(0<h&&h<3),this.m_sweepA=d,this.m_sweepB=c;var f=Transform$9.identity(),g=Transform$9.identity();if(this.m_sweepA.getTransform(f,s),this.m_sweepB.getTransform(g,s),h==1){this.m_type=e_points;var b=this.m_proxyA.getVertex(e.indexA[0]),k=this.m_proxyB.getVertex(e.indexB[0]),$=Transform$9.mulVec2(f,b),j=Transform$9.mulVec2(g,k);this.m_axis.setCombine(1,j,-1,$);var _e=this.m_axis.normalize();return _e}else if(e.indexA[0]==e.indexA[1]){this.m_type=e_faceB;var et=o.getVertex(e.indexB[0]),nt=o.getVertex(e.indexB[1]);this.m_axis=Vec2$n.cross(Vec2$n.sub(nt,et),1),this.m_axis.normalize();var rt=Rot$g.mulVec2(g.q,this.m_axis);this.m_localPoint=Vec2$n.mid(et,nt);var j=Transform$9.mulVec2(g,this.m_localPoint),b=_.getVertex(e.indexA[0]),$=Transform$9.mulVec2(f,b),_e=Vec2$n.dot($,rt)-Vec2$n.dot(j,rt);return _e<0&&(this.m_axis=Vec2$n.neg(this.m_axis),_e=-_e),_e}else{this.m_type=e_faceA;var tt=this.m_proxyA.getVertex(e.indexA[0]),it=this.m_proxyA.getVertex(e.indexA[1]);this.m_axis=Vec2$n.cross(Vec2$n.sub(it,tt),1),this.m_axis.normalize();var rt=Rot$g.mulVec2(f.q,this.m_axis);this.m_localPoint=Vec2$n.mid(tt,it);var $=Transform$9.mulVec2(f,this.m_localPoint),k=this.m_proxyB.getVertex(e.indexB[0]),j=Transform$9.mulVec2(g,k),_e=Vec2$n.dot(j,rt)-Vec2$n.dot($,rt);return _e<0&&(this.m_axis=Vec2$n.neg(this.m_axis),_e=-_e),_e}};SeparationFunction.prototype.compute=function(e,_){var d=Transform$9.identity(),o=Transform$9.identity();switch(this.m_sweepA.getTransform(d,_),this.m_sweepB.getTransform(o,_),this.m_type){case e_points:{if(e){var c=Rot$g.mulTVec2(d.q,this.m_axis),s=Rot$g.mulTVec2(o.q,Vec2$n.neg(this.m_axis));this.indexA=this.m_proxyA.getSupport(c),this.indexB=this.m_proxyB.getSupport(s)}var h=this.m_proxyA.getVertex(this.indexA),f=this.m_proxyB.getVertex(this.indexB),g=Transform$9.mulVec2(d,h),b=Transform$9.mulVec2(o,f),k=Vec2$n.dot(b,this.m_axis)-Vec2$n.dot(g,this.m_axis);return k}case e_faceA:{var $=Rot$g.mulVec2(d.q,this.m_axis),g=Transform$9.mulVec2(d,this.m_localPoint);if(e){var s=Rot$g.mulTVec2(o.q,Vec2$n.neg($));this.indexA=-1,this.indexB=this.m_proxyB.getSupport(s)}var f=this.m_proxyB.getVertex(this.indexB),b=Transform$9.mulVec2(o,f),k=Vec2$n.dot(b,$)-Vec2$n.dot(g,$);return k}case e_faceB:{var $=Rot$g.mulVec2(o.q,this.m_axis),b=Transform$9.mulVec2(o,this.m_localPoint);if(e){var c=Rot$g.mulTVec2(d.q,Vec2$n.neg($));this.indexB=-1,this.indexA=this.m_proxyA.getSupport(c)}var h=this.m_proxyA.getVertex(this.indexA),g=Transform$9.mulVec2(d,h),k=Vec2$n.dot(g,$)-Vec2$n.dot(b,$);return k}default:return _ASSERT$h&&common$h.assert(!1),e&&(this.indexA=-1,this.indexB=-1),0}};SeparationFunction.prototype.findMinSeparation=function(e){return this.compute(!0,e)};SeparationFunction.prototype.evaluate=function(e){return this.compute(!1,e)};var TimeOfImpactExports=TimeOfImpact$2.exports,_DEBUG=typeof DEBUG>"u"?!1:DEBUG,_ASSERT$g=typeof ASSERT>"u"?!1:ASSERT;Solver$2.exports=Solver$1;Solver$2.exports.TimeStep=TimeStep;var Settings$d=Settings$i,common$g=common$y,Vec2$m=Vec2_1,Math$g=_MathExports,Body$d=Body_1,Contact$6=Contact_1,Joint$d=Joint_1,TimeOfImpact=TimeOfImpactExports,TOIInput=TimeOfImpact.Input,TOIOutput=TimeOfImpact.Output,Distance=DistanceExports;Distance.Input;Distance.Output;Distance.Proxy;Distance.Cache;function TimeStep(e){this.dt=0,this.inv_dt=0,this.velocityIterations=0,this.positionIterations=0,this.warmStarting=!1,this.blockSolve=!0,this.inv_dt0=0,this.dtRatio=1}TimeStep.prototype.reset=function(e){this.dt>0&&(this.inv_dt0=this.inv_dt),this.dt=e,this.inv_dt=e==0?0:1/e,this.dtRatio=e*this.inv_dt0};function Solver$1(e){this.m_world=e,this.m_stack=[],this.m_bodies=[],this.m_contacts=[],this.m_joints=[]}Solver$1.prototype.clear=function(){this.m_stack.length=0,this.m_bodies.length=0,this.m_contacts.length=0,this.m_joints.length=0};Solver$1.prototype.addBody=function(e){_ASSERT$g&&common$g.assert(e instanceof Body$d,"Not a Body!",e),this.m_bodies.push(e)};Solver$1.prototype.addContact=function(e){_ASSERT$g&&common$g.assert(e instanceof Contact$6,"Not a Contact!",e),this.m_contacts.push(e)};Solver$1.prototype.addJoint=function(e){_ASSERT$g&&common$g.assert(e instanceof Joint$d,"Not a Joint!",e),this.m_joints.push(e)};Solver$1.prototype.solveWorld=function(e){for(var _=this.m_world,d=_.m_bodyList;d;d=d.m_next)d.m_islandFlag=!1;for(var o=_.m_contactList;o;o=o.m_next)o.m_islandFlag=!1;for(var c=_.m_jointList;c;c=c.m_next)c.m_islandFlag=!1;for(var s=this.m_stack,h=_.m_bodyList;h;h=h.m_next)if(!h.m_islandFlag&&!(h.isAwake()==!1||h.isActive()==!1)&&!h.isStatic()){for(this.clear(),s.push(h),h.m_islandFlag=!0;s.length>0;){var d=s.pop();if(_ASSERT$g&&common$g.assert(d.isActive()==!0),this.addBody(d),d.setAwake(!0),!d.isStatic()){for(var f=d.m_contactList;f;f=f.next){var g=f.contact;if(!g.m_islandFlag&&!(g.isEnabled()==!1||g.isTouching()==!1)){var b=g.m_fixtureA.m_isSensor,k=g.m_fixtureB.m_isSensor;if(!(b||k)){this.addContact(g),g.m_islandFlag=!0;var $=f.other;$.m_islandFlag||(s.push($),$.m_islandFlag=!0)}}}for(var j=d.m_jointList;j;j=j.next)if(j.joint.m_islandFlag!=!0){var $=j.other;$.isActive()!=!1&&(this.addJoint(j.joint),j.joint.m_islandFlag=!0,!$.m_islandFlag&&(s.push($),$.m_islandFlag=!0))}}}this.solveIsland(e);for(var _e=0;_e<this.m_bodies.length;++_e){var d=this.m_bodies[_e];d.isStatic()&&(d.m_islandFlag=!1)}}};Solver$1.prototype.solveIsland=function(e){for(var _=this.m_world,d=_.m_gravity,o=_.m_allowSleep,c=e.dt,s=0;s<this.m_bodies.length;++s){var h=this.m_bodies[s],f=Vec2$m.clone(h.m_sweep.c),g=h.m_sweep.a,b=Vec2$m.clone(h.m_linearVelocity),k=h.m_angularVelocity;h.m_sweep.c0.set(h.m_sweep.c),h.m_sweep.a0=h.m_sweep.a,h.isDynamic()&&(b.addMul(c*h.m_gravityScale,d),b.addMul(c*h.m_invMass,h.m_force),k+=c*h.m_invI*h.m_torque,b.mul(1/(1+c*h.m_linearDamping)),k*=1/(1+c*h.m_angularDamping)),h.c_position.c=f,h.c_position.a=g,h.c_velocity.v=b,h.c_velocity.w=k}for(var s=0;s<this.m_contacts.length;++s){var $=this.m_contacts[s];$.initConstraint(e)}_DEBUG&&this.printBodies("M: ");for(var s=0;s<this.m_contacts.length;++s){var $=this.m_contacts[s];$.initVelocityConstraint(e)}if(_DEBUG&&this.printBodies("R: "),e.warmStarting)for(var s=0;s<this.m_contacts.length;++s){var $=this.m_contacts[s];$.warmStartConstraint(e)}_DEBUG&&this.printBodies("Q: ");for(var s=0;s<this.m_joints.length;++s){var j=this.m_joints[s];j.initVelocityConstraints(e)}_DEBUG&&this.printBodies("E: ");for(var s=0;s<e.velocityIterations;++s){for(var _e=0;_e<this.m_joints.length;++_e){var j=this.m_joints[_e];j.solveVelocityConstraints(e)}for(var _e=0;_e<this.m_contacts.length;++_e){var $=this.m_contacts[_e];$.solveVelocityConstraint(e)}}_DEBUG&&this.printBodies("D: ");for(var s=0;s<this.m_contacts.length;++s){var $=this.m_contacts[s];$.storeConstraintImpulses(e)}_DEBUG&&this.printBodies("C: ");for(var s=0;s<this.m_bodies.length;++s){var h=this.m_bodies[s],f=Vec2$m.clone(h.c_position.c),g=h.c_position.a,b=Vec2$m.clone(h.c_velocity.v),k=h.c_velocity.w,et=Vec2$m.mul(c,b);if(Vec2$m.lengthSquared(et)>Settings$d.maxTranslationSquared){var nt=Settings$d.maxTranslation/et.length();b.mul(nt)}var rt=c*k;if(rt*rt>Settings$d.maxRotationSquared){var nt=Settings$d.maxRotation/Math$g.abs(rt);k*=nt}f.addMul(c,b),g+=c*k,h.c_position.c.set(f),h.c_position.a=g,h.c_velocity.v.set(b),h.c_velocity.w=k}_DEBUG&&this.printBodies("B: ");for(var tt=!1,s=0;s<e.positionIterations;++s){for(var it=0,_e=0;_e<this.m_contacts.length;++_e){var $=this.m_contacts[_e],st=$.solvePositionConstraint(e);it=Math$g.min(it,st)}for(var at=it>=-3*Settings$d.linearSlop,_t=!0,_e=0;_e<this.m_joints.length;++_e){var j=this.m_joints[_e],ut=j.solvePositionConstraints(e);_t=_t&&ut}if(at&&_t){tt=!0;break}}_DEBUG&&this.printBodies("L: ");for(var s=0;s<this.m_bodies.length;++s){var h=this.m_bodies[s];h.m_sweep.c.set(h.c_position.c),h.m_sweep.a=h.c_position.a,h.m_linearVelocity.set(h.c_velocity.v),h.m_angularVelocity=h.c_velocity.w,h.synchronizeTransform()}if(this.postSolveIsland(),o){for(var ot=1/0,lt=Settings$d.linearSleepToleranceSqr,ft=Settings$d.angularSleepToleranceSqr,s=0;s<this.m_bodies.length;++s){var h=this.m_bodies[s];h.isStatic()||(h.m_autoSleepFlag==!1||h.m_angularVelocity*h.m_angularVelocity>ft||Vec2$m.lengthSquared(h.m_linearVelocity)>lt?(h.m_sleepTime=0,ot=0):(h.m_sleepTime+=c,ot=Math$g.min(ot,h.m_sleepTime)))}if(ot>=Settings$d.timeToSleep&&tt)for(var s=0;s<this.m_bodies.length;++s){var h=this.m_bodies[s];h.setAwake(!1)}}};Solver$1.prototype.printBodies=function(e){for(var _=0;_<this.m_bodies.length;++_){var d=this.m_bodies[_];common$g.debug(e,d.c_position.a,d.c_position.c.x,d.c_position.c.y,d.c_velocity.w,d.c_velocity.v.x,d.c_velocity.v.y)}};var s_subStep=new TimeStep;Solver$1.prototype.solveWorldTOI=function(e){var _=this.m_world;if(_.m_stepComplete){for(var d=_.m_bodyList;d;d=d.m_next)d.m_islandFlag=!1,d.m_sweep.alpha0=0;for(var o=_.m_contactList;o;o=o.m_next)o.m_toiFlag=!1,o.m_islandFlag=!1,o.m_toiCount=0,o.m_toi=1}for(;;){for(var c=null,s=1,o=_.m_contactList;o;o=o.m_next)if(o.isEnabled()!=!1&&!(o.m_toiCount>Settings$d.maxSubSteps)){var h=1;if(o.m_toiFlag)h=o.m_toi;else{var tt=o.getFixtureA(),it=o.getFixtureB();if(tt.isSensor()||it.isSensor())continue;var st=tt.getBody(),at=it.getBody();_ASSERT$g&&common$g.assert(st.isDynamic()||at.isDynamic());var f=st.isAwake()&&!st.isStatic(),g=at.isAwake()&&!at.isStatic();if(f==!1&&g==!1)continue;var b=st.isBullet()||!st.isDynamic(),k=at.isBullet()||!at.isDynamic();if(b==!1&&k==!1)continue;var $=st.m_sweep.alpha0;st.m_sweep.alpha0<at.m_sweep.alpha0?($=at.m_sweep.alpha0,st.m_sweep.advance($)):at.m_sweep.alpha0<st.m_sweep.alpha0&&($=st.m_sweep.alpha0,at.m_sweep.advance($)),_ASSERT$g&&common$g.assert($<1);var j=o.getChildIndexA(),_e=o.getChildIndexB();st.m_sweep,at.m_sweep;var et=new TOIInput;et.proxyA.set(tt.getShape(),j),et.proxyB.set(it.getShape(),_e),et.sweepA.set(st.m_sweep),et.sweepB.set(at.m_sweep),et.tMax=1;var nt=new TOIOutput;TimeOfImpact(nt,et);var rt=nt.t;nt.state==TOIOutput.e_touching?h=Math$g.min($+(1-$)*rt,1):h=1,o.m_toi=h,o.m_toiFlag=!0}h<s&&(c=o,s=h)}if(c==null||1-10*Math$g.EPSILON<s){_.m_stepComplete=!0;break}var tt=c.getFixtureA(),it=c.getFixtureB(),st=tt.getBody(),at=it.getBody(),_t=st.m_sweep.clone(),ut=at.m_sweep.clone();if(st.advance(s),at.advance(s),c.update(_),c.m_toiFlag=!1,++c.m_toiCount,c.isEnabled()==!1||c.isTouching()==!1){c.setEnabled(!1),st.m_sweep.set(_t),at.m_sweep.set(ut),st.synchronizeTransform(),at.synchronizeTransform();continue}st.setAwake(!0),at.setAwake(!0),this.clear(),this.addBody(st),this.addBody(at),this.addContact(c),st.m_islandFlag=!0,at.m_islandFlag=!0,c.m_islandFlag=!0;for(var ot=[st,at],lt=0;lt<ot.length;++lt){var ft=ot[lt];if(ft.isDynamic())for(var ht=ft.m_contactList;ht;ht=ht.next){var dt=ht.contact;if(!dt.m_islandFlag){var pt=ht.other;if(!(pt.isDynamic()&&!ft.isBullet()&&!pt.isBullet())){var xt=dt.m_fixtureA.m_isSensor,vt=dt.m_fixtureB.m_isSensor;if(!(xt||vt)){var bt=pt.m_sweep.clone();if(pt.m_islandFlag==!1&&pt.advance(s),dt.update(_),dt.isEnabled()==!1||dt.isTouching()==!1){pt.m_sweep.set(bt),pt.synchronizeTransform();continue}dt.m_islandFlag=!0,this.addContact(dt),!pt.m_islandFlag&&(pt.m_islandFlag=!0,pt.isStatic()||pt.setAwake(!0),this.addBody(pt))}}}}}s_subStep.reset((1-s)*e.dt),s_subStep.dtRatio=1,s_subStep.positionIterations=20,s_subStep.velocityIterations=e.velocityIterations,s_subStep.warmStarting=!1,this.solveIslandTOI(s_subStep,st,at);for(var lt=0;lt<this.m_bodies.length;++lt){var ft=this.m_bodies[lt];if(ft.m_islandFlag=!1,!!ft.isDynamic()){ft.synchronizeFixtures();for(var ht=ft.m_contactList;ht;ht=ht.next)ht.contact.m_toiFlag=!1,ht.contact.m_islandFlag=!1}}if(_.findNewContacts(),_.m_subStepping){_.m_stepComplete=!1;break}}if(_DEBUG)for(var d=_.m_bodyList;d;d=d.m_next){var o=d.m_sweep.c;d.m_sweep.a,d.m_linearVelocity,d.m_angularVelocity}};Solver$1.prototype.solveIslandTOI=function(e,_,d){this.m_world;for(var k=0;k<this.m_bodies.length;++k){var o=this.m_bodies[k];o.c_position.c.set(o.m_sweep.c),o.c_position.a=o.m_sweep.a,o.c_velocity.v.set(o.m_linearVelocity),o.c_velocity.w=o.m_angularVelocity}for(var k=0;k<this.m_contacts.length;++k){var c=this.m_contacts[k];c.initConstraint(e)}for(var k=0;k<e.positionIterations;++k){for(var s=0,h=0;h<this.m_contacts.length;++h){var c=this.m_contacts[h],f=c.solvePositionConstraintTOI(e,_,d);s=Math$g.min(s,f)}var g=s>=-1.5*Settings$d.linearSlop;if(g)break}var b,k;_.m_sweep.c0.set(_.c_position.c),_.m_sweep.a0=_.c_position.a,d.m_sweep.c0.set(d.c_position.c),d.m_sweep.a0=d.c_position.a;for(var k=0;k<this.m_contacts.length;++k){var c=this.m_contacts[k];c.initVelocityConstraint(e)}for(var k=0;k<e.velocityIterations;++k)for(var h=0;h<this.m_contacts.length;++h){var c=this.m_contacts[h];c.solveVelocityConstraint(e)}for(var $=e.dt,k=0;k<this.m_bodies.length;++k){var o=this.m_bodies[k],b=Vec2$m.clone(o.c_position.c),j=o.c_position.a,_e=Vec2$m.clone(o.c_velocity.v),et=o.c_velocity.w,nt=Vec2$m.mul($,_e);if(Vec2$m.dot(nt,nt)>Settings$d.maxTranslationSquared){var rt=Settings$d.maxTranslation/nt.length();_e.mul(rt)}var tt=$*et;if(tt*tt>Settings$d.maxRotationSquared){var rt=Settings$d.maxRotation/Math$g.abs(tt);et*=rt}b.addMul($,_e),j+=$*et,o.c_position.c=b,o.c_position.a=j,o.c_velocity.v=_e,o.c_velocity.w=et,o.m_sweep.c=b,o.m_sweep.a=j,o.m_linearVelocity=_e,o.m_angularVelocity=et,o.synchronizeTransform()}this.postSolveIsland()};function ContactImpulse(){this.normalImpulses=[],this.tangentImpulses=[]}Solver$1.prototype.postSolveIsland=function(){for(var e=new ContactImpulse,_=0;_<this.m_contacts.length;++_){for(var d=this.m_contacts[_],o=0;o<d.v_points.length;++o)e.normalImpulses.push(d.v_points[o].normalImpulse),e.tangentImpulses.push(d.v_points[o].tangentImpulse);this.m_world.postSolve(d,e)}};var SolverExports=Solver$2.exports;var _ASSERT$f=typeof ASSERT>"u"?!1:ASSERT,World_1=World$1,options$b=options$e,common$f=common$y,Vec2$l=Vec2_1,BroadPhase=BroadPhase_1,Solver=SolverExports,Body$c=Body_1,Joint$c=Joint_1,Contact$5=Contact_1,WorldDef={gravity:Vec2$l.zero(),allowSleep:!0,warmStarting:!0,continuousPhysics:!0,subStepping:!1,blockSolve:!0,velocityIterations:8,positionIterations:3};function World$1(e){if(!(this instanceof World$1))return new World$1(e);e&&Vec2$l.isValid(e)&&(e={gravity:e}),e=options$b(e,WorldDef),this.m_solver=new Solver(this),this.m_broadPhase=new BroadPhase,this.m_contactList=null,this.m_contactCount=0,this.m_bodyList=null,this.m_bodyCount=0,this.m_jointList=null,this.m_jointCount=0,this.m_stepComplete=!0,this.m_allowSleep=e.allowSleep,this.m_gravity=Vec2$l.clone(e.gravity),this.m_clearForces=!0,this.m_newFixture=!1,this.m_locked=!1,this.m_warmStarting=e.warmStarting,this.m_continuousPhysics=e.continuousPhysics,this.m_subStepping=e.subStepping,this.m_blockSolve=e.blockSolve,this.m_velocityIterations=e.velocityIterations,this.m_positionIterations=e.positionIterations,this.m_t=0,this.addPair=this.createContact.bind(this)}World$1.prototype._serialize=function(){for(var e=[],_=[],d=this.getBodyList();d;d=d.getNext())e.push(d);for(var o=this.getJointList();o;o=o.getNext())typeof o._serialize=="function"&&_.push(o);return{gravity:this.m_gravity,bodies:e,joints:_}};World$1._deserialize=function(e,_,d){if(!e)return new World$1;var o=new World$1(e.gravity);if(e.bodies)for(var c=e.bodies.length-1;c>=0;c-=1)o._addBody(d(Body$c,e.bodies[c],o));if(e.joints)for(var c=e.joints.length-1;c>=0;c--)o.createJoint(d(Joint$c,e.joints[c],o));return o};World$1.prototype.getBodyList=function(){return this.m_bodyList};World$1.prototype.getJointList=function(){return this.m_jointList};World$1.prototype.getContactList=function(){return this.m_contactList};World$1.prototype.getBodyCount=function(){return this.m_bodyCount};World$1.prototype.getJointCount=function(){return this.m_jointCount};World$1.prototype.getContactCount=function(){return this.m_contactCount};World$1.prototype.setGravity=function(e){this.m_gravity=e};World$1.prototype.getGravity=function(){return this.m_gravity};World$1.prototype.isLocked=function(){return this.m_locked};World$1.prototype.setAllowSleeping=function(e){if(e!=this.m_allowSleep&&(this.m_allowSleep=e,this.m_allowSleep==!1))for(var _=this.m_bodyList;_;_=_.m_next)_.setAwake(!0)};World$1.prototype.getAllowSleeping=function(){return this.m_allowSleep};World$1.prototype.setWarmStarting=function(e){this.m_warmStarting=e};World$1.prototype.getWarmStarting=function(){return this.m_warmStarting};World$1.prototype.setContinuousPhysics=function(e){this.m_continuousPhysics=e};World$1.prototype.getContinuousPhysics=function(){return this.m_continuousPhysics};World$1.prototype.setSubStepping=function(e){this.m_subStepping=e};World$1.prototype.getSubStepping=function(){return this.m_subStepping};World$1.prototype.setAutoClearForces=function(e){this.m_clearForces=e};World$1.prototype.getAutoClearForces=function(){return this.m_clearForces};World$1.prototype.clearForces=function(){for(var e=this.m_bodyList;e;e=e.getNext())e.m_force.setZero(),e.m_torque=0};World$1.prototype.queryAABB=function(e,_){_ASSERT$f&&common$f.assert(typeof _=="function");var d=this.m_broadPhase;this.m_broadPhase.query(e,function(o){var c=d.getUserData(o);return _(c.fixture)})};World$1.prototype.rayCast=function(e,_,d){_ASSERT$f&&common$f.assert(typeof d=="function");var o=this.m_broadPhase;this.m_broadPhase.rayCast({maxFraction:1,p1:e,p2:_},function(c,s){var h=o.getUserData(s),f=h.fixture,g=h.childIndex,b={},k=f.rayCast(b,c,g);if(k){var $=b.fraction,j=Vec2$l.add(Vec2$l.mul(1-$,c.p1),Vec2$l.mul($,c.p2));return d(f,j,b.normal,$)}return c.maxFraction})};World$1.prototype.getProxyCount=function(){return this.m_broadPhase.getProxyCount()};World$1.prototype.getTreeHeight=function(){return this.m_broadPhase.getTreeHeight()};World$1.prototype.getTreeBalance=function(){return this.m_broadPhase.getTreeBalance()};World$1.prototype.getTreeQuality=function(){return this.m_broadPhase.getTreeQuality()};World$1.prototype.shiftOrigin=function(e){if(_ASSERT$f&&common$f.assert(this.m_locked==!1),!this.m_locked){for(var _=this.m_bodyList;_;_=_.m_next)_.m_xf.p.sub(e),_.m_sweep.c0.sub(e),_.m_sweep.c.sub(e);for(var d=this.m_jointList;d;d=d.m_next)d.shiftOrigin(e);this.m_broadPhase.shiftOrigin(e)}};World$1.prototype._addBody=function(e){_ASSERT$f&&common$f.assert(this.isLocked()===!1),!this.isLocked()&&(e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount)};World$1.prototype.createBody=function(e,_){if(_ASSERT$f&&common$f.assert(this.isLocked()==!1),this.isLocked())return null;e&&Vec2$l.isValid(e)&&(e={position:e,angle:_});var d=new Body$c(this,e);return this._addBody(d),d};World$1.prototype.createDynamicBody=function(e,_){return e?Vec2$l.isValid(e)&&(e={position:e,angle:_}):e={},e.type="dynamic",this.createBody(e)};World$1.prototype.createKinematicBody=function(e,_){return e?Vec2$l.isValid(e)&&(e={position:e,angle:_}):e={},e.type="kinematic",this.createBody(e)};World$1.prototype.destroyBody=function(e){if(_ASSERT$f&&common$f.assert(this.m_bodyCount>0),_ASSERT$f&&common$f.assert(this.isLocked()==!1),!this.isLocked()){if(e.m_destroyed)return!1;for(var _=e.m_jointList;_;){var d=_;_=_.next,this.publish("remove-joint",d.joint),this.destroyJoint(d.joint),e.m_jointList=_}e.m_jointList=null;for(var o=e.m_contactList;o;){var c=o;o=o.next,this.destroyContact(c.contact),e.m_contactList=o}e.m_contactList=null;for(var s=e.m_fixtureList;s;){var h=s;s=s.m_next,this.publish("remove-fixture",h),h.destroyProxies(this.m_broadPhase),e.m_fixtureList=s}return e.m_fixtureList=null,e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_bodyList&&(this.m_bodyList=e.m_next),e.m_destroyed=!0,--this.m_bodyCount,this.publish("remove-body",e),!0}};World$1.prototype.createJoint=function(e){if(_ASSERT$f&&common$f.assert(!!e.m_bodyA),_ASSERT$f&&common$f.assert(!!e.m_bodyB),_ASSERT$f&&common$f.assert(this.isLocked()==!1),this.isLocked())return null;if(e.m_prev=null,e.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=e),this.m_jointList=e,++this.m_jointCount,e.m_edgeA.joint=e,e.m_edgeA.other=e.m_bodyB,e.m_edgeA.prev=null,e.m_edgeA.next=e.m_bodyA.m_jointList,e.m_bodyA.m_jointList&&(e.m_bodyA.m_jointList.prev=e.m_edgeA),e.m_bodyA.m_jointList=e.m_edgeA,e.m_edgeB.joint=e,e.m_edgeB.other=e.m_bodyA,e.m_edgeB.prev=null,e.m_edgeB.next=e.m_bodyB.m_jointList,e.m_bodyB.m_jointList&&(e.m_bodyB.m_jointList.prev=e.m_edgeB),e.m_bodyB.m_jointList=e.m_edgeB,e.m_collideConnected==!1)for(var _=e.m_bodyB.getContactList();_;_=_.next)_.other==e.m_bodyA&&_.contact.flagForFiltering();return e};World$1.prototype.destroyJoint=function(e){if(_ASSERT$f&&common$f.assert(this.isLocked()==!1),!this.isLocked()){e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_jointList&&(this.m_jointList=e.m_next);var _=e.m_bodyA,d=e.m_bodyB;if(_.setAwake(!0),d.setAwake(!0),e.m_edgeA.prev&&(e.m_edgeA.prev.next=e.m_edgeA.next),e.m_edgeA.next&&(e.m_edgeA.next.prev=e.m_edgeA.prev),e.m_edgeA==_.m_jointList&&(_.m_jointList=e.m_edgeA.next),e.m_edgeA.prev=null,e.m_edgeA.next=null,e.m_edgeB.prev&&(e.m_edgeB.prev.next=e.m_edgeB.next),e.m_edgeB.next&&(e.m_edgeB.next.prev=e.m_edgeB.prev),e.m_edgeB==d.m_jointList&&(d.m_jointList=e.m_edgeB.next),e.m_edgeB.prev=null,e.m_edgeB.next=null,_ASSERT$f&&common$f.assert(this.m_jointCount>0),--this.m_jointCount,e.m_collideConnected==!1)for(var o=d.getContactList();o;)o.other==_&&o.contact.flagForFiltering(),o=o.next;this.publish("remove-joint",e)}};var s_step=new Solver.TimeStep;World$1.prototype.step=function(e,_,d){if(this.publish("pre-step",e),(_|0)!==_&&(_=0),_=_||this.m_velocityIterations,d=d||this.m_positionIterations,this.m_newFixture&&(this.findNewContacts(),this.m_newFixture=!1),this.m_locked=!0,s_step.reset(e),s_step.velocityIterations=_,s_step.positionIterations=d,s_step.warmStarting=this.m_warmStarting,s_step.blockSolve=this.m_blockSolve,this.updateContacts(),this.m_stepComplete&&e>0){this.m_solver.solveWorld(s_step);for(var o=this.m_bodyList;o;o=o.getNext())o.m_islandFlag!=!1&&(o.isStatic()||o.synchronizeFixtures());this.findNewContacts()}this.m_continuousPhysics&&e>0&&this.m_solver.solveWorldTOI(s_step),this.m_clearForces&&this.clearForces(),this.m_locked=!1,this.publish("post-step",e)};World$1.prototype.findNewContacts=function(){this.m_broadPhase.updatePairs(this.addPair)};World$1.prototype.createContact=function(e,_){var d=e.fixture,o=_.fixture,c=e.childIndex,s=_.childIndex,h=d.getBody(),f=o.getBody();if(h!=f){for(var g=f.getContactList();g;){if(g.other==h){var b=g.contact.getFixtureA(),k=g.contact.getFixtureB(),$=g.contact.getChildIndexA(),j=g.contact.getChildIndexB();if(b==d&&k==o&&$==c&&j==s||b==o&&k==d&&$==s&&j==c)return}g=g.next}if(f.shouldCollide(h)!=!1&&o.shouldCollide(d)!=!1){var _e=Contact$5.create(d,c,o,s);_e!=null&&(_e.m_prev=null,this.m_contactList!=null&&(_e.m_next=this.m_contactList,this.m_contactList.m_prev=_e),this.m_contactList=_e,++this.m_contactCount)}}};World$1.prototype.updateContacts=function(){for(var e,_=this.m_contactList;e=_;){_=e.getNext();var d=e.getFixtureA(),o=e.getFixtureB(),c=e.getChildIndexA(),s=e.getChildIndexB(),h=d.getBody(),f=o.getBody();if(e.m_filterFlag){if(f.shouldCollide(h)==!1){this.destroyContact(e);continue}if(o.shouldCollide(d)==!1){this.destroyContact(e);continue}e.m_filterFlag=!1}var g=h.isAwake()&&!h.isStatic(),b=f.isAwake()&&!f.isStatic();if(!(g==!1&&b==!1)){var k=d.m_proxies[c].proxyId,$=o.m_proxies[s].proxyId,j=this.m_broadPhase.testOverlap(k,$);if(j==!1){this.destroyContact(e);continue}e.update(this)}}};World$1.prototype.destroyContact=function(e){Contact$5.destroy(e,this),e.m_prev&&(e.m_prev.m_next=e.m_next),e.m_next&&(e.m_next.m_prev=e.m_prev),e==this.m_contactList&&(this.m_contactList=e.m_next),--this.m_contactCount};World$1.prototype._listeners=null;World$1.prototype.on=function(e,_){return typeof e!="string"||typeof _!="function"?this:(this._listeners||(this._listeners={}),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(_),this)};World$1.prototype.off=function(e,_){if(typeof e!="string"||typeof _!="function")return this;var d=this._listeners&&this._listeners[e];if(!d||!d.length)return this;var o=d.indexOf(_);return o>=0&&d.splice(o,1),this};World$1.prototype.publish=function(e,_,d,o){var c=this._listeners&&this._listeners[e];if(!c||!c.length)return 0;for(var s=0;s<c.length;s++)c[s].call(this,_,d,o);return c.length};World$1.prototype.beginContact=function(e){this.publish("begin-contact",e)};World$1.prototype.endContact=function(e){this.publish("end-contact",e)};World$1.prototype.preSolve=function(e,_){this.publish("pre-solve",e,_)};World$1.prototype.postSolve=function(e,_){this.publish("post-solve",e,_)};var World=World_1,Body$b=Body_1,Joint$b=Joint_1,Fixture=Fixture_1,Shape$4=Shape_1,Vec2$k=Vec2_1,Vec3$3=Vec3_1,SID=0;function Serializer(e){e=e||{};var _=e.rootClass||World,d=e.preSerialize||function(g){return g},o=e.postSerialize||function(g,b){return g},c=e.preDeserialize||function(g){return g},s=e.postDeserialize||function(g,b){return g},h={World,Body:Body$b,Joint:Joint$b,Fixture,Shape:Shape$4},f=Object.assign({Vec2:Vec2$k,Vec3:Vec3$3},h);this.toJson=function(g){var b=[],k=[g],$={};function j(tt,it){if(tt.__sid=tt.__sid||++SID,!$[tt.__sid]){k.push(tt);var st=b.length+k.length,at={refIndex:st,refType:it};$[tt.__sid]=at}return $[tt.__sid]}function _e(tt){tt=d(tt);var it=tt._serialize();return it=o(it,tt),it}function et(tt,it){if(typeof tt!="object"||tt===null)return tt;if(typeof tt._serialize=="function"){if(tt!==it){for(var st in h)if(tt instanceof h[st])return j(tt,st)}tt=_e(tt)}if(Array.isArray(tt)){for(var at=[],_t=0;_t<tt.length;_t++)at[_t]=et(tt[_t]);tt=at}else{var at={};for(var _t in tt)tt.hasOwnProperty(_t)&&(at[_t]=et(tt[_t]));tt=at}return tt}for(;k.length;){var nt=k.shift(),rt=et(nt,nt);b.push(rt)}return b},this.fromJson=function(g){var b={};function k(_e,et,nt){et=c(et);var rt=_e._deserialize(et,nt,$);return rt=s(rt,et),rt}function $(_e,et,nt){if(!et.refIndex)return _e&&_e._deserialize&&k(_e,et,nt);_e=f[et.refType]||_e;var rt=et.refIndex;if(!b[rt]){var tt=g[rt],it=k(_e,tt,nt);b[rt]=it}return b[rt]}var j=_._deserialize(g[0],null,$);return j}}serializer$1.exports=Serializer;var serializer=new Serializer;serializer$1.exports.toJson=serializer.toJson;serializer$1.exports.fromJson=serializer.fromJson;var serializerExports=serializer$1.exports;var _ASSERT$e=typeof ASSERT>"u"?!1:ASSERT,CircleShape_1=CircleShape$3,common$e=common$y,Math$f=_MathExports,Rot$f=Rot_1,Vec2$j=Vec2_1,Shape$3=Shape_1;CircleShape$3._super=Shape$3;CircleShape$3.prototype=Object.create(CircleShape$3._super.prototype);CircleShape$3.TYPE="circle";Shape$3.TYPES[CircleShape$3.TYPE]=CircleShape$3;function CircleShape$3(e,_){if(!(this instanceof CircleShape$3))return new CircleShape$3(e,_);CircleShape$3._super.call(this),this.m_type=CircleShape$3.TYPE,this.m_p=Vec2$j.zero(),this.m_radius=1,typeof e=="object"&&Vec2$j.isValid(e)?(this.m_p.set(e),typeof _=="number"&&(this.m_radius=_)):typeof e=="number"&&(this.m_radius=e)}CircleShape$3.prototype._serialize=function(){return{type:this.m_type,p:this.m_p,radius:this.m_radius}};CircleShape$3._deserialize=function(e){return new CircleShape$3(e.p,e.radius)};CircleShape$3.prototype.getRadius=function(){return this.m_radius};CircleShape$3.prototype.getCenter=function(){return this.m_p};CircleShape$3.prototype.getVertex=function(e){return _ASSERT$e&&common$e.assert(e==0),this.m_p};CircleShape$3.prototype.getVertexCount=function(e){return 1};CircleShape$3.prototype._clone=function(){var e=new CircleShape$3;return e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_p=this.m_p.clone(),e};CircleShape$3.prototype.getChildCount=function(){return 1};CircleShape$3.prototype.testPoint=function(e,_){var d=Vec2$j.add(e.p,Rot$f.mulVec2(e.q,this.m_p)),o=Vec2$j.sub(_,d);return Vec2$j.dot(o,o)<=this.m_radius*this.m_radius};CircleShape$3.prototype.rayCast=function(e,_,d,o){var c=Vec2$j.add(d.p,Rot$f.mulVec2(d.q,this.m_p)),s=Vec2$j.sub(_.p1,c),h=Vec2$j.dot(s,s)-this.m_radius*this.m_radius,f=Vec2$j.sub(_.p2,_.p1),g=Vec2$j.dot(s,f),b=Vec2$j.dot(f,f),k=g*g-b*h;if(k<0||b<Math$f.EPSILON)return!1;var $=-(g+Math$f.sqrt(k));return 0<=$&&$<=_.maxFraction*b?($/=b,e.fraction=$,e.normal=Vec2$j.add(s,Vec2$j.mul($,f)),e.normal.normalize(),!0):!1};CircleShape$3.prototype.computeAABB=function(e,_,d){var o=Vec2$j.add(_.p,Rot$f.mulVec2(_.q,this.m_p));e.lowerBound.set(o.x-this.m_radius,o.y-this.m_radius),e.upperBound.set(o.x+this.m_radius,o.y+this.m_radius)};CircleShape$3.prototype.computeMass=function(e,_){e.mass=_*Math$f.PI*this.m_radius*this.m_radius,e.center=this.m_p,e.I=e.mass*(.5*this.m_radius*this.m_radius+Vec2$j.dot(this.m_p,this.m_p))};CircleShape$3.prototype.computeDistanceProxy=function(e){e.m_vertices.push(this.m_p),e.m_count=1,e.m_radius=this.m_radius};var EdgeShape_1=EdgeShape$3,Settings$c=Settings$i,Shape$2=Shape_1,Transform$8=Transform_1,Rot$e=Rot_1,Vec2$i=Vec2_1;EdgeShape$3._super=Shape$2;EdgeShape$3.prototype=Object.create(EdgeShape$3._super.prototype);EdgeShape$3.TYPE="edge";Shape$2.TYPES[EdgeShape$3.TYPE]=EdgeShape$3;function EdgeShape$3(e,_){if(!(this instanceof EdgeShape$3))return new EdgeShape$3(e,_);EdgeShape$3._super.call(this),this.m_type=EdgeShape$3.TYPE,this.m_radius=Settings$c.polygonRadius,this.m_vertex1=e?Vec2$i.clone(e):Vec2$i.zero(),this.m_vertex2=_?Vec2$i.clone(_):Vec2$i.zero(),this.m_vertex0=Vec2$i.zero(),this.m_vertex3=Vec2$i.zero(),this.m_hasVertex0=!1,this.m_hasVertex3=!1}EdgeShape$3.prototype._serialize=function(){return{type:this.m_type,vertex1:this.m_vertex1,vertex2:this.m_vertex2,vertex0:this.m_vertex0,vertex3:this.m_vertex3,hasVertex0:this.m_hasVertex0,hasVertex3:this.m_hasVertex3}};EdgeShape$3._deserialize=function(e){var _=new EdgeShape$3(e.vertex1,e.vertex2);return _.hasVertex0&&_.setPrev(e.vertex0),_.hasVertex3&&_.setNext(e.vertex3),_};EdgeShape$3.prototype.setNext=function(e){return e?(this.m_vertex3.set(e),this.m_hasVertex3=!0):(this.m_vertex3.setZero(),this.m_hasVertex3=!1),this};EdgeShape$3.prototype.setPrev=function(e){return e?(this.m_vertex0.set(e),this.m_hasVertex0=!0):(this.m_vertex0.setZero(),this.m_hasVertex0=!1),this};EdgeShape$3.prototype._set=function(e,_){return this.m_vertex1.set(e),this.m_vertex2.set(_),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this};EdgeShape$3.prototype._clone=function(){var e=new EdgeShape$3;return e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_vertex1.set(this.m_vertex1),e.m_vertex2.set(this.m_vertex2),e.m_vertex0.set(this.m_vertex0),e.m_vertex3.set(this.m_vertex3),e.m_hasVertex0=this.m_hasVertex0,e.m_hasVertex3=this.m_hasVertex3,e};EdgeShape$3.prototype.getChildCount=function(){return 1};EdgeShape$3.prototype.testPoint=function(e,_){return!1};EdgeShape$3.prototype.rayCast=function(e,_,d,o){var c=Rot$e.mulTVec2(d.q,Vec2$i.sub(_.p1,d.p)),s=Rot$e.mulTVec2(d.q,Vec2$i.sub(_.p2,d.p)),h=Vec2$i.sub(s,c),f=this.m_vertex1,g=this.m_vertex2,b=Vec2$i.sub(g,f),k=Vec2$i.neo(b.y,-b.x);k.normalize();var $=Vec2$i.dot(k,Vec2$i.sub(f,c)),j=Vec2$i.dot(k,h);if(j==0)return!1;var _e=$/j;if(_e<0||_.maxFraction<_e)return!1;var et=Vec2$i.add(c,Vec2$i.mul(_e,h)),nt=Vec2$i.sub(g,f),rt=Vec2$i.dot(nt,nt);if(rt==0)return!1;var tt=Vec2$i.dot(Vec2$i.sub(et,f),nt)/rt;return tt<0||1<tt?!1:(e.fraction=_e,$>0?e.normal=Rot$e.mulVec2(d.q,k).neg():e.normal=Rot$e.mulVec2(d.q,k),!0)};EdgeShape$3.prototype.computeAABB=function(e,_,d){var o=Transform$8.mulVec2(_,this.m_vertex1),c=Transform$8.mulVec2(_,this.m_vertex2);e.combinePoints(o,c),e.extend(this.m_radius)};EdgeShape$3.prototype.computeMass=function(e,_){e.mass=0,e.center.setCombine(.5,this.m_vertex1,.5,this.m_vertex2),e.I=0};EdgeShape$3.prototype.computeDistanceProxy=function(e){e.m_vertices.push(this.m_vertex1),e.m_vertices.push(this.m_vertex2),e.m_count=2,e.m_radius=this.m_radius};var _ASSERT$d=typeof ASSERT>"u"?!1:ASSERT,PolygonShape_1=PolygonShape$4,common$d=common$y,Math$e=_MathExports,Transform$7=Transform_1,Rot$d=Rot_1,Vec2$h=Vec2_1,Settings$b=Settings$i,Shape$1=Shape_1;PolygonShape$4._super=Shape$1;PolygonShape$4.prototype=Object.create(PolygonShape$4._super.prototype);PolygonShape$4.TYPE="polygon";Shape$1.TYPES[PolygonShape$4.TYPE]=PolygonShape$4;function PolygonShape$4(e){if(!(this instanceof PolygonShape$4))return new PolygonShape$4(e);PolygonShape$4._super.call(this),this.m_type=PolygonShape$4.TYPE,this.m_radius=Settings$b.polygonRadius,this.m_centroid=Vec2$h.zero(),this.m_vertices=[],this.m_normals=[],this.m_count=0,e&&e.length&&this._set(e)}PolygonShape$4.prototype._serialize=function(){return{type:this.m_type,vertices:this.m_vertices}};PolygonShape$4._deserialize=function(e,_,d){var o=[];if(e.vertices)for(var c=0;c<e.vertices.length;c++)o.push(d(Vec2$h,e.vertices[c]));var s=new PolygonShape$4(o);return s};PolygonShape$4.prototype.getVertex=function(e){return _ASSERT$d&&common$d.assert(0<=e&&e<this.m_count),this.m_vertices[e]};PolygonShape$4.prototype._clone=function(){var e=new PolygonShape$4;e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_count=this.m_count,e.m_centroid.set(this.m_centroid);for(var _=0;_<this.m_count;_++)e.m_vertices.push(this.m_vertices[_].clone());for(var _=0;_<this.m_normals.length;_++)e.m_normals.push(this.m_normals[_].clone());return e};PolygonShape$4.prototype.getChildCount=function(){return 1};function ComputeCentroid(e,_){_ASSERT$d&&common$d.assert(_>=3);for(var d=Vec2$h.zero(),o=0,c=Vec2$h.zero(),s,h=1/3,s=0;s<_;++s){var f=c,g=e[s],b=s+1<_?e[s+1]:e[0],k=Vec2$h.sub(g,f),$=Vec2$h.sub(b,f),j=Vec2$h.cross(k,$),_e=.5*j;o+=_e,d.addMul(_e*h,f),d.addMul(_e*h,g),d.addMul(_e*h,b)}return _ASSERT$d&&common$d.assert(o>Math$e.EPSILON),d.mul(1/o),d}PolygonShape$4.prototype._reset=function(){this._set(this.m_vertices)};PolygonShape$4.prototype._set=function(e){if(_ASSERT$d&&common$d.assert(3<=e.length&&e.length<=Settings$b.maxPolygonVertices),e.length<3){this._setAsBox(1,1);return}for(var _=Math$e.min(e.length,Settings$b.maxPolygonVertices),d=[],o=0;o<_;++o){for(var c=e[o],s=!0,h=0;h<d.length;++h)if(Vec2$h.distanceSquared(c,d[h])<.25*Settings$b.linearSlopSquared){s=!1;break}s&&d.push(c)}if(_=d.length,_<3){_ASSERT$d&&common$d.assert(!1),this._setAsBox(1,1);return}for(var f=0,g=d[0].x,o=1;o<_;++o){var b=d[o].x;(b>g||b===g&&d[o].y<d[f].y)&&(f=o,g=b)}for(var k=[],$=0,j=f;;){k[$]=j;for(var _e=0,h=1;h<_;++h){if(_e===j){_e=h;continue}var et=Vec2$h.sub(d[_e],d[k[$]]),c=Vec2$h.sub(d[h],d[k[$]]),nt=Vec2$h.cross(et,c);nt<0&&(_e=h),nt===0&&c.lengthSquared()>et.lengthSquared()&&(_e=h)}if(++$,j=_e,_e===f)break}if($<3){_ASSERT$d&&common$d.assert(!1),this._setAsBox(1,1);return}this.m_count=$,this.m_vertices=[];for(var o=0;o<$;++o)this.m_vertices[o]=d[k[o]];for(var o=0;o<$;++o){var rt=o,tt=o+1<$?o+1:0,it=Vec2$h.sub(this.m_vertices[tt],this.m_vertices[rt]);_ASSERT$d&&common$d.assert(it.lengthSquared()>Math$e.EPSILON*Math$e.EPSILON),this.m_normals[o]=Vec2$h.cross(it,1),this.m_normals[o].normalize()}this.m_centroid=ComputeCentroid(this.m_vertices,$)};PolygonShape$4.prototype._setAsBox=function(e,_,d,o){if(this.m_vertices[0]=Vec2$h.neo(e,-_),this.m_vertices[1]=Vec2$h.neo(e,_),this.m_vertices[2]=Vec2$h.neo(-e,_),this.m_vertices[3]=Vec2$h.neo(-e,-_),this.m_normals[0]=Vec2$h.neo(1,0),this.m_normals[1]=Vec2$h.neo(0,1),this.m_normals[2]=Vec2$h.neo(-1,0),this.m_normals[3]=Vec2$h.neo(0,-1),this.m_count=4,Vec2$h.isValid(d)){o=o||0,this.m_centroid.set(d);var c=Transform$7.identity();c.p.set(d),c.q.set(o);for(var s=0;s<this.m_count;++s)this.m_vertices[s]=Transform$7.mulVec2(c,this.m_vertices[s]),this.m_normals[s]=Rot$d.mulVec2(c.q,this.m_normals[s])}};PolygonShape$4.prototype.testPoint=function(e,_){for(var d=Rot$d.mulTVec2(e.q,Vec2$h.sub(_,e.p)),o=0;o<this.m_count;++o){var c=Vec2$h.dot(this.m_normals[o],Vec2$h.sub(d,this.m_vertices[o]));if(c>0)return!1}return!0};PolygonShape$4.prototype.rayCast=function(e,_,d,o){for(var c=Rot$d.mulTVec2(d.q,Vec2$h.sub(_.p1,d.p)),s=Rot$d.mulTVec2(d.q,Vec2$h.sub(_.p2,d.p)),h=Vec2$h.sub(s,c),f=0,g=_.maxFraction,b=-1,k=0;k<this.m_count;++k){var $=Vec2$h.dot(this.m_normals[k],Vec2$h.sub(this.m_vertices[k],c)),j=Vec2$h.dot(this.m_normals[k],h);if(j==0){if($<0)return!1}else j<0&&$<f*j?(f=$/j,b=k):j>0&&$<g*j&&(g=$/j);if(g<f)return!1}return _ASSERT$d&&common$d.assert(0<=f&&f<=_.maxFraction),b>=0?(e.fraction=f,e.normal=Rot$d.mulVec2(d.q,this.m_normals[b]),!0):!1};PolygonShape$4.prototype.computeAABB=function(e,_,d){for(var o=1/0,c=1/0,s=-1/0,h=-1/0,f=0;f<this.m_count;++f){var g=Transform$7.mulVec2(_,this.m_vertices[f]);o=Math$e.min(o,g.x),s=Math$e.max(s,g.x),c=Math$e.min(c,g.y),h=Math$e.max(h,g.y)}e.lowerBound.set(o,c),e.upperBound.set(s,h),e.extend(this.m_radius)};PolygonShape$4.prototype.computeMass=function(e,_){_ASSERT$d&&common$d.assert(this.m_count>=3);for(var d=Vec2$h.zero(),o=0,c=0,s=Vec2$h.zero(),h=0;h<this.m_count;++h)s.add(this.m_vertices[h]);s.mul(1/this.m_count);for(var f=1/3,h=0;h<this.m_count;++h){var g=Vec2$h.sub(this.m_vertices[h],s),b=h+1<this.m_count?Vec2$h.sub(this.m_vertices[h+1],s):Vec2$h.sub(this.m_vertices[0],s),k=Vec2$h.cross(g,b),$=.5*k;o+=$,d.addCombine($*f,g,$*f,b);var j=g.x,_e=g.y,et=b.x,nt=b.y,rt=j*j+et*j+et*et,tt=_e*_e+nt*_e+nt*nt;c+=.25*f*k*(rt+tt)}e.mass=_*o,_ASSERT$d&&common$d.assert(o>Math$e.EPSILON),d.mul(1/o),e.center.setCombine(1,d,1,s),e.I=_*c,e.I+=e.mass*(Vec2$h.dot(e.center,e.center)-Vec2$h.dot(d,d))};PolygonShape$4.prototype.validate=function(){for(var e=0;e<this.m_count;++e)for(var _=e,d=e<this.m_count-1?_+1:0,o=this.m_vertices[_],c=Vec2$h.sub(this.m_vertices[d],o),s=0;s<this.m_count;++s)if(!(s==_||s==d)){var h=Vec2$h.sub(this.m_vertices[s],o),f=Vec2$h.cross(c,h);if(f<0)return!1}return!0};PolygonShape$4.prototype.computeDistanceProxy=function(e){e.m_vertices=this.m_vertices,e.m_count=this.m_count,e.m_radius=this.m_radius};var _ASSERT$c=typeof ASSERT>"u"?!1:ASSERT,ChainShape_1=ChainShape$2,common$c=common$y,Transform$6=Transform_1,Vec2$g=Vec2_1,Settings$a=Settings$i,Shape=Shape_1,EdgeShape$2=EdgeShape_1;ChainShape$2._super=Shape;ChainShape$2.prototype=Object.create(ChainShape$2._super.prototype);ChainShape$2.TYPE="chain";Shape.TYPES[ChainShape$2.TYPE]=ChainShape$2;function ChainShape$2(e,_){if(!(this instanceof ChainShape$2))return new ChainShape$2(e,_);ChainShape$2._super.call(this),this.m_type=ChainShape$2.TYPE,this.m_radius=Settings$a.polygonRadius,this.m_vertices=[],this.m_count=0,this.m_prevVertex=null,this.m_nextVertex=null,this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_isLoop=_,e&&e.length&&(_?this._createLoop(e):this._createChain(e))}ChainShape$2.prototype._serialize=function(){const e={type:this.m_type,vertices:this.m_vertices,isLoop:this.m_isLoop,hasPrevVertex:this.m_hasPrevVertex,hasNextVertex:this.m_hasNextVertex};return this.m_prevVertex&&(e.prevVertex=this.m_prevVertex),this.m_nextVertex&&(e.nextVertex=this.m_nextVertex),e};ChainShape$2._deserialize=function(e,_,d){var o=[];if(e.vertices)for(var c=0;c<e.vertices.length;c++)o.push(d(Vec2$g,e.vertices[c]));var s=new ChainShape$2(o,e.isLoop);return e.prevVertex&&s.setPrevVertex(e.prevVertex),e.nextVertex&&s.setNextVertex(e.nextVertex),s};ChainShape$2.prototype._createLoop=function(e){_ASSERT$c&&common$c.assert(this.m_vertices.length==0&&this.m_count==0),_ASSERT$c&&common$c.assert(e.length>=3);for(var _=1;_<e.length;++_){var d=e[_-1],o=e[_];_ASSERT$c&&common$c.assert(Vec2$g.distanceSquared(d,o)>Settings$a.linearSlopSquared)}this.m_vertices=[],this.m_count=e.length+1;for(var _=0;_<e.length;++_)this.m_vertices[_]=Vec2$g.clone(e[_]);return this.m_vertices[e.length]=Vec2$g.clone(e[0]),this.m_prevVertex=this.m_vertices[this.m_count-2],this.m_nextVertex=this.m_vertices[1],this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this};ChainShape$2.prototype._createChain=function(e){_ASSERT$c&&common$c.assert(this.m_vertices.length==0&&this.m_count==0),_ASSERT$c&&common$c.assert(e.length>=2);for(var _=1;_<e.length;++_){var d=e[_-1],o=e[_];_ASSERT$c&&common$c.assert(Vec2$g.distanceSquared(d,o)>Settings$a.linearSlopSquared)}this.m_count=e.length;for(var _=0;_<e.length;++_)this.m_vertices[_]=Vec2$g.clone(e[_]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex=null,this.m_nextVertex=null,this};ChainShape$2.prototype._reset=function(){this.m_isLoop?this._createLoop(this.m_vertices):this._createChain(this.m_vertices)};ChainShape$2.prototype.setPrevVertex=function(e){this.m_prevVertex=e,this.m_hasPrevVertex=!0};ChainShape$2.prototype.setNextVertex=function(e){this.m_nextVertex=e,this.m_hasNextVertex=!0};ChainShape$2.prototype._clone=function(){var e=new ChainShape$2;return e.createChain(this.m_vertices),e.m_type=this.m_type,e.m_radius=this.m_radius,e.m_prevVertex=this.m_prevVertex,e.m_nextVertex=this.m_nextVertex,e.m_hasPrevVertex=this.m_hasPrevVertex,e.m_hasNextVertex=this.m_hasNextVertex,e};ChainShape$2.prototype.getChildCount=function(){return this.m_count-1};ChainShape$2.prototype.getChildEdge=function(e,_){_ASSERT$c&&common$c.assert(0<=_&&_<this.m_count-1),e.m_type=EdgeShape$2.TYPE,e.m_radius=this.m_radius,e.m_vertex1=this.m_vertices[_],e.m_vertex2=this.m_vertices[_+1],_>0?(e.m_vertex0=this.m_vertices[_-1],e.m_hasVertex0=!0):(e.m_vertex0=this.m_prevVertex,e.m_hasVertex0=this.m_hasPrevVertex),_<this.m_count-2?(e.m_vertex3=this.m_vertices[_+2],e.m_hasVertex3=!0):(e.m_vertex3=this.m_nextVertex,e.m_hasVertex3=this.m_hasNextVertex)};ChainShape$2.prototype.getVertex=function(e){return _ASSERT$c&&common$c.assert(0<=e&&e<=this.m_count),e<this.m_count?this.m_vertices[e]:this.m_vertices[0]};ChainShape$2.prototype.testPoint=function(e,_){return!1};ChainShape$2.prototype.rayCast=function(e,_,d,o){_ASSERT$c&&common$c.assert(0<=o&&o<this.m_count);var c=new EdgeShape$2(this.getVertex(o),this.getVertex(o+1));return c.rayCast(e,_,d,0)};ChainShape$2.prototype.computeAABB=function(e,_,d){_ASSERT$c&&common$c.assert(0<=d&&d<this.m_count);var o=Transform$6.mulVec2(_,this.getVertex(d)),c=Transform$6.mulVec2(_,this.getVertex(d+1));e.combinePoints(o,c)};ChainShape$2.prototype.computeMass=function(e,_){e.mass=0,e.center=Vec2$g.neo(),e.I=0};ChainShape$2.prototype.computeDistanceProxy=function(e,_){_ASSERT$c&&common$c.assert(0<=_&&_<this.m_count),e.m_buffer[0]=this.getVertex(_),e.m_buffer[1]=this.getVertex(_+1),e.m_vertices=e.m_buffer,e.m_count=2,e.m_radius=this.m_radius};var BoxShape_1=BoxShape,PolygonShape$3=PolygonShape_1;BoxShape._super=PolygonShape$3;BoxShape.prototype=Object.create(BoxShape._super.prototype);BoxShape.TYPE="polygon";function BoxShape(e,_,d,o){if(!(this instanceof BoxShape))return new BoxShape(e,_,d,o);BoxShape._super.call(this),this._setAsBox(e,_,d,o)}var _ASSERT$b=typeof ASSERT>"u"?!1:ASSERT,common$b=common$y,Transform$5=Transform_1,Vec2$f=Vec2_1,Contact$4=Contact_1,Manifold$4=ManifoldExports,CircleShape$2=CircleShape_1;Contact$4.addType(CircleShape$2.TYPE,CircleShape$2.TYPE,CircleCircleContact);function CircleCircleContact(e,_,d,o,c,s,h){_ASSERT$b&&common$b.assert(d.getType()==CircleShape$2.TYPE),_ASSERT$b&&common$b.assert(s.getType()==CircleShape$2.TYPE),CollideCircles(e,d.getShape(),_,s.getShape(),c)}function CollideCircles(e,_,d,o,c){e.pointCount=0;var s=Transform$5.mulVec2(d,_.m_p),h=Transform$5.mulVec2(c,o.m_p),f=Vec2$f.distanceSquared(h,s),g=_.m_radius,b=o.m_radius,k=g+b;f>k*k||(e.type=Manifold$4.e_circles,e.localPoint.set(_.m_p),e.localNormal.setZero(),e.pointCount=1,e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$4.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$4.e_vertex)}var _ASSERT$a=typeof ASSERT>"u"?!1:ASSERT,common$a=common$y,Transform$4=Transform_1,Vec2$e=Vec2_1,Contact$3=Contact_1,Manifold$3=ManifoldExports,EdgeShape$1=EdgeShape_1,ChainShape$1=ChainShape_1,CircleShape$1=CircleShape_1;Contact$3.addType(EdgeShape$1.TYPE,CircleShape$1.TYPE,EdgeCircleContact);Contact$3.addType(ChainShape$1.TYPE,CircleShape$1.TYPE,ChainCircleContact);function EdgeCircleContact(e,_,d,o,c,s,h){_ASSERT$a&&common$a.assert(d.getType()==EdgeShape$1.TYPE),_ASSERT$a&&common$a.assert(s.getType()==CircleShape$1.TYPE);var f=d.getShape(),g=s.getShape();CollideEdgeCircle(e,f,_,g,c)}function ChainCircleContact(e,_,d,o,c,s,h){_ASSERT$a&&common$a.assert(d.getType()==ChainShape$1.TYPE),_ASSERT$a&&common$a.assert(s.getType()==CircleShape$1.TYPE);var f=d.getShape(),g=new EdgeShape$1;f.getChildEdge(g,o);var b=g,k=s.getShape();CollideEdgeCircle(e,b,_,k,c)}function CollideEdgeCircle(e,_,d,o,c){e.pointCount=0;var s=Transform$4.mulTVec2(d,Transform$4.mulVec2(c,o.m_p)),h=_.m_vertex1,f=_.m_vertex2,g=Vec2$e.sub(f,h),b=Vec2$e.dot(g,Vec2$e.sub(f,s)),k=Vec2$e.dot(g,Vec2$e.sub(s,h)),$=_.m_radius+o.m_radius;if(k<=0){var _t=Vec2$e.clone(h),ut=Vec2$e.sub(s,_t),ot=Vec2$e.dot(ut,ut);if(ot>$*$)return;if(_.m_hasVertex0){var j=_.m_vertex0,_e=h,et=Vec2$e.sub(_e,j),nt=Vec2$e.dot(et,Vec2$e.sub(_e,s));if(nt>0)return}e.type=Manifold$3.e_circles,e.localNormal.setZero(),e.localPoint.set(_t),e.pointCount=1,e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$3.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$3.e_vertex;return}if(b<=0){var _t=Vec2$e.clone(f),ut=Vec2$e.sub(s,_t),ot=Vec2$e.dot(ut,ut);if(ot>$*$)return;if(_.m_hasVertex3){var rt=_.m_vertex3,tt=f,it=Vec2$e.sub(rt,tt),st=Vec2$e.dot(it,Vec2$e.sub(s,tt));if(st>0)return}e.type=Manifold$3.e_circles,e.localNormal.setZero(),e.localPoint.set(_t),e.pointCount=1,e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=1,e.points[0].id.cf.typeA=Manifold$3.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$3.e_vertex;return}var at=Vec2$e.dot(g,g);_ASSERT$a&&common$a.assert(at>0);var _t=Vec2$e.combine(b/at,h,k/at,f),ut=Vec2$e.sub(s,_t),ot=Vec2$e.dot(ut,ut);if(!(ot>$*$)){var lt=Vec2$e.neo(-g.y,g.x);Vec2$e.dot(lt,Vec2$e.sub(s,h))<0&&lt.set(-lt.x,-lt.y),lt.normalize(),e.type=Manifold$3.e_faceA,e.localNormal=lt,e.localPoint.set(h),e.pointCount=1,e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$3.e_face,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$3.e_vertex}}var _ASSERT$9=typeof ASSERT>"u"?!1:ASSERT,common$9=common$y,Transform$3=Transform_1,Rot$c=Rot_1,Vec2$d=Vec2_1,Settings$9=Settings$i,Manifold$2=ManifoldExports,Contact$2=Contact_1,PolygonShape$2=PolygonShape_1,CollidePolygon=CollidePolygons;Contact$2.addType(PolygonShape$2.TYPE,PolygonShape$2.TYPE,PolygonContact);function PolygonContact(e,_,d,o,c,s,h){_ASSERT$9&&common$9.assert(d.getType()==PolygonShape$2.TYPE),_ASSERT$9&&common$9.assert(s.getType()==PolygonShape$2.TYPE),CollidePolygons(e,d.getShape(),_,s.getShape(),c)}function FindMaxSeparation(e,_,d,o){for(var c=e.m_count,s=d.m_count,h=e.m_normals,f=e.m_vertices,g=d.m_vertices,b=Transform$3.mulTXf(o,_),k=0,$=-1/0,j=0;j<c;++j){for(var _e=Rot$c.mulVec2(b.q,h[j]),et=Transform$3.mulVec2(b,f[j]),nt=1/0,rt=0;rt<s;++rt){var tt=Vec2$d.dot(_e,g[rt])-Vec2$d.dot(_e,et);tt<nt&&(nt=tt)}nt>$&&($=nt,k=j)}FindMaxSeparation._maxSeparation=$,FindMaxSeparation._bestIndex=k}function FindIncidentEdge(e,_,d,o,c,s){var h=_.m_normals,f=c.m_count,g=c.m_vertices,b=c.m_normals;_ASSERT$9&&common$9.assert(0<=o&&o<_.m_count);for(var k=Rot$c.mulT(s.q,Rot$c.mulVec2(d.q,h[o])),$=0,j=1/0,_e=0;_e<f;++_e){var et=Vec2$d.dot(k,b[_e]);et<j&&(j=et,$=_e)}var nt=$,rt=nt+1<f?nt+1:0;e[0].v=Transform$3.mulVec2(s,g[nt]),e[0].id.cf.indexA=o,e[0].id.cf.indexB=nt,e[0].id.cf.typeA=Manifold$2.e_face,e[0].id.cf.typeB=Manifold$2.e_vertex,e[1].v=Transform$3.mulVec2(s,g[rt]),e[1].id.cf.indexA=o,e[1].id.cf.indexB=rt,e[1].id.cf.typeA=Manifold$2.e_face,e[1].id.cf.typeB=Manifold$2.e_vertex}function CollidePolygons(e,_,d,o,c){e.pointCount=0;var s=_.m_radius+o.m_radius;FindMaxSeparation(_,d,o,c);var h=FindMaxSeparation._bestIndex,f=FindMaxSeparation._maxSeparation;if(!(f>s)){FindMaxSeparation(o,c,_,d);var g=FindMaxSeparation._bestIndex,b=FindMaxSeparation._maxSeparation;if(!(b>s)){var k,$,j,_e,et,nt,rt=.1*Settings$9.linearSlop;b>f+rt?(k=o,$=_,j=c,_e=d,et=g,e.type=Manifold$2.e_faceB,nt=1):(k=_,$=o,j=d,_e=c,et=h,e.type=Manifold$2.e_faceA,nt=0);var tt=[new Manifold$2.clipVertex,new Manifold$2.clipVertex];FindIncidentEdge(tt,k,j,et,$,_e);var it=k.m_count,st=k.m_vertices,at=et,_t=et+1<it?et+1:0,ut=st[at],ot=st[_t],lt=Vec2$d.sub(ot,ut);lt.normalize();var ft=Vec2$d.cross(lt,1),ht=Vec2$d.combine(.5,ut,.5,ot),dt=Rot$c.mulVec2(j.q,lt),pt=Vec2$d.cross(dt,1);ut=Transform$3.mulVec2(j,ut),ot=Transform$3.mulVec2(j,ot);var xt=Vec2$d.dot(pt,ut),vt=-Vec2$d.dot(dt,ut)+s,bt=Vec2$d.dot(dt,ot)+s,wt=[new Manifold$2.clipVertex,new Manifold$2.clipVertex],At=[new Manifold$2.clipVertex,new Manifold$2.clipVertex],ct;if(ct=Manifold$2.clipSegmentToLine(wt,tt,Vec2$d.neg(dt),vt,at),!(ct<2)&&(ct=Manifold$2.clipSegmentToLine(At,wt,dt,bt,_t),!(ct<2))){e.localNormal=ft,e.localPoint=ht;for(var mt=0,gt=0;gt<At.length;++gt){var Tt=Vec2$d.dot(pt,At[gt].v)-xt;if(Tt<=s){var yt=e.points[mt];if(yt.localPoint.set(Transform$3.mulTVec2(_e,At[gt].v)),yt.id=At[gt].id,nt){var Et=yt.id.cf,Ct=Et.indexA,It=Et.indexB,Rt=Et.typeA,Ft=Et.typeB;Et.indexA=It,Et.indexB=Ct,Et.typeA=Ft,Et.typeB=Rt}++mt}}e.pointCount=mt}}}}var _ASSERT$8=typeof ASSERT>"u"?!1:ASSERT,common$8=common$y,Math$d=_MathExports,Transform$2=Transform_1,Vec2$c=Vec2_1,Manifold$1=ManifoldExports,Contact$1=Contact_1,CircleShape=CircleShape_1,PolygonShape$1=PolygonShape_1;Contact$1.addType(PolygonShape$1.TYPE,CircleShape.TYPE,PolygonCircleContact);function PolygonCircleContact(e,_,d,o,c,s,h){_ASSERT$8&&common$8.assert(d.getType()==PolygonShape$1.TYPE),_ASSERT$8&&common$8.assert(s.getType()==CircleShape.TYPE),CollidePolygonCircle(e,d.getShape(),_,s.getShape(),c)}function CollidePolygonCircle(e,_,d,o,c){e.pointCount=0;for(var s=Transform$2.mulVec2(c,o.m_p),h=Transform$2.mulTVec2(d,s),f=0,g=-1/0,b=_.m_radius+o.m_radius,k=_.m_count,$=_.m_vertices,j=_.m_normals,_e=0;_e<k;++_e){var et=Vec2$c.dot(j[_e],Vec2$c.sub(h,$[_e]));if(et>b)return;et>g&&(g=et,f=_e)}var nt=f,rt=nt+1<k?nt+1:0,tt=$[nt],it=$[rt];if(g<Math$d.EPSILON){e.pointCount=1,e.type=Manifold$1.e_faceA,e.localNormal.set(j[f]),e.localPoint.setCombine(.5,tt,.5,it),e.points[0].localPoint=o.m_p,e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$1.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$1.e_vertex;return}var st=Vec2$c.dot(Vec2$c.sub(h,tt),Vec2$c.sub(it,tt)),at=Vec2$c.dot(Vec2$c.sub(h,it),Vec2$c.sub(tt,it));if(st<=0){if(Vec2$c.distanceSquared(h,tt)>b*b)return;e.pointCount=1,e.type=Manifold$1.e_faceA,e.localNormal.setCombine(1,h,-1,tt),e.localNormal.normalize(),e.localPoint=tt,e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$1.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$1.e_vertex}else if(at<=0){if(Vec2$c.distanceSquared(h,it)>b*b)return;e.pointCount=1,e.type=Manifold$1.e_faceA,e.localNormal.setCombine(1,h,-1,it),e.localNormal.normalize(),e.localPoint.set(it),e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$1.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$1.e_vertex}else{var _t=Vec2$c.mid(tt,it),g=Vec2$c.dot(h,j[nt])-Vec2$c.dot(_t,j[nt]);if(g>b)return;e.pointCount=1,e.type=Manifold$1.e_faceA,e.localNormal.set(j[nt]),e.localPoint.set(_t),e.points[0].localPoint.set(o.m_p),e.points[0].id.cf.indexA=0,e.points[0].id.cf.typeA=Manifold$1.e_vertex,e.points[0].id.cf.indexB=0,e.points[0].id.cf.typeB=Manifold$1.e_vertex}}var _ASSERT$7=typeof ASSERT>"u"?!1:ASSERT,common$7=common$y,Math$c=_MathExports,Transform$1=Transform_1,Vec2$b=Vec2_1,Rot$b=Rot_1,Settings$8=Settings$i,Contact=Contact_1,Manifold=ManifoldExports,EdgeShape=EdgeShape_1,ChainShape=ChainShape_1,PolygonShape=PolygonShape_1;Contact.addType(EdgeShape.TYPE,PolygonShape.TYPE,EdgePolygonContact);Contact.addType(ChainShape.TYPE,PolygonShape.TYPE,ChainPolygonContact);function EdgePolygonContact(e,_,d,o,c,s,h){_ASSERT$7&&common$7.assert(d.getType()==EdgeShape.TYPE),_ASSERT$7&&common$7.assert(s.getType()==PolygonShape.TYPE),CollideEdgePolygon(e,d.getShape(),_,s.getShape(),c)}function ChainPolygonContact(e,_,d,o,c,s,h){_ASSERT$7&&common$7.assert(d.getType()==ChainShape.TYPE),_ASSERT$7&&common$7.assert(s.getType()==PolygonShape.TYPE);var f=d.getShape(),g=new EdgeShape;f.getChildEdge(g,o),CollideEdgePolygon(e,g,_,s.getShape(),c)}var e_unknown=-1,e_edgeA=1,e_edgeB=2;function EPAxis(){this.type,this.index,this.separation}function TempPolygon(){this.vertices=[],this.normals=[],this.count=0}function ReferenceFace(){this.i1,this.i2,this.v1,this.v2,this.normal=Vec2$b.zero(),this.sideNormal1=Vec2$b.zero(),this.sideOffset1,this.sideNormal2=Vec2$b.zero(),this.sideOffset2}var edgeAxis=new EPAxis,polygonAxis=new EPAxis,polygonBA=new TempPolygon,rf=new ReferenceFace;function CollideEdgePolygon(e,_,d,o,c){var s=Transform$1.mulTXf(d,c),h=Transform$1.mulVec2(s,o.m_centroid),f=_.m_vertex0,g=_.m_vertex1,b=_.m_vertex2,k=_.m_vertex3,$=_.m_hasVertex0,j=_.m_hasVertex3,_e=Vec2$b.sub(b,g);_e.normalize();var et=Vec2$b.neo(_e.y,-_e.x),nt=Vec2$b.dot(et,Vec2$b.sub(h,g)),rt=0,tt=0,it=!1,st=!1;if($){var at=Vec2$b.sub(g,f);at.normalize();var _t=Vec2$b.neo(at.y,-at.x);it=Vec2$b.cross(at,_e)>=0,rt=Vec2$b.dot(_t,h)-Vec2$b.dot(_t,f)}if(j){var ut=Vec2$b.sub(k,b);ut.normalize();var ot=Vec2$b.neo(ut.y,-ut.x);st=Vec2$b.cross(_e,ut)>0,tt=Vec2$b.dot(ot,h)-Vec2$b.dot(ot,b)}var lt,ft=Vec2$b.zero(),ht=Vec2$b.zero(),dt=Vec2$b.zero();$&&j?it&&st?(lt=rt>=0||nt>=0||tt>=0,lt?(ft.set(et),ht.set(_t),dt.set(ot)):(ft.setMul(-1,et),ht.setMul(-1,et),dt.setMul(-1,et))):it?(lt=rt>=0||nt>=0&&tt>=0,lt?(ft.set(et),ht.set(_t),dt.set(et)):(ft.setMul(-1,et),ht.setMul(-1,ot),dt.setMul(-1,et))):st?(lt=tt>=0||rt>=0&&nt>=0,lt?(ft.set(et),ht.set(et),dt.set(ot)):(ft.setMul(-1,et),ht.setMul(-1,et),dt.setMul(-1,_t))):(lt=rt>=0&&nt>=0&&tt>=0,lt?(ft.set(et),ht.set(et),dt.set(et)):(ft.setMul(-1,et),ht.setMul(-1,ot),dt.setMul(-1,_t))):$?it?(lt=rt>=0||nt>=0,lt?(ft.set(et),ht.set(_t),dt.setMul(-1,et)):(ft.setMul(-1,et),ht.set(et),dt.setMul(-1,et))):(lt=rt>=0&&nt>=0,lt?(ft.set(et),ht.set(et),dt.setMul(-1,et)):(ft.setMul(-1,et),ht.set(et),dt.setMul(-1,_t))):j?st?(lt=nt>=0||tt>=0,lt?(ft.set(et),ht.setMul(-1,et),dt.set(ot)):(ft.setMul(-1,et),ht.setMul(-1,et),dt.set(et))):(lt=nt>=0&&tt>=0,lt?(ft.set(et),ht.setMul(-1,et),dt.set(et)):(ft.setMul(-1,et),ht.setMul(-1,ot),dt.set(et))):(lt=nt>=0,lt?(ft.set(et),ht.setMul(-1,et),dt.setMul(-1,et)):(ft.setMul(-1,et),ht.set(et),dt.set(et))),polygonBA.count=o.m_count;for(var pt=0;pt<o.m_count;++pt)polygonBA.vertices[pt]=Transform$1.mulVec2(s,o.m_vertices[pt]),polygonBA.normals[pt]=Rot$b.mulVec2(s.q,o.m_normals[pt]);var xt=2*Settings$8.polygonRadius;e.pointCount=0;{edgeAxis.type=e_edgeA,edgeAxis.index=lt?0:1,edgeAxis.separation=1/0;for(var pt=0;pt<polygonBA.count;++pt){var vt=Vec2$b.dot(ft,Vec2$b.sub(polygonBA.vertices[pt],g));vt<edgeAxis.separation&&(edgeAxis.separation=vt)}}if(edgeAxis.type!=e_unknown&&!(edgeAxis.separation>xt)){{polygonAxis.type=e_unknown,polygonAxis.index=-1,polygonAxis.separation=-1/0;for(var bt=Vec2$b.neo(-ft.y,ft.x),pt=0;pt<polygonBA.count;++pt){var wt=Vec2$b.neg(polygonBA.normals[pt]),At=Vec2$b.dot(wt,Vec2$b.sub(polygonBA.vertices[pt],g)),ct=Vec2$b.dot(wt,Vec2$b.sub(polygonBA.vertices[pt],b)),vt=Math$c.min(At,ct);if(vt>xt){polygonAxis.type=e_edgeB,polygonAxis.index=pt,polygonAxis.separation=vt;break}if(Vec2$b.dot(wt,bt)>=0){if(Vec2$b.dot(Vec2$b.sub(wt,dt),ft)<-Settings$8.angularSlop)continue}else if(Vec2$b.dot(Vec2$b.sub(wt,ht),ft)<-Settings$8.angularSlop)continue;vt>polygonAxis.separation&&(polygonAxis.type=e_edgeB,polygonAxis.index=pt,polygonAxis.separation=vt)}}if(!(polygonAxis.type!=e_unknown&&polygonAxis.separation>xt)){var mt=.98,gt=.001,Tt;polygonAxis.type==e_unknown?Tt=edgeAxis:polygonAxis.separation>mt*edgeAxis.separation+gt?Tt=polygonAxis:Tt=edgeAxis;var yt=[new Manifold.clipVertex,new Manifold.clipVertex];if(Tt.type==e_edgeA){e.type=Manifold.e_faceA;for(var Et=0,Ct=Vec2$b.dot(ft,polygonBA.normals[0]),pt=1;pt<polygonBA.count;++pt){var It=Vec2$b.dot(ft,polygonBA.normals[pt]);It<Ct&&(Ct=It,Et=pt)}var Rt=Et,Ft=Rt+1<polygonBA.count?Rt+1:0;yt[0].v=polygonBA.vertices[Rt],yt[0].id.cf.indexA=0,yt[0].id.cf.indexB=Rt,yt[0].id.cf.typeA=Manifold.e_face,yt[0].id.cf.typeB=Manifold.e_vertex,yt[1].v=polygonBA.vertices[Ft],yt[1].id.cf.indexA=0,yt[1].id.cf.indexB=Ft,yt[1].id.cf.typeA=Manifold.e_face,yt[1].id.cf.typeB=Manifold.e_vertex,lt?(rf.i1=0,rf.i2=1,rf.v1=g,rf.v2=b,rf.normal.set(et)):(rf.i1=1,rf.i2=0,rf.v1=b,rf.v2=g,rf.normal.setMul(-1,et))}else e.type=Manifold.e_faceB,yt[0].v=g,yt[0].id.cf.indexA=0,yt[0].id.cf.indexB=Tt.index,yt[0].id.cf.typeA=Manifold.e_vertex,yt[0].id.cf.typeB=Manifold.e_face,yt[1].v=b,yt[1].id.cf.indexA=0,yt[1].id.cf.indexB=Tt.index,yt[1].id.cf.typeA=Manifold.e_vertex,yt[1].id.cf.typeB=Manifold.e_face,rf.i1=Tt.index,rf.i2=rf.i1+1<polygonBA.count?rf.i1+1:0,rf.v1=polygonBA.vertices[rf.i1],rf.v2=polygonBA.vertices[rf.i2],rf.normal.set(polygonBA.normals[rf.i1]);rf.sideNormal1.set(rf.normal.y,-rf.normal.x),rf.sideNormal2.setMul(-1,rf.sideNormal1),rf.sideOffset1=Vec2$b.dot(rf.sideNormal1,rf.v1),rf.sideOffset2=Vec2$b.dot(rf.sideNormal2,rf.v2);var Lt=[new Manifold.clipVertex,new Manifold.clipVertex],Ot=[new Manifold.clipVertex,new Manifold.clipVertex],Kt;if(Kt=Manifold.clipSegmentToLine(Lt,yt,rf.sideNormal1,rf.sideOffset1,rf.i1),!(Kt<Settings$8.maxManifoldPoints)&&(Kt=Manifold.clipSegmentToLine(Ot,Lt,rf.sideNormal2,rf.sideOffset2,rf.i2),!(Kt<Settings$8.maxManifoldPoints))){Tt.type==e_edgeA?(e.localNormal=Vec2$b.clone(rf.normal),e.localPoint=Vec2$b.clone(rf.v1)):(e.localNormal=Vec2$b.clone(o.m_normals[rf.i1]),e.localPoint=Vec2$b.clone(o.m_vertices[rf.i1]));for(var qt=0,pt=0;pt<Settings$8.maxManifoldPoints;++pt){var Ht=Vec2$b.dot(rf.normal,Vec2$b.sub(Ot[pt].v,rf.v1));if(Ht<=xt){var Zt=e.points[qt];Tt.type==e_edgeA?(Zt.localPoint=Transform$1.mulT(s,Ot[pt].v),Zt.id=Ot[pt].id):(Zt.localPoint=Ot[pt].v,Zt.id.cf.typeA=Ot[pt].id.cf.typeB,Zt.id.cf.typeB=Ot[pt].id.cf.typeA,Zt.id.cf.indexA=Ot[pt].id.cf.indexB,Zt.id.cf.indexB=Ot[pt].id.cf.indexA),++qt}}e.pointCount=qt}}}}var DistanceJoint_1=DistanceJoint,options$a=options$e,Settings$7=Settings$i,Math$b=_MathExports,Vec2$a=Vec2_1,Rot$a=Rot_1,Joint$a=Joint_1,Body$a=Body_1;DistanceJoint.TYPE="distance-joint";Joint$a.TYPES[DistanceJoint.TYPE]=DistanceJoint;DistanceJoint._super=Joint$a;DistanceJoint.prototype=Object.create(DistanceJoint._super.prototype);var DEFAULTS$9={frequencyHz:0,dampingRatio:0};function DistanceJoint(e,_,d,o,c){if(!(this instanceof DistanceJoint))return new DistanceJoint(e,_,d,o,c);if(d&&o&&"m_type"in o&&"x"in d&&"y"in d){var s=d;d=o,o=s}e=options$a(e,DEFAULTS$9),Joint$a.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=DistanceJoint.TYPE,this.m_localAnchorA=Vec2$a.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2$a.zero()),this.m_localAnchorB=Vec2$a.clone(c?d.getLocalPoint(c):e.localAnchorB||Vec2$a.zero()),this.m_length=Math$b.isFinite(e.length)?e.length:Vec2$a.distance(_.getWorldPoint(this.m_localAnchorA),d.getWorldPoint(this.m_localAnchorB)),this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_impulse=0,this.m_gamma=0,this.m_bias=0,this.m_u,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}DistanceJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,length:this.m_length,impulse:this.m_impulse,gamma:this.m_gamma,bias:this.m_bias}};DistanceJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$a,e.bodyA,_),e.bodyB=d(Body$a,e.bodyB,_);var o=new DistanceJoint(e);return o};DistanceJoint.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB),e.length>0?this.m_length=+e.length:e.length<0||(e.anchorA||e.anchorA||e.anchorA||e.anchorA)&&(this.m_length=Vec2$a.distance(this.m_bodyA.getWorldPoint(this.m_localAnchorA),this.m_bodyB.getWorldPoint(this.m_localAnchorB)))};DistanceJoint.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};DistanceJoint.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};DistanceJoint.prototype.setLength=function(e){this.m_length=e};DistanceJoint.prototype.getLength=function(){return this.m_length};DistanceJoint.prototype.setFrequency=function(e){this.m_frequencyHz=e};DistanceJoint.prototype.getFrequency=function(){return this.m_frequencyHz};DistanceJoint.prototype.setDampingRatio=function(e){this.m_dampingRatio=e};DistanceJoint.prototype.getDampingRatio=function(){return this.m_dampingRatio};DistanceJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};DistanceJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};DistanceJoint.prototype.getReactionForce=function(e){return Vec2$a.mul(this.m_impulse,this.m_u).mul(e)};DistanceJoint.prototype.getReactionTorque=function(e){return 0};DistanceJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,c=this.m_bodyA.c_velocity.w,s=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w,b=Rot$a.neo(d),k=Rot$a.neo(h);this.m_rA=Rot$a.mulVec2(b,Vec2$a.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=Rot$a.mulVec2(k,Vec2$a.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_u=Vec2$a.sub(Vec2$a.add(s,this.m_rB),Vec2$a.add(_,this.m_rA));var $=this.m_u.length();$>Settings$7.linearSlop?this.m_u.mul(1/$):this.m_u.set(0,0);var j=Vec2$a.cross(this.m_rA,this.m_u),_e=Vec2$a.cross(this.m_rB,this.m_u),et=this.m_invMassA+this.m_invIA*j*j+this.m_invMassB+this.m_invIB*_e*_e;if(this.m_mass=et!=0?1/et:0,this.m_frequencyHz>0){var nt=$-this.m_length,rt=2*Math$b.PI*this.m_frequencyHz,tt=2*this.m_mass*this.m_dampingRatio*rt,it=this.m_mass*rt*rt,st=e.dt;this.m_gamma=st*(tt+st*it),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=nt*st*it*this.m_gamma,et+=this.m_gamma,this.m_mass=et!=0?1/et:0}else this.m_gamma=0,this.m_bias=0;if(e.warmStarting){this.m_impulse*=e.dtRatio;var at=Vec2$a.mul(this.m_impulse,this.m_u);o.subMul(this.m_invMassA,at),c-=this.m_invIA*Vec2$a.cross(this.m_rA,at),f.addMul(this.m_invMassB,at),g+=this.m_invIB*Vec2$a.cross(this.m_rB,at)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.set(o),this.m_bodyA.c_velocity.w=c,this.m_bodyB.c_velocity.v.set(f),this.m_bodyB.c_velocity.w=g};DistanceJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=Vec2$a.add(_,Vec2$a.cross(d,this.m_rA)),h=Vec2$a.add(o,Vec2$a.cross(c,this.m_rB)),f=Vec2$a.dot(this.m_u,h)-Vec2$a.dot(this.m_u,s),g=-this.m_mass*(f+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=g;var b=Vec2$a.mul(g,this.m_u);_.subMul(this.m_invMassA,b),d-=this.m_invIA*Vec2$a.cross(this.m_rA,b),o.addMul(this.m_invMassB,b),c+=this.m_invIB*Vec2$a.cross(this.m_rB,b),this.m_bodyA.c_velocity.v.set(_),this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v.set(o),this.m_bodyB.c_velocity.w=c};DistanceJoint.prototype.solvePositionConstraints=function(e){if(this.m_frequencyHz>0)return!0;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$a.neo(d),h=Rot$a.neo(c),f=Rot$a.mulSub(s,this.m_localAnchorA,this.m_localCenterA),g=Rot$a.mulSub(h,this.m_localAnchorB,this.m_localCenterB),b=Vec2$a.sub(Vec2$a.add(o,g),Vec2$a.add(_,f)),k=b.normalize(),$=k-this.m_length;$=Math$b.clamp($,-Settings$7.maxLinearCorrection,Settings$7.maxLinearCorrection);var j=-this.m_mass*$,_e=Vec2$a.mul(j,b);return _.subMul(this.m_invMassA,_e),d-=this.m_invIA*Vec2$a.cross(f,_e),o.addMul(this.m_invMassB,_e),c+=this.m_invIB*Vec2$a.cross(g,_e),this.m_bodyA.c_position.c.set(_),this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c.set(o),this.m_bodyB.c_position.a=c,Math$b.abs($)<Settings$7.linearSlop};var _ASSERT$6=typeof ASSERT>"u"?!1:ASSERT,FrictionJoint_1=FrictionJoint,common$6=common$y,options$9=options$e,Math$a=_MathExports,Vec2$9=Vec2_1,Mat22$4=Mat22_1,Rot$9=Rot_1,Joint$9=Joint_1,Body$9=Body_1;FrictionJoint.TYPE="friction-joint";Joint$9.TYPES[FrictionJoint.TYPE]=FrictionJoint;FrictionJoint._super=Joint$9;FrictionJoint.prototype=Object.create(FrictionJoint._super.prototype);var DEFAULTS$8={maxForce:0,maxTorque:0};function FrictionJoint(e,_,d,o){if(!(this instanceof FrictionJoint))return new FrictionJoint(e,_,d,o);e=options$9(e,DEFAULTS$8),Joint$9.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=FrictionJoint.TYPE,this.m_localAnchorA=Vec2$9.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2$9.zero()),this.m_localAnchorB=Vec2$9.clone(o?d.getLocalPoint(o):e.localAnchorB||Vec2$9.zero()),this.m_linearImpulse=Vec2$9.zero(),this.m_angularImpulse=0,this.m_maxForce=e.maxForce,this.m_maxTorque=e.maxTorque,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_linearMass,this.m_angularMass}FrictionJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB}};FrictionJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$9,e.bodyA,_),e.bodyB=d(Body$9,e.bodyB,_);var o=new FrictionJoint(e);return o};FrictionJoint.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB)};FrictionJoint.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};FrictionJoint.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};FrictionJoint.prototype.setMaxForce=function(e){_ASSERT$6&&common$6.assert(Math$a.isFinite(e)&&e>=0),this.m_maxForce=e};FrictionJoint.prototype.getMaxForce=function(){return this.m_maxForce};FrictionJoint.prototype.setMaxTorque=function(e){_ASSERT$6&&common$6.assert(Math$a.isFinite(e)&&e>=0),this.m_maxTorque=e};FrictionJoint.prototype.getMaxTorque=function(){return this.m_maxTorque};FrictionJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};FrictionJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};FrictionJoint.prototype.getReactionForce=function(e){return Vec2$9.mul(e,this.m_linearImpulse)};FrictionJoint.prototype.getReactionTorque=function(e){return e*this.m_angularImpulse};FrictionJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.a,d=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,c=this.m_bodyB.c_position.a,s=this.m_bodyB.c_velocity.v,h=this.m_bodyB.c_velocity.w,f=Rot$9.neo(_),g=Rot$9.neo(c);this.m_rA=Rot$9.mulVec2(f,Vec2$9.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=Rot$9.mulVec2(g,Vec2$9.sub(this.m_localAnchorB,this.m_localCenterB));var b=this.m_invMassA,k=this.m_invMassB,$=this.m_invIA,j=this.m_invIB,_e=new Mat22$4;if(_e.ex.x=b+k+$*this.m_rA.y*this.m_rA.y+j*this.m_rB.y*this.m_rB.y,_e.ex.y=-$*this.m_rA.x*this.m_rA.y-j*this.m_rB.x*this.m_rB.y,_e.ey.x=_e.ex.y,_e.ey.y=b+k+$*this.m_rA.x*this.m_rA.x+j*this.m_rB.x*this.m_rB.x,this.m_linearMass=_e.getInverse(),this.m_angularMass=$+j,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),e.warmStarting){this.m_linearImpulse.mul(e.dtRatio),this.m_angularImpulse*=e.dtRatio;var et=Vec2$9.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);d.subMul(b,et),o-=$*(Vec2$9.cross(this.m_rA,et)+this.m_angularImpulse),s.addMul(k,et),h+=j*(Vec2$9.cross(this.m_rB,et)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=d,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=s,this.m_bodyB.c_velocity.w=h};FrictionJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,g=this.m_invIB,b=e.dt;{var k=c-d,$=-this.m_angularMass*k,j=this.m_angularImpulse,_e=b*this.m_maxTorque;this.m_angularImpulse=Math$a.clamp(this.m_angularImpulse+$,-_e,_e),$=this.m_angularImpulse-j,d-=f*$,c+=g*$}{var k=Vec2$9.sub(Vec2$9.add(o,Vec2$9.cross(c,this.m_rB)),Vec2$9.add(_,Vec2$9.cross(d,this.m_rA))),$=Vec2$9.neg(Mat22$4.mulVec2(this.m_linearMass,k)),j=this.m_linearImpulse;this.m_linearImpulse.add($);var _e=b*this.m_maxForce;this.m_linearImpulse.lengthSquared()>_e*_e&&(this.m_linearImpulse.normalize(),this.m_linearImpulse.mul(_e)),$=Vec2$9.sub(this.m_linearImpulse,j),_.subMul(s,$),d-=f*Vec2$9.cross(this.m_rA,$),o.addMul(h,$),c+=g*Vec2$9.cross(this.m_rB,$)}this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};FrictionJoint.prototype.solvePositionConstraints=function(e){return!0};var _ASSERT$5=typeof ASSERT>"u"?!1:ASSERT,RevoluteJoint_1=RevoluteJoint$1,common$5=common$y,options$8=options$e,Settings$6=Settings$i,Math$9=_MathExports,Vec2$8=Vec2_1,Vec3$2=Vec3_1,Mat22$3=Mat22_1,Mat33$2=Mat33_1,Rot$8=Rot_1,Joint$8=Joint_1,Body$8=Body_1,inactiveLimit$2=0,atLowerLimit$1=1,atUpperLimit$2=2,equalLimits$1=3;RevoluteJoint$1.TYPE="revolute-joint";Joint$8.TYPES[RevoluteJoint$1.TYPE]=RevoluteJoint$1;RevoluteJoint$1._super=Joint$8;RevoluteJoint$1.prototype=Object.create(RevoluteJoint$1._super.prototype);var DEFAULTS$7={lowerAngle:0,upperAngle:0,maxMotorTorque:0,motorSpeed:0,enableLimit:!1,enableMotor:!1};function RevoluteJoint$1(e,_,d,o){if(!(this instanceof RevoluteJoint$1))return new RevoluteJoint$1(e,_,d,o);e=options$8(e,DEFAULTS$7),Joint$8.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=RevoluteJoint$1.TYPE,this.m_localAnchorA=Vec2$8.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2$8.zero()),this.m_localAnchorB=Vec2$8.clone(o?d.getLocalPoint(o):e.localAnchorB||Vec2$8.zero()),this.m_referenceAngle=Math$9.isFinite(e.referenceAngle)?e.referenceAngle:d.getAngle()-_.getAngle(),this.m_impulse=Vec3$2(),this.m_motorImpulse=0,this.m_lowerAngle=e.lowerAngle,this.m_upperAngle=e.upperAngle,this.m_maxMotorTorque=e.maxMotorTorque,this.m_motorSpeed=e.motorSpeed,this.m_enableLimit=e.enableLimit,this.m_enableMotor=e.enableMotor,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass=new Mat33$2,this.m_motorMass,this.m_limitState=inactiveLimit$2}RevoluteJoint$1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerAngle:this.m_lowerAngle,upperAngle:this.m_upperAngle,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}};RevoluteJoint$1._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$8,e.bodyA,_),e.bodyB=d(Body$8,e.bodyB,_);var o=new RevoluteJoint$1(e);return o};RevoluteJoint$1.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB)};RevoluteJoint$1.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};RevoluteJoint$1.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};RevoluteJoint$1.prototype.getReferenceAngle=function(){return this.m_referenceAngle};RevoluteJoint$1.prototype.getJointAngle=function(){var e=this.m_bodyA,_=this.m_bodyB;return _.m_sweep.a-e.m_sweep.a-this.m_referenceAngle};RevoluteJoint$1.prototype.getJointSpeed=function(){var e=this.m_bodyA,_=this.m_bodyB;return _.m_angularVelocity-e.m_angularVelocity};RevoluteJoint$1.prototype.isMotorEnabled=function(){return this.m_enableMotor};RevoluteJoint$1.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e};RevoluteJoint$1.prototype.getMotorTorque=function(e){return e*this.m_motorImpulse};RevoluteJoint$1.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e};RevoluteJoint$1.prototype.getMotorSpeed=function(){return this.m_motorSpeed};RevoluteJoint$1.prototype.setMaxMotorTorque=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=e};RevoluteJoint$1.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque};RevoluteJoint$1.prototype.isLimitEnabled=function(){return this.m_enableLimit};RevoluteJoint$1.prototype.enableLimit=function(e){e!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e,this.m_impulse.z=0)};RevoluteJoint$1.prototype.getLowerLimit=function(){return this.m_lowerAngle};RevoluteJoint$1.prototype.getUpperLimit=function(){return this.m_upperAngle};RevoluteJoint$1.prototype.setLimits=function(e,_){_ASSERT$5&&common$5.assert(e<=_),(e!=this.m_lowerAngle||_!=this.m_upperAngle)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=e,this.m_upperAngle=_)};RevoluteJoint$1.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};RevoluteJoint$1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};RevoluteJoint$1.prototype.getReactionForce=function(e){return Vec2$8.neo(this.m_impulse.x,this.m_impulse.y).mul(e)};RevoluteJoint$1.prototype.getReactionTorque=function(e){return e*this.m_impulse.z};RevoluteJoint$1.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.a,d=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,c=this.m_bodyB.c_position.a,s=this.m_bodyB.c_velocity.v,h=this.m_bodyB.c_velocity.w,f=Rot$8.neo(_),g=Rot$8.neo(c);this.m_rA=Rot$8.mulVec2(f,Vec2$8.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=Rot$8.mulVec2(g,Vec2$8.sub(this.m_localAnchorB,this.m_localCenterB));var b=this.m_invMassA,k=this.m_invMassB,$=this.m_invIA,j=this.m_invIB,_e=$+j===0;if(this.m_mass.ex.x=b+k+this.m_rA.y*this.m_rA.y*$+this.m_rB.y*this.m_rB.y*j,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*$-this.m_rB.y*this.m_rB.x*j,this.m_mass.ez.x=-this.m_rA.y*$-this.m_rB.y*j,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=b+k+this.m_rA.x*this.m_rA.x*$+this.m_rB.x*this.m_rB.x*j,this.m_mass.ez.y=this.m_rA.x*$+this.m_rB.x*j,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=$+j,this.m_motorMass=$+j,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),(this.m_enableMotor==!1||_e)&&(this.m_motorImpulse=0),this.m_enableLimit&&_e==!1){var et=c-_-this.m_referenceAngle;Math$9.abs(this.m_upperAngle-this.m_lowerAngle)<2*Settings$6.angularSlop?this.m_limitState=equalLimits$1:et<=this.m_lowerAngle?(this.m_limitState!=atLowerLimit$1&&(this.m_impulse.z=0),this.m_limitState=atLowerLimit$1):et>=this.m_upperAngle?(this.m_limitState!=atUpperLimit$2&&(this.m_impulse.z=0),this.m_limitState=atUpperLimit$2):(this.m_limitState=inactiveLimit$2,this.m_impulse.z=0)}else this.m_limitState=inactiveLimit$2;if(e.warmStarting){this.m_impulse.mul(e.dtRatio),this.m_motorImpulse*=e.dtRatio;var nt=Vec2$8.neo(this.m_impulse.x,this.m_impulse.y);d.subMul(b,nt),o-=$*(Vec2$8.cross(this.m_rA,nt)+this.m_motorImpulse+this.m_impulse.z),s.addMul(k,nt),h+=j*(Vec2$8.cross(this.m_rB,nt)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v=d,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=s,this.m_bodyB.c_velocity.w=h};RevoluteJoint$1.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,g=this.m_invIB,b=f+g===0;if(this.m_enableMotor&&this.m_limitState!=equalLimits$1&&b==!1){var k=c-d-this.m_motorSpeed,$=-this.m_motorMass*k,j=this.m_motorImpulse,_e=e.dt*this.m_maxMotorTorque;this.m_motorImpulse=Math$9.clamp(this.m_motorImpulse+$,-_e,_e),$=this.m_motorImpulse-j,d-=f*$,c+=g*$}if(this.m_enableLimit&&this.m_limitState!=inactiveLimit$2&&b==!1){var et=Vec2$8.zero();et.addCombine(1,o,1,Vec2$8.cross(c,this.m_rB)),et.subCombine(1,_,1,Vec2$8.cross(d,this.m_rA));var nt=c-d,k=Vec3$2(et.x,et.y,nt),$=Vec3$2.neg(this.m_mass.solve33(k));if(this.m_limitState==equalLimits$1)this.m_impulse.add($);else if(this.m_limitState==atLowerLimit$1){var rt=this.m_impulse.z+$.z;if(rt<0){var tt=Vec2$8.combine(-1,et,this.m_impulse.z,Vec2$8.neo(this.m_mass.ez.x,this.m_mass.ez.y)),it=this.m_mass.solve22(tt);$.x=it.x,$.y=it.y,$.z=-this.m_impulse.z,this.m_impulse.x+=it.x,this.m_impulse.y+=it.y,this.m_impulse.z=0}else this.m_impulse.add($)}else if(this.m_limitState==atUpperLimit$2){var rt=this.m_impulse.z+$.z;if(rt>0){var tt=Vec2$8.combine(-1,et,this.m_impulse.z,Vec2$8.neo(this.m_mass.ez.x,this.m_mass.ez.y)),it=this.m_mass.solve22(tt);$.x=it.x,$.y=it.y,$.z=-this.m_impulse.z,this.m_impulse.x+=it.x,this.m_impulse.y+=it.y,this.m_impulse.z=0}else this.m_impulse.add($)}var st=Vec2$8.neo($.x,$.y);_.subMul(s,st),d-=f*(Vec2$8.cross(this.m_rA,st)+$.z),o.addMul(h,st),c+=g*(Vec2$8.cross(this.m_rB,st)+$.z)}else{var k=Vec2$8.zero();k.addCombine(1,o,1,Vec2$8.cross(c,this.m_rB)),k.subCombine(1,_,1,Vec2$8.cross(d,this.m_rA));var $=this.m_mass.solve22(Vec2$8.neg(k));this.m_impulse.x+=$.x,this.m_impulse.y+=$.y,_.subMul(s,$),d-=f*Vec2$8.cross(this.m_rA,$),o.addMul(h,$),c+=g*Vec2$8.cross(this.m_rB,$)}this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};RevoluteJoint$1.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$8.neo(d),h=Rot$8.neo(c),f=0,g=0,b=this.m_invIA+this.m_invIB==0;if(this.m_enableLimit&&this.m_limitState!=inactiveLimit$2&&b==!1){var k=c-d-this.m_referenceAngle,$=0;if(this.m_limitState==equalLimits$1){var j=Math$9.clamp(k-this.m_lowerAngle,-Settings$6.maxAngularCorrection,Settings$6.maxAngularCorrection);$=-this.m_motorMass*j,f=Math$9.abs(j)}else if(this.m_limitState==atLowerLimit$1){var j=k-this.m_lowerAngle;f=-j,j=Math$9.clamp(j+Settings$6.angularSlop,-Settings$6.maxAngularCorrection,0),$=-this.m_motorMass*j}else if(this.m_limitState==atUpperLimit$2){var j=k-this.m_upperAngle;f=j,j=Math$9.clamp(j-Settings$6.angularSlop,0,Settings$6.maxAngularCorrection),$=-this.m_motorMass*j}d-=this.m_invIA*$,c+=this.m_invIB*$}{s.set(d),h.set(c);var _e=Rot$8.mulVec2(s,Vec2$8.sub(this.m_localAnchorA,this.m_localCenterA)),et=Rot$8.mulVec2(h,Vec2$8.sub(this.m_localAnchorB,this.m_localCenterB)),j=Vec2$8.zero();j.addCombine(1,o,1,et),j.subCombine(1,_,1,_e),g=j.length();var nt=this.m_invMassA,rt=this.m_invMassB,tt=this.m_invIA,it=this.m_invIB,st=new Mat22$3;st.ex.x=nt+rt+tt*_e.y*_e.y+it*et.y*et.y,st.ex.y=-tt*_e.x*_e.y-it*et.x*et.y,st.ey.x=st.ex.y,st.ey.y=nt+rt+tt*_e.x*_e.x+it*et.x*et.x;var at=Vec2$8.neg(st.solve(j));_.subMul(nt,at),d-=tt*Vec2$8.cross(_e,at),o.addMul(rt,at),c+=it*Vec2$8.cross(et,at)}return this.m_bodyA.c_position.c.set(_),this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c.set(o),this.m_bodyB.c_position.a=c,g<=Settings$6.linearSlop&&f<=Settings$6.angularSlop};var _ASSERT$4=typeof ASSERT>"u"?!1:ASSERT,PrismaticJoint_1=PrismaticJoint$1,common$4=common$y,options$7=options$e,Settings$5=Settings$i,Math$8=_MathExports,Vec2$7=Vec2_1,Vec3$1=Vec3_1,Mat22$2=Mat22_1,Mat33$1=Mat33_1,Rot$7=Rot_1,Joint$7=Joint_1,Body$7=Body_1,inactiveLimit$1=0,atLowerLimit=1,atUpperLimit$1=2,equalLimits=3;PrismaticJoint$1.TYPE="prismatic-joint";Joint$7.TYPES[PrismaticJoint$1.TYPE]=PrismaticJoint$1;PrismaticJoint$1._super=Joint$7;PrismaticJoint$1.prototype=Object.create(PrismaticJoint$1._super.prototype);var DEFAULTS$6={enableLimit:!1,lowerTranslation:0,upperTranslation:0,enableMotor:!1,maxMotorForce:0,motorSpeed:0};function PrismaticJoint$1(e,_,d,o,c){if(!(this instanceof PrismaticJoint$1))return new PrismaticJoint$1(e,_,d,o,c);e=options$7(e,DEFAULTS$6),Joint$7.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=PrismaticJoint$1.TYPE,this.m_localAnchorA=Vec2$7.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2$7.zero()),this.m_localAnchorB=Vec2$7.clone(o?d.getLocalPoint(o):e.localAnchorB||Vec2$7.zero()),this.m_localXAxisA=Vec2$7.clone(c?_.getLocalVector(c):e.localAxisA||Vec2$7.neo(1,0)),this.m_localXAxisA.normalize(),this.m_localYAxisA=Vec2$7.cross(1,this.m_localXAxisA),this.m_referenceAngle=Math$8.isFinite(e.referenceAngle)?e.referenceAngle:d.getAngle()-_.getAngle(),this.m_impulse=Vec3$1(),this.m_motorMass=0,this.m_motorImpulse=0,this.m_lowerTranslation=e.lowerTranslation,this.m_upperTranslation=e.upperTranslation,this.m_maxMotorForce=e.maxMotorForce,this.m_motorSpeed=e.motorSpeed,this.m_enableLimit=e.enableLimit,this.m_enableMotor=e.enableMotor,this.m_limitState=inactiveLimit$1,this.m_axis=Vec2$7.zero(),this.m_perp=Vec2$7.zero(),this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_axis,this.m_perp,this.m_s1,this.m_s2,this.m_a1,this.m_a2,this.m_K=new Mat33$1,this.m_motorMass}PrismaticJoint$1.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,lowerTranslation:this.m_lowerTranslation,upperTranslation:this.m_upperTranslation,maxMotorForce:this.m_maxMotorForce,motorSpeed:this.m_motorSpeed,enableLimit:this.m_enableLimit,enableMotor:this.m_enableMotor,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA,referenceAngle:this.m_referenceAngle}};PrismaticJoint$1._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$7,e.bodyA,_),e.bodyB=d(Body$7,e.bodyB,_),e.localAxisA=Vec2$7(e.localAxisA);var o=new PrismaticJoint$1(e);return o};PrismaticJoint$1.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB),e.localAxisA&&(this.m_localXAxisA.set(e.localAxisA),this.m_localYAxisA.set(Vec2$7.cross(1,e.localAxisA)))};PrismaticJoint$1.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};PrismaticJoint$1.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};PrismaticJoint$1.prototype.getLocalAxisA=function(){return this.m_localXAxisA};PrismaticJoint$1.prototype.getReferenceAngle=function(){return this.m_referenceAngle};PrismaticJoint$1.prototype.getJointTranslation=function(){var e=this.m_bodyA.getWorldPoint(this.m_localAnchorA),_=this.m_bodyB.getWorldPoint(this.m_localAnchorB),d=Vec2$7.sub(_,e),o=this.m_bodyA.getWorldVector(this.m_localXAxisA),c=Vec2$7.dot(d,o);return c};PrismaticJoint$1.prototype.getJointSpeed=function(){var e=this.m_bodyA,_=this.m_bodyB,d=Rot$7.mulVec2(e.m_xf.q,Vec2$7.sub(this.m_localAnchorA,e.m_sweep.localCenter)),o=Rot$7.mulVec2(_.m_xf.q,Vec2$7.sub(this.m_localAnchorB,_.m_sweep.localCenter)),c=Vec2$7.add(e.m_sweep.c,d),s=Vec2$7.add(_.m_sweep.c,o),h=Vec2$7.sub(s,c),f=Rot$7.mulVec2(e.m_xf.q,this.m_localXAxisA),g=e.m_linearVelocity,b=_.m_linearVelocity,k=e.m_angularVelocity,$=_.m_angularVelocity,j=Vec2$7.dot(h,Vec2$7.cross(k,f))+Vec2$7.dot(f,Vec2$7.sub(Vec2$7.addCross(b,$,o),Vec2$7.addCross(g,k,d)));return j};PrismaticJoint$1.prototype.isLimitEnabled=function(){return this.m_enableLimit};PrismaticJoint$1.prototype.enableLimit=function(e){e!=this.m_enableLimit&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableLimit=e,this.m_impulse.z=0)};PrismaticJoint$1.prototype.getLowerLimit=function(){return this.m_lowerTranslation};PrismaticJoint$1.prototype.getUpperLimit=function(){return this.m_upperTranslation};PrismaticJoint$1.prototype.setLimits=function(e,_){_ASSERT$4&&common$4.assert(e<=_),(e!=this.m_lowerTranslation||_!=this.m_upperTranslation)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_lowerTranslation=e,this.m_upperTranslation=_,this.m_impulse.z=0)};PrismaticJoint$1.prototype.isMotorEnabled=function(){return this.m_enableMotor};PrismaticJoint$1.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e};PrismaticJoint$1.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e};PrismaticJoint$1.prototype.setMaxMotorForce=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorForce=e};PrismaticJoint$1.prototype.getMaxMotorForce=function(){return this.m_maxMotorForce};PrismaticJoint$1.prototype.getMotorSpeed=function(){return this.m_motorSpeed};PrismaticJoint$1.prototype.getMotorForce=function(e){return e*this.m_motorImpulse};PrismaticJoint$1.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};PrismaticJoint$1.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};PrismaticJoint$1.prototype.getReactionForce=function(e){return Vec2$7.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis).mul(e)};PrismaticJoint$1.prototype.getReactionTorque=function(e){return e*this.m_impulse.y};PrismaticJoint$1.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,c=this.m_bodyA.c_velocity.w,s=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w,b=Rot$7.neo(d),k=Rot$7.neo(h),$=Rot$7.mulVec2(b,Vec2$7.sub(this.m_localAnchorA,this.m_localCenterA)),j=Rot$7.mulVec2(k,Vec2$7.sub(this.m_localAnchorB,this.m_localCenterB)),_e=Vec2$7.zero();_e.addCombine(1,s,1,j),_e.subCombine(1,_,1,$);var et=this.m_invMassA,nt=this.m_invMassB,rt=this.m_invIA,tt=this.m_invIB;this.m_axis=Rot$7.mulVec2(b,this.m_localXAxisA),this.m_a1=Vec2$7.cross(Vec2$7.add(_e,$),this.m_axis),this.m_a2=Vec2$7.cross(j,this.m_axis),this.m_motorMass=et+nt+rt*this.m_a1*this.m_a1+tt*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass);{this.m_perp=Rot$7.mulVec2(b,this.m_localYAxisA),this.m_s1=Vec2$7.cross(Vec2$7.add(_e,$),this.m_perp),this.m_s2=Vec2$7.cross(j,this.m_perp),Vec2$7.cross($,this.m_perp);var it=et+nt+rt*this.m_s1*this.m_s1+tt*this.m_s2*this.m_s2,st=rt*this.m_s1+tt*this.m_s2,at=rt*this.m_s1*this.m_a1+tt*this.m_s2*this.m_a2,_t=rt+tt;_t==0&&(_t=1);var ut=rt*this.m_a1+tt*this.m_a2,ot=et+nt+rt*this.m_a1*this.m_a1+tt*this.m_a2*this.m_a2;this.m_K.ex.set(it,st,at),this.m_K.ey.set(st,_t,ut),this.m_K.ez.set(at,ut,ot)}if(this.m_enableLimit){var lt=Vec2$7.dot(this.m_axis,_e);Math$8.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*Settings$5.linearSlop?this.m_limitState=equalLimits:lt<=this.m_lowerTranslation?this.m_limitState!=atLowerLimit&&(this.m_limitState=atLowerLimit,this.m_impulse.z=0):lt>=this.m_upperTranslation?this.m_limitState!=atUpperLimit$1&&(this.m_limitState=atUpperLimit$1,this.m_impulse.z=0):(this.m_limitState=inactiveLimit$1,this.m_impulse.z=0)}else this.m_limitState=inactiveLimit$1,this.m_impulse.z=0;if(this.m_enableMotor==!1&&(this.m_motorImpulse=0),e.warmStarting){this.m_impulse.mul(e.dtRatio),this.m_motorImpulse*=e.dtRatio;var ft=Vec2$7.combine(this.m_impulse.x,this.m_perp,this.m_motorImpulse+this.m_impulse.z,this.m_axis),ht=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,dt=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;o.subMul(et,ft),c-=rt*ht,f.addMul(nt,ft),g+=tt*dt}else this.m_impulse.setZero(),this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.set(o),this.m_bodyA.c_velocity.w=c,this.m_bodyB.c_velocity.v.set(f),this.m_bodyB.c_velocity.w=g};PrismaticJoint$1.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,g=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!=equalLimits){var b=Vec2$7.dot(this.m_axis,Vec2$7.sub(o,_))+this.m_a2*c-this.m_a1*d,k=this.m_motorMass*(this.m_motorSpeed-b),$=this.m_motorImpulse,j=e.dt*this.m_maxMotorForce;this.m_motorImpulse=Math$8.clamp(this.m_motorImpulse+k,-j,j),k=this.m_motorImpulse-$;var _e=Vec2$7.mul(k,this.m_axis),et=k*this.m_a1,nt=k*this.m_a2;_.subMul(s,_e),d-=f*et,o.addMul(h,_e),c+=g*nt}var rt=Vec2$7.zero();if(rt.x+=Vec2$7.dot(this.m_perp,o)+this.m_s2*c,rt.x-=Vec2$7.dot(this.m_perp,_)+this.m_s1*d,rt.y=c-d,this.m_enableLimit&&this.m_limitState!=inactiveLimit$1){var tt=0;tt+=Vec2$7.dot(this.m_axis,o)+this.m_a2*c,tt-=Vec2$7.dot(this.m_axis,_)+this.m_a1*d;var b=Vec3$1(rt.x,rt.y,tt),it=Vec3$1(this.m_impulse),st=this.m_K.solve33(Vec3$1.neg(b));this.m_impulse.add(st),this.m_limitState==atLowerLimit?this.m_impulse.z=Math$8.max(this.m_impulse.z,0):this.m_limitState==atUpperLimit$1&&(this.m_impulse.z=Math$8.min(this.m_impulse.z,0));var at=Vec2$7.combine(-1,rt,-(this.m_impulse.z-it.z),Vec2$7.neo(this.m_K.ez.x,this.m_K.ez.y)),_t=Vec2$7.add(this.m_K.solve22(at),Vec2$7.neo(it.x,it.y));this.m_impulse.x=_t.x,this.m_impulse.y=_t.y,st=Vec3$1.sub(this.m_impulse,it);var _e=Vec2$7.combine(st.x,this.m_perp,st.z,this.m_axis),et=st.x*this.m_s1+st.y+st.z*this.m_a1,nt=st.x*this.m_s2+st.y+st.z*this.m_a2;_.subMul(s,_e),d-=f*et,o.addMul(h,_e),c+=g*nt}else{var st=this.m_K.solve22(Vec2$7.neg(rt));this.m_impulse.x+=st.x,this.m_impulse.y+=st.y;var _e=Vec2$7.mul(st.x,this.m_perp),et=st.x*this.m_s1+st.y,nt=st.x*this.m_s2+st.y;_.subMul(s,_e),d-=f*et,o.addMul(h,_e),c+=g*nt}this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};PrismaticJoint$1.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$7.neo(d),h=Rot$7.neo(c),f=this.m_invMassA,g=this.m_invMassB,b=this.m_invIA,k=this.m_invIB,$=Rot$7.mulVec2(s,Vec2$7.sub(this.m_localAnchorA,this.m_localCenterA)),j=Rot$7.mulVec2(h,Vec2$7.sub(this.m_localAnchorB,this.m_localCenterB)),_e=Vec2$7.sub(Vec2$7.add(o,j),Vec2$7.add(_,$)),et=Rot$7.mulVec2(s,this.m_localXAxisA),nt=Vec2$7.cross(Vec2$7.add(_e,$),et),rt=Vec2$7.cross(j,et),tt=Rot$7.mulVec2(s,this.m_localYAxisA),it=Vec2$7.cross(Vec2$7.add(_e,$),tt),st=Vec2$7.cross(j,tt),at=Vec3$1(),_t=Vec2$7.zero();_t.x=Vec2$7.dot(tt,_e),_t.y=c-d-this.m_referenceAngle;var ut=Math$8.abs(_t.x),ot=Math$8.abs(_t.y),lt=Settings$5.linearSlop,ft=Settings$5.maxLinearCorrection,ht=!1,dt=0;if(this.m_enableLimit){var pt=Vec2$7.dot(et,_e);Math$8.abs(this.m_upperTranslation-this.m_lowerTranslation)<2*lt?(dt=Math$8.clamp(pt,-ft,ft),ut=Math$8.max(ut,Math$8.abs(pt)),ht=!0):pt<=this.m_lowerTranslation?(dt=Math$8.clamp(pt-this.m_lowerTranslation+lt,-ft,0),ut=Math$8.max(ut,this.m_lowerTranslation-pt),ht=!0):pt>=this.m_upperTranslation&&(dt=Math$8.clamp(pt-this.m_upperTranslation-lt,0,ft),ut=Math$8.max(ut,pt-this.m_upperTranslation),ht=!0)}if(ht){var xt=f+g+b*it*it+k*st*st,vt=b*it+k*st,bt=b*it*nt+k*st*rt,wt=b+k;wt==0&&(wt=1);var At=b*nt+k*rt,ct=f+g+b*nt*nt+k*rt*rt,mt=new Mat33$1;mt.ex.set(xt,vt,bt),mt.ey.set(vt,wt,At),mt.ez.set(bt,At,ct);var gt=Vec3$1();gt.x=_t.x,gt.y=_t.y,gt.z=dt,at=mt.solve33(Vec3$1.neg(gt))}else{var xt=f+g+b*it*it+k*st*st,vt=b*it+k*st,wt=b+k;wt==0&&(wt=1);var mt=new Mat22$2;mt.ex.set(xt,vt),mt.ey.set(vt,wt);var Tt=mt.solve(Vec2$7.neg(_t));at.x=Tt.x,at.y=Tt.y,at.z=0}var yt=Vec2$7.combine(at.x,tt,at.z,et),Et=at.x*it+at.y+at.z*nt,Ct=at.x*st+at.y+at.z*rt;return _.subMul(f,yt),d-=b*Et,o.addMul(g,yt),c+=k*Ct,this.m_bodyA.c_position.c=_,this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c=o,this.m_bodyB.c_position.a=c,ut<=Settings$5.linearSlop&&ot<=Settings$5.angularSlop};var _ASSERT$3=typeof ASSERT>"u"?!1:ASSERT,GearJoint_1=GearJoint,common$3=common$y,options$6=options$e,Settings$4=Settings$i,Math$7=_MathExports,Vec2$6=Vec2_1,Rot$6=Rot_1,Joint$6=Joint_1,Body$6=Body_1,RevoluteJoint=RevoluteJoint_1,PrismaticJoint=PrismaticJoint_1;GearJoint.TYPE="gear-joint";Joint$6.TYPES[GearJoint.TYPE]=GearJoint;GearJoint._super=Joint$6;GearJoint.prototype=Object.create(GearJoint._super.prototype);var DEFAULTS$5={ratio:1};function GearJoint(e,_,d,o,c,s){if(!(this instanceof GearJoint))return new GearJoint(e,_,d,o,c,s);e=options$6(e,DEFAULTS$5),Joint$6.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=GearJoint.TYPE,_ASSERT$3&&common$3.assert(o.m_type===RevoluteJoint.TYPE||o.m_type===PrismaticJoint.TYPE),_ASSERT$3&&common$3.assert(c.m_type===RevoluteJoint.TYPE||c.m_type===PrismaticJoint.TYPE),this.m_joint1=o||e.joint1,this.m_joint2=c||e.joint2,this.m_ratio=Math$7.isFinite(s)?s:e.ratio,this.m_type1=this.m_joint1.getType(),this.m_type2=this.m_joint2.getType();var h,f;this.m_bodyC=this.m_joint1.getBodyA(),this.m_bodyA=this.m_joint1.getBodyB();var g=this.m_bodyA.m_xf,b=this.m_bodyA.m_sweep.a,k=this.m_bodyC.m_xf,$=this.m_bodyC.m_sweep.a;if(this.m_type1===RevoluteJoint.TYPE){var j=this.m_joint1;this.m_localAnchorC=j.m_localAnchorA,this.m_localAnchorA=j.m_localAnchorB,this.m_referenceAngleA=j.m_referenceAngle,this.m_localAxisC=Vec2$6.zero(),h=b-$-this.m_referenceAngleA}else{var _e=this.m_joint1;this.m_localAnchorC=_e.m_localAnchorA,this.m_localAnchorA=_e.m_localAnchorB,this.m_referenceAngleA=_e.m_referenceAngle,this.m_localAxisC=_e.m_localXAxisA;var et=this.m_localAnchorC,nt=Rot$6.mulTVec2(k.q,Vec2$6.add(Rot$6.mul(g.q,this.m_localAnchorA),Vec2$6.sub(g.p,k.p)));h=Vec2$6.dot(nt,this.m_localAxisC)-Vec2$6.dot(et,this.m_localAxisC)}this.m_bodyD=this.m_joint2.getBodyA(),this.m_bodyB=this.m_joint2.getBodyB();var rt=this.m_bodyB.m_xf,tt=this.m_bodyB.m_sweep.a,it=this.m_bodyD.m_xf,st=this.m_bodyD.m_sweep.a;if(this.m_type2===RevoluteJoint.TYPE){var j=this.m_joint2;this.m_localAnchorD=j.m_localAnchorA,this.m_localAnchorB=j.m_localAnchorB,this.m_referenceAngleB=j.m_referenceAngle,this.m_localAxisD=Vec2$6.zero(),f=tt-st-this.m_referenceAngleB}else{var _e=this.m_joint2;this.m_localAnchorD=_e.m_localAnchorA,this.m_localAnchorB=_e.m_localAnchorB,this.m_referenceAngleB=_e.m_referenceAngle,this.m_localAxisD=_e.m_localXAxisA;var at=this.m_localAnchorD,_t=Rot$6.mulTVec2(it.q,Vec2$6.add(Rot$6.mul(rt.q,this.m_localAnchorB),Vec2$6.sub(rt.p,it.p)));f=Vec2$6.dot(_t,this.m_localAxisD)-Vec2$6.dot(at,this.m_localAxisD)}this.m_constant=h+this.m_ratio*f,this.m_impulse=0,this.m_lcA,this.m_lcB,this.m_lcC,this.m_lcD,this.m_mA,this.m_mB,this.m_mC,this.m_mD,this.m_iA,this.m_iB,this.m_iC,this.m_iD,this.m_JvAC,this.m_JvBD,this.m_JwA,this.m_JwB,this.m_JwC,this.m_JwD,this.m_mass}GearJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,joint1:this.m_joint1,joint2:this.m_joint2,ratio:this.m_ratio}};GearJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$6,e.bodyA,_),e.bodyB=d(Body$6,e.bodyB,_),e.joint1=d(Joint$6,e.joint1,_),e.joint2=d(Joint$6,e.joint2,_);var o=new GearJoint(e);return o};GearJoint.prototype.getJoint1=function(){return this.m_joint1};GearJoint.prototype.getJoint2=function(){return this.m_joint2};GearJoint.prototype.setRatio=function(e){_ASSERT$3&&common$3.assert(Math$7.isFinite(e)),this.m_ratio=e};GearJoint.prototype.getRatio=function(){return this.m_ratio};GearJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};GearJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};GearJoint.prototype.getReactionForce=function(e){return Vec2$6.mul(this.m_impulse,this.m_JvAC).mul(e)};GearJoint.prototype.getReactionTorque=function(e){var _=this.m_impulse*this.m_JwA;return e*_};GearJoint.prototype.initVelocityConstraints=function(e){this.m_lcA=this.m_bodyA.m_sweep.localCenter,this.m_lcB=this.m_bodyB.m_sweep.localCenter,this.m_lcC=this.m_bodyC.m_sweep.localCenter,this.m_lcD=this.m_bodyD.m_sweep.localCenter,this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var _=this.m_bodyA.c_position.a,d=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,c=this.m_bodyB.c_position.a,s=this.m_bodyB.c_velocity.v,h=this.m_bodyB.c_velocity.w,f=this.m_bodyC.c_position.a,g=this.m_bodyC.c_velocity.v,b=this.m_bodyC.c_velocity.w,k=this.m_bodyD.c_position.a,$=this.m_bodyD.c_velocity.v,j=this.m_bodyD.c_velocity.w,_e=Rot$6.neo(_),et=Rot$6.neo(c),nt=Rot$6.neo(f),rt=Rot$6.neo(k);if(this.m_mass=0,this.m_type1==RevoluteJoint.TYPE)this.m_JvAC=Vec2$6.zero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var tt=Rot$6.mulVec2(nt,this.m_localAxisC),it=Rot$6.mulSub(nt,this.m_localAnchorC,this.m_lcC),st=Rot$6.mulSub(_e,this.m_localAnchorA,this.m_lcA);this.m_JvAC=tt,this.m_JwC=Vec2$6.cross(it,tt),this.m_JwA=Vec2$6.cross(st,tt),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_type2==RevoluteJoint.TYPE)this.m_JvBD=Vec2$6.zero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var tt=Rot$6.mulVec2(rt,this.m_localAxisD),at=Rot$6.mulSub(rt,this.m_localAnchorD,this.m_lcD),_t=Rot$6.mulSub(et,this.m_localAnchorB,this.m_lcB);this.m_JvBD=Vec2$6.mul(this.m_ratio,tt),this.m_JwD=this.m_ratio*Vec2$6.cross(at,tt),this.m_JwB=this.m_ratio*Vec2$6.cross(_t,tt),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,e.warmStarting?(d.addMul(this.m_mA*this.m_impulse,this.m_JvAC),o+=this.m_iA*this.m_impulse*this.m_JwA,s.addMul(this.m_mB*this.m_impulse,this.m_JvBD),h+=this.m_iB*this.m_impulse*this.m_JwB,g.subMul(this.m_mC*this.m_impulse,this.m_JvAC),b-=this.m_iC*this.m_impulse*this.m_JwC,$.subMul(this.m_mD*this.m_impulse,this.m_JvBD),j-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,this.m_bodyA.c_velocity.v.set(d),this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v.set(s),this.m_bodyB.c_velocity.w=h,this.m_bodyC.c_velocity.v.set(g),this.m_bodyC.c_velocity.w=b,this.m_bodyD.c_velocity.v.set($),this.m_bodyD.c_velocity.w=j};GearJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_bodyC.c_velocity.v,h=this.m_bodyC.c_velocity.w,f=this.m_bodyD.c_velocity.v,g=this.m_bodyD.c_velocity.w,b=Vec2$6.dot(this.m_JvAC,_)-Vec2$6.dot(this.m_JvAC,s)+Vec2$6.dot(this.m_JvBD,o)-Vec2$6.dot(this.m_JvBD,f);b+=this.m_JwA*d-this.m_JwC*h+(this.m_JwB*c-this.m_JwD*g);var k=-this.m_mass*b;this.m_impulse+=k,_.addMul(this.m_mA*k,this.m_JvAC),d+=this.m_iA*k*this.m_JwA,o.addMul(this.m_mB*k,this.m_JvBD),c+=this.m_iB*k*this.m_JwB,s.subMul(this.m_mC*k,this.m_JvAC),h-=this.m_iC*k*this.m_JwC,f.subMul(this.m_mD*k,this.m_JvBD),g-=this.m_iD*k*this.m_JwD,this.m_bodyA.c_velocity.v.set(_),this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v.set(o),this.m_bodyB.c_velocity.w=c,this.m_bodyC.c_velocity.v.set(s),this.m_bodyC.c_velocity.w=h,this.m_bodyD.c_velocity.v.set(f),this.m_bodyD.c_velocity.w=g};GearJoint.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=this.m_bodyC.c_position.c,h=this.m_bodyC.c_position.a,f=this.m_bodyD.c_position.c,g=this.m_bodyD.c_position.a,b=Rot$6.neo(d),k=Rot$6.neo(c),$=Rot$6.neo(h),j=Rot$6.neo(g),_e=0,et,nt,rt,tt,it,st,at,_t,ut=0;if(this.m_type1==RevoluteJoint.TYPE)rt=Vec2$6.zero(),it=1,at=1,ut+=this.m_iA+this.m_iC,et=d-h-this.m_referenceAngleA;else{var ot=Rot$6.mulVec2($,this.m_localAxisC),lt=Rot$6.mulSub($,this.m_localAnchorC,this.m_lcC),ft=Rot$6.mulSub(b,this.m_localAnchorA,this.m_lcA);rt=ot,at=Vec2$6.cross(lt,ot),it=Vec2$6.cross(ft,ot),ut+=this.m_mC+this.m_mA+this.m_iC*at*at+this.m_iA*it*it;var ht=Vec2$6.sub(this.m_localAnchorC,this.m_lcC),dt=Rot$6.mulTVec2($,Vec2$6.add(ft,Vec2$6.sub(_,s)));et=Vec2$6.dot(Vec2$6.sub(dt,ht),this.m_localAxisC)}if(this.m_type2==RevoluteJoint.TYPE)tt=Vec2$6.zero(),st=this.m_ratio,_t=this.m_ratio,ut+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),nt=c-g-this.m_referenceAngleB;else{var ot=Rot$6.mulVec2(j,this.m_localAxisD),pt=Rot$6.mulSub(j,this.m_localAnchorD,this.m_lcD),xt=Rot$6.mulSub(k,this.m_localAnchorB,this.m_lcB);tt=Vec2$6.mul(this.m_ratio,ot),_t=this.m_ratio*Vec2$6.cross(pt,ot),st=this.m_ratio*Vec2$6.cross(xt,ot),ut+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*_t*_t+this.m_iB*st*st;var vt=Vec2$6.sub(this.m_localAnchorD,this.m_lcD),bt=Rot$6.mulTVec2(j,Vec2$6.add(xt,Vec2$6.sub(o,f)));nt=Vec2$6.dot(bt,this.m_localAxisD)-Vec2$6.dot(vt,this.m_localAxisD)}var wt=et+this.m_ratio*nt-this.m_constant,At=0;return ut>0&&(At=-wt/ut),_.addMul(this.m_mA*At,rt),d+=this.m_iA*At*it,o.addMul(this.m_mB*At,tt),c+=this.m_iB*At*st,s.subMul(this.m_mC*At,rt),h-=this.m_iC*At*at,f.subMul(this.m_mD*At,tt),g-=this.m_iD*At*_t,this.m_bodyA.c_position.c.set(_),this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c.set(o),this.m_bodyB.c_position.a=c,this.m_bodyC.c_position.c.set(s),this.m_bodyC.c_position.a=h,this.m_bodyD.c_position.c.set(f),this.m_bodyD.c_position.a=g,_e<Settings$4.linearSlop};var _ASSERT$2=typeof ASSERT>"u"?!1:ASSERT,MotorJoint_1=MotorJoint,common$2=common$y,options$5=options$e,Math$6=_MathExports,Vec2$5=Vec2_1,Mat22$1=Mat22_1,Rot$5=Rot_1,Joint$5=Joint_1,Body$5=Body_1;MotorJoint.TYPE="motor-joint";Joint$5.TYPES[MotorJoint.TYPE]=MotorJoint;MotorJoint._super=Joint$5;MotorJoint.prototype=Object.create(MotorJoint._super.prototype);var DEFAULTS$4={maxForce:1,maxTorque:1,correctionFactor:.3};function MotorJoint(e,_,d){if(!(this instanceof MotorJoint))return new MotorJoint(e,_,d);e=options$5(e,DEFAULTS$4),Joint$5.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=MotorJoint.TYPE,this.m_linearOffset=Math$6.isFinite(e.linearOffset)?e.linearOffset:_.getLocalPoint(d.getPosition()),this.m_angularOffset=Math$6.isFinite(e.angularOffset)?e.angularOffset:d.getAngle()-_.getAngle(),this.m_linearImpulse=Vec2$5.zero(),this.m_angularImpulse=0,this.m_maxForce=e.maxForce,this.m_maxTorque=e.maxTorque,this.m_correctionFactor=e.correctionFactor,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_linearError,this.m_angularError,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_linearMass,this.m_angularMass}MotorJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,maxForce:this.m_maxForce,maxTorque:this.m_maxTorque,correctionFactor:this.m_correctionFactor,linearOffset:this.m_linearOffset,angularOffset:this.m_angularOffset}};MotorJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$5,e.bodyA,_),e.bodyB=d(Body$5,e.bodyB,_);var o=new MotorJoint(e);return o};MotorJoint.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB)};MotorJoint.prototype.setMaxForce=function(e){_ASSERT$2&&common$2.assert(Math$6.isFinite(e)&&e>=0),this.m_maxForce=e};MotorJoint.prototype.getMaxForce=function(){return this.m_maxForce};MotorJoint.prototype.setMaxTorque=function(e){_ASSERT$2&&common$2.assert(Math$6.isFinite(e)&&e>=0),this.m_maxTorque=e};MotorJoint.prototype.getMaxTorque=function(){return this.m_maxTorque};MotorJoint.prototype.setCorrectionFactor=function(e){_ASSERT$2&&common$2.assert(Math$6.isFinite(e)&&0<=e&&e<=1),this.m_correctionFactor=e};MotorJoint.prototype.getCorrectionFactor=function(){return this.m_correctionFactor};MotorJoint.prototype.setLinearOffset=function(e){(e.x!=this.m_linearOffset.x||e.y!=this.m_linearOffset.y)&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_linearOffset=e)};MotorJoint.prototype.getLinearOffset=function(){return this.m_linearOffset};MotorJoint.prototype.setAngularOffset=function(e){e!=this.m_angularOffset&&(this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_angularOffset=e)};MotorJoint.prototype.getAngularOffset=function(){return this.m_angularOffset};MotorJoint.prototype.getAnchorA=function(){return this.m_bodyA.getPosition()};MotorJoint.prototype.getAnchorB=function(){return this.m_bodyB.getPosition()};MotorJoint.prototype.getReactionForce=function(e){return Vec2$5.mul(e,this.m_linearImpulse)};MotorJoint.prototype.getReactionTorque=function(e){return e*this.m_angularImpulse};MotorJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,c=this.m_bodyA.c_velocity.w,s=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w,b=Rot$5.neo(d),k=Rot$5.neo(h);this.m_rA=Rot$5.mulVec2(b,Vec2$5.neg(this.m_localCenterA)),this.m_rB=Rot$5.mulVec2(k,Vec2$5.neg(this.m_localCenterB));var $=this.m_invMassA,j=this.m_invMassB,_e=this.m_invIA,et=this.m_invIB,nt=new Mat22$1;if(nt.ex.x=$+j+_e*this.m_rA.y*this.m_rA.y+et*this.m_rB.y*this.m_rB.y,nt.ex.y=-_e*this.m_rA.x*this.m_rA.y-et*this.m_rB.x*this.m_rB.y,nt.ey.x=nt.ex.y,nt.ey.y=$+j+_e*this.m_rA.x*this.m_rA.x+et*this.m_rB.x*this.m_rB.x,this.m_linearMass=nt.getInverse(),this.m_angularMass=_e+et,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),this.m_linearError=Vec2$5.zero(),this.m_linearError.addCombine(1,s,1,this.m_rB),this.m_linearError.subCombine(1,_,1,this.m_rA),this.m_linearError.sub(Rot$5.mulVec2(b,this.m_linearOffset)),this.m_angularError=h-d-this.m_angularOffset,e.warmStarting){this.m_linearImpulse.mul(e.dtRatio),this.m_angularImpulse*=e.dtRatio;var rt=Vec2$5.neo(this.m_linearImpulse.x,this.m_linearImpulse.y);o.subMul($,rt),c-=_e*(Vec2$5.cross(this.m_rA,rt)+this.m_angularImpulse),f.addMul(j,rt),g+=et*(Vec2$5.cross(this.m_rB,rt)+this.m_angularImpulse)}else this.m_linearImpulse.setZero(),this.m_angularImpulse=0;this.m_bodyA.c_velocity.v=o,this.m_bodyA.c_velocity.w=c,this.m_bodyB.c_velocity.v=f,this.m_bodyB.c_velocity.w=g};MotorJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,g=this.m_invIB,b=e.dt,k=e.inv_dt;{var $=c-d+k*this.m_correctionFactor*this.m_angularError,j=-this.m_angularMass*$,_e=this.m_angularImpulse,et=b*this.m_maxTorque;this.m_angularImpulse=Math$6.clamp(this.m_angularImpulse+j,-et,et),j=this.m_angularImpulse-_e,d-=f*j,c+=g*j}{var $=Vec2$5.zero();$.addCombine(1,o,1,Vec2$5.cross(c,this.m_rB)),$.subCombine(1,_,1,Vec2$5.cross(d,this.m_rA)),$.addMul(k*this.m_correctionFactor,this.m_linearError);var j=Vec2$5.neg(Mat22$1.mulVec2(this.m_linearMass,$)),_e=Vec2$5.clone(this.m_linearImpulse);this.m_linearImpulse.add(j);var et=b*this.m_maxForce;this.m_linearImpulse.clamp(et),j=Vec2$5.sub(this.m_linearImpulse,_e),_.subMul(s,j),d-=f*Vec2$5.cross(this.m_rA,j),o.addMul(h,j),c+=g*Vec2$5.cross(this.m_rB,j)}this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};MotorJoint.prototype.solvePositionConstraints=function(e){return!0};var _ASSERT$1=typeof ASSERT>"u"?!1:ASSERT,MouseJoint_1=MouseJoint,common$1=common$y,options$4=options$e,Math$5=_MathExports,Vec2$4=Vec2_1,Mat22=Mat22_1,Rot$4=Rot_1,Transform=Transform_1,Joint$4=Joint_1,Body$4=Body_1;MouseJoint.TYPE="mouse-joint";Joint$4.TYPES[MouseJoint.TYPE]=MouseJoint;MouseJoint._super=Joint$4;MouseJoint.prototype=Object.create(MouseJoint._super.prototype);var DEFAULTS$3={maxForce:0,frequencyHz:5,dampingRatio:.7};function MouseJoint(e,_,d,o){if(!(this instanceof MouseJoint))return new MouseJoint(e,_,d,o);e=options$4(e,DEFAULTS$3),Joint$4.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=MouseJoint.TYPE,_ASSERT$1&&common$1.assert(Math$5.isFinite(e.maxForce)&&e.maxForce>=0),_ASSERT$1&&common$1.assert(Math$5.isFinite(e.frequencyHz)&&e.frequencyHz>=0),_ASSERT$1&&common$1.assert(Math$5.isFinite(e.dampingRatio)&&e.dampingRatio>=0),this.m_targetA=o?Vec2$4.clone(o):e.target||Vec2$4.zero(),this.m_localAnchorB=Transform.mulTVec2(d.getTransform(),this.m_targetA),this.m_maxForce=e.maxForce,this.m_impulse=Vec2$4.zero(),this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_beta=0,this.m_gamma=0,this.m_rB=Vec2$4.zero(),this.m_localCenterB=Vec2$4.zero(),this.m_invMassB=0,this.m_invIB=0,this.mass=new Mat22,this.m_C=Vec2$4.zero()}MouseJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,target:this.m_targetA,maxForce:this.m_maxForce,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,_localAnchorB:this.m_localAnchorB}};MouseJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$4,e.bodyA,_),e.bodyB=d(Body$4,e.bodyB,_),e.target=Vec2$4(e.target);var o=new MouseJoint(e);return e._localAnchorB&&(o.m_localAnchorB=e._localAnchorB),o};MouseJoint.prototype.setTarget=function(e){this.m_bodyB.isAwake()==!1&&this.m_bodyB.setAwake(!0),this.m_targetA=Vec2$4.clone(e)};MouseJoint.prototype.getTarget=function(){return this.m_targetA};MouseJoint.prototype.setMaxForce=function(e){this.m_maxForce=e};MouseJoint.getMaxForce=function(){return this.m_maxForce};MouseJoint.prototype.setFrequency=function(e){this.m_frequencyHz=e};MouseJoint.prototype.getFrequency=function(){return this.m_frequencyHz};MouseJoint.prototype.setDampingRatio=function(e){this.m_dampingRatio=e};MouseJoint.prototype.getDampingRatio=function(){return this.m_dampingRatio};MouseJoint.prototype.getAnchorA=function(){return Vec2$4.clone(this.m_targetA)};MouseJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};MouseJoint.prototype.getReactionForce=function(e){return Vec2$4.mul(e,this.m_impulse)};MouseJoint.prototype.getReactionTorque=function(e){return e*0};MouseJoint.prototype.shiftOrigin=function(e){this.m_targetA.sub(e)};MouseJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyB.c_position,d=this.m_bodyB.c_velocity,o=_.c,c=_.a,s=d.v,h=d.w,f=Rot$4.neo(c),g=this.m_bodyB.getMass(),b=2*Math$5.PI*this.m_frequencyHz,k=2*g*this.m_dampingRatio*b,$=g*(b*b),j=e.dt;_ASSERT$1&&common$1.assert(k+j*$>Math$5.EPSILON),this.m_gamma=j*(k+j*$),this.m_gamma!=0&&(this.m_gamma=1/this.m_gamma),this.m_beta=j*$*this.m_gamma,this.m_rB=Rot$4.mulVec2(f,Vec2$4.sub(this.m_localAnchorB,this.m_localCenterB));var _e=new Mat22;_e.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,_e.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,_e.ey.x=_e.ex.y,_e.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,this.m_mass=_e.getInverse(),this.m_C.set(o),this.m_C.addCombine(1,this.m_rB,-1,this.m_targetA),this.m_C.mul(this.m_beta),h*=.98,e.warmStarting?(this.m_impulse.mul(e.dtRatio),s.addMul(this.m_invMassB,this.m_impulse),h+=this.m_invIB*Vec2$4.cross(this.m_rB,this.m_impulse)):this.m_impulse.setZero(),d.v.set(s),d.w=h};MouseJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyB.c_velocity,d=Vec2$4.clone(_.v),o=_.w,c=Vec2$4.cross(o,this.m_rB);c.add(d),c.addCombine(1,this.m_C,this.m_gamma,this.m_impulse),c.neg();var s=Mat22.mulVec2(this.m_mass,c),h=Vec2$4.clone(this.m_impulse);this.m_impulse.add(s);var f=e.dt*this.m_maxForce;this.m_impulse.clamp(f),s=Vec2$4.sub(this.m_impulse,h),d.addMul(this.m_invMassB,s),o+=this.m_invIB*Vec2$4.cross(this.m_rB,s),_.v.set(d),_.w=o};MouseJoint.prototype.solvePositionConstraints=function(e){return!0};var _ASSERT=typeof ASSERT>"u"?!1:ASSERT,PulleyJoint_1=PulleyJoint,common=common$y,options$3=options$e,Settings$3=Settings$i,Math$4=_MathExports,Vec2$3=Vec2_1,Rot$3=Rot_1,Joint$3=Joint_1,Body$3=Body_1;PulleyJoint.TYPE="pulley-joint";PulleyJoint.MIN_PULLEY_LENGTH=2;Joint$3.TYPES[PulleyJoint.TYPE]=PulleyJoint;PulleyJoint._super=Joint$3;PulleyJoint.prototype=Object.create(PulleyJoint._super.prototype);var PulleyJointDef={collideConnected:!0};function PulleyJoint(e,_,d,o,c,s,h,f){if(!(this instanceof PulleyJoint))return new PulleyJoint(e,_,d,o,c,s,h,f);e=options$3(e,PulleyJointDef),Joint$3.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=PulleyJoint.TYPE,this.m_groundAnchorA=o||e.groundAnchorA||Vec2$3.neo(-1,1),this.m_groundAnchorB=c||e.groundAnchorB||Vec2$3.neo(1,1),this.m_localAnchorA=s?_.getLocalPoint(s):e.localAnchorA||Vec2$3.neo(-1,0),this.m_localAnchorB=h?d.getLocalPoint(h):e.localAnchorB||Vec2$3.neo(1,0),this.m_lengthA=Math$4.isFinite(e.lengthA)?e.lengthA:Vec2$3.distance(s,o),this.m_lengthB=Math$4.isFinite(e.lengthB)?e.lengthB:Vec2$3.distance(h,c),this.m_ratio=Math$4.isFinite(f)?f:e.ratio,_ASSERT&&common.assert(f>Math$4.EPSILON),this.m_constant=this.m_lengthA+this.m_ratio*this.m_lengthB,this.m_impulse=0,this.m_uA,this.m_uB,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}PulleyJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,groundAnchorA:this.m_groundAnchorA,groundAnchorB:this.m_groundAnchorB,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,lengthA:this.m_lengthA,lengthB:this.m_lengthB,ratio:this.m_ratio}};PulleyJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$3,e.bodyA,_),e.bodyB=d(Body$3,e.bodyB,_);var o=new PulleyJoint(e);return o};PulleyJoint.prototype.getGroundAnchorA=function(){return this.m_groundAnchorA};PulleyJoint.prototype.getGroundAnchorB=function(){return this.m_groundAnchorB};PulleyJoint.prototype.getLengthA=function(){return this.m_lengthA};PulleyJoint.prototype.getLengthB=function(){return this.m_lengthB};PulleyJoint.prototype.getRatio=function(){return this.m_ratio};PulleyJoint.prototype.getCurrentLengthA=function(){var e=this.m_bodyA.getWorldPoint(this.m_localAnchorA),_=this.m_groundAnchorA;return Vec2$3.distance(e,_)};PulleyJoint.prototype.getCurrentLengthB=function(){var e=this.m_bodyB.getWorldPoint(this.m_localAnchorB),_=this.m_groundAnchorB;return Vec2$3.distance(e,_)};PulleyJoint.prototype.shiftOrigin=function(e){this.m_groundAnchorA.sub(e),this.m_groundAnchorB.sub(e)};PulleyJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};PulleyJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};PulleyJoint.prototype.getReactionForce=function(e){return Vec2$3.mul(this.m_impulse,this.m_uB).mul(e)};PulleyJoint.prototype.getReactionTorque=function(e){return 0};PulleyJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,c=this.m_bodyA.c_velocity.w,s=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w,b=Rot$3.neo(d),k=Rot$3.neo(h);this.m_rA=Rot$3.mulVec2(b,Vec2$3.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=Rot$3.mulVec2(k,Vec2$3.sub(this.m_localAnchorB,this.m_localCenterB)),this.m_uA=Vec2$3.sub(Vec2$3.add(_,this.m_rA),this.m_groundAnchorA),this.m_uB=Vec2$3.sub(Vec2$3.add(s,this.m_rB),this.m_groundAnchorB);var $=this.m_uA.length(),j=this.m_uB.length();$>10*Settings$3.linearSlop?this.m_uA.mul(1/$):this.m_uA.setZero(),j>10*Settings$3.linearSlop?this.m_uB.mul(1/j):this.m_uB.setZero();var _e=Vec2$3.cross(this.m_rA,this.m_uA),et=Vec2$3.cross(this.m_rB,this.m_uB),nt=this.m_invMassA+this.m_invIA*_e*_e,rt=this.m_invMassB+this.m_invIB*et*et;if(this.m_mass=nt+this.m_ratio*this.m_ratio*rt,this.m_mass>0&&(this.m_mass=1/this.m_mass),e.warmStarting){this.m_impulse*=e.dtRatio;var tt=Vec2$3.mul(-this.m_impulse,this.m_uA),it=Vec2$3.mul(-this.m_ratio*this.m_impulse,this.m_uB);o.addMul(this.m_invMassA,tt),c+=this.m_invIA*Vec2$3.cross(this.m_rA,tt),f.addMul(this.m_invMassB,it),g+=this.m_invIB*Vec2$3.cross(this.m_rB,it)}else this.m_impulse=0;this.m_bodyA.c_velocity.v=o,this.m_bodyA.c_velocity.w=c,this.m_bodyB.c_velocity.v=f,this.m_bodyB.c_velocity.w=g};PulleyJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=Vec2$3.add(_,Vec2$3.cross(d,this.m_rA)),h=Vec2$3.add(o,Vec2$3.cross(c,this.m_rB)),f=-Vec2$3.dot(this.m_uA,s)-this.m_ratio*Vec2$3.dot(this.m_uB,h),g=-this.m_mass*f;this.m_impulse+=g;var b=Vec2$3.mul(-g,this.m_uA),k=Vec2$3.mul(-this.m_ratio*g,this.m_uB);_.addMul(this.m_invMassA,b),d+=this.m_invIA*Vec2$3.cross(this.m_rA,b),o.addMul(this.m_invMassB,k),c+=this.m_invIB*Vec2$3.cross(this.m_rB,k),this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};PulleyJoint.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$3.neo(d),h=Rot$3.neo(c),f=Rot$3.mulVec2(s,Vec2$3.sub(this.m_localAnchorA,this.m_localCenterA)),g=Rot$3.mulVec2(h,Vec2$3.sub(this.m_localAnchorB,this.m_localCenterB)),b=Vec2$3.sub(Vec2$3.add(_,this.m_rA),this.m_groundAnchorA),k=Vec2$3.sub(Vec2$3.add(o,this.m_rB),this.m_groundAnchorB),$=b.length(),j=k.length();$>10*Settings$3.linearSlop?b.mul(1/$):b.setZero(),j>10*Settings$3.linearSlop?k.mul(1/j):k.setZero();var _e=Vec2$3.cross(f,b),et=Vec2$3.cross(g,k),nt=this.m_invMassA+this.m_invIA*_e*_e,rt=this.m_invMassB+this.m_invIB*et*et,tt=nt+this.m_ratio*this.m_ratio*rt;tt>0&&(tt=1/tt);var it=this.m_constant-$-this.m_ratio*j,st=Math$4.abs(it),at=-tt*it,_t=Vec2$3.mul(-at,b),ut=Vec2$3.mul(-this.m_ratio*at,k);return _.addMul(this.m_invMassA,_t),d+=this.m_invIA*Vec2$3.cross(f,_t),o.addMul(this.m_invMassB,ut),c+=this.m_invIB*Vec2$3.cross(g,ut),this.m_bodyA.c_position.c=_,this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c=o,this.m_bodyB.c_position.a=c,st<Settings$3.linearSlop};var RopeJoint_1=RopeJoint,options$2=options$e,Settings$2=Settings$i,Math$3=_MathExports,Vec2$2=Vec2_1,Rot$2=Rot_1,Joint$2=Joint_1,Body$2=Body_1,inactiveLimit=0,atUpperLimit=2;RopeJoint.TYPE="rope-joint";Joint$2.TYPES[RopeJoint.TYPE]=RopeJoint;RopeJoint._super=Joint$2;RopeJoint.prototype=Object.create(RopeJoint._super.prototype);var DEFAULTS$2={maxLength:0};function RopeJoint(e,_,d,o){if(!(this instanceof RopeJoint))return new RopeJoint(e,_,d,o);e=options$2(e,DEFAULTS$2),Joint$2.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=RopeJoint.TYPE,this.m_localAnchorA=o?_.getLocalPoint(o):e.localAnchorA||Vec2$2.neo(-1,0),this.m_localAnchorB=o?d.getLocalPoint(o):e.localAnchorB||Vec2$2.neo(1,0),this.m_maxLength=e.maxLength,this.m_mass=0,this.m_impulse=0,this.m_length=0,this.m_state=inactiveLimit,this.m_u,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass}RopeJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,maxLength:this.m_maxLength}};RopeJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$2,e.bodyA,_),e.bodyB=d(Body$2,e.bodyB,_);var o=new RopeJoint(e);return o};RopeJoint.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};RopeJoint.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};RopeJoint.prototype.setMaxLength=function(e){this.m_maxLength=e};RopeJoint.prototype.getMaxLength=function(){return this.m_maxLength};RopeJoint.prototype.getLimitState=function(){return this.m_state};RopeJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};RopeJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};RopeJoint.prototype.getReactionForce=function(e){return Vec2$2.mul(this.m_impulse,this.m_u).mul(e)};RopeJoint.prototype.getReactionTorque=function(e){return 0};RopeJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyA.c_velocity.v,c=this.m_bodyA.c_velocity.w,s=this.m_bodyB.c_position.c,h=this.m_bodyB.c_position.a,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w,b=Rot$2.neo(d),k=Rot$2.neo(h);this.m_rA=Rot$2.mulSub(b,this.m_localAnchorA,this.m_localCenterA),this.m_rB=Rot$2.mulSub(k,this.m_localAnchorB,this.m_localCenterB),this.m_u=Vec2$2.zero(),this.m_u.addCombine(1,s,1,this.m_rB),this.m_u.subCombine(1,_,1,this.m_rA),this.m_length=this.m_u.length();var $=this.m_length-this.m_maxLength;if($>0?this.m_state=atUpperLimit:this.m_state=inactiveLimit,this.m_length>Settings$2.linearSlop)this.m_u.mul(1/this.m_length);else{this.m_u.setZero(),this.m_mass=0,this.m_impulse=0;return}var j=Vec2$2.cross(this.m_rA,this.m_u),_e=Vec2$2.cross(this.m_rB,this.m_u),et=this.m_invMassA+this.m_invIA*j*j+this.m_invMassB+this.m_invIB*_e*_e;if(this.m_mass=et!=0?1/et:0,e.warmStarting){this.m_impulse*=e.dtRatio;var nt=Vec2$2.mul(this.m_impulse,this.m_u);o.subMul(this.m_invMassA,nt),c-=this.m_invIA*Vec2$2.cross(this.m_rA,nt),f.addMul(this.m_invMassB,nt),g+=this.m_invIB*Vec2$2.cross(this.m_rB,nt)}else this.m_impulse=0;this.m_bodyA.c_velocity.v.set(o),this.m_bodyA.c_velocity.w=c,this.m_bodyB.c_velocity.v.set(f),this.m_bodyB.c_velocity.w=g};RopeJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=Vec2$2.addCross(_,d,this.m_rA),h=Vec2$2.addCross(o,c,this.m_rB),f=this.m_length-this.m_maxLength,g=Vec2$2.dot(this.m_u,Vec2$2.sub(h,s));f<0&&(g+=e.inv_dt*f);var b=-this.m_mass*g,k=this.m_impulse;this.m_impulse=Math$3.min(0,this.m_impulse+b),b=this.m_impulse-k;var $=Vec2$2.mul(b,this.m_u);_.subMul(this.m_invMassA,$),d-=this.m_invIA*Vec2$2.cross(this.m_rA,$),o.addMul(this.m_invMassB,$),c+=this.m_invIB*Vec2$2.cross(this.m_rB,$),this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};RopeJoint.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$2.neo(d),h=Rot$2.neo(c),f=Rot$2.mulSub(s,this.m_localAnchorA,this.m_localCenterA),g=Rot$2.mulSub(h,this.m_localAnchorB,this.m_localCenterB),b=Vec2$2.zero();b.addCombine(1,o,1,g),b.subCombine(1,_,1,f);var k=b.normalize(),$=k-this.m_maxLength;$=Math$3.clamp($,0,Settings$2.maxLinearCorrection);var j=-this.m_mass*$,_e=Vec2$2.mul(j,b);return _.subMul(this.m_invMassA,_e),d-=this.m_invIA*Vec2$2.cross(f,_e),o.addMul(this.m_invMassB,_e),c+=this.m_invIB*Vec2$2.cross(g,_e),this.m_bodyA.c_position.c.set(_),this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c.set(o),this.m_bodyB.c_position.a=c,k-this.m_maxLength<Settings$2.linearSlop};var WeldJoint_1=WeldJoint,options$1=options$e,Settings$1=Settings$i,Math$2=_MathExports,Vec2$1=Vec2_1,Vec3=Vec3_1,Mat33=Mat33_1,Rot$1=Rot_1,Joint$1=Joint_1,Body$1=Body_1;WeldJoint.TYPE="weld-joint";Joint$1.TYPES[WeldJoint.TYPE]=WeldJoint;WeldJoint._super=Joint$1;WeldJoint.prototype=Object.create(WeldJoint._super.prototype);var DEFAULTS$1={frequencyHz:0,dampingRatio:0};function WeldJoint(e,_,d,o){if(!(this instanceof WeldJoint))return new WeldJoint(e,_,d,o);e=options$1(e,DEFAULTS$1),Joint$1.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=WeldJoint.TYPE,this.m_localAnchorA=Vec2$1.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2$1.zero()),this.m_localAnchorB=Vec2$1.clone(o?d.getLocalPoint(o):e.localAnchorB||Vec2$1.zero()),this.m_referenceAngle=Math$2.isFinite(e.referenceAngle)?e.referenceAngle:d.getAngle()-_.getAngle(),this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_impulse=Vec3(),this.m_bias=0,this.m_gamma=0,this.m_rA,this.m_rB,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_mass=new Mat33}WeldJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,referenceAngle:this.m_referenceAngle}};WeldJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body$1,e.bodyA,_),e.bodyB=d(Body$1,e.bodyB,_);var o=new WeldJoint(e);return o};WeldJoint.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB)};WeldJoint.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};WeldJoint.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};WeldJoint.prototype.getReferenceAngle=function(){return this.m_referenceAngle};WeldJoint.prototype.setFrequency=function(e){this.m_frequencyHz=e};WeldJoint.prototype.getFrequency=function(){return this.m_frequencyHz};WeldJoint.prototype.setDampingRatio=function(e){this.m_dampingRatio=e};WeldJoint.prototype.getDampingRatio=function(){return this.m_dampingRatio};WeldJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};WeldJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};WeldJoint.prototype.getReactionForce=function(e){return Vec2$1.neo(this.m_impulse.x,this.m_impulse.y).mul(e)};WeldJoint.prototype.getReactionTorque=function(e){return e*this.m_impulse.z};WeldJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_bodyA.c_position.a,d=this.m_bodyA.c_velocity.v,o=this.m_bodyA.c_velocity.w,c=this.m_bodyB.c_position.a,s=this.m_bodyB.c_velocity.v,h=this.m_bodyB.c_velocity.w,f=Rot$1.neo(_),g=Rot$1.neo(c);this.m_rA=Rot$1.mulVec2(f,Vec2$1.sub(this.m_localAnchorA,this.m_localCenterA)),this.m_rB=Rot$1.mulVec2(g,Vec2$1.sub(this.m_localAnchorB,this.m_localCenterB));var b=this.m_invMassA,k=this.m_invMassB,$=this.m_invIA,j=this.m_invIB,_e=new Mat33;if(_e.ex.x=b+k+this.m_rA.y*this.m_rA.y*$+this.m_rB.y*this.m_rB.y*j,_e.ey.x=-this.m_rA.y*this.m_rA.x*$-this.m_rB.y*this.m_rB.x*j,_e.ez.x=-this.m_rA.y*$-this.m_rB.y*j,_e.ex.y=_e.ey.x,_e.ey.y=b+k+this.m_rA.x*this.m_rA.x*$+this.m_rB.x*this.m_rB.x*j,_e.ez.y=this.m_rA.x*$+this.m_rB.x*j,_e.ex.z=_e.ez.x,_e.ey.z=_e.ez.y,_e.ez.z=$+j,this.m_frequencyHz>0){_e.getInverse22(this.m_mass);var et=$+j,nt=et>0?1/et:0,rt=c-_-this.m_referenceAngle,tt=2*Math$2.PI*this.m_frequencyHz,it=2*nt*this.m_dampingRatio*tt,st=nt*tt*tt,at=e.dt;this.m_gamma=at*(it+at*st),this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0,this.m_bias=rt*at*st*this.m_gamma,et+=this.m_gamma,this.m_mass.ez.z=et!=0?1/et:0}else _e.ez.z==0?(_e.getInverse22(this.m_mass),this.m_gamma=0,this.m_bias=0):(_e.getSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0);if(e.warmStarting){this.m_impulse.mul(e.dtRatio);var _t=Vec2$1.neo(this.m_impulse.x,this.m_impulse.y);d.subMul(b,_t),o-=$*(Vec2$1.cross(this.m_rA,_t)+this.m_impulse.z),s.addMul(k,_t),h+=j*(Vec2$1.cross(this.m_rB,_t)+this.m_impulse.z)}else this.m_impulse.setZero();this.m_bodyA.c_velocity.v=d,this.m_bodyA.c_velocity.w=o,this.m_bodyB.c_velocity.v=s,this.m_bodyB.c_velocity.w=h};WeldJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_bodyA.c_velocity.v,d=this.m_bodyA.c_velocity.w,o=this.m_bodyB.c_velocity.v,c=this.m_bodyB.c_velocity.w,s=this.m_invMassA,h=this.m_invMassB,f=this.m_invIA,g=this.m_invIB;if(this.m_frequencyHz>0){var b=c-d,k=-this.m_mass.ez.z*(b+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=k,d-=f*k,c+=g*k;var $=Vec2$1.zero();$.addCombine(1,o,1,Vec2$1.cross(c,this.m_rB)),$.subCombine(1,_,1,Vec2$1.cross(d,this.m_rA));var j=Vec2$1.neg(Mat33.mulVec2(this.m_mass,$));this.m_impulse.x+=j.x,this.m_impulse.y+=j.y;var _e=Vec2$1.clone(j);_.subMul(s,_e),d-=f*Vec2$1.cross(this.m_rA,_e),o.addMul(h,_e),c+=g*Vec2$1.cross(this.m_rB,_e)}else{var $=Vec2$1.zero();$.addCombine(1,o,1,Vec2$1.cross(c,this.m_rB)),$.subCombine(1,_,1,Vec2$1.cross(d,this.m_rA));var b=c-d,et=Vec3($.x,$.y,b),nt=Vec3.neg(Mat33.mulVec3(this.m_mass,et));this.m_impulse.add(nt);var _e=Vec2$1.neo(nt.x,nt.y);_.subMul(s,_e),d-=f*(Vec2$1.cross(this.m_rA,_e)+nt.z),o.addMul(h,_e),c+=g*(Vec2$1.cross(this.m_rB,_e)+nt.z)}this.m_bodyA.c_velocity.v=_,this.m_bodyA.c_velocity.w=d,this.m_bodyB.c_velocity.v=o,this.m_bodyB.c_velocity.w=c};WeldJoint.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot$1.neo(d),h=Rot$1.neo(c),f=this.m_invMassA,g=this.m_invMassB,b=this.m_invIA,k=this.m_invIB,$=Rot$1.mulVec2(s,Vec2$1.sub(this.m_localAnchorA,this.m_localCenterA)),j=Rot$1.mulVec2(h,Vec2$1.sub(this.m_localAnchorB,this.m_localCenterB)),_e,et,nt=new Mat33;if(nt.ex.x=f+g+$.y*$.y*b+j.y*j.y*k,nt.ey.x=-$.y*$.x*b-j.y*j.x*k,nt.ez.x=-$.y*b-j.y*k,nt.ex.y=nt.ey.x,nt.ey.y=f+g+$.x*$.x*b+j.x*j.x*k,nt.ez.y=$.x*b+j.x*k,nt.ex.z=nt.ez.x,nt.ey.z=nt.ez.y,nt.ez.z=b+k,this.m_frequencyHz>0){var rt=Vec2$1.zero();rt.addCombine(1,o,1,j),rt.subCombine(1,_,1,$),_e=rt.length(),et=0;var tt=Vec2$1.neg(nt.solve22(rt));_.subMul(f,tt),d-=b*Vec2$1.cross($,tt),o.addMul(g,tt),c+=k*Vec2$1.cross(j,tt)}else{var rt=Vec2$1.zero();rt.addCombine(1,o,1,j),rt.subCombine(1,_,1,$);var it=c-d-this.m_referenceAngle;_e=rt.length(),et=Math$2.abs(it);var st=Vec3(rt.x,rt.y,it),at=Vec3();if(nt.ez.z>0)at=Vec3.neg(nt.solve33(st));else{var _t=Vec2$1.neg(nt.solve22(rt));at.set(_t.x,_t.y,0)}var tt=Vec2$1.neo(at.x,at.y);_.subMul(f,tt),d-=b*(Vec2$1.cross($,tt)+at.z),o.addMul(g,tt),c+=k*(Vec2$1.cross(j,tt)+at.z)}return this.m_bodyA.c_position.c=_,this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c=o,this.m_bodyB.c_position.a=c,_e<=Settings$1.linearSlop&&et<=Settings$1.angularSlop};var WheelJoint_1=WheelJoint,options=options$e,Settings=Settings$i,Math$1=_MathExports,Vec2=Vec2_1,Rot=Rot_1,Joint=Joint_1,Body=Body_1;WheelJoint.TYPE="wheel-joint";Joint.TYPES[WheelJoint.TYPE]=WheelJoint;WheelJoint._super=Joint;WheelJoint.prototype=Object.create(WheelJoint._super.prototype);var DEFAULTS={enableMotor:!1,maxMotorTorque:0,motorSpeed:0,frequencyHz:2,dampingRatio:.7};function WheelJoint(e,_,d,o,c){if(!(this instanceof WheelJoint))return new WheelJoint(e,_,d,o,c);e=options(e,DEFAULTS),Joint.call(this,e,_,d),_=this.m_bodyA,d=this.m_bodyB,this.m_type=WheelJoint.TYPE,this.m_localAnchorA=Vec2.clone(o?_.getLocalPoint(o):e.localAnchorA||Vec2.zero()),this.m_localAnchorB=Vec2.clone(o?d.getLocalPoint(o):e.localAnchorB||Vec2.zero()),this.m_localXAxisA=Vec2.clone(c?_.getLocalVector(c):e.localAxisA||e.localAxis||Vec2.neo(1,0)),this.m_localYAxisA=Vec2.cross(1,this.m_localXAxisA),this.m_mass=0,this.m_impulse=0,this.m_motorMass=0,this.m_motorImpulse=0,this.m_springMass=0,this.m_springImpulse=0,this.m_maxMotorTorque=e.maxMotorTorque,this.m_motorSpeed=e.motorSpeed,this.m_enableMotor=e.enableMotor,this.m_frequencyHz=e.frequencyHz,this.m_dampingRatio=e.dampingRatio,this.m_bias=0,this.m_gamma=0,this.m_localCenterA,this.m_localCenterB,this.m_invMassA,this.m_invMassB,this.m_invIA,this.m_invIB,this.m_ax=Vec2.zero(),this.m_ay=Vec2.zero(),this.m_sAx,this.m_sBx,this.m_sAy,this.m_sBy}WheelJoint.prototype._serialize=function(){return{type:this.m_type,bodyA:this.m_bodyA,bodyB:this.m_bodyB,collideConnected:this.m_collideConnected,enableMotor:this.m_enableMotor,maxMotorTorque:this.m_maxMotorTorque,motorSpeed:this.m_motorSpeed,frequencyHz:this.m_frequencyHz,dampingRatio:this.m_dampingRatio,localAnchorA:this.m_localAnchorA,localAnchorB:this.m_localAnchorB,localAxisA:this.m_localXAxisA}};WheelJoint._deserialize=function(e,_,d){e=Object.assign({},e),e.bodyA=d(Body,e.bodyA,_),e.bodyB=d(Body,e.bodyB,_);var o=new WheelJoint(e);return o};WheelJoint.prototype._setAnchors=function(e){e.anchorA?this.m_localAnchorA.set(this.m_bodyA.getLocalPoint(e.anchorA)):e.localAnchorA&&this.m_localAnchorA.set(e.localAnchorA),e.anchorB?this.m_localAnchorB.set(this.m_bodyB.getLocalPoint(e.anchorB)):e.localAnchorB&&this.m_localAnchorB.set(e.localAnchorB),e.localAxisA&&(this.m_localXAxisA.set(e.localAxisA),this.m_localYAxisA.set(Vec2.cross(1,e.localAxisA)))};WheelJoint.prototype.getLocalAnchorA=function(){return this.m_localAnchorA};WheelJoint.prototype.getLocalAnchorB=function(){return this.m_localAnchorB};WheelJoint.prototype.getLocalAxisA=function(){return this.m_localXAxisA};WheelJoint.prototype.getJointTranslation=function(){var e=this.m_bodyA,_=this.m_bodyB,d=e.getWorldPoint(this.m_localAnchorA),o=_.getWorldPoint(this.m_localAnchorB),c=Vec2.sub(o,d),s=e.getWorldVector(this.m_localXAxisA),h=Vec2.dot(c,s);return h};WheelJoint.prototype.getJointSpeed=function(){var e=this.m_bodyA.m_angularVelocity,_=this.m_bodyB.m_angularVelocity;return _-e};WheelJoint.prototype.isMotorEnabled=function(){return this.m_enableMotor};WheelJoint.prototype.enableMotor=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_enableMotor=e};WheelJoint.prototype.setMotorSpeed=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_motorSpeed=e};WheelJoint.prototype.getMotorSpeed=function(){return this.m_motorSpeed};WheelJoint.prototype.setMaxMotorTorque=function(e){this.m_bodyA.setAwake(!0),this.m_bodyB.setAwake(!0),this.m_maxMotorTorque=e};WheelJoint.prototype.getMaxMotorTorque=function(){return this.m_maxMotorTorque};WheelJoint.prototype.getMotorTorque=function(e){return e*this.m_motorImpulse};WheelJoint.prototype.setSpringFrequencyHz=function(e){this.m_frequencyHz=e};WheelJoint.prototype.getSpringFrequencyHz=function(){return this.m_frequencyHz};WheelJoint.prototype.setSpringDampingRatio=function(e){this.m_dampingRatio=e};WheelJoint.prototype.getSpringDampingRatio=function(){return this.m_dampingRatio};WheelJoint.prototype.getAnchorA=function(){return this.m_bodyA.getWorldPoint(this.m_localAnchorA)};WheelJoint.prototype.getAnchorB=function(){return this.m_bodyB.getWorldPoint(this.m_localAnchorB)};WheelJoint.prototype.getReactionForce=function(e){return Vec2.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax).mul(e)};WheelJoint.prototype.getReactionTorque=function(e){return e*this.m_motorImpulse};WheelJoint.prototype.initVelocityConstraints=function(e){this.m_localCenterA=this.m_bodyA.m_sweep.localCenter,this.m_localCenterB=this.m_bodyB.m_sweep.localCenter,this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var _=this.m_invMassA,d=this.m_invMassB,o=this.m_invIA,c=this.m_invIB,s=this.m_bodyA.c_position.c,h=this.m_bodyA.c_position.a,f=this.m_bodyA.c_velocity.v,g=this.m_bodyA.c_velocity.w,b=this.m_bodyB.c_position.c,k=this.m_bodyB.c_position.a,$=this.m_bodyB.c_velocity.v,j=this.m_bodyB.c_velocity.w,_e=Rot.neo(h),et=Rot.neo(k),nt=Rot.mulVec2(_e,Vec2.sub(this.m_localAnchorA,this.m_localCenterA)),rt=Rot.mulVec2(et,Vec2.sub(this.m_localAnchorB,this.m_localCenterB)),tt=Vec2.zero();if(tt.addCombine(1,b,1,rt),tt.subCombine(1,s,1,nt),this.m_ay=Rot.mulVec2(_e,this.m_localYAxisA),this.m_sAy=Vec2.cross(Vec2.add(tt,nt),this.m_ay),this.m_sBy=Vec2.cross(rt,this.m_ay),this.m_mass=_+d+o*this.m_sAy*this.m_sAy+c*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){this.m_ax=Rot.mulVec2(_e,this.m_localXAxisA),this.m_sAx=Vec2.cross(Vec2.add(tt,nt),this.m_ax),this.m_sBx=Vec2.cross(rt,this.m_ax);var it=_+d+o*this.m_sAx*this.m_sAx+c*this.m_sBx*this.m_sBx;if(it>0){this.m_springMass=1/it;var st=Vec2.dot(tt,this.m_ax),at=2*Math$1.PI*this.m_frequencyHz,tt=2*this.m_springMass*this.m_dampingRatio*at,_t=this.m_springMass*at*at,ut=e.dt;this.m_gamma=ut*(tt+ut*_t),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=st*ut*_t*this.m_gamma,this.m_springMass=it+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=o+c,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),e.warmStarting){this.m_impulse*=e.dtRatio,this.m_springImpulse*=e.dtRatio,this.m_motorImpulse*=e.dtRatio;var ot=Vec2.combine(this.m_impulse,this.m_ay,this.m_springImpulse,this.m_ax),lt=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,ft=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;f.subMul(this.m_invMassA,ot),g-=this.m_invIA*lt,$.addMul(this.m_invMassB,ot),j+=this.m_invIB*ft}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;this.m_bodyA.c_velocity.v.set(f),this.m_bodyA.c_velocity.w=g,this.m_bodyB.c_velocity.v.set($),this.m_bodyB.c_velocity.w=j};WheelJoint.prototype.solveVelocityConstraints=function(e){var _=this.m_invMassA,d=this.m_invMassB,o=this.m_invIA,c=this.m_invIB,s=this.m_bodyA.c_velocity.v,h=this.m_bodyA.c_velocity.w,f=this.m_bodyB.c_velocity.v,g=this.m_bodyB.c_velocity.w;{var b=Vec2.dot(this.m_ax,f)-Vec2.dot(this.m_ax,s)+this.m_sBx*g-this.m_sAx*h,k=-this.m_springMass*(b+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=k;var $=Vec2.mul(k,this.m_ax),j=k*this.m_sAx,_e=k*this.m_sBx;s.subMul(_,$),h-=o*j,f.addMul(d,$),g+=c*_e}{var b=g-h-this.m_motorSpeed,k=-this.m_motorMass*b,et=this.m_motorImpulse,nt=e.dt*this.m_maxMotorTorque;this.m_motorImpulse=Math$1.clamp(this.m_motorImpulse+k,-nt,nt),k=this.m_motorImpulse-et,h-=o*k,g+=c*k}{var b=Vec2.dot(this.m_ay,f)-Vec2.dot(this.m_ay,s)+this.m_sBy*g-this.m_sAy*h,k=-this.m_mass*b;this.m_impulse+=k;var $=Vec2.mul(k,this.m_ay),j=k*this.m_sAy,_e=k*this.m_sBy;s.subMul(_,$),h-=o*j,f.addMul(d,$),g+=c*_e}this.m_bodyA.c_velocity.v.set(s),this.m_bodyA.c_velocity.w=h,this.m_bodyB.c_velocity.v.set(f),this.m_bodyB.c_velocity.w=g};WheelJoint.prototype.solvePositionConstraints=function(e){var _=this.m_bodyA.c_position.c,d=this.m_bodyA.c_position.a,o=this.m_bodyB.c_position.c,c=this.m_bodyB.c_position.a,s=Rot.neo(d),h=Rot.neo(c),f=Rot.mulVec2(s,Vec2.sub(this.m_localAnchorA,this.m_localCenterA)),g=Rot.mulVec2(h,Vec2.sub(this.m_localAnchorB,this.m_localCenterB)),b=Vec2.zero();b.addCombine(1,o,1,g),b.subCombine(1,_,1,f);var k=Rot.mulVec2(s,this.m_localYAxisA),$=Vec2.cross(Vec2.add(b,f),k),j=Vec2.cross(g,k),_e=Vec2.dot(b,k),et=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,nt;et!=0?nt=-_e/et:nt=0;var rt=Vec2.mul(nt,k),tt=nt*$,it=nt*j;return _.subMul(this.m_invMassA,rt),d-=this.m_invIA*tt,o.addMul(this.m_invMassB,rt),c+=this.m_invIB*it,this.m_bodyA.c_position.c.set(_),this.m_bodyA.c_position.a=d,this.m_bodyB.c_position.c.set(o),this.m_bodyB.c_position.a=c,Math$1.abs(_e)<=Settings.linearSlop};(function(e){e.internal={},e.Serializer=serializerExports,e.Math=_MathExports,e.Vec2=Vec2_1,e.Vec3=Vec3_1,e.Mat22=Mat22_1,e.Mat33=Mat33_1,e.Transform=Transform_1,e.Rot=Rot_1,e.AABB=AABB_1,e.Shape=Shape_1,e.Fixture=Fixture_1,e.Body=Body_1,e.Contact=Contact_1,e.Joint=Joint_1,e.World=World_1,e.Circle=CircleShape_1,e.Edge=EdgeShape_1,e.Polygon=PolygonShape_1,e.Chain=ChainShape_1,e.Box=BoxShape_1,e.internal.CollidePolygons=CollidePolygon,e.DistanceJoint=DistanceJoint_1,e.FrictionJoint=FrictionJoint_1,e.GearJoint=GearJoint_1,e.MotorJoint=MotorJoint_1,e.MouseJoint=MouseJoint_1,e.PrismaticJoint=PrismaticJoint_1,e.PulleyJoint=PulleyJoint_1,e.RevoluteJoint=RevoluteJoint_1,e.RopeJoint=RopeJoint_1,e.WeldJoint=WeldJoint_1,e.WheelJoint=WheelJoint_1,e.Settings=Settings$i,e.internal.Sweep=Sweep_1,e.internal.stats=stats$2,e.internal.Manifold=ManifoldExports,e.internal.Distance=DistanceExports,e.internal.TimeOfImpact=TimeOfImpactExports,e.internal.DynamicTree=DynamicTree_1,e.internal.Settings=e.Settings})(lib);const Planck=getDefaultExportFromCjs(lib),entityType={DEFAULT:"default",WALL:"wall",PLAYER:"player",PARTICLE:"particle",ENEMY:"enemy",SUICA:"suica",SUICA_1:"suica_1",SUICA_2:"suica_2",SUICA_3:"suica_3",SUICA_4:"suica_4"};let keys={};const key=e=>keys[e],down=e=>{keys[e]=!0},up=e=>{keys[e]=!1},Key={down,up,key},addEntity=e=>{bus.dispatch(MessageType.ADD_ENTITY,e)},removeEntity=e=>{bus.dispatch(MessageType.REMOVE_ENTITY,e)},removeType=e=>{bus.dispatch(MessageType.REMOVE_TYPE,e)},setState=e=>{bus.dispatch(MessageType.SET_STATE,e)},setScale=e=>{S.scale=e,S.width=S.windowWidth/S.scale,S.height=S.windowHeight/S.scale,bus.dispatch(MessageType.SET_SCALE,e)},setFPS=e=>{A.fps=e,bus.dispatch(MessageType.SET_FPS,e)},setLayerVisibility=(e,_)=>{_?bus.dispatch(MessageType.SHOW_LAYER,e):bus.dispatch(MessageType.HIDE_LAYER,e)},showOverlay=e=>{bus.dispatch(MessageType.SHOW_OVERLAY,e)},hideOverlay=()=>{bus.dispatch(MessageType.HIDE_OVERLAY)},keyDown=e=>{Key.down(e),bus.dispatch(MessageType.KEY_DOWN,e)},keyUp=e=>{Key.up(e),bus.dispatch(MessageType.KEY_UP,e)},enableKeys=e=>{bus.dispatch(MessageType.ENABLE_KEYS,e)},disableKeys=()=>{bus.dispatch(MessageType.DISABLE_KEYS)},createBody=(e,_,d,o)=>{bus.dispatch(MessageType.CREATE_BODY,{entity:e,shape:_,bodyDef:d,fixDef:o})},destroyBody=e=>{bus.dispatch(MessageType.DESTROY_BODY,e)},Helper={addEntity,removeEntity,removeType,setState,setScale,setFPS,setLayerVisibility,showOverlay,hideOverlay,keyDown,keyUp,enableKeys,disableKeys,createBody,destroyBody};class Entity extends Sprite$1{constructor(){super();jt(this,"init",()=>{});jt(this,"mouseDown",d=>{this.onMouseDownCallback=d});jt(this,"update",()=>{});jt(this,"addBody",d=>{this.body=d;const o=Planck.Vec2(this.x,this.y);this.body.setPosition(o)});jt(this,"removeBody",()=>{this.body&&Helper.destroyBody(this.body)});jt(this,"pos",()=>({x:this.x,y:this.y}));jt(this,"handleCollision",()=>{});jt(this,"dispose",()=>{});this.id=0,this.layer=0,this.type=entityType.DEFAULT,this.view=!1,this.render=!1,this.remove=!1,this.addEventListener(MouseEvent.MOUSE_DOWN,()=>{this.onMouseDownCallback&&this.onMouseDownCallback(this)})}}class Physics extends Entity{constructor(){super();jt(this,"createBody",({entity:d,shape:o,bodyDef:c,fixDef:s})=>{const h=this.world.createBody(c);h.createFixture(o,s),h.setMassData({mass:10,center:lib.Vec2(0,0),I:1}),d.addBody(h)});jt(this,"destroyBody",d=>{this.world.destroyBody(d)});jt(this,"update",()=>{this.world.step(1/A.worldStep)});this.world=Planck.World({gravity:new lib.Vec2(0,50),continuousPhysics:!0}),this.world.on("post-solve",d=>{const o=d.getFixtureA(),c=o.getBody(),s=o.getUserData(),h=d.getFixtureB(),f=h.getBody(),g=h.getUserData(),b={uA:s,uB:g,bA:c,bB:f};bus.dispatch(MessageType.COLLISION,b)}),bus.subscribe(MessageType.CREATE_BODY,this.createBody),bus.subscribe(MessageType.DESTROY_BODY,this.destroyBody)}getBodyAtMouse(){this.mousePVec=new Planck.B2Vec2(this.stage.mouseX,this.stage.mouseY);const d=new Planck.AABB;d.lowerBound.Set(this.mousePVec.x-.001,this.mousePVec.y-.001),d.upperBound.Set(this.mousePVec.x+.001,this.mousePVec.y+.001),this.world.queryAABB(this.getBodyCB,d)}getBodyCB(d){return!(d.GetBody().GetType()!==Planck.B2Body.b2_staticBody&&d.GetShape().TestPoint(d.GetBody().GetTransform(),this.mousePVec))}}class Container extends Entity{constructor(d=null,o=null,c=null){super();jt(this,"onMouseMove",d=>{this.setMousePos(d.stageX,d.stageY)});jt(this,"onMouseDown",d=>{this.setMousePos(d.stageX,d.stageY),this.mouseDown=!0});jt(this,"onMouseUp",d=>{this.mouseDown=!1});jt(this,"onMouseLeave",d=>{this.mouseDown=!1});jt(this,"setMousePos",(d,o)=>{this.xMouse=d/S.scale,this.yMouse=o/S.scale});jt(this,"setBackground",d=>{this.background.addChild(d)});jt(this,"add",d=>{this.content.addChild(d),this.items.push(d),this.autoCenter&&this.centerContent()});jt(this,"fill",(d,o=S.width,c=S.height)=>{this.background.graphics.beginFill(d),this.background.graphics.drawRect(0,0,o,c),this.background.graphics.endFill()});jt(this,"sort",()=>{const d=this.items.sort((o,c)=>o.y>c.y?1:o.y<c.y?-1:0);for(const o of d)this.content.addChild(o)});jt(this,"center",()=>{this.x=S.width/2-this.width/2,this.y=S.height/2-this.height/2});jt(this,"centerBackground",()=>{this.background.x=S.width/2-this.background.width/2,this.background.y=S.height/2-this.background.height/2});jt(this,"centerContent",()=>{this.content.x=S.width/2-this.content.width/2,this.content.y=S.height/2-this.content.height/2});jt(this,"removeAll",()=>{for(const d of this.items)Helper.removeEntity(d),this.content.removeChild(d);this.items=[]});jt(this,"dispose",()=>{this.removeAll()});this.xMouse=0,this.yMouse=0,this.mouseDown=!1,this.items=[],this.view=!0,this.autoCenter=!1,this.background=new Sprite$1,this.content=new Sprite$1,this.addChild(this.background),this.addChild(this.content),this.addEventListener(MouseEvent$2.MOUSE_MOVE,this.onMouseMove),this.addEventListener(MouseEvent$2.MOUSE_DOWN,s=>{this.onMouseDown(s),d&&d(s)}),this.addEventListener(MouseEvent$2.MOUSE_UP,this.onMouseUp),this.addEventListener(MouseEvent$2.MOUSE_LEAVE,this.onMouseLeave)}}let Draw$1=class extends Entity{constructor(d,o=0,c=0){super();jt(this,"getArgb",(d,o)=>{let c=0;return c+=o<<24,c+=d,c});jt(this,"draw",()=>{let d=this.bitmap.getPixel(this.x,this.y)>>24&255,o=parseInt(d.toString(16));o===NaN&&(o=254);let c=16777215,s=255/100*(o+3);c+=s<<24,this.bitmap.setPixel(this.x,this.y,c)});jt(this,"update",d=>{let o=Math.random()*3;o<1?this.x-=1:o>2&&(this.x+=1),this.x<0&&(this.x=0),this.x>this.bitmap.width&&(this.x=this.bitmap.width);let c=Math.random()*3;c<1?this.y-=1:c>2&&(this.y+=1),this.y<0&&(this.y=0),this.y>this.bitmap.height&&(this.y=this.bitmap.height),this.draw()});this.bitmap=d,this.x=o,this.y=c}};class Interval{constructor(_,d){jt(this,"update",()=>{this.time+=1,this.time%this.delay===0&&this.callback()});this.delay=_,this.callback=d,this.time=Math.floor(Math.random()*100)}}const Alignment={HORIZONTAL:"horizontal",VERTICAL:"vertical"};class Menu extends Sprite$1{constructor(){super();jt(this,"add",d=>{this.items.push(d),this.addChild(d),this.align()});jt(this,"horizontal",()=>{this.alignment=Alignment.HORIZONTAL});jt(this,"vertical",()=>{this.alignment=Alignment.VERTICAL});jt(this,"align",()=>{if(this.alignment===Alignment.HORIZONTAL){let d=0;this.items.forEach(o=>{o.x=d,d+=o.width+this.spacing})}else if(this.alignment===Alignment.VERTICAL){let d=0;this.items.forEach(o=>{o.y=d,d+=o.height+this.spacing})}});jt(this,"setWidth",d=>{this.items.forEach(o=>{o.setWidth(d)})});jt(this,"next",()=>{this.deselect(),this.selectedIndex+=1,this.selectedIndex>=this.items.length&&(this.selectedIndex=0),this.select(this.selectedIndex)});jt(this,"previous",()=>{this.deselect(),this.selectedIndex-=1,this.selectedIndex<0&&(this.selectedIndex=this.items.length-1),this.select(this.selectedIndex)});jt(this,"deselect",()=>{this.selected&&(this.selected.hideHighlight(),this.selected=null)});jt(this,"select",d=>{this.selectedIndex=d,this.selected=this.items[d],this.selected.showHighlight()});this.items=[],this.alignment=Alignment.HORIZONTAL,this.spacing=0,this.selected=null,this.selectedIndex=-1}}const Font={F:"04b03",OLD_WIZARD:"OldWizard",SNES:"SNESesque",AKINESIA:"Akinesia",ANGUISH:"Anguish",ATTRACT:"Attract",AWAKE:"Awake",BEGGARS:"Beggars"};class Text extends Sprite$1{constructor(d,o=Font.F,c=10,s=16777215){super();jt(this,"setText",d=>{this.text=d,this.textField.text=d});jt(this,"setFont",d=>{this.font=d,this.update()});jt(this,"setSize",d=>{this.size=d,this.update()});jt(this,"update",()=>{this.textField.defaultTextFormat=new TextFormat$1(this.font,this.size,this.color),this.textField.text=this.text});this.text=d,this.font=o,this.size=c,this.color=s;const h=new TextFormat$1(o,c,s);this.textField=new TextField$1,this.textField.defaultTextFormat=h,this.textField.embedFonts=!0,this.textField.selectable=!1,this.textField.antiAliasType=_default$1.ADVANCED,this.textField.autoSize=_default.LEFT,this.textField.text=d,this.addChild(this.textField)}}let Input$1=class extends Sprite$1{constructor(){super();const _=new TextFormat$1(Font.F,30,16777215);this.textField=new TextField$1,this.textField.defaultTextFormat=_,this.textField.embedFonts=!0,this.textField.selectable=!0,this.textField.antiAliasType=_default$1.ADVANCED,this.addChild(this.textField)}},Image$1=class extends Sprite$1{constructor(d){super();jt(this,"center",()=>{this.bitmap.x=-this.bitmap.width/2,this.bitmap.y=-this.bitmap.height/2});d&&(this.bitmapData=Assets$1.getBitmapData(`assets/${d}`),this.bitmap=new Bitmap$1(this.bitmapData),this.bitmap.smoothing=!1,this.addChild(this.bitmap))}};class SpriteSheet extends Sprite$1{constructor(d,o,c,s=10){super();jt(this,"setIndexX",d=>{this.indexX=d,this.render()});jt(this,"setIndexY",d=>{this.indexY=d,this.render()});jt(this,"render",()=>{const d=new Matrix$1(1,0,0,1,-this.w*this.indexX,-this.h*this.indexY);this.bmd1.fillRect(this.bmd1.rect,0),this.bmd1.draw(this.bmd,d)});jt(this,"play",()=>{this.playing=!0,this.interval=setInterval(()=>{this.indexY+=1,this.indexY===this.framesY&&(this.indexY=0),this.render()},this.delay)});jt(this,"stepX",()=>{this.indexX+=1,this.indexX===this.framesX&&(this.indexX=0),this.render()});jt(this,"playX",()=>{this.playing=!0,this.interval=setInterval(this.stepX,this.delay)});jt(this,"stop",()=>{this.playing=!1,this.indexY=1,this.indexX=1,this.render(),this.interval&&clearInterval(this.interval)});this.delay=s,this.bmd=Assets$1.getBitmapData(`assets/${d}`),this.framesX=o,this.framesY=c,this.indexX=0,this.indexY=0,this.playing=!1,this.w=Math.round(this.bmd.width/this.framesX),this.h=Math.round(this.bmd.height/this.framesY),this.bmd1=new BitmapData$1(this.w,this.h,!0,0),this.bm=new Bitmap$1(this.bmd1,_default$2.AUTO,!1),this.addChild(this.bm),this.render()}}class BitmapComponent extends Sprite$1{constructor(d,o){super();jt(this,"data",()=>this.bmd);jt(this,"draw",d=>{this.bmd.draw(d,new Matrix$1(1,0,0,1,d.x,d.y))});jt(this,"getPixel",(d,o)=>this.bmd.getPixel32(d,o));jt(this,"setPixel",(d,o,c=16777215)=>{this.bmd.setPixel32(d,o,c)});jt(this,"rect",(d,o,c,s,h)=>{const f=new Rectangle$1(d,o,c,s);this.bmd.fillRect(f,h)});jt(this,"clear",()=>{this.bmd.fillRect(new Rectangle$1(0,0,this.bm.width,this.bm.height),0)});this.bmd=new BitmapData$1(d,o,!0,0),this.bm=new Bitmap$1(this.bmd,_default$2.NEVER,!1),this.addChild(this.bm)}}const sqrt5=Math.sqrt(5),phi=(sqrt5+1)/2,hexSize=45,hexOneThird=hexSize*(1/3),hexTwoThird=hexSize*(2/3),fib=e=>{const _=Math.pow(phi,e),d=Math.pow(-1,e);return(_-d)/sqrt5},a=(e,_)=>Math.atan2(_.y-e.y,_.x-e.x)/Math.PI*360,radians=(e,_)=>Math.atan2(_.y-e.y,_.x-e.x),iso=(e,_)=>{let d=e*hexTwoThird+_*hexTwoThird,o=_*hexTwoThird/2-e*hexTwoThird/2;return{x:d,y:o}},depth=e=>iso(e).y,angle=e=>radians({x:e.x*S.scale,y:e.y*S.scale},{x:S.mouseX,y:S.mouseY}),distance=(e,_)=>{let d=e.x-_.x,o=e.y-_.y;return Math.sqrt(d*d+o*o)},M={fib,phi,angle,radians,hexSize,hexOneThird,hexTwoThird,iso,depth,angle,a,distance};class ShapeComponent extends Sprite$1{constructor(d=1,o=16777215,c=1){super();jt(this,"onMouseDown",d=>{this.addEventListener(MouseEvent$2.MOUSE_DOWN,()=>{d(this)})});jt(this,"onRollOver",d=>{this.addEventListener(MouseEvent$2.ROLL_OVER,()=>{d(this)})});jt(this,"onRollOut",d=>{this.addEventListener(MouseEvent$2.ROLL_OUT,()=>{d(this)})});jt(this,"add",d=>{this.content=d,this.content.mask=this.s,d.width=this.s.width,d.height=this.s.height,d.x-=d.width/2,this.addChild(this.content)});jt(this,"dot",()=>{this.s.graphics.moveTo(0,0),this.s.graphics.lineTo(0,0)});jt(this,"hexagon",()=>{this.s.graphics.beginFill(16777215,.3);let d=0,o=0;this.s.graphics.moveTo(d,o),d+=M.hexTwoThird,o+=M.hexOneThird,this.s.graphics.lineTo(d,o),o+=M.hexTwoThird,this.s.graphics.lineTo(d,o),d-=M.hexTwoThird,o+=M.hexOneThird,this.s.graphics.lineTo(d,o),d-=M.hexTwoThird,o-=M.hexOneThird,this.s.graphics.lineTo(d,o),o-=M.hexTwoThird,this.s.graphics.lineTo(d,o),d+=M.hexTwoThird,o-=M.hexOneThird,this.s.graphics.lineTo(d,o),this.s.graphics.endFill()});jt(this,"cube",d=>{const o=d*.3333333333333333,c=d*(2/3);let s=0,h=0;this.s.graphics.moveTo(s,h),s+=c,h+=o,this.s.graphics.lineTo(s,h),h+=c,this.s.graphics.lineTo(s,h),s-=c,h+=o,this.s.graphics.lineTo(s,h),s-=c,h-=o,this.s.graphics.lineTo(s,h),h-=c,this.s.graphics.lineTo(s,h),s+=c,h-=o,this.s.graphics.lineTo(s,h)});jt(this,"tile",d=>{this.s.graphics.lineStyle(1,16777215,0),this.s.graphics.beginFill(16777215,0);const o=d*(1/3),c=d*(2/3);let s=0,h=0;this.s.graphics.moveTo(s,h),s+=c,h+=o,this.s.graphics.lineTo(s,h),s-=c,h+=o,this.s.graphics.lineTo(s,h),s-=c,h-=o,this.s.graphics.lineTo(s,h),s+=c,h-=o,this.s.graphics.lineTo(s,h),this.s.graphics.endFill()});jt(this,"addLines",(d=1,o=16777215,c=1)=>{this.lines=new Shape$8,this.lines.graphics.lineStyle(d,o,c),this.addChild(this.lines);let s=0,h=0;this.lines.graphics.moveTo(s,h),s+=M.hexTwoThird,h+=M.hexOneThird,this.lines.graphics.lineTo(s,h),h+=M.hexTwoThird,this.lines.graphics.lineTo(s,h),s-=M.hexTwoThird,h+=M.hexOneThird,this.lines.graphics.lineTo(s,h),s-=M.hexTwoThird,h-=M.hexOneThird,this.lines.graphics.lineTo(s,h),h-=M.hexTwoThird,this.lines.graphics.lineTo(s,h),s+=M.hexTwoThird,h-=M.hexOneThird,this.lines.graphics.lineTo(s,h)});jt(this,"addShadow",()=>{this.shadow=new Shape$8,this.shadow.graphics.lineStyle(0,0,0),this.addChild(this.shadow);let d=0,o=M.hexTwoThird;this.shadow.graphics.beginFill(0,.5),this.shadow.graphics.moveTo(d,o),d+=M.hexTwoThird,o-=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o+=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),d-=M.hexTwoThird,o+=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o-=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),this.shadow.graphics.endFill(),d=0,o=M.hexTwoThird,this.shadow.graphics.beginFill(0,.8),this.shadow.graphics.moveTo(d,o),o+=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),d-=M.hexTwoThird,o-=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o-=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),d+=M.hexTwoThird,o+=M.hexOneThird,this.shadow.graphics.lineTo(d,o),this.shadow.graphics.endFill()});jt(this,"addInverseShadow",()=>{this.shadow=new Shape$8,this.shadow.graphics.lineStyle(0,0,0),this.addChild(this.shadow);let d=-M.hexTwoThird,o=M.hexOneThird;this.shadow.graphics.beginFill(0,.5),this.shadow.graphics.moveTo(d,o),d+=M.hexTwoThird,o-=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o+=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),d-=M.hexTwoThird,o+=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o-=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),this.shadow.graphics.endFill(),d=0,o=0,this.shadow.graphics.beginFill(0,.8),this.shadow.graphics.moveTo(d,o),d+=M.hexTwoThird,o+=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o+=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),d-=M.hexTwoThird,o-=M.hexOneThird,this.shadow.graphics.lineTo(d,o),o-=M.hexTwoThird,this.shadow.graphics.lineTo(d,o),this.shadow.graphics.endFill()});jt(this,"circle",(d,o=0)=>{openfl.GradientType.RADIAL,new openfl.Matrix,this.s.graphics.lineStyle(0,this.color,0),this.s.graphics.beginFill(o,1),this.s.graphics.drawCircle(0,0,d),this.s.graphics.endFill()});jt(this,"glow",()=>{const d=new openfl.GlowFilter(16777215,1,6,6,6,1,!1,!1);this.s.filters=[d]});jt(this,"rectangle",(d,o)=>{this.s.graphics.lineStyle(1,this.color,0),this.s.graphics.beginFill(this.color,this.alpha),this.s.graphics.moveTo(0,0),this.s.graphics.lineTo(d,0),this.s.graphics.lineTo(d,o),this.s.graphics.lineTo(0,o),this.s.graphics.lineTo(0,0),this.s.graphics.endFill()});this.color=o,this.alpha=c,this.s=new Shape$8,this.s.graphics.lineStyle(d,o,c),this.addChild(this.s)}}class TileMapComponent extends Sprite$1{constructor(d,o,c,s,h){super();jt(this,"add",d=>{this.tilemap.addTile(d),this.tiles.push(d)});jt(this,"clear",()=>{this.tiles.forEach(d=>{this.tilemap.removeTile(d)}),this.tiles=[]});jt(this,"getTileAt",d=>this.tilemap.getTileAt(d));this.tiles=[],this.tileset=new Tileset$1(d),this.tileWidth=Math.round(d.width/o),this.tileHeight=Math.round(d.height/c);for(let f=0;f<o;f+=1)for(let g=0;g<c;g+=1)this.tileset.addRect(new Rectangle$1(f*this.tileWidth,g*this.tileHeight,this.tileWidth,this.tileHeight));this.tilemap=new Tilemap$1(s,h,this.tileset),this.tilemap.tileAlphaEnabled=!1,this.tilemap.tileColorTransformEnabled=!1,this.addChild(this.tilemap)}}class TileComponent extends Tile$1{}let State$1=class{constructor(_,d,o){this.type=_,this.init=d,this.dispose=o}};class StateMachine{constructor(){jt(this,"add",(_,d,o)=>{const c=new State$1(_,d,o);this.states.push(c)});jt(this,"set",_=>{if(this.stateType===_)return;this.state&&(this.state.dispose(),this.state=null,this.stateType="");const d=this.states.find(o=>o.type===_);d&&(this.stateType=_,this.state=d,this.state.init())});jt(this,"reload",()=>{const _=this.stateType;this.state&&(this.state.dispose(),this.state=null,this.stateType=""),this.set(_)});jt(this,"dispose",()=>{this.state&&(this.state.dispose(),this.state=null,this.stateType="")});this.states=[],this.stateType="",this.state=null}}class Drag extends Sprite$1{constructor(d=()=>{}){super();jt(this,"onMouseMove",()=>{if(this.moveX){let d=this.stage.mouseX/S.scale-this.width/2-this.offsetX;this.maxX&&d>this.maxX&&(d=this.maxX),d<0&&(d=0),this.x=d}this.moveY&&(this.y=this.stage.mouseY/S.scale-this.height/2),this.callback()});jt(this,"onMouseDown",()=>{this.isDragging=!0,this.stage.addEventListener(MouseEvent$2.MOUSE_UP,this.onMouseUp),this.stage.addEventListener(MouseEvent$2.MOUSE_MOVE,this.onMouseMove),this.stage.addEventListener(MouseEvent$2.MOUSE_LEAVE,this.onMouseUp)});jt(this,"onMouseUp",()=>{this.isDragging=!1,this.stage.removeEventListener(MouseEvent$2.MOUSE_UP,this.onMouseUp),this.stage.removeEventListener(MouseEvent$2.MOUSE_MOVE,this.onMouseMove),this.stage.removeEventListener(MouseEvent$2.MOUSE_LEAVE,this.onMouseUp)});this.isDragging=!1,this.moveX=!0,this.moveY=!0,this.maxX=0,this.maxY=0,this.offsetX=0,this.offsetY=0,this.callback=d,this.addEventListener(MouseEvent$2.MOUSE_DOWN,this.onMouseDown)}}class Toggle extends Sprite$1{constructor(){super();jt(this,"add",d=>{this.sm.add(this.content.length,()=>{this.current=this.content[this.index],this.addChild(this.current)},()=>{this.removeChild(this.current),this.current=null}),this.content.push(d),this.current||this.sm.set(this.index)});jt(this,"next",()=>{this.index+=1,this.index>=this.content.length&&(this.index=0),this.sm.set(this.index)});jt(this,"prev",()=>{this.index-=1,this.index<0&&(this.index=this.content.length-1),this.sm.set(this.index)});this.content=[],this.index=0,this.current=null,this.sm=new StateMachine}}let Grid$1=class extends Sprite$1{constructor(d="grid/default.png"){super();jt(this,"setSize",(d,o)=>{this.images[1].x=this.images[0].width,this.images[1].width=d-this.images[0].width*2,this.images[2].x=this.images[1].x+this.images[1].width,this.images[3].height=o-this.images[0].height*2,this.images[3].y=this.images[0].height,this.images[4].x=this.images[0].width,this.images[4].y=this.images[0].height,this.images[4].width=d-this.images[0].width*2,this.images[4].height=o-this.images[0].height*2,this.images[5].height=o-this.images[0].height*2,this.images[5].y=this.images[0].height,this.images[5].x=this.images[2].x,this.images[6].y=this.images[3].y+this.images[3].height,this.images[7].width=this.images[1].width,this.images[7].y=this.images[6].y,this.images[7].x=this.images[0].width,this.images[8].y=this.images[7].y,this.images[8].x=this.images[7].x+this.images[7].width});this.path=d,this.images=[];let o;for(let c=0;c<3;c+=1)for(let s=0;s<3;s+=1)o=new SpriteSheet(d,3,3),o.setIndexX(s),o.setIndexY(c),this.addChild(o),this.images.push(o)}};class Button extends Sprite$1{constructor(d,o=()=>{}){super();jt(this,"add",d=>{this.content.addChild(d),this.bg.setSize(this.content.width,this.content.height),this.highlight.setSize(this.content.width,this.content.height)});jt(this,"addText",d=>{const o=new Text(d,Font.F,10);o.x=3,o.y=1,this.content.addChild(o),this.bg.setSize(this.content.width+8,this.content.height),this.highlight.setSize(this.content.width+8,this.content.height)});jt(this,"setWidth",d=>{this.highlight.setSize(d,this.content.height),this.bg.setSize(d,this.content.height)});jt(this,"showHighlight",()=>{this.highlight.visible=!0});jt(this,"hideHighlight",()=>{this.highlight.visible=!1});this.callback=o,this.bg=new Grid$1(d),this.addChild(this.bg),this.highlight=new Grid$1("grid/btnHighlight.png"),this.addChild(this.highlight),this.highlight.visible=!1,this.content=new Sprite$1,this.addChild(this.content),this.addEventListener(MouseEvent$2.MOUSE_DOWN,()=>{o()}),this.addEventListener(MouseEvent$2.ROLL_OVER,()=>{this.showHighlight()}),this.addEventListener(MouseEvent$2.ROLL_OUT,()=>{this.hideHighlight()}),this.mouseChildren=!1}}class Modal extends Sprite$1{constructor(d="grid/modal.png"){super();jt(this,"add",d=>{this.container.add(d),this.grid.setSize(this.container.content.width+this.padding,this.container.content.height+this.padding),this.container.centerContent(),this.container.centerBackground()});jt(this,"dispose",()=>{Helper.removeEntity(this.container)});this.padding=0,this.container=new Container,this.container.layer="modal",Helper.addEntity(this.container),this.grid=new Grid$1(d),this.container.setBackground(this.grid)}}class Steps extends Sprite$1{constructor(d){super();jt(this,"init",d=>{this.drag.offsetX=this.x,this.drag.x=d});this.border=new Grid$1("grid/dark.png"),this.border.setSize(110,10),this.addChild(this.border),this.drag=new Drag(()=>{d(this.drag.x),this.text.setText(this.drag.x.toString())}),this.drag.moveY=!1,this.drag.maxX=100;const o=new Image$1("handle.png");this.drag.addChild(o),this.addChild(this.drag),this.text=new Text("50",Font.F,10,15658734),this.addChild(this.text),this.text.x=110,this.text.y-=2}}class Dropdown extends Sprite$1{constructor(d="label"){super();jt(this,"add",d=>{this.menu.add(d),this.updateSize()});jt(this,"addButton",(d,o)=>{const c=new Button("transparent.png",()=>{o(),Helper.showOverlay(this.content),Helper.enableKeys(this)});c.addText(d),this.add(c)});jt(this,"updateSize",()=>{const d=this.content.width>this.btn.width?this.content.width:this.btn.width,{height:o}=this.menu;this.bg.setSize(d,o),this.menu.setWidth(d)});jt(this,"enableKeyNavigation",()=>{this.keySubscription=bus.subscribe(MessageType.KEY_DOWN,d=>{this.keyDown(d)})});jt(this,"disableKeyNavigation",()=>{bus.remove(this.keySubscription)});jt(this,"keyDown",d=>{switch(d){case 38:Helper.showOverlay(this.content),Helper.enableKeys(this),this.menu.previous(),this.menu.selected.callback();break;case 40:Helper.showOverlay(this.content),Helper.enableKeys(this),this.menu.next(),this.menu.selected.callback();break;default:Helper.showOverlay(this.content),Helper.enableKeys(this);break}});this.btn=new Button("grid/dropdown.png",()=>{const o=this.localToGlobal(new Point$1(0,0));this.content.x=o.x/S.scale,this.content.y=o.y/S.scale+this.btn.height,Helper.showOverlay(this.content),Helper.enableKeys(this)}),this.btn.addText(d),this.addChild(this.btn),this.content=new Sprite$1,this.bg=new Grid$1("grid/dark.png"),this.content.addChild(this.bg),this.menu=new Menu,this.menu.vertical(),this.content.addChild(this.menu),this.caret=new SpriteSheet("caret.png",2,1),this.caret.x=this.btn.width-4,this.caret.y=6,this.btn.add(this.caret),this.btn.setWidth(this.btn.width+4),this.btn.addEventListener(MouseEvent$2.ROLL_OVER,()=>{this.caret.setIndexX(1)}),this.btn.addEventListener(MouseEvent$2.ROLL_OUT,()=>{this.caret.setIndexX(0)})}}const toggle=()=>new Toggle,planckCircle=e=>Planck.Circle(e),planckBox=(e,_)=>Planck.Box(e,_),body=(e=!1,_=1,d=1,o="dynamic",c=!0)=>({bullet:e,linearDamping:_,angularDamping:d,type:o,allowSleep:c}),fixture=(e=1,_=1,d=1,o=0,c=0,s=0,h=!1)=>({friction:e,restitution:_,density:d,userData:{id:o},filter:{maskBits:c,categoryBits:s},isSensor:h}),tower=()=>{const e=new Tower;return Helper.addEntity(e),e},container=(e,_)=>{const d=new Container(e);return _&&(d.layer=_),Helper.addEntity(d),d},textButton=(e,_,d)=>{const o=new Button(d,_);return o.addText(e),o},imageButton=(e,_,d)=>{const o=new Button(d,_),c=new Image$1(e);return o.add(c),o},menu=()=>new Menu,image=e=>new Image$1(e),text=(e,_,d,o)=>new Text(e,_,d,o),input=(e,_,d,o)=>new Input$1(e,_,d,o),spritesheet=(e,_,d,o)=>new SpriteSheet(e,_,d,o),bitmap=(e,_)=>new BitmapComponent(e,_),shape=(e,_,d)=>new ShapeComponent(e,_,d),interval=(e,_)=>new Interval(e,_),box=(e,_)=>{const d=new Box(e,_);return Helper.addEntity(d),d},draw=(e,_,d)=>{const o=new Draw$1(e,_,d);return Helper.addEntity(o),o},tilemap=(e,_,d,o,c)=>new TileMapComponent(e,_,d,o,c),tile=e=>new TileComponent(e),stateMachine=()=>new StateMachine,animation=(e,_)=>{const d=new Animation(e,_);return Helper.addEntity(d),d},grid=e=>new Grid$1(e),modal=e=>new Modal(e),drag=e=>new Drag(e),steps=e=>new Steps(e),dropdown=e=>new Dropdown(e),Factory={toggle,tower,container,textButton,imageButton,menu,image,text,input,animation,spritesheet,bitmap,shape,tile,interval,box,draw,tilemap,stateMachine,grid,modal,drag,steps,dropdown,body,fixture,planckBox,planckCircle};class View extends Sprite$1{constructor(){super();jt(this,"subscribeToMessages",()=>{bus.subscribe(MessageType.SHOW_LAYER,this.showLayer),bus.subscribe(MessageType.HIDE_LAYER,this.hideLayer),bus.subscribe(MessageType.SET_SCALE,this.setScale)});jt(this,"showLayer",d=>{const o=this.layers[d];o&&(o.visible=!0)});jt(this,"hideLayer",d=>{const o=this.layers[d];o&&(o.visible=!1)});jt(this,"setScale",()=>{this.scaleX=S.scale,this.scaleY=S.scale});jt(this,"getLayer",d=>this.layers[d]??this.addLayer(d));jt(this,"addLayer",d=>{const o=new Sprite$1;return this.layers[d]=o,this.content.addChild(o),this.sort(),o});jt(this,"render",d=>{this.bm.draw(d)});jt(this,"add",d=>{this.getLayer(d.layer).addChild(d)});jt(this,"remove",d=>{this.getLayer(d.layer).removeChild(d)});jt(this,"setMousePos",(d,o)=>{S.mouseX=d,S.mouseY=o});jt(this,"onMouseMove",d=>{this.setMousePos(d.stageX,d.stageY)});jt(this,"onMouseDown",d=>{this.setMousePos(d.stageX,d.stageY),this.setMousePos(d.stageX,d.stageY),S.mouseDown=!0});jt(this,"onMouseUp",()=>{S.mouseDown=!1});jt(this,"onMouseLeave",()=>{S.mouseDown=!1});jt(this,"fill",d=>{this.background.graphics.beginFill(d),this.background.graphics.drawRect(0,0,S.width,S.height),this.background.graphics.endFill()});jt(this,"clear",()=>{this.bm.clear()});jt(this,"sort",()=>{const d=[];for(let c in this.layers)d.push(this.layers[c]);const o=d.sort((c,s)=>c.layer>s.layer?1:c.layer<s.layer?-1:0);for(let c of o)this.content.addChild(c)});this.background=new Sprite$1,this.addChild(this.background),this.content=new Sprite$1,this.addChild(this.content),this.bm=Factory.bitmap(S.width,S.height),this.bm.blendMode=openfl.BlendMode.ALPHA,this.addChild(this.bm);const d=5;new openfl.GlowFilter(12330803,1,d,d,d,1,!0,!1),this.layers={},this.addEventListener(MouseEvent$2.MOUSE_MOVE,this.onMouseMove),this.addEventListener(MouseEvent$2.MOUSE_DOWN,this.onMouseDown),this.addEventListener(MouseEvent$2.MOUSE_UP,this.onMouseUp),this.addEventListener(MouseEvent$2.MOUSE_LEAVE,this.onMouseLeave),this.subscribeToMessages(),this.setScale(S.scale)}}const AppState={FIBONACCI:"fibonacci",DRAW:"draw",COLLISION:"collision",Suica:"suica"};class State extends Entity{constructor(){super();jt(this,"init",()=>{})}}class Leaf extends Entity{constructor(d,o){super();jt(this,"clamp",(d,o,c)=>Math.min(Math.max(d,o),c));jt(this,"update",()=>{const d=this.x-S.mouseX/S.scale,o=this.y-S.mouseY/S.scale,c=Math.sqrt(d*d+o*o),s={x:d/c,y:o/c},h=this.clamp(1/this.repulseRadius*(-1*(c/this.repulseRadius)**2+1)*this.repulseRadius*this.velocity,0,50);this.x+=s.x*h,this.y+=s.y*h;const f=this.orig.x-this.x,g=this.orig.y-this.y,b=Math.sqrt(f*f+g*g),k=1.5;if(b===0)return;if(b<1){this.x=this.orig.x,this.y=this.orig.y;return}const $={x:f/b*k,y:g/b*k};this.x+=$.x,this.y+=$.y,this.img.rotation=Math.atan((this.y-S.height/2)/(this.x-S.width/2))*180/Math.PI});const c=Factory.image("leaf/leaf.png"),s=9,h=360-360/M.phi,f=Math.sqrt(d),g=h*d/(180/Math.PI),b={x:s*f*Math.cos(g)+S.width/2,y:s*f*Math.sin(g)+S.height/2};c.rotation=g/Math.PI*180,c.alpha=0,c.center(),this.repulseRadius=500,this.velocity=1.6,this.img=c,this.addChild(c),this.orig=b,this.x=b.x+Math.cos(g)*50,this.y=b.y+Math.sin(g)*50}}const defaultTheme={0:4021145,1:12330803,2:15555914,3:7600831,4:5013398,5:4890056,bg:0};class Fibonacci extends State{constructor(){super();jt(this,"setTheme",d=>{this.theme=d;const o=this.theme.bg;this.container.fill(o),this.clear(),this.addLeaves()});jt(this,"clear",()=>{this.leaves.forEach(d=>{d.parent.removeChild(d)}),this.leaves=[],this.origs=[],clearInterval(this.interval)});jt(this,"addLeaves",()=>{let o;this.interval=setInterval(()=>{o=this.leaves.length+1;const c=new Leaf(o,this.getColor(o));this.leaves.push(c),Helper.addEntity(c),this.container.add(c),o>500&&clearInterval(this.interval)},10)});jt(this,"getColor",d=>d%12===0?this.theme[5]:d%10===0?this.theme[4]:d%8===0?this.theme[3]:d%5===0?this.theme[2]:d%3===0?this.theme[1]:this.theme[0]);jt(this,"update",()=>{this.leaves.forEach(d=>{d.update()})});jt(this,"dispose",()=>{this.clear(),Helper.removeEntity(this.container),Helper.removeEntity(this.menu)});this.leaves=[],this.origs=[],this.container=Factory.container(),this.menu=Factory.menu(),this.container.add(this.menu),this.menu.y=30,this.setTheme(defaultTheme),this.menu.y=S.height-this.menu.height,this.container.center()}}class Draw extends State{constructor(){super();jt(this,"dispose",()=>{Helper.removeEntity(this.container)});this.w=150,this.h=150,this.container=Factory.container(),this.bm=Factory.bitmap(this.w,this.h),this.bm.x=20,this.bm.y=20,this.container.add(this.bm),this.draw1=Factory.draw(this.bm,70,70),this.draw2=Factory.draw(this.bm,70,70),this.draw3=Factory.draw(this.bm,70,70),this.draw4=Factory.draw(this.bm,70,70)}}const Direction={NONE:"none",LEFT:0,LEFT_UP:1,UP:2,UP_RIGHT:3,RIGHT:4,RIGHT_DOWN:5,DOWN:6,DOWN_LEFT:7};class Control{constructor(_){jt(this,"keys",()=>{bus.subscribe(MessageType.KEY_DOWN,this.onKeyDown),bus.subscribe(MessageType.KEY_UP,this.onKeyUp)});jt(this,"onKeyDown",_=>{this.isWalkingKey(_)&&(this.updateDirection(),this.updateSpeed()),this.isShootinggKey(_)&&(this.model.isShooting=!0)});jt(this,"onKeyUp",_=>{this.isWalkingKey(_)&&(this.model.isWalking=this.isWalking(),this.model.isWalking?(this.updateDirection(),this.updateSpeed()):(this.model.setDirection(Direction.NONE),this.model.setSpeed(0,0))),this.isShootinggKey(_)&&(this.model.isShooting=this.isShooting())});jt(this,"isShootinggKey",_=>this.model.shootingKeys.find(o=>o===_));jt(this,"isWalkingKey",_=>this.model.walkingKeys.find(o=>o===_));jt(this,"updateSpeed",()=>{const _=this.model.getDirection();if(_===Direction.NONE){this.model.setSpeed(0,0);return}switch(_){case Direction.LEFT:this.model.setSpeed(-this.model.speed,0);break;case Direction.LEFT_UP:this.model.setSpeed(-this.model.speed/2,-this.model.speed/2);break;case Direction.UP:this.model.setSpeed(0,-this.model.speed);break;case Direction.UP_RIGHT:this.model.setSpeed(this.model.speed/2,-this.model.speed/2);break;case Direction.RIGHT:this.model.setSpeed(this.model.speed,0);break;case Direction.RIGHT_DOWN:this.model.setSpeed(this.model.speed/2,this.model.speed/2);break;case Direction.DOWN:this.model.setSpeed(0,this.model.speed);break;case Direction.DOWN_LEFT:this.model.setSpeed(-this.model.speed/2,this.model.speed/2);break}});jt(this,"updateDirection",()=>{const _=this.getDirection();this.model.setDirection(_)});jt(this,"getDirection",()=>{let _=Direction.NONE;return(Key.key(38)||Key.key(87))&&(_=Direction.UP),(Key.key(40)||Key.key(83))&&(_=Direction.DOWN),(Key.key(37)||Key.key(65))&&(_===Direction.UP?_=Direction.LEFT_UP:_===Direction.DOWN?_=Direction.DOWN_LEFT:_=Direction.LEFT),(Key.key(39)||Key.key(68))&&(_===Direction.UP?_=Direction.UP_RIGHT:_===Direction.DOWN?_=Direction.RIGHT_DOWN:_=Direction.RIGHT),_});jt(this,"getDirectionToPoint",(_,d)=>{let o=Direction.NONE;return _.y>d.y&&(o=Direction.UP),_.y<d.y&&(o=Direction.DOWN),_.x>d.x&&(o===Direction.UP?o=Direction.LEFT_UP:o===Direction.DOWN?o=Direction.DOWN_LEFT:o=Direction.LEFT),_.x<d.x&&(o===Direction.UP?o=Direction.UP_RIGHT:o===Direction.DOWN?o=Direction.RIGHT_DOWN:o=Direction.RIGHT),o});jt(this,"setDirection",_=>{this.model.setDirection(_)});jt(this,"moveToPoint",(_,d)=>{const o=M.radians(_,d),c=this.model.speed*Math.cos(o),s=this.model.speed*Math.sin(o);this.model.setSpeed(c,s)});jt(this,"isWalking",()=>(this.model.walkingKeys.forEach(_=>Key.key(_)),!1));jt(this,"isShooting",()=>(this.model.shootingKeys.forEach(_=>Key.key(_)),!1));jt(this,"stop",()=>{this.model.setDirection(Direction.NONE),this.model.setSpeed(0,0)});jt(this,"dispose",()=>{bus.unsubscribe(MessageType.KEY_DOWN,this.onKeyDown),bus.unsubscribe(MessageType.KEY_DOWN,this.onKeyDown)});this.model=_}}const speed=100;let x=0,y=0,xSpeed=0,ySpeed=0,isWalking=!1,isShooting=!1,direction=Direction.NONE,walkingKeys=[37,38,39,40,65,68,83,87],shootingKeys=[32];const getSpeed=()=>({x:xSpeed,y:ySpeed}),setSpeed=(e,_)=>{xSpeed=e,ySpeed=_},resetDirection=()=>{setDirection(Direction.NONE)},getDirection=()=>direction,setDirection=e=>{direction=e},getPosition=()=>({x,y}),setPosition=(e,_)=>{x=e,y=_},CM={xSpeed,ySpeed,speed,setSpeed,getSpeed,isWalking,walkingKeys,isShooting,shootingKeys,resetDirection,getDirection,setDirection,getPosition,setPosition};class EnemyControl{constructor(){jt(this,"getSpeed",()=>({x:this.xSpeed,y:this.ySpeed}));jt(this,"setSpeed",(_,d)=>{this.xSpeed=_,this.ySpeed=d});jt(this,"resetDirection",()=>{this.setDirection(Direction.NONE)});jt(this,"getDirection",()=>this.direction);jt(this,"setDirection",_=>{this.direction=_});this.speed=10,this.xSpeed=0,this.ySpeed=0,this.isWalking=!1,this.isShooting=!1,this.direction=Direction.NONE,this.walkingKeys=[],this.shootingKeys=[]}}const PlayerState={IDLE:"idle",WALK:"walk"},CollisionType={DEFAULT:0,WALL:1,PLAYER:2,PARTICLE:3,ENEMY:4,SUICA:5};class Projectile extends Entity{constructor(){super();jt(this,"init",()=>{const d=Factory.body(!0,.2,2,"dynamic",!1),o=Factory.fixture(0,0,0,this.id,CollisionType.WALL|CollisionType.ENEMY,CollisionType.PARTICLE,!1),c=Factory.planckCircle(this.width/2);Helper.createBody(this,c,d,o)});jt(this,"vel",(d,o)=>{this.velocity=Planck.Vec2(d*this.speed,o*this.speed)});jt(this,"addBody",d=>{this.body=d;let o=Planck.Vec2(this.x,this.y);this.body.setPosition(o),this.body.setLinearVelocity(this.velocity)});jt(this,"handleCollision",d=>{if(!(!d||d.remove))switch(d.type){case entityType.ENEMY:break;case entityType.WALL:this.remove=!0;break}});jt(this,"update",d=>{this.interval.update(d);let o=this.body.getPosition();this.x=o.x,this.y=o.y,(this.x<0||this.y<0||this.x>S.width||this.y>S.height)&&(this.remove=!0)});jt(this,"dispose",()=>{Helper.destroyBody(this.body)});this.type=entityType.PARTICLE,this.speed=1e3,this.damage=10,this.view=!0,this.velocity=null,this.ss=new SpriteSheet("collision/projectile.png",2,1),this.ss.x-=this.ss.width/2,this.ss.y-=this.ss.height/2,this.addChild(this.ss),this.interval=Factory.interval(10,()=>{this.ss.stepX()})}}class Droid extends Entity{constructor(d){super();jt(this,"init",()=>{const d=Factory.body(!0,1,1),o=Factory.fixture(1,.99,1,this.id,CollisionType.ENEMY|CollisionType.WALL,CollisionType.PLAYER),c=Factory.planckCircle(this.width/2);Helper.createBody(this,c,d,o),this.CM.setPosition(this.x,this.y)});jt(this,"shoot",()=>{let d=new Projectile;d.x=this.x,d.y=this.y;let o=this.facing/8*Math.PI*2+Math.PI;const c=3,s=c*Math.cos(o),h=c*Math.sin(o);d.x+=(this.width+10)*Math.cos(o)/2,d.y+=(this.height+10)*Math.sin(o)/2,d.rotation=this.facing/8*360-90,d.vel(s,h),Helper.addEntity(d)});jt(this,"update",d=>{let o=this.CM.getSpeed(),c=Planck.Vec2(o.x,o.y);this.body.setLinearVelocity(c);let s=this.body.getPosition();this.x=s.x,this.y=s.y,this.CM.setPosition(s.x,s.y);let h=this.CM.getDirection();this.CM.getDirection()!==Direction.NONE?(this.facing=h,this.sm.set(PlayerState.WALK)):this.sm.set(PlayerState.IDLE),this.facing!==Direction.NONE&&this.ss.setIndexX(this.facing),this.CM.isShooting&&this.shooting.update(d)});jt(this,"dispose",()=>{this.shooting&&Helper.removeEntity(this.shooting)});this.view=!0,this.facing=0,this.layer=3,this.type=entityType.PLAYER,this.CM=d,this.shooting=Factory.interval(20,this.shoot),this.sm=Factory.stateMachine(),this.sm.add(PlayerState.IDLE,()=>{this.ss=Factory.spritesheet("tv/tv_idle.png",8,1,150),this.ss.setIndexX(this.facing),this.addChild(this.ss),this.ss.x-=this.ss.width/2,this.ss.y-=this.ss.height/2},()=>{this.removeChild(this.ss)}),this.sm.add(PlayerState.WALK,()=>{this.ss=Factory.spritesheet("tv/tv_walk.png",8,4,150),this.ss.setIndexX(this.facing),this.addChild(this.ss),this.ss.x-=this.ss.width/2,this.ss.y-=this.ss.height/2,this.ss.play()},()=>{this.removeChild(this.ss)}),this.sm.set(PlayerState.IDLE)}}class Damage extends Entity{constructor(d){super();jt(this,"update",()=>{this.y-=1,this.time+=1,this.time>20&&Helper.removeEntity(this)});this.time=0,this.view=!0;let o=Factory.text(d.toString(),Font.ATTRACT,14,0);this.addChild(o)}}class Enemy extends Entity{constructor(d="target.png",o,c){super();jt(this,"init",()=>{const d=Factory.body(!0,1,1),o=Factory.fixture(.5,.99,1,this.id,CollisionType.PARTICLE,CollisionType.ENEMY),c=Factory.planckCircle(this.width/2);Helper.createBody(this,c,d,o)});jt(this,"setPath",d=>{this.path=d});jt(this,"damage",d=>{this.hp-=d,this.hp<=0&&(this.remove=!0);let o=new Damage(d);o.x=this.x,o.y=this.y,Helper.addEntity(o)});jt(this,"handleCollision",d=>{if(!(!d||d.remove))switch(d.type){case entityType.PARTICLE:this.damage(d.damage);break}});jt(this,"update",d=>{d%100&&this.path.findPath(this,this.playerModel.getPosition()),this.path.update(d);let o=this.model.getSpeed(),c=Planck.Vec2(o.x,o.y);this.body.setLinearVelocity(c);let s=this.body.getPosition();this.x=s.x,this.y=s.y});jt(this,"dispose",()=>{Helper.destroyBody(this.body)});this.model=o,this.playerModel=c,this.type=entityType.ENEMY,this.view=!0,this.hp=50,this.i=Factory.image(d),this.i.y-=this.i.height/2,this.i.x-=this.i.width/2,this.addChild(this.i)}}let Wall$1=class extends Entity{constructor(){super();jt(this,"init",()=>{const d=Factory.body(!0,1,1,"static"),o=Factory.fixture(1,.99,1,this.id,CollisionType.PLAYER|CollisionType.PARTICLE|CollisionType.ENEMY,CollisionType.WALL),c=Factory.planckBox(this.width/2,this.height/2);Helper.createBody(this,c,d,o)});jt(this,"handleCollision",d=>{if(!(!d||d.remove))switch(d.type){}});jt(this,"addBody",d=>{this.body=d;const o=Planck.Vec2(this.x+this.width/2,this.y+this.width/2);this.body.setPosition(o)});jt(this,"dispose",()=>{Helper.destroyBody(this.body)});this.view=!0,this.layer=2,this.physics=!0,this.fixed=!0,this.type=entityType.WALL,this.maskBits=entityType.PLAYER|entityType.PARTICLE,this.categoryBits=entityType.WALL,this.i=Factory.image("collision/wall.png"),this.addChild(this.i)}};class Floor extends Entity{constructor(d,o,c){super();jt(this,"tilePos",()=>({x:this.tileX,y:this.tileY}));this.tileX=d,this.tileY=o,this.layer=3,this.view=!0,this.hover=Factory.image("collision/hover.png"),this.addChild(this.hover),this.hover.visible=!1,this.s=Factory.shape(),this.s.rectangle(32,32),this.s.onMouseDown(()=>{c(this)}),this.s.onRollOver(()=>{this.hover.visible=!0}),this.s.onRollOut(()=>{this.hover.visible=!1}),this.addChild(this.s)}}var heap$1={exports:{}};heap$1.exports;(function(e){(function(){var _,d,o,c,s,h,f,g,b,k,$,j,_e,et,nt;o=Math.floor,k=Math.min,d=function(rt,tt){return rt<tt?-1:rt>tt?1:0},b=function(rt,tt,it,st,at){var _t;if(it==null&&(it=0),at==null&&(at=d),it<0)throw new Error("lo must be non-negative");for(st==null&&(st=rt.length);it<st;)_t=o((it+st)/2),at(tt,rt[_t])<0?st=_t:it=_t+1;return[].splice.apply(rt,[it,it-it].concat(tt)),tt},h=function(rt,tt,it){return it==null&&(it=d),rt.push(tt),et(rt,0,rt.length-1,it)},s=function(rt,tt){var it,st;return tt==null&&(tt=d),it=rt.pop(),rt.length?(st=rt[0],rt[0]=it,nt(rt,0,tt)):st=it,st},g=function(rt,tt,it){var st;return it==null&&(it=d),st=rt[0],rt[0]=tt,nt(rt,0,it),st},f=function(rt,tt,it){var st;return it==null&&(it=d),rt.length&&it(rt[0],tt)<0&&(st=[rt[0],tt],tt=st[0],rt[0]=st[1],nt(rt,0,it)),tt},c=function(rt,tt){var it,st,at,_t,ut,ot;for(tt==null&&(tt=d),_t=(function(){ot=[];for(var lt=0,ft=o(rt.length/2);0<=ft?lt<ft:lt>ft;0<=ft?lt++:lt--)ot.push(lt);return ot}).apply(this).reverse(),ut=[],st=0,at=_t.length;st<at;st++)it=_t[st],ut.push(nt(rt,it,tt));return ut},_e=function(rt,tt,it){var st;if(it==null&&(it=d),st=rt.indexOf(tt),st!==-1)return et(rt,0,st,it),nt(rt,st,it)},$=function(rt,tt,it){var st,at,_t,ut,ot;if(it==null&&(it=d),at=rt.slice(0,tt),!at.length)return at;for(c(at,it),ot=rt.slice(tt),_t=0,ut=ot.length;_t<ut;_t++)st=ot[_t],f(at,st,it);return at.sort(it).reverse()},j=function(rt,tt,it){var st,at,_t,ut,ot,lt,ft,ht,dt;if(it==null&&(it=d),tt*10<=rt.length){if(_t=rt.slice(0,tt).sort(it),!_t.length)return _t;for(at=_t[_t.length-1],ft=rt.slice(tt),ut=0,lt=ft.length;ut<lt;ut++)st=ft[ut],it(st,at)<0&&(b(_t,st,0,null,it),_t.pop(),at=_t[_t.length-1]);return _t}for(c(rt,it),dt=[],ot=0,ht=k(tt,rt.length);0<=ht?ot<ht:ot>ht;0<=ht?++ot:--ot)dt.push(s(rt,it));return dt},et=function(rt,tt,it,st){var at,_t,ut;for(st==null&&(st=d),at=rt[it];it>tt;){if(ut=it-1>>1,_t=rt[ut],st(at,_t)<0){rt[it]=_t,it=ut;continue}break}return rt[it]=at},nt=function(rt,tt,it){var st,at,_t,ut,ot;for(it==null&&(it=d),at=rt.length,ot=tt,_t=rt[tt],st=2*tt+1;st<at;)ut=st+1,ut<at&&!(it(rt[st],rt[ut])<0)&&(st=ut),rt[tt]=rt[st],tt=st,st=2*tt+1;return rt[tt]=_t,et(rt,ot,tt,it)},_=function(){rt.push=h,rt.pop=s,rt.replace=g,rt.pushpop=f,rt.heapify=c,rt.updateItem=_e,rt.nlargest=$,rt.nsmallest=j;function rt(tt){this.cmp=tt??d,this.nodes=[]}return rt.prototype.push=function(tt){return h(this.nodes,tt,this.cmp)},rt.prototype.pop=function(){return s(this.nodes,this.cmp)},rt.prototype.peek=function(){return this.nodes[0]},rt.prototype.contains=function(tt){return this.nodes.indexOf(tt)!==-1},rt.prototype.replace=function(tt){return g(this.nodes,tt,this.cmp)},rt.prototype.pushpop=function(tt){return f(this.nodes,tt,this.cmp)},rt.prototype.heapify=function(){return c(this.nodes,this.cmp)},rt.prototype.updateItem=function(tt){return _e(this.nodes,tt,this.cmp)},rt.prototype.clear=function(){return this.nodes=[]},rt.prototype.empty=function(){return this.nodes.length===0},rt.prototype.size=function(){return this.nodes.length},rt.prototype.clone=function(){var tt;return tt=new rt,tt.nodes=this.nodes.slice(0),tt},rt.prototype.toArray=function(){return this.nodes.slice(0)},rt.prototype.insert=rt.prototype.push,rt.prototype.top=rt.prototype.peek,rt.prototype.front=rt.prototype.peek,rt.prototype.has=rt.prototype.contains,rt.prototype.copy=rt.prototype.clone,rt}(),e!==null&&e.exports?e.exports=_:window.Heap=_}).call(commonjsGlobal)})(heap$1);var heapExports=heap$1.exports,heap=heapExports;function Node$2(e,_,d){this.x=e,this.y=_,this.walkable=d===void 0?!0:d}var Node_1=Node$2,DiagonalMovement$b={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4},DiagonalMovement_1=DiagonalMovement$b,Node$1=Node_1,DiagonalMovement$a=DiagonalMovement_1;function Grid(e,_,d){var o;typeof e!="object"?o=e:(_=e.length,o=e[0].length,d=e),this.width=o,this.height=_,this.nodes=this._buildNodes(o,_,d)}Grid.prototype._buildNodes=function(e,_,d){var o,c,s=new Array(_);for(o=0;o<_;++o)for(s[o]=new Array(e),c=0;c<e;++c)s[o][c]=new Node$1(c,o);if(d===void 0)return s;if(d.length!==_||d[0].length!==e)throw new Error("Matrix size does not fit");for(o=0;o<_;++o)for(c=0;c<e;++c)d[o][c]&&(s[o][c].walkable=!1);return s};Grid.prototype.getNodeAt=function(e,_){return this.nodes[_][e]};Grid.prototype.isWalkableAt=function(e,_){return this.isInside(e,_)&&this.nodes[_][e].walkable};Grid.prototype.isInside=function(e,_){return e>=0&&e<this.width&&_>=0&&_<this.height};Grid.prototype.setWalkableAt=function(e,_,d){this.nodes[_][e].walkable=d};Grid.prototype.getNeighbors=function(e,_){var d=e.x,o=e.y,c=[],s=!1,h=!1,f=!1,g=!1,b=!1,k=!1,$=!1,j=!1,_e=this.nodes;if(this.isWalkableAt(d,o-1)&&(c.push(_e[o-1][d]),s=!0),this.isWalkableAt(d+1,o)&&(c.push(_e[o][d+1]),f=!0),this.isWalkableAt(d,o+1)&&(c.push(_e[o+1][d]),b=!0),this.isWalkableAt(d-1,o)&&(c.push(_e[o][d-1]),$=!0),_===DiagonalMovement$a.Never)return c;if(_===DiagonalMovement$a.OnlyWhenNoObstacles)h=$&&s,g=s&&f,k=f&&b,j=b&&$;else if(_===DiagonalMovement$a.IfAtMostOneObstacle)h=$||s,g=s||f,k=f||b,j=b||$;else if(_===DiagonalMovement$a.Always)h=!0,g=!0,k=!0,j=!0;else throw new Error("Incorrect value of diagonalMovement");return h&&this.isWalkableAt(d-1,o-1)&&c.push(_e[o-1][d-1]),g&&this.isWalkableAt(d+1,o-1)&&c.push(_e[o-1][d+1]),k&&this.isWalkableAt(d+1,o+1)&&c.push(_e[o+1][d+1]),j&&this.isWalkableAt(d-1,o+1)&&c.push(_e[o+1][d-1]),c};Grid.prototype.clone=function(){var e,_,d=this.width,o=this.height,c=this.nodes,s=new Grid(d,o),h=new Array(o);for(e=0;e<o;++e)for(h[e]=new Array(d),_=0;_<d;++_)h[e][_]=new Node$1(_,e,c[e][_].walkable);return s.nodes=h,s};var Grid_1=Grid,Util$5={};function backtrace(e){for(var _=[[e.x,e.y]];e.parent;)e=e.parent,_.push([e.x,e.y]);return _.reverse()}Util$5.backtrace=backtrace;function biBacktrace(e,_){var d=backtrace(e),o=backtrace(_);return d.concat(o.reverse())}Util$5.biBacktrace=biBacktrace;function pathLength(e){var _,d=0,o,c,s,h;for(_=1;_<e.length;++_)o=e[_-1],c=e[_],s=o[0]-c[0],h=o[1]-c[1],d+=Math.sqrt(s*s+h*h);return d}Util$5.pathLength=pathLength;function interpolate(e,_,d,o){var c=Math.abs,s=[],h,f,g,b,k,$;for(g=c(d-e),b=c(o-_),h=e<d?1:-1,f=_<o?1:-1,k=g-b;s.push([e,_]),!(e===d&&_===o);)$=2*k,$>-b&&(k=k-b,e=e+h),$<g&&(k=k+g,_=_+f);return s}Util$5.interpolate=interpolate;function expandPath(e){var _=[],d=e.length,o,c,s,h,f,g;if(d<2)return _;for(f=0;f<d-1;++f)for(o=e[f],c=e[f+1],s=interpolate(o[0],o[1],c[0],c[1]),h=s.length,g=0;g<h-1;++g)_.push(s[g]);return _.push(e[d-1]),_}Util$5.expandPath=expandPath;function smoothenPath(e,_){var d=_.length,o=_[0][0],c=_[0][1],s=_[d-1][0],h=_[d-1][1],f,g,b,k,$,j,_e,et,nt,rt,tt;for(f=o,g=c,$=[[f,g]],j=2;j<d;++j){for(et=_[j],b=et[0],k=et[1],nt=interpolate(f,g,b,k),tt=!1,_e=1;_e<nt.length;++_e)if(rt=nt[_e],!e.isWalkableAt(rt[0],rt[1])){tt=!0;break}tt&&(lastValidCoord=_[j-1],$.push(lastValidCoord),f=lastValidCoord[0],g=lastValidCoord[1])}return $.push([s,h]),$}Util$5.smoothenPath=smoothenPath;function compressPath(e){if(e.length<3)return e;var _=[],d=e[0][0],o=e[0][1],c=e[1][0],s=e[1][1],h=c-d,f=s-o,g,b,k,$,j,_e;for(j=Math.sqrt(h*h+f*f),h/=j,f/=j,_.push([d,o]),_e=2;_e<e.length;_e++)g=c,b=s,k=h,$=f,c=e[_e][0],s=e[_e][1],h=c-g,f=s-b,j=Math.sqrt(h*h+f*f),h/=j,f/=j,(h!==k||f!==$)&&_.push([g,b]);return _.push([c,s]),_}Util$5.compressPath=compressPath;var Heuristic$4={manhattan:function(e,_){return e+_},euclidean:function(e,_){return Math.sqrt(e*e+_*_)},octile:function(e,_){var d=Math.SQRT2-1;return e<_?d*e+_:d*_+e},chebyshev:function(e,_){return Math.max(e,_)}},Heap$2=heap,Util$4=Util$5,Heuristic$3=Heuristic$4,DiagonalMovement$9=DiagonalMovement_1;function AStarFinder$2(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.heuristic=e.heuristic||Heuristic$3.manhattan,this.weight=e.weight||1,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=DiagonalMovement$9.OnlyWhenNoObstacles:this.diagonalMovement=DiagonalMovement$9.IfAtMostOneObstacle:this.diagonalMovement=DiagonalMovement$9.Never),this.diagonalMovement===DiagonalMovement$9.Never?this.heuristic=e.heuristic||Heuristic$3.manhattan:this.heuristic=e.heuristic||Heuristic$3.octile}AStarFinder$2.prototype.findPath=function(e,_,d,o,c){var s=new Heap$2(function(_t,ut){return _t.f-ut.f}),h=c.getNodeAt(e,_),f=c.getNodeAt(d,o),g=this.heuristic,b=this.diagonalMovement,k=this.weight,$=Math.abs,j=Math.SQRT2,_e,et,nt,rt,tt,it,st,at;for(h.g=0,h.f=0,s.push(h),h.opened=!0;!s.empty();){if(_e=s.pop(),_e.closed=!0,_e===f)return Util$4.backtrace(f);for(et=c.getNeighbors(_e,b),rt=0,tt=et.length;rt<tt;++rt)nt=et[rt],!nt.closed&&(it=nt.x,st=nt.y,at=_e.g+(it-_e.x===0||st-_e.y===0?1:j),(!nt.opened||at<nt.g)&&(nt.g=at,nt.h=nt.h||k*g($(it-d),$(st-o)),nt.f=nt.g+nt.h,nt.parent=_e,nt.opened?s.updateItem(nt):(s.push(nt),nt.opened=!0)))}return[]};var AStarFinder_1=AStarFinder$2,AStarFinder$1=AStarFinder_1;function BestFirstFinder(e){AStarFinder$1.call(this,e);var _=this.heuristic;this.heuristic=function(d,o){return _(d,o)*1e6}}BestFirstFinder.prototype=new AStarFinder$1;BestFirstFinder.prototype.constructor=BestFirstFinder;var BestFirstFinder_1=BestFirstFinder,Util$3=Util$5,DiagonalMovement$8=DiagonalMovement_1;function BreadthFirstFinder(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=DiagonalMovement$8.OnlyWhenNoObstacles:this.diagonalMovement=DiagonalMovement$8.IfAtMostOneObstacle:this.diagonalMovement=DiagonalMovement$8.Never)}BreadthFirstFinder.prototype.findPath=function(e,_,d,o,c){var s=[],h=this.diagonalMovement,f=c.getNodeAt(e,_),g=c.getNodeAt(d,o),b,k,$,j,_e;for(s.push(f),f.opened=!0;s.length;){if($=s.shift(),$.closed=!0,$===g)return Util$3.backtrace(g);for(b=c.getNeighbors($,h),j=0,_e=b.length;j<_e;++j)k=b[j],!(k.closed||k.opened)&&(s.push(k),k.opened=!0,k.parent=$)}return[]};var BreadthFirstFinder_1=BreadthFirstFinder,AStarFinder=AStarFinder_1;function DijkstraFinder(e){AStarFinder.call(this,e),this.heuristic=function(_,d){return 0}}DijkstraFinder.prototype=new AStarFinder;DijkstraFinder.prototype.constructor=DijkstraFinder;var DijkstraFinder_1=DijkstraFinder,Heap$1=heap,Util$2=Util$5,Heuristic$2=Heuristic$4,DiagonalMovement$7=DiagonalMovement_1;function BiAStarFinder$2(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||Heuristic$2.manhattan,this.weight=e.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=DiagonalMovement$7.OnlyWhenNoObstacles:this.diagonalMovement=DiagonalMovement$7.IfAtMostOneObstacle:this.diagonalMovement=DiagonalMovement$7.Never),this.diagonalMovement===DiagonalMovement$7.Never?this.heuristic=e.heuristic||Heuristic$2.manhattan:this.heuristic=e.heuristic||Heuristic$2.octile}BiAStarFinder$2.prototype.findPath=function(e,_,d,o,c){var s=function(ft,ht){return ft.f-ht.f},h=new Heap$1(s),f=new Heap$1(s),g=c.getNodeAt(e,_),b=c.getNodeAt(d,o),k=this.heuristic,$=this.diagonalMovement,j=this.weight,_e=Math.abs,et=Math.SQRT2,nt,rt,tt,it,st,at,_t,ut,ot=1,lt=2;for(g.g=0,g.f=0,h.push(g),g.opened=ot,b.g=0,b.f=0,f.push(b),b.opened=lt;!h.empty()&&!f.empty();){for(nt=h.pop(),nt.closed=!0,rt=c.getNeighbors(nt,$),it=0,st=rt.length;it<st;++it)if(tt=rt[it],!tt.closed){if(tt.opened===lt)return Util$2.biBacktrace(nt,tt);at=tt.x,_t=tt.y,ut=nt.g+(at-nt.x===0||_t-nt.y===0?1:et),(!tt.opened||ut<tt.g)&&(tt.g=ut,tt.h=tt.h||j*k(_e(at-d),_e(_t-o)),tt.f=tt.g+tt.h,tt.parent=nt,tt.opened?h.updateItem(tt):(h.push(tt),tt.opened=ot))}for(nt=f.pop(),nt.closed=!0,rt=c.getNeighbors(nt,$),it=0,st=rt.length;it<st;++it)if(tt=rt[it],!tt.closed){if(tt.opened===ot)return Util$2.biBacktrace(tt,nt);at=tt.x,_t=tt.y,ut=nt.g+(at-nt.x===0||_t-nt.y===0?1:et),(!tt.opened||ut<tt.g)&&(tt.g=ut,tt.h=tt.h||j*k(_e(at-e),_e(_t-_)),tt.f=tt.g+tt.h,tt.parent=nt,tt.opened?f.updateItem(tt):(f.push(tt),tt.opened=lt))}}return[]};var BiAStarFinder_1=BiAStarFinder$2,BiAStarFinder$1=BiAStarFinder_1;function BiBestFirstFinder(e){BiAStarFinder$1.call(this,e);var _=this.heuristic;this.heuristic=function(d,o){return _(d,o)*1e6}}BiBestFirstFinder.prototype=new BiAStarFinder$1;BiBestFirstFinder.prototype.constructor=BiBestFirstFinder;var BiBestFirstFinder_1=BiBestFirstFinder,Util$1=Util$5,DiagonalMovement$6=DiagonalMovement_1;function BiBreadthFirstFinder(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=DiagonalMovement$6.OnlyWhenNoObstacles:this.diagonalMovement=DiagonalMovement$6.IfAtMostOneObstacle:this.diagonalMovement=DiagonalMovement$6.Never)}BiBreadthFirstFinder.prototype.findPath=function(e,_,d,o,c){var s=c.getNodeAt(e,_),h=c.getNodeAt(d,o),f=[],g=[],b,k,$,j=this.diagonalMovement,_e=0,et=1,nt,rt;for(f.push(s),s.opened=!0,s.by=_e,g.push(h),h.opened=!0,h.by=et;f.length&&g.length;){for($=f.shift(),$.closed=!0,b=c.getNeighbors($,j),nt=0,rt=b.length;nt<rt;++nt)if(k=b[nt],!k.closed){if(k.opened){if(k.by===et)return Util$1.biBacktrace($,k);continue}f.push(k),k.parent=$,k.opened=!0,k.by=_e}for($=g.shift(),$.closed=!0,b=c.getNeighbors($,j),nt=0,rt=b.length;nt<rt;++nt)if(k=b[nt],!k.closed){if(k.opened){if(k.by===_e)return Util$1.biBacktrace(k,$);continue}g.push(k),k.parent=$,k.opened=!0,k.by=et}}return[]};var BiBreadthFirstFinder_1=BiBreadthFirstFinder,BiAStarFinder=BiAStarFinder_1;function BiDijkstraFinder(e){BiAStarFinder.call(this,e),this.heuristic=function(_,d){return 0}}BiDijkstraFinder.prototype=new BiAStarFinder;BiDijkstraFinder.prototype.constructor=BiDijkstraFinder;var BiDijkstraFinder_1=BiDijkstraFinder,Heuristic$1=Heuristic$4,Node=Node_1,DiagonalMovement$5=DiagonalMovement_1;function IDAStarFinder(e){e=e||{},this.allowDiagonal=e.allowDiagonal,this.dontCrossCorners=e.dontCrossCorners,this.diagonalMovement=e.diagonalMovement,this.heuristic=e.heuristic||Heuristic$1.manhattan,this.weight=e.weight||1,this.trackRecursion=e.trackRecursion||!1,this.timeLimit=e.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=DiagonalMovement$5.OnlyWhenNoObstacles:this.diagonalMovement=DiagonalMovement$5.IfAtMostOneObstacle:this.diagonalMovement=DiagonalMovement$5.Never),this.diagonalMovement===DiagonalMovement$5.Never?this.heuristic=e.heuristic||Heuristic$1.manhattan:this.heuristic=e.heuristic||Heuristic$1.octile}IDAStarFinder.prototype.findPath=function(e,_,d,o,c){var s=new Date().getTime(),h=(function(nt,rt){return this.heuristic(Math.abs(rt.x-nt.x),Math.abs(rt.y-nt.y))}).bind(this),f=function(nt,rt){return nt.x===rt.x||nt.y===rt.y?1:Math.SQRT2},g=(function(nt,rt,tt,it,st){if(this.timeLimit>0&&new Date().getTime()-s>this.timeLimit*1e3)return 1/0;var at=rt+h(nt,k)*this.weight;if(at>tt)return at;if(nt==k)return it[st]=[nt.x,nt.y],nt;var _t,ut,ot,lt,ft=c.getNeighbors(nt,this.diagonalMovement);for(ot=0,_t=1/0;lt=ft[ot];++ot){if(this.trackRecursion&&(lt.retainCount=lt.retainCount+1||1,lt.tested!==!0&&(lt.tested=!0)),ut=g(lt,rt+f(nt,lt),tt,it,st+1),ut instanceof Node)return it[st]=[nt.x,nt.y],ut;this.trackRecursion&&--lt.retainCount===0&&(lt.tested=!1),ut<_t&&(_t=ut)}return _t}).bind(this),b=c.getNodeAt(e,_),k=c.getNodeAt(d,o),$=h(b,k),j,_e,et;for(j=0;;++j){if(_e=[],et=g(b,0,$,_e,0),et===1/0)return[];if(et instanceof Node)return _e;$=et}return[]};var IDAStarFinder_1=IDAStarFinder,Heap=heap,Util=Util$5,Heuristic=Heuristic$4;function JumpPointFinderBase$4(e){e=e||{},this.heuristic=e.heuristic||Heuristic.manhattan,this.trackJumpRecursion=e.trackJumpRecursion||!1}JumpPointFinderBase$4.prototype.findPath=function(e,_,d,o,c){var s=this.openList=new Heap(function(b,k){return b.f-k.f}),h=this.startNode=c.getNodeAt(e,_),f=this.endNode=c.getNodeAt(d,o),g;for(this.grid=c,h.g=0,h.f=0,s.push(h),h.opened=!0;!s.empty();){if(g=s.pop(),g.closed=!0,g===f)return Util.expandPath(Util.backtrace(f));this._identifySuccessors(g)}return[]};JumpPointFinderBase$4.prototype._identifySuccessors=function(e){var _=this.grid,d=this.heuristic,o=this.openList,c=this.endNode.x,s=this.endNode.y,h,f,g,b,k,$=e.x,j=e.y,_e,et,nt,rt,tt,it=Math.abs;for(h=this._findNeighbors(e),b=0,k=h.length;b<k;++b)if(f=h[b],g=this._jump(f[0],f[1],$,j),g){if(_e=g[0],et=g[1],tt=_.getNodeAt(_e,et),tt.closed)continue;nt=Heuristic.octile(it(_e-$),it(et-j)),rt=e.g+nt,(!tt.opened||rt<tt.g)&&(tt.g=rt,tt.h=tt.h||d(it(_e-c),it(et-s)),tt.f=tt.g+tt.h,tt.parent=e,tt.opened?o.updateItem(tt):(o.push(tt),tt.opened=!0))}};var JumpPointFinderBase_1=JumpPointFinderBase$4,JumpPointFinderBase$3=JumpPointFinderBase_1,DiagonalMovement$4=DiagonalMovement_1;function JPFNeverMoveDiagonally$1(e){JumpPointFinderBase$3.call(this,e)}JPFNeverMoveDiagonally$1.prototype=new JumpPointFinderBase$3;JPFNeverMoveDiagonally$1.prototype.constructor=JPFNeverMoveDiagonally$1;JPFNeverMoveDiagonally$1.prototype._jump=function(e,_,d,o){var c=this.grid,s=e-d,h=_-o;if(!c.isWalkableAt(e,_))return null;if(this.trackJumpRecursion===!0&&(c.getNodeAt(e,_).tested=!0),c.getNodeAt(e,_)===this.endNode)return[e,_];if(s!==0){if(c.isWalkableAt(e,_-1)&&!c.isWalkableAt(e-s,_-1)||c.isWalkableAt(e,_+1)&&!c.isWalkableAt(e-s,_+1))return[e,_]}else if(h!==0){if(c.isWalkableAt(e-1,_)&&!c.isWalkableAt(e-1,_-h)||c.isWalkableAt(e+1,_)&&!c.isWalkableAt(e+1,_-h))return[e,_];if(this._jump(e+1,_,e,_)||this._jump(e-1,_,e,_))return[e,_]}else throw new Error("Only horizontal and vertical movements are allowed");return this._jump(e+s,_+h,e,_)};JPFNeverMoveDiagonally$1.prototype._findNeighbors=function(e){var _=e.parent,d=e.x,o=e.y,c=this.grid,s,h,f,g,b=[],k,$,j,_e;if(_)s=_.x,h=_.y,f=(d-s)/Math.max(Math.abs(d-s),1),g=(o-h)/Math.max(Math.abs(o-h),1),f!==0?(c.isWalkableAt(d,o-1)&&b.push([d,o-1]),c.isWalkableAt(d,o+1)&&b.push([d,o+1]),c.isWalkableAt(d+f,o)&&b.push([d+f,o])):g!==0&&(c.isWalkableAt(d-1,o)&&b.push([d-1,o]),c.isWalkableAt(d+1,o)&&b.push([d+1,o]),c.isWalkableAt(d,o+g)&&b.push([d,o+g]));else for(k=c.getNeighbors(e,DiagonalMovement$4.Never),j=0,_e=k.length;j<_e;++j)$=k[j],b.push([$.x,$.y]);return b};var JPFNeverMoveDiagonally_1=JPFNeverMoveDiagonally$1,JumpPointFinderBase$2=JumpPointFinderBase_1,DiagonalMovement$3=DiagonalMovement_1;function JPFAlwaysMoveDiagonally$1(e){JumpPointFinderBase$2.call(this,e)}JPFAlwaysMoveDiagonally$1.prototype=new JumpPointFinderBase$2;JPFAlwaysMoveDiagonally$1.prototype.constructor=JPFAlwaysMoveDiagonally$1;JPFAlwaysMoveDiagonally$1.prototype._jump=function(e,_,d,o){var c=this.grid,s=e-d,h=_-o;if(!c.isWalkableAt(e,_))return null;if(this.trackJumpRecursion===!0&&(c.getNodeAt(e,_).tested=!0),c.getNodeAt(e,_)===this.endNode)return[e,_];if(s!==0&&h!==0){if(c.isWalkableAt(e-s,_+h)&&!c.isWalkableAt(e-s,_)||c.isWalkableAt(e+s,_-h)&&!c.isWalkableAt(e,_-h))return[e,_];if(this._jump(e+s,_,e,_)||this._jump(e,_+h,e,_))return[e,_]}else if(s!==0){if(c.isWalkableAt(e+s,_+1)&&!c.isWalkableAt(e,_+1)||c.isWalkableAt(e+s,_-1)&&!c.isWalkableAt(e,_-1))return[e,_]}else if(c.isWalkableAt(e+1,_+h)&&!c.isWalkableAt(e+1,_)||c.isWalkableAt(e-1,_+h)&&!c.isWalkableAt(e-1,_))return[e,_];return this._jump(e+s,_+h,e,_)};JPFAlwaysMoveDiagonally$1.prototype._findNeighbors=function(e){var _=e.parent,d=e.x,o=e.y,c=this.grid,s,h,f,g,b=[],k,$,j,_e;if(_)s=_.x,h=_.y,f=(d-s)/Math.max(Math.abs(d-s),1),g=(o-h)/Math.max(Math.abs(o-h),1),f!==0&&g!==0?(c.isWalkableAt(d,o+g)&&b.push([d,o+g]),c.isWalkableAt(d+f,o)&&b.push([d+f,o]),c.isWalkableAt(d+f,o+g)&&b.push([d+f,o+g]),c.isWalkableAt(d-f,o)||b.push([d-f,o+g]),c.isWalkableAt(d,o-g)||b.push([d+f,o-g])):f===0?(c.isWalkableAt(d,o+g)&&b.push([d,o+g]),c.isWalkableAt(d+1,o)||b.push([d+1,o+g]),c.isWalkableAt(d-1,o)||b.push([d-1,o+g])):(c.isWalkableAt(d+f,o)&&b.push([d+f,o]),c.isWalkableAt(d,o+1)||b.push([d+f,o+1]),c.isWalkableAt(d,o-1)||b.push([d+f,o-1]));else for(k=c.getNeighbors(e,DiagonalMovement$3.Always),j=0,_e=k.length;j<_e;++j)$=k[j],b.push([$.x,$.y]);return b};var JPFAlwaysMoveDiagonally_1=JPFAlwaysMoveDiagonally$1,JumpPointFinderBase$1=JumpPointFinderBase_1,DiagonalMovement$2=DiagonalMovement_1;function JPFMoveDiagonallyIfNoObstacles$1(e){JumpPointFinderBase$1.call(this,e)}JPFMoveDiagonallyIfNoObstacles$1.prototype=new JumpPointFinderBase$1;JPFMoveDiagonallyIfNoObstacles$1.prototype.constructor=JPFMoveDiagonallyIfNoObstacles$1;JPFMoveDiagonallyIfNoObstacles$1.prototype._jump=function(e,_,d,o){var c=this.grid,s=e-d,h=_-o;if(!c.isWalkableAt(e,_))return null;if(this.trackJumpRecursion===!0&&(c.getNodeAt(e,_).tested=!0),c.getNodeAt(e,_)===this.endNode)return[e,_];if(s!==0&&h!==0){if(this._jump(e+s,_,e,_)||this._jump(e,_+h,e,_))return[e,_]}else if(s!==0){if(c.isWalkableAt(e,_-1)&&!c.isWalkableAt(e-s,_-1)||c.isWalkableAt(e,_+1)&&!c.isWalkableAt(e-s,_+1))return[e,_]}else if(h!==0&&(c.isWalkableAt(e-1,_)&&!c.isWalkableAt(e-1,_-h)||c.isWalkableAt(e+1,_)&&!c.isWalkableAt(e+1,_-h)))return[e,_];return c.isWalkableAt(e+s,_)&&c.isWalkableAt(e,_+h)?this._jump(e+s,_+h,e,_):null};JPFMoveDiagonallyIfNoObstacles$1.prototype._findNeighbors=function(e){var _=e.parent,d=e.x,o=e.y,c=this.grid,s,h,f,g,b=[],k,$,j,_e;if(_)if(s=_.x,h=_.y,f=(d-s)/Math.max(Math.abs(d-s),1),g=(o-h)/Math.max(Math.abs(o-h),1),f!==0&&g!==0)c.isWalkableAt(d,o+g)&&b.push([d,o+g]),c.isWalkableAt(d+f,o)&&b.push([d+f,o]),c.isWalkableAt(d,o+g)&&c.isWalkableAt(d+f,o)&&b.push([d+f,o+g]);else{var et;if(f!==0){et=c.isWalkableAt(d+f,o);var nt=c.isWalkableAt(d,o+1),rt=c.isWalkableAt(d,o-1);et&&(b.push([d+f,o]),nt&&b.push([d+f,o+1]),rt&&b.push([d+f,o-1])),nt&&b.push([d,o+1]),rt&&b.push([d,o-1])}else if(g!==0){et=c.isWalkableAt(d,o+g);var tt=c.isWalkableAt(d+1,o),it=c.isWalkableAt(d-1,o);et&&(b.push([d,o+g]),tt&&b.push([d+1,o+g]),it&&b.push([d-1,o+g])),tt&&b.push([d+1,o]),it&&b.push([d-1,o])}}else for(k=c.getNeighbors(e,DiagonalMovement$2.OnlyWhenNoObstacles),j=0,_e=k.length;j<_e;++j)$=k[j],b.push([$.x,$.y]);return b};var JPFMoveDiagonallyIfNoObstacles_1=JPFMoveDiagonallyIfNoObstacles$1,JumpPointFinderBase=JumpPointFinderBase_1,DiagonalMovement$1=DiagonalMovement_1;function JPFMoveDiagonallyIfAtMostOneObstacle$1(e){JumpPointFinderBase.call(this,e)}JPFMoveDiagonallyIfAtMostOneObstacle$1.prototype=new JumpPointFinderBase;JPFMoveDiagonallyIfAtMostOneObstacle$1.prototype.constructor=JPFMoveDiagonallyIfAtMostOneObstacle$1;JPFMoveDiagonallyIfAtMostOneObstacle$1.prototype._jump=function(e,_,d,o){var c=this.grid,s=e-d,h=_-o;if(!c.isWalkableAt(e,_))return null;if(this.trackJumpRecursion===!0&&(c.getNodeAt(e,_).tested=!0),c.getNodeAt(e,_)===this.endNode)return[e,_];if(s!==0&&h!==0){if(c.isWalkableAt(e-s,_+h)&&!c.isWalkableAt(e-s,_)||c.isWalkableAt(e+s,_-h)&&!c.isWalkableAt(e,_-h))return[e,_];if(this._jump(e+s,_,e,_)||this._jump(e,_+h,e,_))return[e,_]}else if(s!==0){if(c.isWalkableAt(e+s,_+1)&&!c.isWalkableAt(e,_+1)||c.isWalkableAt(e+s,_-1)&&!c.isWalkableAt(e,_-1))return[e,_]}else if(c.isWalkableAt(e+1,_+h)&&!c.isWalkableAt(e+1,_)||c.isWalkableAt(e-1,_+h)&&!c.isWalkableAt(e-1,_))return[e,_];return c.isWalkableAt(e+s,_)||c.isWalkableAt(e,_+h)?this._jump(e+s,_+h,e,_):null};JPFMoveDiagonallyIfAtMostOneObstacle$1.prototype._findNeighbors=function(e){var _=e.parent,d=e.x,o=e.y,c=this.grid,s,h,f,g,b=[],k,$,j,_e;if(_)s=_.x,h=_.y,f=(d-s)/Math.max(Math.abs(d-s),1),g=(o-h)/Math.max(Math.abs(o-h),1),f!==0&&g!==0?(c.isWalkableAt(d,o+g)&&b.push([d,o+g]),c.isWalkableAt(d+f,o)&&b.push([d+f,o]),(c.isWalkableAt(d,o+g)||c.isWalkableAt(d+f,o))&&b.push([d+f,o+g]),!c.isWalkableAt(d-f,o)&&c.isWalkableAt(d,o+g)&&b.push([d-f,o+g]),!c.isWalkableAt(d,o-g)&&c.isWalkableAt(d+f,o)&&b.push([d+f,o-g])):f===0?c.isWalkableAt(d,o+g)&&(b.push([d,o+g]),c.isWalkableAt(d+1,o)||b.push([d+1,o+g]),c.isWalkableAt(d-1,o)||b.push([d-1,o+g])):c.isWalkableAt(d+f,o)&&(b.push([d+f,o]),c.isWalkableAt(d,o+1)||b.push([d+f,o+1]),c.isWalkableAt(d,o-1)||b.push([d+f,o-1]));else for(k=c.getNeighbors(e,DiagonalMovement$1.IfAtMostOneObstacle),j=0,_e=k.length;j<_e;++j)$=k[j],b.push([$.x,$.y]);return b};var JPFMoveDiagonallyIfAtMostOneObstacle_1=JPFMoveDiagonallyIfAtMostOneObstacle$1,DiagonalMovement=DiagonalMovement_1,JPFNeverMoveDiagonally=JPFNeverMoveDiagonally_1,JPFAlwaysMoveDiagonally=JPFAlwaysMoveDiagonally_1,JPFMoveDiagonallyIfNoObstacles=JPFMoveDiagonallyIfNoObstacles_1,JPFMoveDiagonallyIfAtMostOneObstacle=JPFMoveDiagonallyIfAtMostOneObstacle_1;function JumpPointFinder(e){return e=e||{},e.diagonalMovement===DiagonalMovement.Never?new JPFNeverMoveDiagonally(e):e.diagonalMovement===DiagonalMovement.Always?new JPFAlwaysMoveDiagonally(e):e.diagonalMovement===DiagonalMovement.OnlyWhenNoObstacles?new JPFMoveDiagonallyIfNoObstacles(e):new JPFMoveDiagonallyIfAtMostOneObstacle(e)}var JumpPointFinder_1=JumpPointFinder,PathFinding={Heap:heap,Node:Node_1,Grid:Grid_1,Util:Util$5,DiagonalMovement:DiagonalMovement_1,Heuristic:Heuristic$4,AStarFinder:AStarFinder_1,BestFirstFinder:BestFirstFinder_1,BreadthFirstFinder:BreadthFirstFinder_1,DijkstraFinder:DijkstraFinder_1,BiAStarFinder:BiAStarFinder_1,BiBestFirstFinder:BiBestFirstFinder_1,BiBreadthFirstFinder:BiBreadthFirstFinder_1,BiDijkstraFinder:BiDijkstraFinder_1,IDAStarFinder:IDAStarFinder_1,JumpPointFinder:JumpPointFinder_1},pathfinding=PathFinding;const PF=getDefaultExportFromCjs(pathfinding);let Map$1=class{constructor(_,d,o){jt(this,"findPath",(_,d)=>{const o=this.grid.clone();return this.finder.findPath(_.x,_.y,d.x,d.y,o)});jt(this,"add",(_,d,o)=>{_.x=d*this.tileSize,_.y=o*this.tileSize});jt(this,"setWalkableAt",(_,d,o)=>{this.grid.setWalkableAt(_,d,o)});jt(this,"getTilePosition",(_,d)=>({x:_*this.tileSize,y:d*this.tileSize}));jt(this,"getTileCenter",(_,d)=>({x:_*this.tileSize+this.tileSize/2,y:d*this.tileSize+this.tileSize/2}));jt(this,"getTileAt",(_,d)=>({x:Math.floor(_/this.tileSize),y:Math.floor(d/this.tileSize)}));this.tileSize=_,this.width=d,this.height=o,this.finder=new PF.AStarFinder({allowDiagonal:!0,dontCrossCorners:!0}),this.grid=new PF.Grid(this.width,this.height)}};class Path{constructor(_,d,o){jt(this,"findPath",(_,d)=>{this.target=null;const o=this.map.getTileAt(_.x,_.y),c=this.map.getTileAt(d.x,d.y);this.path=this.map.findPath(o,c),this.nextTarget()});jt(this,"nextTarget",()=>{if(this.path.length===0){this.target=null,this.control.stop();return}const _=this.path.shift();this.setTarget(_)});jt(this,"setTarget",_=>{const d={x:_[0],y:_[1]},o=this.map.getTileAt(this.entity.x,this.entity.y),c=this.control.getDirectionToPoint(o,d);this.control.setDirection(c),this.target=this.map.getTileCenter(d.x,d.y),this.control.moveToPoint(this.entity.pos(),this.target)});jt(this,"isAtTarget",()=>M.distance(this.entity.pos(),this.target)<20);jt(this,"update",()=>{this.target&&this.isAtTarget(this.target)&&this.nextTarget()});this.entity=_,this.map=d,this.control=o,this.path=null,this.target=null}}class Collision extends State{constructor(){super();jt(this,"build",()=>{for(let d=0;d<this.map.width;d+=1)this.wall(d,0);for(let d=0;d<this.map.width;d+=1)this.wall(d,this.map.height-1);for(let d=1;d<this.map.height-1;d+=1)this.wall(0,d);for(let d=1;d<this.map.height-1;d+=1)this.wall(this.map.width-1,d);for(let d=1;d<this.map.width-1;d+=1)for(let o=1;o<this.map.height-1;o+=1)Math.random()*10<2?this.wall(d,o):this.floor(d,o)});jt(this,"add",(d,o,c)=>{this.map.add(d,o,c),this.items.push(d),Helper.addEntity(d)});jt(this,"wall",(d=0,o=0)=>{this.add(new Wall$1,d,o),this.map.setWalkableAt(d,o,!1)});jt(this,"floor",(d=0,o=0)=>{const c=new Floor(d,o,s=>{this.target=null,this.path.findPath(this.player,s)});this.add(c,d,o)});jt(this,"enemy",(d,o,c)=>{const s=new EnemyControl,h=new Control(s),f=new Enemy(d,s,CM);f.setPath(new Path(f,this.map,h)),this.add(f,o,c)});jt(this,"update",d=>{this.enemySpawner.update(d),this.path.update(d)});jt(this,"dispose",()=>{Helper.removeEntity(this.p),Helper.removeEntity(this.walls),this.items.forEach(d=>{Helper.removeEntity(d)}),this.items=[],this.control.dispose()});this.items=[],this.control=new Control(CM),this.control.keys(),this.map=new Map$1(32,15,10),this.player=new Droid(CM),this.path=new Path(this.player,this.map,this.control),this.add(this.player,5,5),this.c=Factory.container(),this.c.fill(9674381),this.m=Factory.container(5),this.menu=Factory.menu(),this.m.add(this.menu),this.menu.y=16,this.menu.add(Factory.textButton("reset",()=>{this.items.forEach(d=>{Helper.removeEntity(d)}),this.items=[],Helper.removeType(entityType.PARTICLE),this.build()})),this.enemySpawner=Factory.interval(100,()=>{const d=Math.floor(Math.random()*3)+1,o=Math.floor(Math.random()*(this.map.width-4))+2,c=Math.floor(Math.random()*(this.map.height-4))+2;this.enemy(`collision/enemy${d}.png`,o,c)}),this.build()}}class Wall extends Entity{constructor(d,o){super();jt(this,"init",()=>{const d=Factory.body(!0,1,1,"static"),o=Factory.fixture(1,.99,1,"wall",CollisionType.SUICA,CollisionType.WALL);o.userData={id:"wall",type:entityType.WALL};const c=Factory.planckBox(this.width/2,this.height/2);Helper.createBody(this,c,d,o)});jt(this,"handleCollision",d=>{!d||d.remove});jt(this,"addBody",d=>{this.body=d;const o=Planck.Vec2(this.x+this.width/2,this.y+this.height/2);this.body.setPosition(o)});jt(this,"dispose",()=>{Helper.destroyBody(this.body)});this.view=!0,this.layer=2,this.physics=!0,this.fixed=!0,this.type=entityType.WALL,this.categoryBits=entityType.WALL,this.s=Factory.shape(0,0,0),this.s.rectangle(d,o),this.addChild(this.s)}}class Ball extends Entity{constructor(d,o,c="dynamic"){super();jt(this,"init",()=>{const d=this.bodyType==="dynamic"?CollisionType.WALL|CollisionType.SUICA:CollisionType.SUICA,o=Factory.body(!1,5,5,this.bodyType),c=Factory.fixture(0,0,0,this.id,d,CollisionType.SUICA,!1);c.userData={id:this.id,level:this.level,type:entityType.SUICA};const s=Factory.planckCircle(this.level/2,2);setTimeout(()=>{Helper.createBody(this,s,o,c)},0)});jt(this,"vel",(d,o)=>{this.velocity=Planck.Vec2(d*this.speed,o*this.speed)});jt(this,"addBody",d=>{this.body=d;let o=Planck.Vec2(this.x,this.y);this.body.setPosition(o),this.body.setLinearVelocity(this.velocity)});jt(this,"update",d=>{if(!this.body)return;let o=this.body.getPosition();this.x=o.x,this.y=o.y,(this.x<0||this.y<-50||this.x>S.width||this.y>S.height)&&(this.remove=!0)});jt(this,"dispose",()=>{this.removeBody()});this.type=entityType.SUICA,this.speed=20,this.damage=10,this.render=!0,this.velocity=1,this.level=d,this.bodyType=c;const s=new openfl.Sprite;this.addChild(s),this.s=Factory.shape(0,12330803,1),this.s.circle(d/2+1,o),s.addChild(this.s);const h=new Text(d.toString(),Font.F,10);h.x=-h.width/2,h.y=-h.height/2}}class Suica extends State{constructor(){super();jt(this,"onCollision",d=>{if(d.uA.type===entityType.SUICA&&d.uB.type===entityType.SUICA){const h=this.balls[d.uA.id],f=this.balls[d.uB.id];if(!h||!f||h.level!==f.level||h.remove||f.remove)return;h.remove=!0,f.remove=!0,h.removeBody(),f.removeBody();const g=h.level+1,b={x:(h.x+f.x)/2,y:(h.y+f.y)/2},k=0;this.addBall(g,b,k);return}const o=d.uA.type===entityType.SUICA?this.balls[d.uA.id]:this.balls[d.uB.id];if(!o||o.remove)return;const c={x:o.x,y:o.y},s=o.level;o.remove=!0,o.removeBody(),setTimeout(()=>{let h=new Ball(s,16777215,"static");const f=entityType.SUICA+this.counter;h.id=f,h.x=c.x,h.y=c.y,Helper.addEntity(h),this.balls[f]=h,this.counter++},10)});jt(this,"addBall",(d,o,c)=>{let s=new Ball(d,16777215);s.id=entityType.SUICA+this.counter,s.x=o.x,s.y=o.y;let h=1.5*Math.PI;const f=c*Math.cos(h),g=c*Math.sin(h);s.vel(f,g),Helper.addEntity(s),this.balls[s.id]=s,this.counter++});jt(this,"wall",(d,o,c,s)=>{const h=new Wall(c,s);h.x=d,h.y=o,Helper.addEntity(h),this.entities.push(h)});jt(this,"clear",()=>{this.entities.forEach(d=>{d.parent.removeChild(d)}),this.entities=[],clearInterval(this.interval)});jt(this,"update",()=>{this.entities.forEach(d=>{d.update()})});jt(this,"dispose",()=>{this.clear(),Helper.removeEntity(this.container),Helper.removeEntity(this.menu)});this.entities=[],this.container=Factory.container(s=>{const h={x:s.stageX/S.scale,y:s.stageY/S.scale};this.addBall(1,h,4)}),this.menu=Factory.menu(),this.container.add(this.menu),this.map=new Map$1(32,10,10),this.counter=0,this.menu.y=S.height-this.menu.height,this.container.center(),this.balls={},this.s=Factory.shape(0,12330803,1),this.s.rectangle(S.width,S.height),this.s.x=-S.width/2,this.s.y=-S.height/2,this.container.add(this.s);const d=10;this.wall(0,S.height-d,S.width,d),this.wall(0,0,d,S.height-d),this.wall(S.width-d,0,d,S.height-d),bus.subscribe(MessageType.COLLISION,this.onCollision),setInterval(()=>{this.addBall(1,{x:Math.random()*(S.width-d*3)+d*1.5,y:-10},Math.floor(10*Math.random()+3))},1e3/A.fps);const o=new Text("Julafton");o.y=-d+o.height/2-20,o.x=-o.width/2;const c=new Text("2023");c.y=-d+c.height/2+o.height-20,c.x=-c.width/2,this.container.add(o),this.container.add(c),this.container.centerContent()}}class States{constructor(){jt(this,"onSetStateMessage",_=>{this.sm.set(_)});jt(this,"onSetScale",()=>{this.sm.reload()});bus.subscribe(MessageType.SET_STATE,this.onSetStateMessage),bus.subscribe(MessageType.SET_SCALE,this.onSetScale),this.sm=Factory.stateMachine(),this.sm.add(AppState.DRAW,()=>{this.state=new Draw,Helper.addEntity(this.state)},()=>{Helper.removeEntity(this.state)}),this.sm.add(AppState.FIBONACCI,()=>{this.state=new Fibonacci,Helper.addEntity(this.state)},()=>{Helper.removeEntity(this.state)}),this.sm.add(AppState.COLLISION,()=>{this.state=new Collision,Helper.addEntity(this.state)},()=>{Helper.removeEntity(this.state)}),this.sm.add(AppState.Suica,()=>{this.state=new Suica,Helper.addEntity(this.state)},()=>{Helper.removeEntity(this.state)})}}class Input extends Entity{constructor(){super();jt(this,"init",()=>{this.stage.addEventListener(KeyboardEvent$1.KEY_DOWN,this.onKeyDown),this.stage.addEventListener(KeyboardEvent$1.KEY_UP,this.onKeyUp)});jt(this,"onKeyDown",d=>{const{keyCode:o}=d;Key.down(o),bus.dispatch(MessageType.KEY_DOWN,o)});jt(this,"onKeyUp",d=>{const{keyCode:o}=d;Key.up(o),bus.dispatch(MessageType.KEY_UP,o)});jt(this,"onEnableKeys",d=>{if(this.keyTarget&&(this.keyTarget.disableKeyNavigation(),d===this.keyTarget)){this.keyTarget=null;return}this.keyTarget=d,this.keyTarget.enableKeyNavigation()});jt(this,"onDisableKeys",()=>{this.keyTarget&&(this.keyTarget.disableKeyNavigation(),this.keyTarget=null)});this.view=!0,this.keyTarget=null,bus.subscribe(MessageType.ENABLE_KEYS,this.onEnableKeys),bus.subscribe(MessageType.DISABLE_KEYS,this.onDisableKeys)}}let Game$1=class extends Sprite$1{constructor(){super(),this.view=new View,this.engine=new Engine(this.view),this.states=new States,this.addChild(this.view),this.engine.start(),Helper.addEntity(new Physics),Helper.addEntity(new Input),Helper.setState(AppState.FIBONACCI)}};class Load extends openfl.Sprite{init(_){S.windowWidth=window.innerWidth,S.windowHeight=window.innerHeight,S.width=S.windowWidth/S.scale,S.height=S.windowHeight/S.scale;const d=new openfl.AssetManifest;d.addBitmapData("assets/pause.png"),d.addBitmapData("assets/resume.png"),d.addBitmapData("assets/collision/chest.png"),d.addBitmapData("assets/collision/hover.png"),d.addBitmapData("assets/collision/ring.png"),d.addBitmapData("assets/collision/projectile.png"),d.addBitmapData("assets/collision/enemy3.png"),d.addBitmapData("assets/collision/enemy3_death.png"),d.addBitmapData("assets/collision/enemy2.png"),d.addBitmapData("assets/collision/enemy2_death.png"),d.addBitmapData("assets/collision/enemy1.png"),d.addBitmapData("assets/collision/enemy1_death.png"),d.addBitmapData("assets/collision/gubb.png"),d.addBitmapData("assets/collision/enemy.png"),d.addBitmapData("assets/collision/wall.png"),d.addBitmapData("assets/cabin/kettle.png"),d.addBitmapData("assets/cabin/table0.png"),d.addBitmapData("assets/cabin/table1.png"),d.addBitmapData("assets/cabin/table2.png"),d.addBitmapData("assets/cabin/door0.png"),d.addBitmapData("assets/cabin/door1.png"),d.addBitmapData("assets/cabin/door2.png"),d.addBitmapData("assets/cabin/divide.png"),d.addBitmapData("assets/cabin/window0.png"),d.addBitmapData("assets/cabin/kitchen0.png"),d.addBitmapData("assets/cabin/kitchen1.png"),d.addBitmapData("assets/cabin/kitchen2.png"),d.addBitmapData("assets/cabin/kitchen3.png"),d.addBitmapData("assets/cabin/chimney3.png"),d.addBitmapData("assets/cabin/chimney2.png"),d.addBitmapData("assets/cabin/chimney1.png"),d.addBitmapData("assets/cabin/chimney0.png"),d.addBitmapData("assets/cabin/chimney.png"),d.addBitmapData("assets/cabin/bricks0.png"),d.addBitmapData("assets/cabin/bricks1.png"),d.addBitmapData("assets/cabin/bricks2.png"),d.addBitmapData("assets/cabin/ugn.png"),d.addBitmapData("assets/cabin/border.png"),d.addBitmapData("assets/cabin/wall.png"),d.addBitmapData("assets/cabin/wall2.png"),d.addBitmapData("assets/cabin/wall3.png"),d.addBitmapData("assets/cabin/wall4.png"),d.addBitmapData("assets/cabin/floor.png"),d.addBitmapData("assets/forest/logs.png"),d.addBitmapData("assets/forest/bushes.png"),d.addBitmapData("assets/forest/flowers.png"),d.addBitmapData("assets/forest/flowers2.png"),d.addBitmapData("assets/forest/grass.png"),d.addBitmapData("assets/forest/mushrooms.png"),d.addBitmapData("assets/forest/stones.png"),d.addBitmapData("assets/forest/stubs.png"),d.addBitmapData("assets/forest/tree_leaves.png"),d.addBitmapData("assets/forest/tree_stem.png"),d.addBitmapData("assets/forest/twigs.png"),d.addBitmapData("assets/hex/box_colors.png"),d.addBitmapData("assets/hex/j.jpg"),d.addBitmapData("assets/particle.png"),d.addBitmapData("assets/hex/hex_0.png"),d.addBitmapData("assets/hex/hex_1.png"),d.addBitmapData("assets/hex/hex_2.png"),d.addBitmapData("assets/tv/tv_idle.png"),d.addBitmapData("assets/tv/tv_walk.png"),d.addBitmapData("assets/tv/small_missile.png"),d.addBitmapData("assets/owl/owl_walk.png"),d.addBitmapData("assets/owl/owl_idle.png"),d.addBitmapData("assets/owl/owl_shoot.png"),d.addBitmapData("assets/owl/owl_particle.png"),d.addBitmapData("assets/leaf/leaf.png"),d.addBitmapData("assets/leaf/default.png"),d.addBitmapData("assets/leaf/sakura.png"),d.addBitmapData("assets/leaf/rose.png"),d.addBitmapData("assets/grid/btnHighlight.png"),d.addBitmapData("assets/grid/white.png"),d.addBitmapData("assets/grid/dropdown.png"),d.addBitmapData("assets/grid/highlight.png"),d.addBitmapData("assets/grid/border.png"),d.addBitmapData("assets/grid/thin.png"),d.addBitmapData("assets/grid/modal.png"),d.addBitmapData("assets/grid/dark.png"),d.addBitmapData("assets/grid/default.png"),d.addBitmapData("assets/rpg/character/knight.png"),d.addBitmapData("assets/rpg/character/rogue.png"),d.addBitmapData("assets/rpg/character/wizard.png"),d.addBitmapData("assets/caret.png"),d.addBitmapData("assets/handle.png"),d.addBitmapData("assets/transparent.png"),d.addBitmapData("assets/target.png"),d.addFont("04b03","assets/font/04b03.ttf"),d.addFont("OldWizard","assets/font/OldWizard.ttf"),d.addFont("SNESesque","assets/font/SNESesque.ttf"),d.addFont("Akinesia","assets/font/Akinesia.ttf"),d.addFont("Anguish","assets/font/Anguish.ttf"),d.addFont("Attract","assets/font/Attract.ttf"),d.addFont("Awake","assets/font/Awake.ttf"),d.addFont("Beggars","assets/font/Beggars.ttf"),d.addFont("cadillacs-and-dinosaurs","assets/font/cadillacs-and-dinosaurs.ttf"),d.addFont("Coffin","assets/font/Coffin.ttf"),d.addFont("Compassion","assets/font/Compassion.ttf"),d.addFont("Coulrophobia","assets/font/Coulrophobia.ttf"),d.addFont("Dandy","assets/font/Dandy.ttf"),d.addFont("Den","assets/font/Den.ttf"),d.addFont("Dereliction","assets/font/Dereliction.ttf"),d.addFont("DownfallExtended"),d.addFont("Downheartedness"),d.addFont("Eccentric"),d.addFont("Eighties"),d.addFont("Equipment"),d.addFont("EquipmentExtended"),d.addFont("Erosion"),d.addFont("EvenWorse"),d.addFont("Express"),d.addFont("F"),d.addFont("Fortification"),d.addFont("Ghibli"),d.addFont("Hurry"),d.addFont("Improbable"),d.addFont("Ineffective"),d.addFont("Inexpugnable"),d.addFont("Leaflets"),d.addFont("Mantimini"),d.addFont("Marksman"),d.addFont("Nocive"),d.addFont("OldWizard"),d.addFont("Pattern"),d.addFont("Pocket"),d.addFont("Postburn"),d.addFont("Quiver"),d.addFont("Rampike"),d.addFont("Rematch"),d.addFont("Remnant"),d.addFont("Rhyme"),d.addFont("Rings"),d.addFont("Rollback"),d.addFont("Safeguard"),d.addFont("Scherzo"),d.addFont("Shattered"),d.addFont("Sins"),d.addFont("SNESesque"),d.addFont("Suffering"),d.addFont("Targets"),d.addFont("TeatableExtended"),d.addFont("Theoretical"),d.addFont("Trollmini"),d.addFont("Turntable"),d.addFont("Warhorse"),d.addFont("Warpath"),d.addFont("Whatever"),d.addFont("Yellow"),d.addFont("Zankoku"),d.addFont("Zapper"),openfl.AssetLibrary.loadFromManifest(d).onComplete(o=>{openfl.Assets.registerLibrary("default",o);const c=new openfl.Stage(window.innerWidth,window.innerHeight,12330803,Game$1);_.replaceWith(c.element)}).onError(o=>{console.error(o)})}}const Game=()=>(reactExports.useEffect(()=>{new Load().init(document.getElementById("game"))},[]),reactExports.createElement(reactExports.Fragment,null)),Layout=()=>reactExports.createElement("div",null,reactExports.createElement(Outlet,null)),App=()=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Routes,null,reactExports.createElement(Route,{path:"/",element:reactExports.createElement(Layout,null)},reactExports.createElement(Route,{index:!0,element:reactExports.createElement(Game,null)}),reactExports.createElement(Route,{path:"*",element:reactExports.createElement("div",null)}))));createRoot(document.getElementById("app")).render(reactExports.createElement(BrowserRouter,null,reactExports.createElement(App,null)));
